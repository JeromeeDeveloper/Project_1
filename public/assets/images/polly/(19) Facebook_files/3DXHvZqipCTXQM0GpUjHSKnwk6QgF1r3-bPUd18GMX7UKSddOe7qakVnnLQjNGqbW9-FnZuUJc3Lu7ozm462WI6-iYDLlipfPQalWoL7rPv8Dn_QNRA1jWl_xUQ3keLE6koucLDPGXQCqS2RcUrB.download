;/*FB_PKG_DELIM*/

__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(aa,ba,ca,da,ea,fa){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},ca={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},da={defaultValue:480,kind:"LocalArgument",name:"height"},ea={defaultValue:null,kind:"LocalArgument",name:"ig_params"},fa={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},ga={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},ha={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},ia={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},ja={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},ka={defaultValue:null,kind:"LocalArgument",name:"item_after"},la={defaultValue:null,kind:"LocalArgument",name:"item_limit"},ma={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},na={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},oa={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},pa={defaultValue:!0,kind:"LocalArgument",name:"load_items"},qa={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},ra={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},sa={defaultValue:null,kind:"LocalArgument",name:"message_limit"},ta={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},ua={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},va={defaultValue:null,kind:"LocalArgument",name:"page_id"},wa={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},xa={defaultValue:!1,kind:"LocalArgument",name:"should3DContextCardSections"},ya={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},za={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},Aa={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},Ba={defaultValue:null,kind:"LocalArgument",name:"source"},Ca={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},Da={defaultValue:null,kind:"LocalArgument",name:"wa_params"},Ea={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},Fa={defaultValue:480,kind:"LocalArgument",name:"width"},Ga={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},Ha=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],Ia={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},Ja={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[Ia]},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},La={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ka,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},Ma=[{kind:"Literal",name:"last",value:1}],c={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},d=[a],Na={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f=[e],Qa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:f,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},i=[g,h,Ra,Sa,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];i={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},k=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[l],Ta=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};k=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:d,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:240,width:240)"},n,o,p];var Ua={kind:"InlineFragment",selections:k,type:"Sticker",abstractKey:null},q=[l,o,p],Va={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:null},Wa={kind:"Literal",name:"sizing",value:"contain-fit"},Xa=[Wa],Ya={alias:null,args:Xa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(sizing:"contain-fit")'},r={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ua,Va,Ya,r,Za,s],storageKey:null},$a={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:f,storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},bb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},cb={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:f,storageKey:null}],storageKey:null},db={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},fb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[h,n],storageKey:null},gb={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},hb={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,jb,kb,v,lb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},mb={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},nb={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},pb={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},qb={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},rb={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},sb={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},ub={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},vb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,g,h,y,tb,z,ub,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[e,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,h,g,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[g,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[e,j,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};var A={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[vb,y],storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},xb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[hb,ib,w,mb,nb,a,ob,pb,qb,rb,sb,x,A,wb,Sa],storageKey:null},yb={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},zb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:m,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Bb={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},Eb={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},C={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},D={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},E=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},D,n],Fb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:E,storageKey:null};E={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:E,storageKey:null};var Gb={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};u={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[B,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[u,Gb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var Hb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},Ib={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},Jb={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null},Kb={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:f,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},tb,h],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},Jb],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},F={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},Lb={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},G=[F,Lb,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],Mb={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:G,storageKey:null},H=[B,u,Hb,Ib,h,Kb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[C,Fb,E,Mb],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Nb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},Ob={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};G={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:G,storageKey:null},Ob],type:"P2PBubbleAmountComponent",abstractKey:null};var I=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},o,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},l,p],Pb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:I,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};I={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Ob,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:I,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:I,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},e],type:"P2PBubbleTextComponent",abstractKey:null};var Qb={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};H={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:H,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Nb,G,Pb,I],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:H,storageKey:null},Ob,Qb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:H,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var Rb={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Sb={kind:"InlineFragment",selections:[Rb,n],type:"User",abstractKey:null},Tb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},Ub={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},Vb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Wb={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Xb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},J={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null},Yb=[J],Zb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:d,storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},$b=[K],ac={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:$b,storageKey:null},bc={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},cc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[Lb],storageKey:null},dc={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},ec=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,b,D,Sb],storageKey:null},Tb,Ub,C,Vb,Wb,Xb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:Yb,storageKey:null},Zb],storageKey:null},ac,bc,L,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,M,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:Yb,storageKey:null},n],storageKey:null},a,N,cc,dc,H];K={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[K,Lb],storageKey:null};var fc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F],storageKey:null},O=[b,a,D,Sb],P={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:O,storageKey:null};O={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:O,storageKey:null};var gc={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},hc={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:d,storageKey:null},Q={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:ec,storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},jc={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};w=[hb,ib,w,mb,nb,a,ob,pb,qb,rb,sb,x,A];A={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:w,storageKey:null};var kc={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},nc={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};w={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:w,storageKey:null};var oc=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],pc={kind:"InlineFragment",selections:oc,type:"MessageImage",abstractKey:null};oc={kind:"InlineFragment",selections:oc,type:"Photo",abstractKey:null};var qc={kind:"Literal",name:"media_type",value:"image/gif"},rc={alias:null,args:[qc],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(media_type:"image/gif")'};qc={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},qc,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var sc={kind:"InlineFragment",selections:[rc,qc,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},Wa,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},tc={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:m,storageKey:null}],storageKey:null},uc={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},vc=[o,p,l],wc=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],xc={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:wc,storageKey:null};vc={kind:"InlineFragment",selections:[tc,uc,Ab,s,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},Wa,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},Pa,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},xc,r,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},Wa,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},Wa,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vc,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var yc={kind:"InlineFragment",selections:[p,o,a,s],type:"Video",abstractKey:null},S=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,M,kc,lb,lc,b,mc,nc,w,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,pc,oc,sc,vc,yc],storageKey:null}],storageKey:null}],zc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Bc={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},Cc={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},Dc=[Bc,Cc],Ec={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},Ac,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:Dc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Bc,Cc,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Fc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:d,storageKey:null},Gc={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},Hc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},Ic={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Jc=[s,n,J],Kc={kind:"InlineFragment",selections:Jc,type:"MessageVideo",abstractKey:null};Jc={kind:"InlineFragment",selections:Jc,type:"MessageImage",abstractKey:null};var Lc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},Mc={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Nc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Oc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,Nc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Pc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Qc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},Sc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Tc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Uc={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Vc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Wc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Xc=[a,b,D],Yc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Xc,storageKey:null},Zc={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},$c={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},ad=[Zc,$c],bd={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:ad,storageKey:null},cd={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},dd={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},ed=[{kind:"Literal",name:"first",value:1}],fd={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"cover-fill-cropped")'},gd={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},hd={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},id={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},jd={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},kd={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},ld={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},md={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},nd={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},od={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:d,storageKey:null},pd={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,Rb,D],storageKey:null},qd={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},Gb,j],storageKey:null},rd={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},sd={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},td={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null},ud={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:d,storageKey:null},vd={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:ad,storageKey:null},wd={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},xd={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},yd={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},zd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},l],storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},Bd={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},Cd={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},Dd=[a,b],Ed=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:Dd,storageKey:null}],Fd={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Gd={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},Hd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},Id={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Jd=[b],Kd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:f,storageKey:null},Ld={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Md={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},Nd={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Od={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(width:300)"},Pd={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Qd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Rd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Sd={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Td={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Ud={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Vd={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Wd={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Xd={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Yd={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Zd={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},$d={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},ae={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:d,storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},fe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:f,storageKey:null},ge={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:f,storageKey:null},T=[l,p,o],he={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},ue={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},ve={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[re,se,U,te,ue],storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},Ce={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},De={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:m,storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},Fe={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},Ge={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:f,storageKey:null},He={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},Ie={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:f,storageKey:null};F=[F,Lb];Lb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:F,storageKey:null};var Je={alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:m,storageKey:"images(height:120,width:120)"},Ke={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};Ta={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[Jb,Ie,{alias:null,args:Ta,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:120,width:120)"}],storageKey:null};var Le=[ue,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],Me={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Le,storageKey:null},Ne={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Le,storageKey:null};Le={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Le,storageKey:null};var Oe={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};F={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:F,storageKey:null};var Qe={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Re={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[kd],storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},Ve={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},We={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:f,storageKey:null},Xe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:f,storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};Xa={alias:null,args:Xa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"contain-fit")'};var Ze={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Xa],storageKey:null},$e={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},af={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};Wa={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},Wa,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var bf={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:Dc,storageKey:null};Gb={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[Gb],storageKey:null};var cf={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},df={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},ef={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},ff={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},df,ef],type:"MessengerEventReminder",abstractKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},hf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},kf={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};U=[U,se,te,Cc,Bc,ue,re,kf];te={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:U,storageKey:null};Cc={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:U,storageKey:null};Bc={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,A],storageKey:null}],storageKey:null};re={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};var lf=[p,o,l],mf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:lf,storageKey:null},nf={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,re,mf],storageKey:null};U={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:U,storageKey:null};var of={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,U],storageKey:null}],storageKey:null},pf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},qf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},rf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};re={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,re,mf,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:f,storageKey:null}],storageKey:null};mf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,qf,U],storageKey:null}],storageKey:null};var sf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:T,storageKey:null},tf={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},uf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Dd,storageKey:null},vf={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[j,b,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},wf=[e,g];wf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:wf,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:wf,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};var xf={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},yf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:q,storageKey:null},zf={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},Af={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},Bf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[zf,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},Af],type:"IceBreakerMessageAttachment",abstractKey:null},Cf={kind:"Literal",name:"height",value:280},Df={kind:"Literal",name:"width",value:280},Ef=[Cf,Df],Ff={alias:"preview",args:Ef,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:280,width:280)"},Gf={kind:"Literal",name:"height",value:480},Hf={kind:"Literal",name:"width",value:480},If={alias:"large_preview",args:[Gf,Hf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:480,width:480)"},Jf={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},Kf={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},Mf={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},Of={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},Pf={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:d,storageKey:null}],storageKey:null},Qf={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},Rf=[Rb],Sf={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},Tf={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},Uf={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},Vf={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Wf={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Vf],storageKey:null}],storageKey:null},Xf={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},Yf={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},Zf={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},$f={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},z,Vf],storageKey:null},ag={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},bg={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},cg={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},dg={kind:"Literal",name:"first",value:3},eg=[dg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],fg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},gg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},hg={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},ig={kind:"InlineFragment",selections:Rf,type:"User",abstractKey:null},jg=[n],kg={kind:"InlineFragment",selections:jg,type:"Entity",abstractKey:"__isEntity"},lg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,ig,kg,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],storageKey:null},mg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},ng={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Za,mg],storageKey:null},og={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null};dg=[dg];var pg={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},qg=[{kind:"Literal",name:"if_style",value:"file_upload"}],rg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:Yb,storageKey:null},sg=[{kind:"Literal",name:"if_style",value:"photo"}],tg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},ug={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,ig,kg],storageKey:null},vg={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:Yb,storageKey:null},wg={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[vg],storageKey:null},xg={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},yg={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[xg],storageKey:null},zg={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},Ag={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},Bg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:f,storageKey:null},Cg={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Dg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:d,storageKey:null},Eg={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Fg={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Hg={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Ig={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:m,storageKey:'logo(size:"D32")'},Jg={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},Kg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:m,storageKey:null},Lg={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},Mg={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},Ng={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},Og={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},Pg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},Af,Og,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},Qg={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},Rg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};ec={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,zb,{kind:"InlineFragment",selections:[a,Ab,s,Bb,Cb,Db,Eb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Fb,E,H],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:ec,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[K,fc,P,O,gc,hc,a,dc,Q,ic,L,R,N,H,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[K,fc,P,O,gc,hc,a,dc,Q,ic,L,R,N,H],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},H,{kind:"InlineFragment",selections:[jc,A,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:S,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[jc,A,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:S,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},zc,Ec,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:d,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Fc,Gc,Hc,Ic,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Kc,Jc],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,Lc,c,Mc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Oc,Pc,Qc,Rc,Sc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Tc,Uc,Vc,a,Nc,Wc,Yc,bd,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,M,cd,dd,{alias:null,args:ed,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[fd],storageKey:"images(first:1)"},gd],storageKey:null}],storageKey:null},hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,Rc,Sc,sd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,td,ud,vd,wd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,xd,yd,zd,Ad,Bd,Cd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Ed,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Fd,Gd,Hd,Id,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Jd,storageKey:null},Kd,Ld,Md,Nd,Od,b,Pd],type:"Event",abstractKey:null},Qd,Rd,{kind:"InlineFragment",selections:[a,b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,w,A],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,Sd,Yd,Zd,nc,Td,$d,ae,be,ce,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,de,ee,fe,ge,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[he],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,ie,je,ke,le,me,ne,oe,pe,qe,ve,kd,we,xe,ye,ze,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:S,storageKey:null},Ae,Be,Ce,De],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Ee,Fe,Ge,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[He,b,Ie,M,Lb,Je,Ke],storageKey:null},Ta,Me,Ne,Le,Oe,Pe,F,Qe,Re,Se,Te,Ue,Ve],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:d,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[We,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:d,storageKey:null},Xe,Ye,Ze,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Xe,Ze],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[$e,af,Wa,bf,b,Gb,a,cf],type:"Page",abstractKey:null},ff,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,gf,hf,jf,te,Cc,Bc,nf,of],storageKey:null},pf,qf,U,rf,Ae],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,gf,hf,jf,te,Cc,Bc,re,mf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[le],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Jd,storageKey:null},Ae],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[a,sf,tf,b,uf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,vf],type:"UserLeadGenInfo",abstractKey:null},wf,{kind:"InlineFragment",selections:[a,b,xf,l,Cb,Db],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,s,Bb,Cb,Db,Ab,o,yf,p],type:"WECMessageVideo",abstractKey:null},Bf,{kind:"InlineFragment",selections:[a,Cb,Ff,If],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[a,Jf,Kf,Lf,Mf,Nf,Of,Pf],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,Qf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Rf,storageKey:null}],storageKey:null},Sf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,Sf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,Sf,Tf,Uf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Wf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Xf,Yf,Zf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B],storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[ag,bg,cg,{alias:null,args:eg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[fg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},gg,ic,hg,lg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,ig,kg],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ab,n,$a,Qa,ng,og,{alias:null,args:dg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[pg,{alias:"files",args:qg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[og,rg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:sg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[rg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[tg,ug,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ng],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,b,D,wg,yg,zg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b,Ag,Bg,Cg,wg,Dg,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,Eg,Fg,Gg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Hg,b,Ig,Jg],storageKey:null},Kg,Lg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Ob,ub,Mg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:d,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Ng],type:"ApplicationReferralXMA",abstractKey:null},Pg,{kind:"InlineFragment",selections:[a,Qg],type:"XFBP2MXMA",abstractKey:null},Rg],storageKey:null};P={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb,ec,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Qa,i,t,$a,ab,bb,cb,db,eb,fb,gb,xb,yb,ec],storageKey:null}],storageKey:null};O={kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"};Q={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Pa,P,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[O,b],storageKey:null}],storageKey:null},P],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null};H={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:k,storageKey:null};A={kind:"Literal",name:"sizing",value:"cover-fill"};S={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};Ze={kind:"InlineFragment",selections:[tc,uc,Ab,{alias:"preview",args:[Cf,A,Df],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[Gf,A,Hf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,p,o,S,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:lf,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},l],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},Pa,xc,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};Bc={kind:"InlineFragment",selections:[tc,uc,Ab,rc,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},Pa,qc,xc],type:"MessageAnimatedImage",abstractKey:null};Rf={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};rg={kind:"InlineFragment",selections:[tc,uc,Ab,s,r,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Bb,Rf],type:"MessageAudio",abstractKey:null};ng={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null};wg={kind:"InlineFragment",selections:[tc,uc,Ab,n,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},ng,xf,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Bb,Rf,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null}],type:"MessageFile",abstractKey:null};w=[B,Ze,Bc,rg,vc,wg];t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:w,storageKey:null};fb={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};xb={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:d,storageKey:null};ec={kind:"InlineFragment",selections:[xb],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null};P={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null};Cf={alias:"last_message",args:Ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:d,storageKey:null}],storageKey:null},Na,Oa,{kind:"InlineFragment",selections:[Q,H,t],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[ec],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},P,k],storageKey:null}],storageKey:"messages(last:1)"};Df={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null};Gf={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null};Hf={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null};q={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Gf,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Hf],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Xc,storageKey:null};rc={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null};qc={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]};tc={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null};uc={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:m,storageKey:"square_image(size:60)"};Rf={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null};Xc={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null};var Sg={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Tg={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},Ug={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},Vg={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},Wg={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Xg={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Yg={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},Zg={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},$g={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},ch={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},fh={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},gh={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},hh={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[fh,gh],storageKey:null},ih={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},jh={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[eh,hh,ih],storageKey:null},kh={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},mh={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},oh={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},ph={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},qh={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},rh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:m,storageKey:null},sh={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,kh,lh,mh,nh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[oh,ph,qh,rh],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},th={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:d,storageKey:null},uh={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},vh={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},wh={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},xh=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],yh={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:xh,storageKey:null},zh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[yh],storageKey:null},Ah={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:d,storageKey:null},Bh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},Ch={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null};Dc={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:Dc,storageKey:null};var Dh={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Eh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},Fh={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},Gh={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Ih={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Jh={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:d,storageKey:null},Kh={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Lh={alias:null,args:ed,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ah,ef,Bh,Ch,Dc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Dh],storageKey:null},Eh,Fh,Gh,df,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V],storageKey:null},Hh,Ih,Jh,Kh],storageKey:null}],storageKey:"event_reminders(first:1)"},Mh={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:d,storageKey:null},Nh=[Na],Oh={alias:"last_read_receipt",args:Ma,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Nh,storageKey:null}],storageKey:"read_receipts(last:1)"},Ph={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Qh={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},Rh={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},Sh={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},Th={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,W,Rh,Sh],storageKey:null}],storageKey:null},Uh=[a,b,Ob],Vh={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:Uh,storageKey:null}],storageKey:null},Wh={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},Xh={alias:null,args:null,kind:"ScalarField",name:"is_ai_handoff_label",storageKey:null},Yh={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,Rh,W,Wh,Xh,Sh],storageKey:null}],storageKey:null},Zh={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Ph,td,Th,Vh,Yh],storageKey:null},$h={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},ai={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},bi={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[$h,ai,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:d,storageKey:null}],storageKey:null};se={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[se,ue],storageKey:null}],storageKey:null};var ci={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},di={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},gi={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},hi={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},ii={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},ji={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},ki={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},li={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},mi={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[li],storageKey:null}],type:"User",abstractKey:null},ni={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},oi={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},ni],storageKey:null},pi={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Mc,Ye,Xe,se,ci,di,ei,fi,gi,hi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:Yb,storageKey:null},ii,ji],storageKey:null},ki,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a,mi],storageKey:null},oi],storageKey:null},qi={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},ri={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},si={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},ti={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},ui={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:Dd,storageKey:null},vi=[pg],wi={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:vi,storageKey:null},xi={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},yi={kind:"InlineFragment",selections:[b,$e],type:"Page",abstractKey:null};Dg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[qi,a,b,D,Dg,ri,si,ti,ui,wi,xi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[qi,a,b,D,ri,si,ti,Pd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[yi],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};var zi={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},Ai={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Bi={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},Ci={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Di={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Ei={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Fi={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null};fh={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[fh,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null};var Gi={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Ii={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Ki={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Li={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Mi=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Li],Ni={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Mi,storageKey:null},Oi={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Pi=[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:20,width:20)"}],Qi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:Pi,storageKey:null},Ri={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null};Yb={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Gi,Hi,Ii,Ji,Ki,Ni,Oi,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Qi],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:Yb,storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},Ri],storageKey:null};var Si={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Ti={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null};jg={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:jg,storageKey:null}],storageKey:null};var Ui={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Vi={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,j,g,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[Mg,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},Ac],storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},Xi={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},Yi={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,Xi],storageKey:null},Zi={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},$i={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},aj={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},bj={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},cj={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},dj={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},ej={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},fj={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},c],storageKey:null},gj={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},hj={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[gj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null}],storageKey:null},ij={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},jj={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,b,ig],storageKey:null}],storageKey:null},kj={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},lj={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},mj={kind:"InlineFragment",selections:d,type:"Profile",abstractKey:"__isProfile"},nj={kind:"InlineFragment",selections:d,type:"MessengerViewerGroupThread",abstractKey:null};Ka={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ka],storageKey:null}],type:"MessageThread",abstractKey:null};var oj={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},pj={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[z,Vf,g,Yf],storageKey:null};ni={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},b,ni,x,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};Q={kind:"InlineFragment",selections:[lj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,mj,nj,Ka],storageKey:null},oj],storageKey:null}],storageKey:null},pj,Q,H,t,ni],type:"UserMessage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null};var qj={kind:"InlineFragment",selections:[t,c],type:"VoiceCallMessage",abstractKey:null};w=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}];var rj={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},sj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},c],type:"ThreadNameMessage",abstractKey:null};Ef={alias:"preview",args:Ef,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:280,width:280)"};var tj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Ef,Pa,xc],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null},uj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:d,storageKey:null},c],type:"ParticipantsAddedMessage",abstractKey:null},vj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:d,storageKey:null},c],type:"ParticipantLeftMessage",abstractKey:null},wj={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};wj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,e,wj,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,e,wj,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:xh,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};xh={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null};kf={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,ef,df,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},Ch,Bh,Ih,Hh,Ah,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:d,storageKey:null},Dc,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[xh,kf,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},Kh],storageKey:null};var X=[kf],xj={kind:"InlineFragment",selections:X,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},yj={kind:"InlineFragment",selections:X,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},zj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},Aj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Bj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Cj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Dj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};X={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};var Ej={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null};kf={kind:"InlineFragment",selections:[Ej,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},kf],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};var Fj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Gj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};gh={kind:"InlineFragment",selections:[gh,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};var Hj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Ij={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Jj={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Kj={kind:"InlineFragment",selections:[Jj,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},ai],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Lj={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Mj={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},Nj={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Oj={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Pj={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Qj={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Sj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Tj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},Uj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Vj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Wj={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Xj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Tj,Uj,Vj,Wj],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},Yj={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},Zj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},Yj,h,M,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},Og,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},$j={kind:"InlineFragment",selections:[Bd,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},ak={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},bk={kind:"InlineFragment",selections:[Bd,ak,Oj,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};Ac={kind:"InlineFragment",selections:[Ac],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};ak={kind:"InlineFragment",selections:[ak,Oj,V,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var ek={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},fk={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},gk={kind:"InlineFragment",selections:[fk],type:"MessengerAdContextAdminText",abstractKey:null},hk={kind:"InlineFragment",selections:[bj,Af,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},ik={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},jk=[x],kk={kind:"InlineFragment",selections:jk,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},lk={kind:"InlineFragment",selections:jk,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};jk={kind:"InlineFragment",selections:jk,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var mk={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},nk={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},ok={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},pk={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},qk={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},rk={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},sk={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};Tj={kind:"InlineFragment",selections:[Tj,Uj,Vj,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Wj],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};Uj={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Vj={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null};Wj=[x,Uj,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Vj,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];var tk={kind:"InlineFragment",selections:Wj,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Wj={kind:"InlineFragment",selections:Wj,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};var uk={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},vk={kind:"InlineFragment",selections:[x,Uj,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},uk,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},wk={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};fk={kind:"InlineFragment",selections:[fk,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var xk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},yk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},zk={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},Ak={kind:"InlineFragment",selections:[zk,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};zk={kind:"InlineFragment",selections:[zk,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var Bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},Ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},Dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null};vg={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,wj,xj,yj,zj,Aj,Bj,Cj,Dj,X,kf,Fj,Gj,gh,Hj,Ij,Kj,{kind:"InlineFragment",selections:[xb,Lj,Mj,Nj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Oj,Og,vg,Pj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Qj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Rj,Sj,Xj,Zj,$j,bk,ck,dk,Ac,ak,ek,gk,hk,ik,kk,lk,jk,{kind:"InlineFragment",selections:[mk,nk,ok,Jj,pk,qk,rk,sk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Tj,tk,Wj,vk,wk,fk,xk,yk,Ak,zk,Bk,Ck,Dk],storageKey:null},fb,c],type:"GenericAdminTextMessage",abstractKey:null};w=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:d,storageKey:null},c];$b={kind:"InlineFragment",selections:w,type:"P2PPaymentRequestMessage",abstractKey:null};w={kind:"InlineFragment",selections:w,type:"P2PPaymentMessage",abstractKey:null};hj=[Vi,B,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,hj,ij,jj,kj,k,Q,qj,rj,sj,tj,uj,vj,vg,$b,w,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[kd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Vi,B,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,hj,ij,jj,kj,k,Q,qj,rj,sj,tj,uj,vj,vg,$b,w],storageKey:null}],storageKey:null}];jj={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ui,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:hj,storageKey:null}]}],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null};rj={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null};tj={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Ag,Q,D,wi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[rj],storageKey:null}],storageKey:null}],storageKey:null};vg={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:hj,storageKey:null}]};var Ek={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},Fk={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},Gk={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null};Dd={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:Dd,storageKey:null};var Hk={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},Ik={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},Jk={alias:null,args:ed,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gk,Dd,{alias:null,args:ed,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Hk,Ik],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Kk={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},Lk={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},Mk={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null};li={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[li,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Vj,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Li,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},gf,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null};Vj={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Mi,storageKey:null};Li={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null};Mi={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};var Y={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:60,width:60)"},Nk={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Ok={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Pk={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Qk={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Rk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Sk={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Tk={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Uk={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},Vk={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null};Jd={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Jd,storageKey:null},xg],storageKey:null};var Wk={kind:"InlineFragment",selections:[Mi,n,Y,Rb,Ok,Pk,Qk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Xk={kind:"InlineFragment",selections:[n,Y,Nk,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Pk,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Qk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Yk=[n,Y,Qk],Zk={kind:"InlineFragment",selections:Yk,type:"SmsMessagingParticipant",abstractKey:null},$k={kind:"InlineFragment",selections:[Y,Qk],type:"InstagramMessagingUser",abstractKey:null},al=[Y],bl={kind:"InlineFragment",selections:al,type:"LiveChatOnlyPerson",abstractKey:null};Yk={kind:"InlineFragment",selections:Yk,type:"UnavailableMessagingActor",abstractKey:null};var cl={kind:"InlineFragment",selections:al,type:"UnifiedMessagingInstagramUser",abstractKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},el=[n,Y,Nk],fl={kind:"InlineFragment",selections:el,type:"Group",abstractKey:null};el={kind:"InlineFragment",selections:el,type:"Event",abstractKey:null};j={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},j,g],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"};var gl=[n,Y,Rb,Qk],hl={kind:"InlineFragment",selections:gl,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"};gl={kind:"InlineFragment",selections:gl,type:"XFBWorkroomsSystemUser",abstractKey:null};var il={kind:"InlineFragment",selections:al,type:"MessengerCallGuestUser",abstractKey:null},jl={kind:"InlineFragment",selections:al,type:"WorkVCEndpointUser",abstractKey:null},kl={kind:"InlineFragment",selections:al,type:"WECMailboxAccount",abstractKey:null};al={kind:"InlineFragment",selections:al,type:"WECCustomer",abstractKey:null};var ll={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},ml={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null};Ed={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Ed,storageKey:null};Jd={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Li,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,B,b,{kind:"InlineFragment",selections:[Mi,n,Y,Rb,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Jd],type:"User",abstractKey:null},Wk,Xk,Zk,$k,bl,Yk,cl,{kind:"InlineFragment",selections:[n,Y,Nk,dl,Qk,Jd],type:"ReducedMessagingActor",abstractKey:null},fl,el,j,hl,gl,il,jl,kl,al,{kind:"InlineFragment",selections:[Y,ll,ml,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Ed,pg],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Ed],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Ed={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null};var nl={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},ol={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ed,nl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null};Nh=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Nh,storageKey:null}],storageKey:null}];var pl={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:Nh},ql=[Ja,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,La,b,Cf,Df,q,S,rc,qc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,jh,sh,th,uh,vh,wh,zh,Lh,Mh,Oh,Zh,bi,pi,Dg,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,Yb,Si,Ti,jg,jj,tj,vg,M,Ek,Fk,Jk,Kk,Lk,Mk,li,Vj,Jd,ol,pl],storageKey:null}],rl={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},sl=[rl,D],tl={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},Bl={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[He,Mg,Uj],storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},Dl={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[tl,Cl],storageKey:null},El={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,W,Rh],storageKey:null}],storageKey:null},Fl={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Qh,W],storageKey:null}],storageKey:null};Pi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:Pi,storageKey:null};var Gl={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Jl={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},rl,Nk,b,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},Pl={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[h,zf],storageKey:null},Ql=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],Rl={alias:null,args:Ql,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:m,storageKey:null},Sl={alias:null,args:Ql,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:T,storageKey:null},Tl={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Ul=[rl,Nk,b,D],Vl={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Ul,storageKey:null},Wl={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[Cl,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Rl,Sl,Tl],storageKey:null}],storageKey:null};Ul={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Ul,storageKey:null};var Xl={alias:null,args:Ql,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:T,storageKey:null},Yl={kind:"InlineFragment",selections:f,type:"IGMessageThreadItemMediaShare",abstractKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},$l={kind:"InlineFragment",selections:[Zl,e,g],type:"IGMessageThreadItemReelShare",abstractKey:null};Zl={kind:"InlineFragment",selections:[Zl,zf,h,e],type:"IGMessageThreadItemStoryShare",abstractKey:null};zf={kind:"InlineFragment",selections:[h,e],type:"IGMessageThreadItemFelixShare",abstractKey:null};var am={kind:"InlineFragment",selections:[h,tb,e,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},l],type:"IGMessageThreadItemProductShare",abstractKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},cm={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},dm={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:T,storageKey:null};ad={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[M,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:ad,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[Zc,$c,Ob,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null};Zc={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[Ol,e,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null};$c={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:lf,storageKey:null};lf={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},Eb],storageKey:null};var Z=[Cl,Xl],em={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:Z,storageKey:null},fm={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[h,tb,l,em],storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},im={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},jm={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[gm,hm,im,h,tb,nc,em],storageKey:null};tb={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},tb,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:T,storageKey:null},em,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:T,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},nc,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Ra,h],storageKey:null}],storageKey:null};em={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[gm,hm,im,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:Z,storageKey:null},nc],storageKey:null};T={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[h,Ra],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:Z,storageKey:null}],storageKey:null};gm={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null};hm={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[e,V,Mg,Uj],storageKey:null};im={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};Ra={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null};Z={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[im,Ra],storageKey:null};Vl=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,He,Yj,Ml,Nl,e,Ol,Pl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Cl,Rl,Sl,Tl,Vl],storageKey:null},Wl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Cl,Xl,Sl,Tl,Vl],storageKey:null},Yl,$l,Zl,zf,am],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[bm,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:sl,storageKey:null},cm],storageKey:null},{alias:null,args:Ql,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Ul,dm],storageKey:null},ad,Zc,$c,lf,fm,jm,tb,em,T,gm,hm],storageKey:null},Z];Ul={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null};var km=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],lm=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],mm={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};Nh={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:Nh};var nm={kind:"Variable",name:"page_id",variableName:"page_id"},om=[nm],pm={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},qm={kind:"RootArgument",name:"page_id"},rm={kind:"Variable",name:"business_assets",variableName:"businessAssets"};nm={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[rm,nm],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]};var sm=[tl];sm={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:sm,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:sm,storageKey:null}]}],storageKey:null};var tm={alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null};rm=[rm];var $=[B,a],um={kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},vm={kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},wm={kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},xm={kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null};Ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ua,Va,Ya,r,Za,s,O,um,vm,wm,xm],storageKey:null};Va={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[B,h,n],storageKey:null};Ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[B,a,{kind:"InlineFragment",selections:[jb,kb,v,lb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};r={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[B,vb,y],storageKey:null};jb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[hb,ib,Ya,mb,nb,a,ob,pb,qb,rb,sb,x,r,wb,Sa],storageKey:null};kb=[B,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},u,Hb,Ib,h,Kb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[B,C,Fb,E,Mb,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];v={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:kb,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[B,Nb,G,Pb,I],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:kb,storageKey:null},Ob,Qb,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:kb,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};vb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[B,a,b,D,Sb],storageKey:null};y=[J,a];wb={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:y,storageKey:null},Zb,a],storageKey:null};Sa={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,M,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:y,storageKey:null},n,a],storageKey:null};u=[B,b,a,D,Sb];Hb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:u,storageKey:null};Kb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:u,storageKey:null};Mb={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[Fb,vb,Tb,Ub,C,Vb,Wb,Xb,wb,ac,bc,L,Sa,a,N,cc,dc,v],storageKey:null};Nb=[hb,ib,Ya,mb,nb,a,ob,pb,qb,rb,sb,x,r];G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Nb,storageKey:null};Pb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Nb,storageKey:null};I=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,M,kc,lb,lc,b,mc,nc,Pb,G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,pc,oc,sc,vc,yc,O,um,vm,wm,xm],storageKey:null}],storageKey:null}];Qb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b],storageKey:null},a];kb={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,Xa,a],storageKey:null};Zb={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,G],storageKey:null}],storageKey:null};Sb=[b,a];u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Za,mg,O,um,vm,wm,xm],storageKey:null};hb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,J,O,um,vm,wm,xm],storageKey:null};ib={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:y,storageKey:null};Ya={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[ib],storageKey:null};mb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$,storageKey:null};nb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,zb,{kind:"InlineFragment",selections:[Ab,s,Bb,Cb,Db,Eb],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Fb,E,v],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Fb,vb,Tb,Ub,C,Vb,Wb,Xb,wb,ac,bc,L,Sa,N,cc,dc,v],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[K,fc,Hb,Kb,gc,hc,dc,Mb,ic,L,R,N,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[K,fc,Hb,Kb,gc,hc,a,dc,Mb,ic,L,R,N,v],storageKey:null},v],type:"PeerToPeerPaymentRequest",abstractKey:null},v,{kind:"InlineFragment",selections:[jc,G,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:I,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[jc,G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:I,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},zc,Ec,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Fc,Gc,Hc,Ic,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[B,Kc,Jc,O],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Lc,c,Mc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Oc,Pc,Qc,Rc,Sc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[Tc,Uc,Vc,Nc,Wc,Yc,bd,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,M,cd,dd,{alias:null,args:ed,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[fd,a],storageKey:"images(first:1)"},gd],storageKey:null}],storageKey:null},hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,Rc,Sc,sd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[td,ud,vd,wd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[xd,yd,zd,Ad,Bd,Cd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Qb,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Fd,Gd,Hd,Id,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,b,O],storageKey:null},Kd,Ld,Md,Nd,Od,b,Pd],type:"Event",abstractKey:null},Qd,Rd,{kind:"InlineFragment",selections:[b,Sd,Td,Ud,Vd,kc,lc,Wd,Xd,Pb,G],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Sd,Yd,Zd,nc,Td,$d,ae,be,ce,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[de,ee,fe,ge,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[he,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[ie,je,ke,le,me,ne,oe,pe,qe,ve,kd,we,xe,ye,ze,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:I,storageKey:null},Ae,Be,Ce,De],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Ee,Fe,Ge,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[He,b,Ie,M,Lb,Je,Ke,a],storageKey:null},Ta,Me,Ne,Le,Oe,Pe,F,Qe,Re,Se,Te,Ue,Ve],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[We,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$,storageKey:null},Xe,Ye,kb,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Xe,kb],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[$e,af,Wa,bf,b,Gb,cf],type:"Page",abstractKey:null},ff,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,gf,hf,jf,te,Cc,Zb,nf,of],storageKey:null},pf,qf,U,rf,Ae],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[gf,hf,jf,te,Cc,Zb,re,mf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[le,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Sb,storageKey:null},Ae],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[sf,tf,b,uf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[vf],type:"UserLeadGenInfo",abstractKey:null},wf,{kind:"InlineFragment",selections:[b,xf,l,Cb,Db],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[s,Bb,Cb,Db,Ab,o,yf,p],type:"WECMessageVideo",abstractKey:null},Bf,{kind:"InlineFragment",selections:[Cb,Ff,If],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Jf,Kf,Lf,Mf,Nf,Of,Pf],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[Qf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[B,Rb,a],storageKey:null}],storageKey:null},Sf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[Sf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[Sf,Tf,Uf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Wf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[B,Xf,Yf,Zf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,O],storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[ag,bg,cg,{alias:null,args:eg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[fg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},gg,ic,hg,lg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,ig,kg,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[ab,n,$a,Qa,u,og,{alias:null,args:dg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[pg,{alias:"files",args:qg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[og,hb],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:sg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[hb],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[tg,ug,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[u],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[b,D,Ya,yg,zg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,Ag,Bg,Cg,Ya,mb,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Eg,Fg,Gg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Hg,b,Ig,Jg,a],storageKey:null},Kg,Lg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Ob,ub,Mg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[Pb],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[Ng],type:"ApplicationReferralXMA",abstractKey:null},Pg,{kind:"InlineFragment",selections:[Qg],type:"XFBP2MXMA",abstractKey:null},Rg],storageKey:null};ob={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb,nb,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Qa,i,Ua,$a,ab,bb,cb,db,eb,Va,gb,jb,yb,nb],storageKey:null}],storageKey:null};pb={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Pa,ob,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,b,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},ob],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null};qb=[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},Ze,Bc,rg,vc,wg,O];rb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:qb,storageKey:null};sb={alias:"last_message",args:Ma,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[B,c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$,storageKey:null},a],storageKey:null},Na,Oa,P,k,a,{kind:"InlineFragment",selections:[pb,H,rb],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,ec],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"};x={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Gf,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Hf,a],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};r={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[eh,hh,ih,a],storageKey:null};Nb={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,kh,lh,mh,nh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[oh,ph,qh,rh,a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null};mc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$,storageKey:null};pc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[B,yh,a],storageKey:null};oc={alias:null,args:ed,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ah,ef,Bh,Ch,Dc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Dh,a],storageKey:null},Eh,Fh,Gh,df,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V,a],storageKey:null},Hh,Ih,Jh,Kh],storageKey:null}],storageKey:"event_reminders(first:1)"};sc={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Ph,td,Th,Vh,Yh,a],storageKey:null};yc={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[$h,ai,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$,storageKey:null}],storageKey:null};Xa={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Mc,Ye,Xe,se,ci,di,ei,fi,gi,hi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,J,a],storageKey:null},ii,ji],storageKey:null},ki,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[B,a,mi],storageKey:null},oi],storageKey:null};Za={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[qi,b,D,mb,ri,si,ti,ui,wi,xi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[qi,b,D,ri,si,ti,Pd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,yi,O],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};mg={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Gi,Hi,Ii,Ji,Ki,Ni,Oi,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Qi,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[B,J,O,{kind:"InlineFragment",selections:d,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},z,Vf],storageKey:null},$f,e],storageKey:null},Ri],storageKey:null};um={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a],storageKey:null}],storageKey:null};vm={kind:"TypeDiscriminator",abstractKey:"__isMessage"};wm={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[gj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$,storageKey:null}],storageKey:null};xm={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b,ig],storageKey:null},a],storageKey:null};y={kind:"InlineFragment",selections:[lj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,mj,nj,Ka,O],storageKey:null},oj],storageKey:null}],storageKey:null},pj,pb,H,rb,ni],type:"UserMessage",abstractKey:null};zb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:qb,storageKey:null}];Eb={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:zb,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};E={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Ef,Pa,xc,a],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null};Fb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,wj,xj,yj,zj,Aj,Bj,Cj,Dj,X,kf,Fj,Gj,gh,Hj,Ij,Kj,{kind:"InlineFragment",selections:[xb,Lj,Mj,Nj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[B,{kind:"InlineFragment",selections:[Oj,Og,ib,Pj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Qj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Rj,Sj,Xj,Zj,$j,bk,ck,dk,Ac,ak,ek,gk,hk,ik,kk,lk,jk,{kind:"InlineFragment",selections:[mk,nk,ok,Jj,pk,qk,rk,sk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[pg,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:zb,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Tj,tk,Wj,vk,wk,fk,xk,yk,Ak,zk,Bk,Ck,Dk],storageKey:null},fb,c],type:"GenericAdminTextMessage",abstractKey:null};vb=[B,vm,Vi,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,wm,ij,xm,kj,k,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[kd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[B,vm,Vi,V,Wi,Yi,Zi,Na,$i,aj,Af,bj,Oa,cj,dj,P,ej,fj,wm,ij,xm,kj,k,a,y,qj,Eb,sj,E,uj,vj,Fb,$b,w],storageKey:null}],storageKey:null},a,y,qj,Eb,sj,E,uj,vj,Fb,$b,w];Tb={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ui,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:vb,storageKey:null}]}],storageKey:null};Ub={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,Ag,Q,D,wi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[rj,a],storageKey:null}],storageKey:null}],storageKey:null};C={alias:null,args:ed,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Gk,Dd,{alias:null,args:ed,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Hk,Ik,a],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"};Vb={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Sb,storageKey:null},xg],storageKey:null};Wb={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Qb,storageKey:null};Xb={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Li,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},a,b,{kind:"InlineFragment",selections:[Mi,n,Y,Rb,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Vk,Vb],type:"User",abstractKey:null},Wk,Xk,Zk,$k,bl,Yk,cl,{kind:"InlineFragment",selections:[n,Y,Nk,dl,Qk,Vb],type:"ReducedMessagingActor",abstractKey:null},fl,el,j,hl,gl,il,jl,kl,al,{kind:"InlineFragment",selections:[Y,ll,ml,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Wb,pg],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Wb],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};wb={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Ed,nl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null};ac={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:vb,storageKey:null}]};bc=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,La,b,sb,Df,x,S,rc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,r,Nb,mc,uh,vh,wh,pc,oc,Mh,Oh,sc,yc,Xa,Za,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,mg,Si,Ti,um,Tb,Ub,M,Ek,Fk,C,Kk,Lk,Mk,li,Vj,Xb,wb,qc,ac,pl],storageKey:null},Ja];Sa=[rl,D,a];cc=[rl,Nk,b,D,a];K={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:cc,storageKey:null};fc={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:cc,storageKey:null};Hb=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,He,Yj,Ml,Nl,e,Ol,Pl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Cl,Rl,Sl,Tl,K],storageKey:null},Wl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[B,fc,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Cl,Xl,Sl,Tl,K],storageKey:null},Yl,$l,Zl,zf,am],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[bm,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:Sa,storageKey:null},cm],storageKey:null},{alias:null,args:Ql,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[fc,dm],storageKey:null},ad,Zc,$c,lf,fm,jm,tb,em,T,gm,hm,a],storageKey:null},Z];Kb={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null};gc={alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null};hc={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null};dc=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}];Mb={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null};L={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:wc,storageKey:null};R={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};N={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[Ra,im],storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null};jc=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}];zc=[{kind:"Literal",name:"first",value:20}];Ec={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null};Fc={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]};Gc=[{kind:"Literal",name:"first",value:400}];Hc={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null};Ic={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null};Kc={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null};Jc=[{kind:"Literal",name:"first",value:2}];Lc=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}];Oc=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];Pc={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'};Qc={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null};Tc=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}];Uc={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null};Vc={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null};Nc={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null};Wc={alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Uj],storageKey:null};Yc={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null};bd={alias:null,args:Gc,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Ec,W,Rh,Sh,Hc,Yc,Ic,Kc,{alias:null,args:null,kind:"ScalarField",name:"is_immutable",storageKey:null},B],storageKey:null},R],storageKey:null},Z],storageKey:"custom_labels(first:400)"};cd={alias:null,args:Gc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"};dd={alias:null,args:Gc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"};fd={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:d,storageKey:null};gd=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}];hd=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];id=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}];jd=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];ld=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}];md=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[Ga,{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:ql,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:ql,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:sl,storageKey:null},Ia,tl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ed,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Vl,storageKey:"thread_items(first:1)"}]}],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Vl,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,La,b,Cf,Df,q,S,rc,qc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,jh,sh,th,uh,vh,wh,zh,Lh,Mh,Oh,Zh,bi,pi,Dg,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,Yb,Si,Ti,jg,jj,tj,vg,M,Ek,Fk,Jk,Kk,Lk,Mk,li,Vj,Jd,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:lm,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[mm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:hj,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[ol]},Nh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[pm],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[qm]}]}],storageKey:null},nm],storageKey:null},sm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},tm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:om,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:rm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},qm,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ia,fa,ga,ja,Ca,Ba,Fa,da,na,ma,wa,ea,ta,Da,ua,Ea,sa,aa,qa,ra,oa,la,ka,pa,va,ca,za,ya,xa,Aa,ha,ba],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[Ga,{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:bc,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:bc,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:Sa,storageKey:null},Ia,tl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ed,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Hb,storageKey:"thread_items(first:1)"}]},a],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Ul,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[ul,vl,wl,xl,yl,zl,Al,Bl,Dl,El,Fl,Pi,Gl,Hl,Il,Jl,Kl,Ll,Ji,Ki,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Hb,storageKey:null}]},a],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,La,b,sb,Df,x,S,rc,tc,uc,J,Rf,Xc,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,dh,r,Nb,mc,uh,vh,wh,pc,oc,Mh,Oh,sc,yc,Xa,Za,si,zi,Ai,Bi,Ci,Di,Ei,Fi,fh,mg,Si,Ti,um,Tb,Ub,M,Ek,Fk,C,Kk,Lk,Mk,li,Vj,Xb,qc,ac,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:lm,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[mm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:vb,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[wb]},Nh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[pm,g,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Kb,{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},gc,{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[hc,e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Uj,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,n,O],storageKey:null},z,Vf],storageKey:null},e],storageKey:null},hc],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:dc,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},O,{kind:"InlineFragment",selections:[Mb,J,L],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Mb,J,L,s],type:"MessageVideo",abstractKey:null}],storageKey:null},R],storageKey:null},N],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:dc,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Ej,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},v,{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:m,storageKey:null},{alias:null,args:jc,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:m,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},Xi,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},ue,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_wec_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Ii,{alias:null,args:zc,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Rh,Ec,W,Wh,Xh,Sh,B],storageKey:null},R],storageKey:null},Z,Fc],storageKey:"corp_label_list(first:20)"},{alias:null,args:zc,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:zc,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,a,b,Qh,{kind:"InlineFragment",selections:[xh,ng,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},R],storageKey:null},Z,Fc],storageKey:"suggested_labels(first:20)"},{alias:null,args:zc,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:Gc,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Ec,W,Rh,Sh,Hc,Ic,Kc,B],storageKey:null},R],storageKey:null},Z,Fc],storageKey:"label_list(first:400)"},{alias:null,args:Gc,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:Uh,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:Jc,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:f,storageKey:null},Mg,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[B,b,a],storageKey:null},B],storageKey:null},R],storageKey:null},N,Fc],storageKey:"notes_list(first:2)"},{alias:null,args:Jc,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Oc,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},Pc,a,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null},{alias:null,args:[{kind:"Literal",name:"tab",value:"DATA_SHARING"}],kind:"ScalarField",name:"wa_settings_uri_in_business_view",storageKey:'wa_settings_uri_in_business_view(tab:"DATA_SHARING")'}],storageKey:null},Qc,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:Tc,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[B,Mg,Jb,g,Ie,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:f,storageKey:null},lb,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},Ib,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},uk,Uc],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:d,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[uk,W,Uc,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[W],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},R],storageKey:null},N],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:Tc,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},Vc,{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Nc],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Nc,a],storageKey:null}]}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[v,{alias:null,args:jc,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null},Wc,{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[gc,{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[e,hc],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,bd,cd,{alias:null,args:Gc,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Rh,Ec,W,Wh,Xh,Sh,Yc,B],storageKey:null},R],storageKey:null},Z],storageKey:"corp_labels(first:400)"},dd,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},fd,{alias:"is_in_kbank_rollout",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:hd,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Oc,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[a,bd,cd,{alias:null,args:Gc,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Qh,Ec,W,Rh,Wh,Xh,Sh,Yc,B],storageKey:null},R],storageKey:null},Z],storageKey:"corp_labels(first:400)"},dd,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},fd,{alias:"is_in_kbank_rollout",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:hd,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:om,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null}]},{condition:"should3DContextCardSections",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sections_renderers",plural:!0,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isXFBBizCRMContactSectionRenderer"},{alias:null,args:null,kind:"ScalarField",name:"section_enum",storageKey:null},a,{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardProfileSection3DWrapper_profile",fragmentPropName:"profile",kind:"ModuleImport"}],type:"XFBBizKitContextCardProfileSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutDetailSection3DWrapper_about",fragmentPropName:"about",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutDetailSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutSectionFacebook3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutSectionFacebookRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardAboutSectionInstagram3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardAboutSectionInstagramRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardNotesSection3DWrapper_notes",fragmentPropName:"notes",kind:"ModuleImport"}],type:"XFBBizKitContextCardNotesSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardMediaSection3DWrapper_media",fragmentPropName:"media",kind:"ModuleImport"}],type:"XFBBizKitContextCardMediaSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardOrdersSection3DWrapper_orders",fragmentPropName:"orders",kind:"ModuleImport"}],type:"XFBBizKitContextCardOrdersSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardMessageSection3DWrapper_details",fragmentPropName:"details",kind:"ModuleImport"}],type:"XFBBizKitContextCardMessageSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextLabels3DWrapper_contactLabels",fragmentPropName:"contactLabels",kind:"ModuleImport"}],type:"XFBBizKitContextCardLabelsSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardActivitySection3DWrapper_activities",fragmentPropName:"activities",kind:"ModuleImport"}],type:"XFBBizKitContextCardActivitySectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardPaymentSection3DWrapper_payment",fragmentPropName:"payment",kind:"ModuleImport"}],type:"XFBBizKitMessengerOrdersContextCardSectionRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"BizKitContextCardSection3DWrapper_sections",fragmentName:"BizKitContextCardReminderSection3DWrapper_reminder",fragmentPropName:"reminder",kind:"ModuleImport"}],type:"XFBBizKitContextCardReminderRenderer",abstractKey:null}],storageKey:null}]}],storageKey:null}]}],storageKey:null},nm],storageKey:null},sm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:Ha,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:om,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:Jc,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},R],storageKey:null},N,Fc],storageKey:"actions(first:2)"},{alias:null,args:Jc,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:vi,storageKey:null}],storageKey:null},a,Qc,Wc,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Kb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},Vc,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Pc,a,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Oc,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Lc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},tm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:om,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:id,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:jd,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:ld,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:md,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:rm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:id,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:jd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:ld,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:md,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}]}]},params:{id:"30430846273197806",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}}();ba("relay-runtime").PreloadableQueryRegistry.set(aa.params.id,aa);ea.exports=aa}),null);/*FB_PKG_DELIM*/
__d("LSComputeOptimisticThreadCapabilities",["LSArrayGetObjectAt","LSComputeParticipantCapabilities","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.createArray(),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return c.forEach(c.db.table(14).fetch([[[a[0],{lt:d[1]}],[a[0],{gt:d[1]}]]]),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),f.contactId,a[0]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=(d[0].push(d[33]),d[0])}])})},function(a){return d[2]=c.i64.cast([0,1073741823]),d[3]=c.i64.of_int32(d[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[0],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[2]=c.i64.and_(d[2],d[34])}])}):c.resolve()},function(b){return d[4]=c.i64.of_int32(d[0].length),c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[33]=!1:(e=b.item,d[33]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[5]=d[33]}]):(e=b.item,d[5]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[7]=c.i64.cast([0,1083495711]),d[8]=c.i64.cast([0,1024]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,134217728]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[12]=!1:(b=a.item,d[12]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[14]=c.i64.cast([0,1083495711]),d[15]=c.i64.cast([0,1024]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,134217728]),d[18]=c.i64.cast([0,0]),d[19]=c.i64.cast([0,8650752]),d[20]=c.i64.cast([0,1024]),d[21]=c.i64.cast([0,0]),d[22]=c.i64.cast([0,0]),d[23]=c.i64.cast([0,0]),d[32]=d[5]?d[19]:d[14],c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[32],c.i64.cast([0,1])],d[24]=e[0],d[25]=e[1],e):(b=a.item,e=[d[32],b.threadType],d[24]=e[0],d[25]=e[1])})},function(a){return d[27]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[28]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))),d[29]=c.createArray(),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,6]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,6]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,0]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,7]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,7]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,1]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,72]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,72]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,8]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,2]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,9]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,9]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,10]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,4]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,5]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,5]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,11]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,11]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,12]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,13]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,13]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,18]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,14]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,15]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,3]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(void 0,void 0)||c.i64.neq(c.i64.and_(c.i64.cast([0,0]),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,30]))):c.i64.cast([0,0])),d[29]),d[30]=c.i64.cast([0,0]),d[31]=c.i64.of_int32(d[29].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[30]=c.i64.add(d[30],d[34])}])}):c.resolve()},function(a){return e[0]=c.i64.and_(d[30],c.i64.and_(c.i64.and_((c.i64.eq(d[25],c.i64.cast([0,1]))?c.i64.eq(d[4],c.i64.cast([0,0])):!0)?c.i64.eq(c.i64.and_(d[24],d[27]),c.i64.cast([0,0]))?d[24]:c.i64.sub(d[24],d[27]):d[24],c.i64.eq(d[25],c.i64.cast([0,2]))?c.i64.eq(c.i64.and_(d[24],d[28]),c.i64.cast([0,0]))?d[24]:c.i64.sub(d[24],d[28]):d[24]),(c.i64.eq(d[25],c.i64.cast([0,1]))?c.i64.neq(d[4],c.i64.cast([0,0])):!1)?d[24]:c.i64.xor(d[24],c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))))))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure";a.__tables__=["participants","threads","contacts"];e.exports=a}),null);
__d("LSGetFirstAvailableQuickReplyCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.sortBy(b.db.table(20).fetch(),[["ctaId","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([0,1]):(d=a.item,c[0]=b.i64.add(d.ctaId,b.i64.cast([0,1])))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxGetFirstAvailableQuickReplyCTAIDStoredProcedure";a.__tables__=["quick_reply_ctas"];e.exports=a}),null);
__d("LSInsertQuickReplyCTA",["LSArrayGetObjectAt","LSGetFirstAvailableQuickReplyCTAID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=c.i64.of_int32(a[3].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.sequence([function(b){return c.forEach(c.db.table(20).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(a){return c.storedProcedure(b("LSGetFirstAvailableQuickReplyCTAID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[2]=d[1],d[3]=c.i64.of_int32(a[3].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[7]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return d[10]=d[8].get("title"),d[11]=d[8].get("type"),d[12]=d[8].get("image_url"),d[13]=d[8].get("platform_token"),c.db.table(20).add({threadKey:a[0],messageId:a[1],ctaId:d[2],messageTimestampMs:a[2],title:d[10],type_:d[11],imageUrl:d[12],platformToken:d[13]})},function(a){return d[2]=c.i64.add(d[2],c.i64.cast([0,1]))}])}):c.resolve()},function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("quick_reply_type"),c.forEach(c.filter(c.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[2])&&b.messageId===a[1]}),function(a){var b=a.update;a.item;return b({hasQuickReplies:!0,quickReplyType:d[6]})})}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxInsertQuickReplyCTAStoredProcedure";a.__tables__=["quick_reply_ctas","messages"];e.exports=a}),null);
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2421884758]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,4002265907]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),b("LSLocalize").localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),b("LSLocalize").localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetLocalizedReplySnippetStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8])})},function(d){return b.sortBy(b.filter(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8])})},function(d){return b.sortBy(b.filter(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8])})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageViewFlagsStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSLocalize","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),void 0!==void 0?c.resolve(d[1]=void 0):c.sequence([function(a){return c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.sequence([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[16]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[17]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[16],d[17],void 0,void 0)}]):c.resolve()}]):(e.item,c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,additionalThreadContext:void 0})}))})}])},function(e){return c.sequence([function(b){return c.islc(c.db.table(12).fetchDesc([[[a[1],c.i64.cast([0,80])],[a[1],c.i64.cast([0,60])],[a[1],c.i64.cast([0,40])]],"messageDisplayOrderAuthority"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==void 0&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[8]==null?"":a[8]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[a[8],void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=g[0],d[34]=g[1],d[35]=g[2],d[36]=g[3],d[37]=g[4],d[38]=g[5],d[39]=g[6],d[40]=g[7],d[41]=g[8],d[42]=g[9],d[43]=g[10],d[44]=g[11],d[45]=g[12],d[46]=g[13],d[47]=g[14],d[48]=g[15],g):(f=e.item,c.sequence([function(e){return d[54]=f.senderId,d[53]=f.stickerId,c.i64.neq(d[53],void 0)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[void 0,void 0],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],d[55]=f.replyType==null?c.i64.cast([0,0]):f.replyType,c.sequence([function(e){return c.storedProcedure(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],f.text,d[50],d[51],void 0,void 0,void 0,void 0,void 0,void 0,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===void 0||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15]))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[void 0,void 0,void 0,void 0],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),d[34]=a[13].get("mention_lengths"),d[35]=a[13].get("mention_ids"),d[36]=a[13].get("mention_types"),b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3]),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.sequence([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],void 0],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2])})},function(a){return c.forEach(c.filter(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.sequence([function(e){return c.storedProcedure(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],void 0))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageStoredProcedure";a.__tables__=["threads","participants","user_visible_network_connectivity_error","messages"];e.exports=a}),null);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetViewerFBID","LSInsertQuickReplyCTA","LSIssueNewTask","LSLocalApplyOptimisticMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[26]="product_type",d[21]=d[19].get(d[26]),d[21]!==void 0?d[20].set(d[26],d[21]):0,d[27]="product_extras",d[22]=d[19].get(d[27]),d[22]?d[23]=!1:d[23]=!0,d[23]?c.resolve():c.sequence([function(a){return d[22]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[30]=d[22].get("__typename"),d[30]==="XMSGStoryReplyExtras"?c.resolve((d[32]=new c.Map(),d[35]="logging",d[33]=d[22].get(d[35]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[36]=!1:d[36]=!0,d[36]?d[37]=void 0:(d[38]=new c.Map(),d[46]="story_author_fbid",d[39]=d[33].get(d[46]),d[39]!==void 0?d[38].set(d[46],d[39]):0,d[47]="camera_post_type",d[40]=d[33].get(d[47]),d[40]!==void 0?d[38].set(d[47],d[40]):0,d[48]="story_type",d[41]=d[33].get(d[48]),d[41]!==void 0?d[38].set(d[48],d[41]):0,d[49]="post_source",d[42]=d[33].get(d[49]),d[42]!==void 0?d[38].set(d[49],d[42]):0,d[50]="fb_post_type",d[43]=d[33].get(d[50]),d[43]!==void 0?d[38].set(d[50],d[43]):0,d[51]="conversation_starter_type",d[44]=d[33].get(d[51]),d[44]!==void 0?d[38].set(d[51],d[44]):0,d[52]="story_reply_type",d[45]=d[33].get(d[52]),d[45]!==void 0?d[38].set(d[52],d[45]):0,d[37]=d[38]),d[32].set(d[35],d[37])),d[31]=d[32])):c.sequence([function(a){return d[30]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[33]=new c.Map(),d[52]="listing_id",d[34]=d[22].get(d[52]),d[34]!==void 0?d[33].set(d[52],d[34]):0,d[53]="initial_clicked_component",d[35]=d[22].get(d[53]),d[35]!==void 0?d[33].set(d[53],d[35]):0,d[54]="initial_tracking",d[36]=d[22].get(d[54]),d[36]!==void 0?d[33].set(d[54],d[36]):0,d[55]="referral_surface",d[37]=d[22].get(d[55]),d[37]!==void 0?d[33].set(d[55],d[37]):0,d[56]="referral_story_type",d[38]=d[22].get(d[56]),d[38]!==void 0?d[33].set(d[56],d[38]):0,d[57]="referral_ui_component",d[39]=d[22].get(d[57]),d[39]!==void 0?d[33].set(d[57],d[39]):0,d[58]="surface",d[40]=d[22].get(d[58]),d[40]!==void 0?d[33].set(d[58],d[40]):0,d[59]="tracking",d[41]=d[22].get(d[59]),d[41]!==void 0?d[33].set(d[59],d[41]):0,d[60]="ui_component",d[42]=d[22].get(d[60]),d[42]!==void 0?d[33].set(d[60],d[42]):0,d[61]="ad_id",d[43]=d[22].get(d[61]),d[43]!==void 0?d[33].set(d[61],d[43]):0,d[62]="server_session_id",d[44]=d[22].get(d[62]),d[44]!==void 0?d[33].set(d[62],d[44]):0,d[63]="cf_page_id",d[45]=d[22].get(d[63]),d[45]!==void 0?d[33].set(d[63],d[45]):0,d[64]="live_shopping_video_id",d[46]=d[22].get(d[64]),d[46]!==void 0?d[33].set(d[64],d[46]):0,d[65]="logging_id",d[47]=d[22].get(d[65]),c.i64.neq(d[47],void 0)?d[33].set(d[65],d[47]):0,d[66]="photo_ids",d[48]=d[22].get(d[66]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[69]=c.createArray(),d[70]=c.i64.of_int32(d[48].length),c.i64.gt(d[70],c.i64.cast([0,0]))?c.loopAsync(d[70],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[69].push(d[72]),d[69])}])}):c.resolve()},function(a){return d[33].set(d[66],d[69])}])},function(a){return d[67]="is_customized_message",d[50]=d[22].get(d[67]),d[50]!==void 0?d[33].set(d[67],d[50]):0,d[68]="referral_code",d[51]=d[22].get(d[68]),d[51]!==void 0?d[33].set(d[68],d[51]):0,d[32]=d[33]}]):c.sequence([function(a){return d[30]==="XMSGClickToMessengerAdExtras"?c.resolve((d[34]=new c.Map(),d[45]="encrypted_ads_token",d[35]=d[22].get(d[45]),d[35]!==void 0?d[34].set(d[45],d[35]):0,d[46]="product_type",d[36]=d[22].get(d[46]),d[36]!==void 0?d[34].set(d[46],d[36]):0,d[47]="post_id",d[37]=d[22].get(d[47]),d[37]!==void 0?d[34].set(d[47],d[37]):0,d[48]="ad_id",d[38]=d[22].get(d[48]),d[38]!==void 0?d[34].set(d[48],d[38]):0,d[49]="page_id",d[39]=d[22].get(d[49]),d[39]!==void 0?d[34].set(d[49],d[39]):0,d[50]="photo_id",d[40]=d[22].get(d[50]),d[40]!==void 0?d[34].set(d[50],d[40]):0,d[51]="photo_index",d[41]=d[22].get(d[51]),c.i64.neq(d[41],void 0)?d[34].set(d[51],d[41]):0,d[52]="fallback_url",d[42]=d[22].get(d[52]),d[42]!==void 0?d[34].set(d[52],d[42]):0,d[53]="product_id",d[43]=d[22].get(d[53]),d[43]!==void 0?d[34].set(d[53],d[43]):0,d[54]="user_id",d[44]=d[22].get(d[54]),d[44]!==void 0?d[34].set(d[54],d[44]):0,d[33]=d[34])):c.sequence([function(a){return d[30]==="XMSGZorroMessageExtras"?c.resolve((d[35]=new c.Map(),d[37]="is_enabled",d[36]=d[22].get(d[37]),d[36]!==void 0?d[35].set(d[37],d[36]):0,d[34]=d[35])):c.sequence([function(a){return d[30]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[36]=new c.Map(),d[39]="prompt_type",d[37]=d[22].get(d[39]),d[37]!==void 0?d[36].set(d[39],d[37]):0,d[40]="qpl_join_id",d[38]=d[22].get(d[40]),d[38]!==void 0?d[36].set(d[40],d[38]):0,d[35]=d[36])):c.sequence([function(a){return d[30]==="XMSGGenAIMultiModalExtras"?c.resolve((d[37]=new c.Map(),d[41]="should_skip_genai_eval",d[38]=d[22].get(d[41]),d[38]!==void 0?d[37].set(d[41],d[38]):0,d[42]="associated_multimodal_message_id",d[39]=d[22].get(d[42]),d[39]!==void 0?d[37].set(d[42],d[39]):0,d[43]="qpl_join_id",d[40]=d[22].get(d[43]),d[40]!==void 0?d[37].set(d[43],d[40]):0,d[36]=d[37])):c.sequence([function(a){return d[30]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[38]=new c.Map(),d[41]="seed",d[39]=d[22].get(d[41]),c.i64.neq(d[39],void 0)?d[38].set(d[41],d[39]):0,d[42]="qpl_join_id",d[40]=d[22].get(d[42]),d[40]!==void 0?d[38].set(d[42],d[40]):0,d[37]=d[38])):c.sequence([function(a){return d[30]==="XMSGShareSheetExtras"?c.resolve((d[39]=new c.Map(),d[41]="recipient_selection_session_id",d[40]=d[22].get(d[41]),d[40]!==void 0?d[39].set(d[41],d[40]):0,d[38]=d[39])):c.sequence([function(a){return d[30]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[40]=new c.Map(),d[81]="referrer_session_id",d[41]=d[22].get(d[81]),d[41]!==void 0?d[40].set(d[81],d[41]):0,d[82]="thread_session_id",d[42]=d[22].get(d[82]),d[42]!==void 0?d[40].set(d[82],d[42]):0,d[83]="prompt_id",d[43]=d[22].get(d[83]),d[43]!==void 0?d[40].set(d[83],d[43]):0,d[84]="prompt_type",d[44]=d[22].get(d[84]),d[44]!==void 0?d[40].set(d[84],d[44]):0,d[85]="prompt_fit_topic",d[45]=d[22].get(d[85]),d[45]!==void 0?d[40].set(d[85],d[45]):0,d[86]="location_extras",d[46]=d[22].get(d[86]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="has_previous_perm_prompt",d[113]=d[46].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="latitude",d[114]=d[46].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="longitude",d[115]=d[46].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[40].set(d[86],d[111])),d[87]="qpl_join_id",d[48]=d[22].get(d[87]),d[48]!==void 0?d[40].set(d[87],d[48]):0,d[88]="meta_ai_prompt_type",d[49]=d[22].get(d[88]),d[49]!==void 0?d[40].set(d[88],d[49]):0,d[89]="is_subsequent_send",d[50]=d[22].get(d[89]),d[50]!==void 0?d[40].set(d[89],d[50]):0,d[90]="context_injection_type",d[51]=d[22].get(d[90]),d[51]!==void 0?d[40].set(d[90],d[51]):0,d[91]="context_injection_timestamp_ms",d[52]=d[22].get(d[91]),d[52]!==void 0?d[40].set(d[91],d[52]):0,d[92]="meta_ai_response_to_persist",d[53]=d[22].get(d[92]),d[53]?d[54]=!1:d[54]=!0,d[54]?c.resolve():c.sequence([function(a){return d[53]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[119]="text",d[113]=d[53].get(d[119]),d[113]!==void 0?d[112].set(d[119],d[113]):0,d[120]="bot_response_id",d[114]=d[53].get(d[120]),d[114]!==void 0?d[112].set(d[120],d[114]):0,d[121]="bot_request_id",d[115]=d[53].get(d[121]),d[115]!==void 0?d[112].set(d[121],d[115]):0,d[122]="external_search_params",d[116]=d[53].get(d[122]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[124]=!1:d[124]=!0,d[124]?c.resolve(d[125]=void 0):c.sequence([function(a){return d[126]=new c.Map(),d[134]="search_result_uri",d[127]=d[116].get(d[134]),d[127]?d[128]=!1:d[128]=!0,d[128]?c.resolve():c.sequence([function(a){return d[127]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[127].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[127],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[126].set(d[134],d[140])}])},function(a){return d[135]="search_query",d[129]=d[116].get(d[135]),d[129]!==void 0?d[126].set(d[135],d[129]):0,d[136]="attribution_link",d[130]=d[116].get(d[136]),d[130]!==void 0?d[126].set(d[136],d[130]):0,d[137]="search_engine",d[131]=d[116].get(d[137]),d[131]!==void 0?d[126].set(d[137],d[131]):0,d[138]="references_title",d[132]=d[116].get(d[138]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[132].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[126].set(d[138],d[140])}])},function(a){return d[125]=d[126]}])},function(a){return d[112].set(d[122],d[125])}])},function(a){return d[123]="followup_prompt_text",d[118]=d[53].get(d[123]),d[118]!==void 0?d[112].set(d[123],d[118]):0,d[111]=d[112]}])},function(a){return d[40].set(d[92],d[111])}])},function(a){return d[93]="gql_dark_test_qpl_join_id",d[55]=d[22].get(d[93]),d[55]!==void 0?d[40].set(d[93],d[55]):0,d[94]="gql_dark_test_client_start_time",d[56]=d[22].get(d[94]),d[56]!==void 0?d[40].set(d[94],d[56]):0,d[95]="prompt_context",d[57]=d[22].get(d[95]),d[57]?d[58]=!1:d[58]=!0,d[58]?0:(d[57]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="context_token",d[113]=d[57].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="context_token_type",d[114]=d[57].get(d[116]),c.i64.neq(d[114],void 0)?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[95],d[111])),d[96]="imagine_flash_extras",d[59]=d[22].get(d[96]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="seed",d[113]=d[59].get(d[115]),c.i64.neq(d[113],void 0)?d[112].set(d[115],d[113]):0,d[116]="qpl_join_id",d[114]=d[59].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[96],d[111])),d[97]="conversation_marker_id",d[61]=d[22].get(d[97]),d[61]!==void 0?d[40].set(d[97],d[61]):0,d[98]="multi_modal_extras",d[62]=d[22].get(d[98]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="should_skip_genai_eval",d[113]=d[62].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="associated_multimodal_message_id",d[114]=d[62].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="qpl_join_id",d[115]=d[62].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[40].set(d[98],d[111])),d[99]="ads_extras",d[64]=d[22].get(d[99]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="context",d[113]=d[64].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="is_reply_to_ads_ai",d[114]=d[64].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="is_message_processed_by_lightspeed",d[115]=d[64].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[40].set(d[99],d[111])),d[100]="suggested_prompt_extras",d[66]=d[22].get(d[100]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="prompt_type",d[113]=d[66].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="qpl_join_id",d[114]=d[66].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[100],d[111])),d[101]="disable_server_mqtt_typing_indicator",d[68]=d[22].get(d[101]),d[68]!==void 0?d[40].set(d[101],d[68]):0,d[102]="enable_web_scraping",d[69]=d[22].get(d[102]),d[69]!==void 0?d[40].set(d[102],d[69]):0,d[103]="client_prompt_timestamp",d[70]=d[22].get(d[103]),d[70]!==void 0?(d[70]!==void 0?d[110]=c.i64.from_string(d[70]):d[110]=void 0,d[40].set(d[103],d[110])):0,d[104]="is_client_ready_for_psi",d[71]=d[22].get(d[104]),d[71]!==void 0?d[40].set(d[104],d[71]):0,d[105]="intent_detection_extras",d[72]=d[22].get(d[105]),d[72]?d[73]=!1:d[73]=!0,d[73]?c.resolve():c.sequence([function(a){return d[72]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[121]="intent_messages_metadata",d[113]=d[72].get(d[121]),d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[113].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=new c.Map(),d[140]="message_type",d[133]=d[130].get(d[140]),d[133]!==void 0?d[132].set(d[140],d[133]):0,d[141]="message_sender_name",d[134]=d[130].get(d[141]),d[134]!==void 0?d[132].set(d[141],d[134]):0,d[142]="message_invoker_name",d[135]=d[130].get(d[142]),d[135]!==void 0?d[132].set(d[142],d[135]):0,d[143]="message_timestamp_ms",d[136]=d[130].get(d[143]),d[136]!==void 0?d[132].set(d[143],c.i64.from_string(d[136])):0,d[144]="message_thread_name",d[137]=d[130].get(d[144]),d[137]!==void 0?d[132].set(d[144],d[137]):0,d[145]="message_id",d[138]=d[130].get(d[145]),d[138]!==void 0?d[132].set(d[145],d[138]):0,d[146]="message_text",d[139]=d[130].get(d[146]),d[139]!==void 0?d[132].set(d[146],d[139]):0,d[147]=(d[127].push(d[132]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[121],d[126])}])},function(a){return d[122]="intent_types",d[115]=d[72].get(d[122]),d[115]?d[116]=!1:d[116]=!0,d[116]?c.resolve():c.sequence([function(a){return d[115]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[115].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[122],d[126])}])},function(a){return d[123]="intent_message_ids",d[117]=d[72].get(d[123]),d[117]?d[118]=!1:d[118]=!0,d[118]?c.resolve():c.sequence([function(a){return d[117]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[117].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[117],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[123],d[126])}])},function(a){return d[124]="intent_messages",d[119]=d[72].get(d[124]),d[119]?d[120]=!1:d[120]=!0,d[120]?c.resolve():c.sequence([function(a){return d[119]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[119].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[119],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[124],d[126])}])},function(a){return d[111]=d[112]}])},function(a){return d[40].set(d[105],d[111])}])},function(a){return d[106]="psi_tool_query_data",d[74]=d[22].get(d[106]),d[74]?d[75]=!1:d[75]=!0,d[75]?c.resolve():c.sequence([function(a){return d[74]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[118]="conversation_name",d[113]=d[74].get(d[118]),d[113]!==void 0?d[112].set(d[118],d[113]):0,d[119]="original_query_string",d[114]=d[74].get(d[119]),d[114]!==void 0?d[112].set(d[119],d[114]):0,d[120]="response_message_id",d[115]=d[74].get(d[120]),d[115]!==void 0?d[112].set(d[120],d[115]):0,d[121]="messages",d[116]=d[74].get(d[121]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[122]=!1:d[122]=!0,d[122]?c.resolve(d[123]=void 0):c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[116].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=new c.Map(),d[137]="message_type",d[130]=d[127].get(d[137]),d[130]!==void 0?d[129].set(d[137],d[130]):0,d[138]="message_sender_name",d[131]=d[127].get(d[138]),d[131]!==void 0?d[129].set(d[138],d[131]):0,d[139]="message_invoker_name",d[132]=d[127].get(d[139]),d[132]!==void 0?d[129].set(d[139],d[132]):0,d[140]="message_timestamp_ms",d[133]=d[127].get(d[140]),d[133]!==void 0?d[129].set(d[140],c.i64.from_string(d[133])):0,d[141]="message_thread_name",d[134]=d[127].get(d[141]),d[134]!==void 0?d[129].set(d[141],d[134]):0,d[142]="message_id",d[135]=d[127].get(d[142]),d[135]!==void 0?d[129].set(d[142],d[135]):0,d[143]="message_text",d[136]=d[127].get(d[143]),d[136]!==void 0?d[129].set(d[143],d[136]):0,d[144]=(d[124].push(d[129]),d[124])}])}):c.resolve()},function(a){return d[123]=d[124]}])},function(a){return d[112].set(d[121],d[123])}])},function(a){return d[111]=d[112]}])},function(a){return d[40].set(d[106],d[111])}])},function(a){return d[107]="psi_query_data",d[76]=d[22].get(d[107]),d[76]?d[77]=!1:d[77]=!0,d[77]?c.resolve():c.sequence([function(a){return d[76]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[118]="original_query_string",d[113]=d[76].get(d[118]),d[113]!==void 0?d[112].set(d[118],d[113]):0,d[119]="original_query_message_id",d[114]=d[76].get(d[119]),d[114]!==void 0?d[112].set(d[119],d[114]):0,d[120]="response_message_id",d[115]=d[76].get(d[120]),d[115]!==void 0?d[112].set(d[120],d[115]):0,d[121]="thread_messages",d[116]=d[76].get(d[121]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[122]=!1:d[122]=!0,d[122]?c.resolve(d[123]=void 0):c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[116].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=new c.Map(),d[134]="thread_id",d[130]=d[127].get(d[134]),d[130]!==void 0?d[129].set(d[134],d[130]):0,d[135]="thread_name",d[131]=d[127].get(d[135]),d[131]!==void 0?d[129].set(d[135],d[131]):0,d[136]="messages",d[132]=d[127].get(d[136]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[137]=!1:d[137]=!0,d[137]?c.resolve(d[138]=void 0):c.sequence([function(a){return d[139]=c.createArray(),d[140]=c.i64.of_int32(d[132].length),c.i64.gt(d[140],c.i64.cast([0,0]))?c.loopAsync(d[140],function(a){return d[141]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[141]).then(function(a){return a=a,d[142]=a[0],d[143]=a[1],a})},function(a){return d[144]=new c.Map(),d[152]="message_type",d[145]=d[142].get(d[152]),d[145]!==void 0?d[144].set(d[152],d[145]):0,d[153]="message_sender_name",d[146]=d[142].get(d[153]),d[146]!==void 0?d[144].set(d[153],d[146]):0,d[154]="message_invoker_name",d[147]=d[142].get(d[154]),d[147]!==void 0?d[144].set(d[154],d[147]):0,d[155]="message_timestamp_ms",d[148]=d[142].get(d[155]),d[148]!==void 0?d[144].set(d[155],c.i64.from_string(d[148])):0,d[156]="message_thread_name",d[149]=d[142].get(d[156]),d[149]!==void 0?d[144].set(d[156],d[149]):0,d[157]="message_id",d[150]=d[142].get(d[157]),d[150]!==void 0?d[144].set(d[157],d[150]):0,d[158]="message_text",d[151]=d[142].get(d[158]),d[151]!==void 0?d[144].set(d[158],d[151]):0,d[159]=(d[139].push(d[144]),d[139])}])}):c.resolve()},function(a){return d[138]=d[139]}])},function(a){return d[129].set(d[136],d[138])}])},function(a){return d[137]=(d[124].push(d[129]),d[124])}])}):c.resolve()},function(a){return d[123]=d[124]}])},function(a){return d[112].set(d[121],d[123])}])},function(a){return d[111]=d[112]}])},function(a){return d[40].set(d[107],d[111])}])},function(a){return d[108]="contextual_entry_point_data",d[78]=d[22].get(d[108]),d[78]?d[79]=!1:d[79]=!0,d[79]?0:(d[78]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="eligibility_reason",d[113]=d[78].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="is_eligible",d[114]=d[78].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[108],d[111])),d[109]="bot_response_otid_override",d[80]=d[22].get(d[109]),d[80]!==void 0?d[40].set(d[109],d[80]):0,d[39]=d[40]}]):c.sequence([function(a){return d[30]==="XMSGProductHighlightExtras"?c.resolve((d[41]=new c.Map(),d[44]="product_highlight_type",d[42]=d[22].get(d[44]),d[42]!==void 0?d[41].set(d[44],d[42]):0,d[45]="conversation_marker",d[43]=d[22].get(d[45]),d[43]!==void 0?d[41].set(d[45],d[43]):0,d[40]=d[41])):c.sequence([function(a){return d[30]==="XMSGMagicMessengerExtras"?c.resolve((d[42]=new c.Map(),d[44]="is_magic_thread",d[43]=d[22].get(d[44]),d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return d[30]==="XMSGAdsAIExtras"?c.resolve((d[43]=new c.Map(),d[47]="context",d[44]=d[22].get(d[47]),d[44]!==void 0?d[43].set(d[47],d[44]):0,d[48]="is_reply_to_ads_ai",d[45]=d[22].get(d[48]),d[45]!==void 0?d[43].set(d[48],d[45]):0,d[49]="is_message_processed_by_lightspeed",d[46]=d[22].get(d[49]),d[46]!==void 0?d[43].set(d[49],d[46]):0,d[42]=d[43])):c.sequence([function(a){return d[30]==="XMSGBizappExtras"?c.resolve((d[44]=new c.Map(),d[47]="message_source",d[45]=d[22].get(d[47]),d[45]!==void 0?d[44].set(d[47],d[45]):0,d[48]="message_trigger",d[46]=d[22].get(d[48]),d[46]!==void 0?d[44].set(d[48],d[46]):0,d[43]=d[44])):c.sequence([function(a){return d[30]==="XMSGGenAIContextualEntryPointData"?c.resolve((d[45]=new c.Map(),d[48]="eligibility_reason",d[46]=d[22].get(d[48]),d[46]!==void 0?d[45].set(d[48],d[46]):0,d[49]="is_eligible",d[47]=d[22].get(d[49]),d[47]!==void 0?d[45].set(d[49],d[47]):0,d[44]=d[45])):c.sequence([function(a){return d[45]=new c.Map(),d[46]=d[22].keys(),d[47]=c.i64.of_int32(d[46].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=d[22].get(d[49]),d[45].set(d[49],d[51])}])}):c.resolve()},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[31].set("__typename",d[30]),d[29]=d[31]}])},function(a){return d[20].set(d[27],d[29])}])},function(a){return d[24]=d[20].get("product_extras"),d[24]!==void 0?(d[28]=d[24].get("__typename"),d[28]==="XMSGClickToMessengerAdExtras"?(d[31]=new c.Map(),d[42]="encrypted_ads_token",d[32]=d[24].get(d[42]),d[32]!==void 0?d[31].set(d[42],d[32]):0,d[43]="product_type",d[33]=d[24].get(d[43]),d[33]!==void 0?d[31].set(d[43],d[33]):0,d[44]="post_id",d[34]=d[24].get(d[44]),d[34]!==void 0?d[31].set(d[44],d[34]):0,d[45]="ad_id",d[35]=d[24].get(d[45]),d[35]!==void 0?d[31].set(d[45],d[35]):0,d[46]="page_id",d[36]=d[24].get(d[46]),d[36]!==void 0?d[31].set(d[46],d[36]):0,d[47]="photo_id",d[37]=d[24].get(d[47]),d[37]!==void 0?d[31].set(d[47],d[37]):0,d[48]="photo_index",d[38]=d[24].get(d[48]),c.i64.neq(d[38],void 0)?d[31].set(d[48],d[38]):0,d[49]="fallback_url",d[39]=d[24].get(d[49]),d[39]!==void 0?d[31].set(d[49],d[39]):0,d[50]="product_id",d[40]=d[24].get(d[50]),d[40]!==void 0?d[31].set(d[50],d[40]):0,d[51]="user_id",d[41]=d[24].get(d[51]),d[41]!==void 0?d[31].set(d[51],d[41]):0,d[29]=d[31]):d[29]=void 0,d[29]!==void 0?(d[31]=d[29].get("page_id"),d[30]=d[31]):d[30]=void 0,d[25]=d[30]):d[25]=void 0,d[2]=d[25]}]):c.resolve(d[2]=void 0)},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[26]="product_type",d[21]=d[19].get(d[26]),d[21]!==void 0?d[20].set(d[26],d[21]):0,d[27]="product_extras",d[22]=d[19].get(d[27]),d[22]?d[23]=!1:d[23]=!0,d[23]?c.resolve():c.sequence([function(a){return d[22]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[30]=d[22].get("__typename"),d[30]==="XMSGStoryReplyExtras"?c.resolve((d[32]=new c.Map(),d[35]="logging",d[33]=d[22].get(d[35]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[36]=!1:d[36]=!0,d[36]?d[37]=void 0:(d[38]=new c.Map(),d[46]="story_author_fbid",d[39]=d[33].get(d[46]),d[39]!==void 0?d[38].set(d[46],d[39]):0,d[47]="camera_post_type",d[40]=d[33].get(d[47]),d[40]!==void 0?d[38].set(d[47],d[40]):0,d[48]="story_type",d[41]=d[33].get(d[48]),d[41]!==void 0?d[38].set(d[48],d[41]):0,d[49]="post_source",d[42]=d[33].get(d[49]),d[42]!==void 0?d[38].set(d[49],d[42]):0,d[50]="fb_post_type",d[43]=d[33].get(d[50]),d[43]!==void 0?d[38].set(d[50],d[43]):0,d[51]="conversation_starter_type",d[44]=d[33].get(d[51]),d[44]!==void 0?d[38].set(d[51],d[44]):0,d[52]="story_reply_type",d[45]=d[33].get(d[52]),d[45]!==void 0?d[38].set(d[52],d[45]):0,d[37]=d[38]),d[32].set(d[35],d[37])),d[31]=d[32])):c.sequence([function(a){return d[30]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[33]=new c.Map(),d[52]="listing_id",d[34]=d[22].get(d[52]),d[34]!==void 0?d[33].set(d[52],d[34]):0,d[53]="initial_clicked_component",d[35]=d[22].get(d[53]),d[35]!==void 0?d[33].set(d[53],d[35]):0,d[54]="initial_tracking",d[36]=d[22].get(d[54]),d[36]!==void 0?d[33].set(d[54],d[36]):0,d[55]="referral_surface",d[37]=d[22].get(d[55]),d[37]!==void 0?d[33].set(d[55],d[37]):0,d[56]="referral_story_type",d[38]=d[22].get(d[56]),d[38]!==void 0?d[33].set(d[56],d[38]):0,d[57]="referral_ui_component",d[39]=d[22].get(d[57]),d[39]!==void 0?d[33].set(d[57],d[39]):0,d[58]="surface",d[40]=d[22].get(d[58]),d[40]!==void 0?d[33].set(d[58],d[40]):0,d[59]="tracking",d[41]=d[22].get(d[59]),d[41]!==void 0?d[33].set(d[59],d[41]):0,d[60]="ui_component",d[42]=d[22].get(d[60]),d[42]!==void 0?d[33].set(d[60],d[42]):0,d[61]="ad_id",d[43]=d[22].get(d[61]),d[43]!==void 0?d[33].set(d[61],d[43]):0,d[62]="server_session_id",d[44]=d[22].get(d[62]),d[44]!==void 0?d[33].set(d[62],d[44]):0,d[63]="cf_page_id",d[45]=d[22].get(d[63]),d[45]!==void 0?d[33].set(d[63],d[45]):0,d[64]="live_shopping_video_id",d[46]=d[22].get(d[64]),d[46]!==void 0?d[33].set(d[64],d[46]):0,d[65]="logging_id",d[47]=d[22].get(d[65]),c.i64.neq(d[47],void 0)?d[33].set(d[65],d[47]):0,d[66]="photo_ids",d[48]=d[22].get(d[66]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[69]=c.createArray(),d[70]=c.i64.of_int32(d[48].length),c.i64.gt(d[70],c.i64.cast([0,0]))?c.loopAsync(d[70],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[69].push(d[72]),d[69])}])}):c.resolve()},function(a){return d[33].set(d[66],d[69])}])},function(a){return d[67]="is_customized_message",d[50]=d[22].get(d[67]),d[50]!==void 0?d[33].set(d[67],d[50]):0,d[68]="referral_code",d[51]=d[22].get(d[68]),d[51]!==void 0?d[33].set(d[68],d[51]):0,d[32]=d[33]}]):c.sequence([function(a){return d[30]==="XMSGClickToMessengerAdExtras"?c.resolve((d[34]=new c.Map(),d[45]="encrypted_ads_token",d[35]=d[22].get(d[45]),d[35]!==void 0?d[34].set(d[45],d[35]):0,d[46]="product_type",d[36]=d[22].get(d[46]),d[36]!==void 0?d[34].set(d[46],d[36]):0,d[47]="post_id",d[37]=d[22].get(d[47]),d[37]!==void 0?d[34].set(d[47],d[37]):0,d[48]="ad_id",d[38]=d[22].get(d[48]),d[38]!==void 0?d[34].set(d[48],d[38]):0,d[49]="page_id",d[39]=d[22].get(d[49]),d[39]!==void 0?d[34].set(d[49],d[39]):0,d[50]="photo_id",d[40]=d[22].get(d[50]),d[40]!==void 0?d[34].set(d[50],d[40]):0,d[51]="photo_index",d[41]=d[22].get(d[51]),c.i64.neq(d[41],void 0)?d[34].set(d[51],d[41]):0,d[52]="fallback_url",d[42]=d[22].get(d[52]),d[42]!==void 0?d[34].set(d[52],d[42]):0,d[53]="product_id",d[43]=d[22].get(d[53]),d[43]!==void 0?d[34].set(d[53],d[43]):0,d[54]="user_id",d[44]=d[22].get(d[54]),d[44]!==void 0?d[34].set(d[54],d[44]):0,d[33]=d[34])):c.sequence([function(a){return d[30]==="XMSGZorroMessageExtras"?c.resolve((d[35]=new c.Map(),d[37]="is_enabled",d[36]=d[22].get(d[37]),d[36]!==void 0?d[35].set(d[37],d[36]):0,d[34]=d[35])):c.sequence([function(a){return d[30]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[36]=new c.Map(),d[39]="prompt_type",d[37]=d[22].get(d[39]),d[37]!==void 0?d[36].set(d[39],d[37]):0,d[40]="qpl_join_id",d[38]=d[22].get(d[40]),d[38]!==void 0?d[36].set(d[40],d[38]):0,d[35]=d[36])):c.sequence([function(a){return d[30]==="XMSGGenAIMultiModalExtras"?c.resolve((d[37]=new c.Map(),d[41]="should_skip_genai_eval",d[38]=d[22].get(d[41]),d[38]!==void 0?d[37].set(d[41],d[38]):0,d[42]="associated_multimodal_message_id",d[39]=d[22].get(d[42]),d[39]!==void 0?d[37].set(d[42],d[39]):0,d[43]="qpl_join_id",d[40]=d[22].get(d[43]),d[40]!==void 0?d[37].set(d[43],d[40]):0,d[36]=d[37])):c.sequence([function(a){return d[30]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[38]=new c.Map(),d[41]="seed",d[39]=d[22].get(d[41]),c.i64.neq(d[39],void 0)?d[38].set(d[41],d[39]):0,d[42]="qpl_join_id",d[40]=d[22].get(d[42]),d[40]!==void 0?d[38].set(d[42],d[40]):0,d[37]=d[38])):c.sequence([function(a){return d[30]==="XMSGShareSheetExtras"?c.resolve((d[39]=new c.Map(),d[41]="recipient_selection_session_id",d[40]=d[22].get(d[41]),d[40]!==void 0?d[39].set(d[41],d[40]):0,d[38]=d[39])):c.sequence([function(a){return d[30]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[40]=new c.Map(),d[81]="referrer_session_id",d[41]=d[22].get(d[81]),d[41]!==void 0?d[40].set(d[81],d[41]):0,d[82]="thread_session_id",d[42]=d[22].get(d[82]),d[42]!==void 0?d[40].set(d[82],d[42]):0,d[83]="prompt_id",d[43]=d[22].get(d[83]),d[43]!==void 0?d[40].set(d[83],d[43]):0,d[84]="prompt_type",d[44]=d[22].get(d[84]),d[44]!==void 0?d[40].set(d[84],d[44]):0,d[85]="prompt_fit_topic",d[45]=d[22].get(d[85]),d[45]!==void 0?d[40].set(d[85],d[45]):0,d[86]="location_extras",d[46]=d[22].get(d[86]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="has_previous_perm_prompt",d[113]=d[46].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="latitude",d[114]=d[46].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="longitude",d[115]=d[46].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[40].set(d[86],d[111])),d[87]="qpl_join_id",d[48]=d[22].get(d[87]),d[48]!==void 0?d[40].set(d[87],d[48]):0,d[88]="meta_ai_prompt_type",d[49]=d[22].get(d[88]),d[49]!==void 0?d[40].set(d[88],d[49]):0,d[89]="is_subsequent_send",d[50]=d[22].get(d[89]),d[50]!==void 0?d[40].set(d[89],d[50]):0,d[90]="context_injection_type",d[51]=d[22].get(d[90]),d[51]!==void 0?d[40].set(d[90],d[51]):0,d[91]="context_injection_timestamp_ms",d[52]=d[22].get(d[91]),d[52]!==void 0?d[40].set(d[91],d[52]):0,d[92]="meta_ai_response_to_persist",d[53]=d[22].get(d[92]),d[53]?d[54]=!1:d[54]=!0,d[54]?c.resolve():c.sequence([function(a){return d[53]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[119]="text",d[113]=d[53].get(d[119]),d[113]!==void 0?d[112].set(d[119],d[113]):0,d[120]="bot_response_id",d[114]=d[53].get(d[120]),d[114]!==void 0?d[112].set(d[120],d[114]):0,d[121]="bot_request_id",d[115]=d[53].get(d[121]),d[115]!==void 0?d[112].set(d[121],d[115]):0,d[122]="external_search_params",d[116]=d[53].get(d[122]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[124]=!1:d[124]=!0,d[124]?c.resolve(d[125]=void 0):c.sequence([function(a){return d[126]=new c.Map(),d[134]="search_result_uri",d[127]=d[116].get(d[134]),d[127]?d[128]=!1:d[128]=!0,d[128]?c.resolve():c.sequence([function(a){return d[127]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[127].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[127],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[126].set(d[134],d[140])}])},function(a){return d[135]="search_query",d[129]=d[116].get(d[135]),d[129]!==void 0?d[126].set(d[135],d[129]):0,d[136]="attribution_link",d[130]=d[116].get(d[136]),d[130]!==void 0?d[126].set(d[136],d[130]):0,d[137]="search_engine",d[131]=d[116].get(d[137]),d[131]!==void 0?d[126].set(d[137],d[131]):0,d[138]="references_title",d[132]=d[116].get(d[138]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[132].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[126].set(d[138],d[140])}])},function(a){return d[125]=d[126]}])},function(a){return d[112].set(d[122],d[125])}])},function(a){return d[123]="followup_prompt_text",d[118]=d[53].get(d[123]),d[118]!==void 0?d[112].set(d[123],d[118]):0,d[111]=d[112]}])},function(a){return d[40].set(d[92],d[111])}])},function(a){return d[93]="gql_dark_test_qpl_join_id",d[55]=d[22].get(d[93]),d[55]!==void 0?d[40].set(d[93],d[55]):0,d[94]="gql_dark_test_client_start_time",d[56]=d[22].get(d[94]),d[56]!==void 0?d[40].set(d[94],d[56]):0,d[95]="prompt_context",d[57]=d[22].get(d[95]),d[57]?d[58]=!1:d[58]=!0,d[58]?0:(d[57]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="context_token",d[113]=d[57].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="context_token_type",d[114]=d[57].get(d[116]),c.i64.neq(d[114],void 0)?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[95],d[111])),d[96]="imagine_flash_extras",d[59]=d[22].get(d[96]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="seed",d[113]=d[59].get(d[115]),c.i64.neq(d[113],void 0)?d[112].set(d[115],d[113]):0,d[116]="qpl_join_id",d[114]=d[59].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[96],d[111])),d[97]="conversation_marker_id",d[61]=d[22].get(d[97]),d[61]!==void 0?d[40].set(d[97],d[61]):0,d[98]="multi_modal_extras",d[62]=d[22].get(d[98]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="should_skip_genai_eval",d[113]=d[62].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="associated_multimodal_message_id",d[114]=d[62].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="qpl_join_id",d[115]=d[62].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[40].set(d[98],d[111])),d[99]="ads_extras",d[64]=d[22].get(d[99]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="context",d[113]=d[64].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="is_reply_to_ads_ai",d[114]=d[64].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="is_message_processed_by_lightspeed",d[115]=d[64].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[40].set(d[99],d[111])),d[100]="suggested_prompt_extras",d[66]=d[22].get(d[100]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="prompt_type",d[113]=d[66].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="qpl_join_id",d[114]=d[66].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[100],d[111])),d[101]="disable_server_mqtt_typing_indicator",d[68]=d[22].get(d[101]),d[68]!==void 0?d[40].set(d[101],d[68]):0,d[102]="enable_web_scraping",d[69]=d[22].get(d[102]),d[69]!==void 0?d[40].set(d[102],d[69]):0,d[103]="client_prompt_timestamp",d[70]=d[22].get(d[103]),d[70]!==void 0?(d[70]!==void 0?d[110]=c.i64.from_string(d[70]):d[110]=void 0,d[40].set(d[103],d[110])):0,d[104]="is_client_ready_for_psi",d[71]=d[22].get(d[104]),d[71]!==void 0?d[40].set(d[104],d[71]):0,d[105]="intent_detection_extras",d[72]=d[22].get(d[105]),d[72]?d[73]=!1:d[73]=!0,d[73]?c.resolve():c.sequence([function(a){return d[72]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[121]="intent_messages_metadata",d[113]=d[72].get(d[121]),d[113]?d[114]=!1:d[114]=!0,d[114]?c.resolve():c.sequence([function(a){return d[113]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[113].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[113],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=new c.Map(),d[140]="message_type",d[133]=d[130].get(d[140]),d[133]!==void 0?d[132].set(d[140],d[133]):0,d[141]="message_sender_name",d[134]=d[130].get(d[141]),d[134]!==void 0?d[132].set(d[141],d[134]):0,d[142]="message_invoker_name",d[135]=d[130].get(d[142]),d[135]!==void 0?d[132].set(d[142],d[135]):0,d[143]="message_timestamp_ms",d[136]=d[130].get(d[143]),d[136]!==void 0?d[132].set(d[143],c.i64.from_string(d[136])):0,d[144]="message_thread_name",d[137]=d[130].get(d[144]),d[137]!==void 0?d[132].set(d[144],d[137]):0,d[145]="message_id",d[138]=d[130].get(d[145]),d[138]!==void 0?d[132].set(d[145],d[138]):0,d[146]="message_text",d[139]=d[130].get(d[146]),d[139]!==void 0?d[132].set(d[146],d[139]):0,d[147]=(d[127].push(d[132]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[121],d[126])}])},function(a){return d[122]="intent_types",d[115]=d[72].get(d[122]),d[115]?d[116]=!1:d[116]=!0,d[116]?c.resolve():c.sequence([function(a){return d[115]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[115].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[122],d[126])}])},function(a){return d[123]="intent_message_ids",d[117]=d[72].get(d[123]),d[117]?d[118]=!1:d[118]=!0,d[118]?c.resolve():c.sequence([function(a){return d[117]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[117].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[117],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[123],d[126])}])},function(a){return d[124]="intent_messages",d[119]=d[72].get(d[124]),d[119]?d[120]=!1:d[120]=!0,d[120]?c.resolve():c.sequence([function(a){return d[119]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=c.createArray(),d[128]=c.i64.of_int32(d[119].length),c.i64.gt(d[128],c.i64.cast([0,0]))?c.loopAsync(d[128],function(a){return d[129]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[119],d[129]).then(function(a){return a=a,d[130]=a[0],d[131]=a[1],a})},function(a){return d[132]=(d[127].push(d[130]),d[127])}])}):c.resolve()},function(a){return d[126]=d[127]}])},function(a){return d[112].set(d[124],d[126])}])},function(a){return d[111]=d[112]}])},function(a){return d[40].set(d[105],d[111])}])},function(a){return d[106]="psi_tool_query_data",d[74]=d[22].get(d[106]),d[74]?d[75]=!1:d[75]=!0,d[75]?c.resolve():c.sequence([function(a){return d[74]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[118]="conversation_name",d[113]=d[74].get(d[118]),d[113]!==void 0?d[112].set(d[118],d[113]):0,d[119]="original_query_string",d[114]=d[74].get(d[119]),d[114]!==void 0?d[112].set(d[119],d[114]):0,d[120]="response_message_id",d[115]=d[74].get(d[120]),d[115]!==void 0?d[112].set(d[120],d[115]):0,d[121]="messages",d[116]=d[74].get(d[121]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[122]=!1:d[122]=!0,d[122]?c.resolve(d[123]=void 0):c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[116].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=new c.Map(),d[137]="message_type",d[130]=d[127].get(d[137]),d[130]!==void 0?d[129].set(d[137],d[130]):0,d[138]="message_sender_name",d[131]=d[127].get(d[138]),d[131]!==void 0?d[129].set(d[138],d[131]):0,d[139]="message_invoker_name",d[132]=d[127].get(d[139]),d[132]!==void 0?d[129].set(d[139],d[132]):0,d[140]="message_timestamp_ms",d[133]=d[127].get(d[140]),d[133]!==void 0?d[129].set(d[140],c.i64.from_string(d[133])):0,d[141]="message_thread_name",d[134]=d[127].get(d[141]),d[134]!==void 0?d[129].set(d[141],d[134]):0,d[142]="message_id",d[135]=d[127].get(d[142]),d[135]!==void 0?d[129].set(d[142],d[135]):0,d[143]="message_text",d[136]=d[127].get(d[143]),d[136]!==void 0?d[129].set(d[143],d[136]):0,d[144]=(d[124].push(d[129]),d[124])}])}):c.resolve()},function(a){return d[123]=d[124]}])},function(a){return d[112].set(d[121],d[123])}])},function(a){return d[111]=d[112]}])},function(a){return d[40].set(d[106],d[111])}])},function(a){return d[107]="psi_query_data",d[76]=d[22].get(d[107]),d[76]?d[77]=!1:d[77]=!0,d[77]?c.resolve():c.sequence([function(a){return d[76]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[118]="original_query_string",d[113]=d[76].get(d[118]),d[113]!==void 0?d[112].set(d[118],d[113]):0,d[119]="original_query_message_id",d[114]=d[76].get(d[119]),d[114]!==void 0?d[112].set(d[119],d[114]):0,d[120]="response_message_id",d[115]=d[76].get(d[120]),d[115]!==void 0?d[112].set(d[120],d[115]):0,d[121]="thread_messages",d[116]=d[76].get(d[121]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[122]=!1:d[122]=!0,d[122]?c.resolve(d[123]=void 0):c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[116].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[116],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=new c.Map(),d[134]="thread_id",d[130]=d[127].get(d[134]),d[130]!==void 0?d[129].set(d[134],d[130]):0,d[135]="thread_name",d[131]=d[127].get(d[135]),d[131]!==void 0?d[129].set(d[135],d[131]):0,d[136]="messages",d[132]=d[127].get(d[136]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[137]=!1:d[137]=!0,d[137]?c.resolve(d[138]=void 0):c.sequence([function(a){return d[139]=c.createArray(),d[140]=c.i64.of_int32(d[132].length),c.i64.gt(d[140],c.i64.cast([0,0]))?c.loopAsync(d[140],function(a){return d[141]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[141]).then(function(a){return a=a,d[142]=a[0],d[143]=a[1],a})},function(a){return d[144]=new c.Map(),d[152]="message_type",d[145]=d[142].get(d[152]),d[145]!==void 0?d[144].set(d[152],d[145]):0,d[153]="message_sender_name",d[146]=d[142].get(d[153]),d[146]!==void 0?d[144].set(d[153],d[146]):0,d[154]="message_invoker_name",d[147]=d[142].get(d[154]),d[147]!==void 0?d[144].set(d[154],d[147]):0,d[155]="message_timestamp_ms",d[148]=d[142].get(d[155]),d[148]!==void 0?d[144].set(d[155],c.i64.from_string(d[148])):0,d[156]="message_thread_name",d[149]=d[142].get(d[156]),d[149]!==void 0?d[144].set(d[156],d[149]):0,d[157]="message_id",d[150]=d[142].get(d[157]),d[150]!==void 0?d[144].set(d[157],d[150]):0,d[158]="message_text",d[151]=d[142].get(d[158]),d[151]!==void 0?d[144].set(d[158],d[151]):0,d[159]=(d[139].push(d[144]),d[139])}])}):c.resolve()},function(a){return d[138]=d[139]}])},function(a){return d[129].set(d[136],d[138])}])},function(a){return d[137]=(d[124].push(d[129]),d[124])}])}):c.resolve()},function(a){return d[123]=d[124]}])},function(a){return d[112].set(d[121],d[123])}])},function(a){return d[111]=d[112]}])},function(a){return d[40].set(d[107],d[111])}])},function(a){return d[108]="contextual_entry_point_data",d[78]=d[22].get(d[108]),d[78]?d[79]=!1:d[79]=!0,d[79]?0:(d[78]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="eligibility_reason",d[113]=d[78].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="is_eligible",d[114]=d[78].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[40].set(d[108],d[111])),d[109]="bot_response_otid_override",d[80]=d[22].get(d[109]),d[80]!==void 0?d[40].set(d[109],d[80]):0,d[39]=d[40]}]):c.sequence([function(a){return d[30]==="XMSGProductHighlightExtras"?c.resolve((d[41]=new c.Map(),d[44]="product_highlight_type",d[42]=d[22].get(d[44]),d[42]!==void 0?d[41].set(d[44],d[42]):0,d[45]="conversation_marker",d[43]=d[22].get(d[45]),d[43]!==void 0?d[41].set(d[45],d[43]):0,d[40]=d[41])):c.sequence([function(a){return d[30]==="XMSGMagicMessengerExtras"?c.resolve((d[42]=new c.Map(),d[44]="is_magic_thread",d[43]=d[22].get(d[44]),d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return d[30]==="XMSGAdsAIExtras"?c.resolve((d[43]=new c.Map(),d[47]="context",d[44]=d[22].get(d[47]),d[44]!==void 0?d[43].set(d[47],d[44]):0,d[48]="is_reply_to_ads_ai",d[45]=d[22].get(d[48]),d[45]!==void 0?d[43].set(d[48],d[45]):0,d[49]="is_message_processed_by_lightspeed",d[46]=d[22].get(d[49]),d[46]!==void 0?d[43].set(d[49],d[46]):0,d[42]=d[43])):c.sequence([function(a){return d[30]==="XMSGBizappExtras"?c.resolve((d[44]=new c.Map(),d[47]="message_source",d[45]=d[22].get(d[47]),d[45]!==void 0?d[44].set(d[47],d[45]):0,d[48]="message_trigger",d[46]=d[22].get(d[48]),d[46]!==void 0?d[44].set(d[48],d[46]):0,d[43]=d[44])):c.sequence([function(a){return d[30]==="XMSGGenAIContextualEntryPointData"?c.resolve((d[45]=new c.Map(),d[48]="eligibility_reason",d[46]=d[22].get(d[48]),d[46]!==void 0?d[45].set(d[48],d[46]):0,d[49]="is_eligible",d[47]=d[22].get(d[49]),d[47]!==void 0?d[45].set(d[49],d[47]):0,d[44]=d[45])):c.sequence([function(a){return d[45]=new c.Map(),d[46]=d[22].keys(),d[47]=c.i64.of_int32(d[46].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[48]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],d[48]).then(function(a){return a=a,d[49]=a[0],d[50]=a[1],a})},function(a){return d[51]=d[22].get(d[49]),d[45].set(d[49],d[51])}])}):c.resolve()},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[31].set("__typename",d[30]),d[29]=d[31]}])},function(a){return d[20].set(d[27],d[29])}])},function(a){return d[24]=d[20].get("product_extras"),d[24]!==void 0?(d[28]=d[24].get("__typename"),d[28]==="XMSGClickToMessengerAdExtras"?(d[31]=new c.Map(),d[42]="encrypted_ads_token",d[32]=d[24].get(d[42]),d[32]!==void 0?d[31].set(d[42],d[32]):0,d[43]="product_type",d[33]=d[24].get(d[43]),d[33]!==void 0?d[31].set(d[43],d[33]):0,d[44]="post_id",d[34]=d[24].get(d[44]),d[34]!==void 0?d[31].set(d[44],d[34]):0,d[45]="ad_id",d[35]=d[24].get(d[45]),d[35]!==void 0?d[31].set(d[45],d[35]):0,d[46]="page_id",d[36]=d[24].get(d[46]),d[36]!==void 0?d[31].set(d[46],d[36]):0,d[47]="photo_id",d[37]=d[24].get(d[47]),d[37]!==void 0?d[31].set(d[47],d[37]):0,d[48]="photo_index",d[38]=d[24].get(d[48]),c.i64.neq(d[38],void 0)?d[31].set(d[48],d[38]):0,d[49]="fallback_url",d[39]=d[24].get(d[49]),d[39]!==void 0?d[31].set(d[49],d[39]):0,d[50]="product_id",d[40]=d[24].get(d[50]),d[40]!==void 0?d[31].set(d[50],d[40]):0,d[51]="user_id",d[41]=d[24].get(d[51]),d[41]!==void 0?d[31].set(d[51],d[41]):0,d[29]=d[31]):d[29]=void 0,d[29]!==void 0?(d[31]=d[29].get("product_type"),d[30]=d[31]):d[30]=void 0,d[25]=d[30]):d[25]=void 0,d[3]=d[25]}]):c.resolve(d[3]=void 0)},function(a){return d[3]==="CTM"?(d[2]!==void 0?d[19]=c.i64.from_string(d[2]):d[19]=d[1],d[4]=d[19]):d[4]=d[1],d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,134217728]),void 0?d[10]=!1:d[10]=!0,d[10]?(a=["",void 0,void 0,void 0,void 0],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a):(d[19]=(void 0).get("nullstate_description_text1"),d[19]!==void 0?d[20]=d[19]:d[20]="",d[21]=(void 0).get("nullstate_description_text2"),d[22]=(void 0).get("nullstate_description_text3"),d[23]=(void 0).get("nullstate_description_text4"),d[24]=(void 0).get("nullstate_description_text5"),a=[d[20],d[21],d[22],d[23],d[24]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.forEach(c.filter(c.db.table(9).fetch([[[d[4]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[4],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[4],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[16],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[5],capabilities2:d[6],capabilities3:d[7],capabilities4:d[8],capabilities5:d[9],nullstateDescriptionText1:d[11],nullstateDescriptionText2:d[12],nullstateDescriptionText3:d[13],threadName:a[2]})},function(a){return d[17]=c.createArray(),c.resolve()},function(b){return a[3]!==void 0?c.db.table(312).add({threadKey:d[4],metadata:a[3]}):c.resolve()},function(e){return d[18]=c.i64.of_int32(a[0].length),c.i64.gt(d[18],c.i64.cast([0,0]))?c.loopAsync(d[18],function(e){return d[19]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(14).fetch([[[d[4],d[20]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[20])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[4],contactId:d[20],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_metadata","participants"];e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2],void 0).then(function(a){return a=a,d[0]=a[0],a})},function(e){return a[2]===void 0&&!1?(d[1]=new c.Map(),d[1].set("participants",a[0]),d[1].set("client_thread_key",d[0]),d[1].set("sync_group",c.i64.cast([0,1])),d[1].set("thread_name",a[2]),d[1].set("text",a[3]),d[1].set("thread_metadata",void 0),d[1].set("should_create_group_if_not_exists",!0),d[1].set("group_thread_creation_entry_point",void 0),d[2]=d[1].get("client_thread_key"),d[3]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[2]),c.i64.cast([0,153]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.sequence([function(a){return d[1]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(a){return c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[2])})})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",d[0]),d[3].set("otid",c.i64.to_string(d[2])),d[3].set("source",c.i64.cast([0,0])),d[3].set("send_type",c.i64.cast([0,8])),a[3]!==void 0?d[3].set("text",a[3]):0,d[4]=new c.Map(),d[4].set("participants",a[0]),d[4].set("send_payload",d[3]),a[2]!==void 0?d[4].set("thread_name",a[2]):0,void 0!==void 0?d[4].set("thread_metadata",void 0):0,void 0!==void 0?d[4].set("group_thread_creation_entry_point",void 0):0,void 0===void 0||!1?(d[5]=d[4].get("send_payload"),d[6]=d[5].get("thread_id"),d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,130]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[5]=d[4].get("send_payload"),d[6]=d[5].get("thread_id"),d[7]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[6]),c.i64.cast([0,787]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxCreateGroupThreadWithAdminTextStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return void 0?d[0]=!1:d[0]=!0,d[0]?(e=["",void 0,void 0,void 0,void 0],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e):(d[8]=(void 0).get("nullstate_description_text1"),d[8]!==void 0?d[9]=d[8]:d[9]="",d[10]=(void 0).get("nullstate_description_text2"),d[11]=(void 0).get("nullstate_description_text3"),d[12]=(void 0).get("nullstate_description_text4"),d[13]=(void 0).get("nullstate_description_text5"),e=[d[9],d[10],d[11],d[12],d[13]],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4]),d[6]=new c.Map(),d[6].set("nullstate_description_text1",d[1]),d[6].set("nullstate_description_text2",d[2]),d[6].set("nullstate_description_text3",d[3]),d[6].set("nullstate_description_text4",d[4]),d[6].set("nullstate_description_text5",d[5]),c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],void 0,a[2],a[4]).then(function(a){return a=a,d[7]=a[0],a})},function(e){return a[3]===!0?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,5]))?a[4]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[8]=a[0],a})},function(e){return d[9]=c.i64.cast([0,0]),d[10]=c.i64.of_int32(a[0].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return c.i64.neq(d[12],d[8])?d[14]=d[12]:d[14]=d[9],d[9]=d[14]}])}):c.resolve()},function(e){return a[4]!==void 0?(d[11]=new c.Map(),d[11].set("seller_id",d[9]),d[11].set("thread_metadata",a[4]),d[11].set("client_thread_key",d[7]),d[12]=d[11].get("client_thread_key"),d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[12]),c.i64.cast([0,646]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("Marketplace thread metadata cannot be null")):(d[8]=new c.Map(),d[8].set("participants",a[0]),d[8].set("client_thread_key",d[7]),d[8].set("sync_group",c.i64.cast([0,1])),d[9]=d[8].get("client_thread_key"),d[10]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[9]),c.i64.cast([0,153]),d[10],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSMediaUrlAttachment",["I64","LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.imageUrlFallback:a.imageUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList1:a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList2:a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList3:a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.headerImageUrlFallback:a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b)))return a.listItemProfilePictureUrlFallback1;else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback2:a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback3:a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.imageUrl=e;g.faviconUrl=f;g.listItemContactUrlList1=i;g.listItemContactUrlList2=j;g.listItemContactUrlList3=k;g.headerImageUrl=l;g.listItemProfilePictureUrl1=m;g.listItemProfilePictureUrl2=n;g.listItemProfilePictureUrl3=o}),98);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(f=e.item,d[1]=f.timestampMs,c.filter(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(f){var e=f.done;f.value;return e?c.sequence([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMessagePointQueryStoredProcedure";a.__tables__=["messages","messages_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadView",["LSArrayGetObjectAt","LSComputeOptimisticThreadCapabilities","LSCreateGroupThreadWithAdminText","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSInsertNewMessageRange","LSIssueNewTask","LSLocalCreateOptimisticGroupThread","LSMessagePointQuery","LSVerifyContactRowExists","LSVerifyThreadRowExists","LSVerifyThreadRowExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return d[4]=new c.Map(),d[9]="product_type",d[5]=d[3].get(d[9]),d[5]!==void 0?d[4].set(d[9],d[5]):0,d[10]="product_extras",d[6]=d[3].get(d[10]),d[6]?d[7]=!1:d[7]=!0,d[7]?c.resolve():c.sequence([function(a){return d[6]?d[11]=!1:d[11]=!0,d[11]?c.resolve(d[12]=void 0):c.sequence([function(a){return d[13]=d[6].get("__typename"),d[13]==="XMSGStoryReplyExtras"?c.resolve((d[15]=new c.Map(),d[18]="logging",d[16]=d[6].get(d[18]),d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[19]=!1:d[19]=!0,d[19]?d[20]=void 0:(d[21]=new c.Map(),d[29]="story_author_fbid",d[22]=d[16].get(d[29]),d[22]!==void 0?d[21].set(d[29],d[22]):0,d[30]="camera_post_type",d[23]=d[16].get(d[30]),d[23]!==void 0?d[21].set(d[30],d[23]):0,d[31]="story_type",d[24]=d[16].get(d[31]),d[24]!==void 0?d[21].set(d[31],d[24]):0,d[32]="post_source",d[25]=d[16].get(d[32]),d[25]!==void 0?d[21].set(d[32],d[25]):0,d[33]="fb_post_type",d[26]=d[16].get(d[33]),d[26]!==void 0?d[21].set(d[33],d[26]):0,d[34]="conversation_starter_type",d[27]=d[16].get(d[34]),d[27]!==void 0?d[21].set(d[34],d[27]):0,d[35]="story_reply_type",d[28]=d[16].get(d[35]),d[28]!==void 0?d[21].set(d[35],d[28]):0,d[20]=d[21]),d[15].set(d[18],d[20])),d[14]=d[15])):c.sequence([function(a){return d[13]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[16]=new c.Map(),d[35]="listing_id",d[17]=d[6].get(d[35]),d[17]!==void 0?d[16].set(d[35],d[17]):0,d[36]="initial_clicked_component",d[18]=d[6].get(d[36]),d[18]!==void 0?d[16].set(d[36],d[18]):0,d[37]="initial_tracking",d[19]=d[6].get(d[37]),d[19]!==void 0?d[16].set(d[37],d[19]):0,d[38]="referral_surface",d[20]=d[6].get(d[38]),d[20]!==void 0?d[16].set(d[38],d[20]):0,d[39]="referral_story_type",d[21]=d[6].get(d[39]),d[21]!==void 0?d[16].set(d[39],d[21]):0,d[40]="referral_ui_component",d[22]=d[6].get(d[40]),d[22]!==void 0?d[16].set(d[40],d[22]):0,d[41]="surface",d[23]=d[6].get(d[41]),d[23]!==void 0?d[16].set(d[41],d[23]):0,d[42]="tracking",d[24]=d[6].get(d[42]),d[24]!==void 0?d[16].set(d[42],d[24]):0,d[43]="ui_component",d[25]=d[6].get(d[43]),d[25]!==void 0?d[16].set(d[43],d[25]):0,d[44]="ad_id",d[26]=d[6].get(d[44]),d[26]!==void 0?d[16].set(d[44],d[26]):0,d[45]="server_session_id",d[27]=d[6].get(d[45]),d[27]!==void 0?d[16].set(d[45],d[27]):0,d[46]="cf_page_id",d[28]=d[6].get(d[46]),d[28]!==void 0?d[16].set(d[46],d[28]):0,d[47]="live_shopping_video_id",d[29]=d[6].get(d[47]),d[29]!==void 0?d[16].set(d[47],d[29]):0,d[48]="logging_id",d[30]=d[6].get(d[48]),c.i64.neq(d[30],void 0)?d[16].set(d[48],d[30]):0,d[49]="photo_ids",d[31]=d[6].get(d[49]),d[31]?d[32]=!1:d[32]=!0,d[32]?c.resolve():c.sequence([function(a){return d[52]=c.createArray(),d[53]=c.i64.of_int32(d[31].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[31],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[52].push(d[55]),d[52])}])}):c.resolve()},function(a){return d[16].set(d[49],d[52])}])},function(a){return d[50]="is_customized_message",d[33]=d[6].get(d[50]),d[33]!==void 0?d[16].set(d[50],d[33]):0,d[51]="referral_code",d[34]=d[6].get(d[51]),d[34]!==void 0?d[16].set(d[51],d[34]):0,d[15]=d[16]}]):c.sequence([function(a){return d[13]==="XMSGClickToMessengerAdExtras"?c.resolve((d[17]=new c.Map(),d[28]="encrypted_ads_token",d[18]=d[6].get(d[28]),d[18]!==void 0?d[17].set(d[28],d[18]):0,d[29]="product_type",d[19]=d[6].get(d[29]),d[19]!==void 0?d[17].set(d[29],d[19]):0,d[30]="post_id",d[20]=d[6].get(d[30]),d[20]!==void 0?d[17].set(d[30],d[20]):0,d[31]="ad_id",d[21]=d[6].get(d[31]),d[21]!==void 0?d[17].set(d[31],d[21]):0,d[32]="page_id",d[22]=d[6].get(d[32]),d[22]!==void 0?d[17].set(d[32],d[22]):0,d[33]="photo_id",d[23]=d[6].get(d[33]),d[23]!==void 0?d[17].set(d[33],d[23]):0,d[34]="photo_index",d[24]=d[6].get(d[34]),c.i64.neq(d[24],void 0)?d[17].set(d[34],d[24]):0,d[35]="fallback_url",d[25]=d[6].get(d[35]),d[25]!==void 0?d[17].set(d[35],d[25]):0,d[36]="product_id",d[26]=d[6].get(d[36]),d[26]!==void 0?d[17].set(d[36],d[26]):0,d[37]="user_id",d[27]=d[6].get(d[37]),d[27]!==void 0?d[17].set(d[37],d[27]):0,d[16]=d[17])):c.sequence([function(a){return d[13]==="XMSGZorroMessageExtras"?c.resolve((d[18]=new c.Map(),d[20]="is_enabled",d[19]=d[6].get(d[20]),d[19]!==void 0?d[18].set(d[20],d[19]):0,d[17]=d[18])):c.sequence([function(a){return d[13]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[19]=new c.Map(),d[22]="prompt_type",d[20]=d[6].get(d[22]),d[20]!==void 0?d[19].set(d[22],d[20]):0,d[23]="qpl_join_id",d[21]=d[6].get(d[23]),d[21]!==void 0?d[19].set(d[23],d[21]):0,d[18]=d[19])):c.sequence([function(a){return d[13]==="XMSGGenAIMultiModalExtras"?c.resolve((d[20]=new c.Map(),d[24]="should_skip_genai_eval",d[21]=d[6].get(d[24]),d[21]!==void 0?d[20].set(d[24],d[21]):0,d[25]="associated_multimodal_message_id",d[22]=d[6].get(d[25]),d[22]!==void 0?d[20].set(d[25],d[22]):0,d[26]="qpl_join_id",d[23]=d[6].get(d[26]),d[23]!==void 0?d[20].set(d[26],d[23]):0,d[19]=d[20])):c.sequence([function(a){return d[13]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[21]=new c.Map(),d[24]="seed",d[22]=d[6].get(d[24]),c.i64.neq(d[22],void 0)?d[21].set(d[24],d[22]):0,d[25]="qpl_join_id",d[23]=d[6].get(d[25]),d[23]!==void 0?d[21].set(d[25],d[23]):0,d[20]=d[21])):c.sequence([function(a){return d[13]==="XMSGShareSheetExtras"?c.resolve((d[22]=new c.Map(),d[24]="recipient_selection_session_id",d[23]=d[6].get(d[24]),d[23]!==void 0?d[22].set(d[24],d[23]):0,d[21]=d[22])):c.sequence([function(a){return d[13]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[23]=new c.Map(),d[64]="referrer_session_id",d[24]=d[6].get(d[64]),d[24]!==void 0?d[23].set(d[64],d[24]):0,d[65]="thread_session_id",d[25]=d[6].get(d[65]),d[25]!==void 0?d[23].set(d[65],d[25]):0,d[66]="prompt_id",d[26]=d[6].get(d[66]),d[26]!==void 0?d[23].set(d[66],d[26]):0,d[67]="prompt_type",d[27]=d[6].get(d[67]),d[27]!==void 0?d[23].set(d[67],d[27]):0,d[68]="prompt_fit_topic",d[28]=d[6].get(d[68]),d[28]!==void 0?d[23].set(d[68],d[28]):0,d[69]="location_extras",d[29]=d[6].get(d[69]),d[29]?d[30]=!1:d[30]=!0,d[30]?0:(d[29]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[99]="has_previous_perm_prompt",d[96]=d[29].get(d[99]),d[96]!==void 0?d[95].set(d[99],d[96]):0,d[100]="latitude",d[97]=d[29].get(d[100]),d[97]!==void 0?d[95].set(d[100],d[97]):0,d[101]="longitude",d[98]=d[29].get(d[101]),d[98]!==void 0?d[95].set(d[101],d[98]):0,d[94]=d[95]),d[23].set(d[69],d[94])),d[70]="qpl_join_id",d[31]=d[6].get(d[70]),d[31]!==void 0?d[23].set(d[70],d[31]):0,d[71]="meta_ai_prompt_type",d[32]=d[6].get(d[71]),d[32]!==void 0?d[23].set(d[71],d[32]):0,d[72]="is_subsequent_send",d[33]=d[6].get(d[72]),d[33]!==void 0?d[23].set(d[72],d[33]):0,d[73]="context_injection_type",d[34]=d[6].get(d[73]),d[34]!==void 0?d[23].set(d[73],d[34]):0,d[74]="context_injection_timestamp_ms",d[35]=d[6].get(d[74]),d[35]!==void 0?d[23].set(d[74],d[35]):0,d[75]="meta_ai_response_to_persist",d[36]=d[6].get(d[75]),d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve():c.sequence([function(a){return d[36]?d[93]=!1:d[93]=!0,d[93]?c.resolve(d[94]=void 0):c.sequence([function(a){return d[95]=new c.Map(),d[102]="text",d[96]=d[36].get(d[102]),d[96]!==void 0?d[95].set(d[102],d[96]):0,d[103]="bot_response_id",d[97]=d[36].get(d[103]),d[97]!==void 0?d[95].set(d[103],d[97]):0,d[104]="bot_request_id",d[98]=d[36].get(d[104]),d[98]!==void 0?d[95].set(d[104],d[98]):0,d[105]="external_search_params",d[99]=d[36].get(d[105]),d[99]?d[100]=!1:d[100]=!0,d[100]?c.resolve():c.sequence([function(a){return d[99]?d[107]=!1:d[107]=!0,d[107]?c.resolve(d[108]=void 0):c.sequence([function(a){return d[109]=new c.Map(),d[117]="search_result_uri",d[110]=d[99].get(d[117]),d[110]?d[111]=!1:d[111]=!0,d[111]?c.resolve():c.sequence([function(a){return d[110]?d[122]=!1:d[122]=!0,d[122]?c.resolve(d[123]=void 0):c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[110].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[110],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=(d[124].push(d[127]),d[124])}])}):c.resolve()},function(a){return d[123]=d[124]}])},function(a){return d[109].set(d[117],d[123])}])},function(a){return d[118]="search_query",d[112]=d[99].get(d[118]),d[112]!==void 0?d[109].set(d[118],d[112]):0,d[119]="attribution_link",d[113]=d[99].get(d[119]),d[113]!==void 0?d[109].set(d[119],d[113]):0,d[120]="search_engine",d[114]=d[99].get(d[120]),d[114]!==void 0?d[109].set(d[120],d[114]):0,d[121]="references_title",d[115]=d[99].get(d[121]),d[115]?d[116]=!1:d[116]=!0,d[116]?c.resolve():c.sequence([function(a){return d[115]?d[122]=!1:d[122]=!0,d[122]?c.resolve(d[123]=void 0):c.sequence([function(a){return d[124]=c.createArray(),d[125]=c.i64.of_int32(d[115].length),c.i64.gt(d[125],c.i64.cast([0,0]))?c.loopAsync(d[125],function(a){return d[126]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[126]).then(function(a){return a=a,d[127]=a[0],d[128]=a[1],a})},function(a){return d[129]=(d[124].push(d[127]),d[124])}])}):c.resolve()},function(a){return d[123]=d[124]}])},function(a){return d[109].set(d[121],d[123])}])},function(a){return d[108]=d[109]}])},function(a){return d[95].set(d[105],d[108])}])},function(a){return d[106]="followup_prompt_text",d[101]=d[36].get(d[106]),d[101]!==void 0?d[95].set(d[106],d[101]):0,d[94]=d[95]}])},function(a){return d[23].set(d[75],d[94])}])},function(a){return d[76]="gql_dark_test_qpl_join_id",d[38]=d[6].get(d[76]),d[38]!==void 0?d[23].set(d[76],d[38]):0,d[77]="gql_dark_test_client_start_time",d[39]=d[6].get(d[77]),d[39]!==void 0?d[23].set(d[77],d[39]):0,d[78]="prompt_context",d[40]=d[6].get(d[78]),d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[98]="context_token",d[96]=d[40].get(d[98]),d[96]!==void 0?d[95].set(d[98],d[96]):0,d[99]="context_token_type",d[97]=d[40].get(d[99]),c.i64.neq(d[97],void 0)?d[95].set(d[99],d[97]):0,d[94]=d[95]),d[23].set(d[78],d[94])),d[79]="imagine_flash_extras",d[42]=d[6].get(d[79]),d[42]?d[43]=!1:d[43]=!0,d[43]?0:(d[42]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[98]="seed",d[96]=d[42].get(d[98]),c.i64.neq(d[96],void 0)?d[95].set(d[98],d[96]):0,d[99]="qpl_join_id",d[97]=d[42].get(d[99]),d[97]!==void 0?d[95].set(d[99],d[97]):0,d[94]=d[95]),d[23].set(d[79],d[94])),d[80]="conversation_marker_id",d[44]=d[6].get(d[80]),d[44]!==void 0?d[23].set(d[80],d[44]):0,d[81]="multi_modal_extras",d[45]=d[6].get(d[81]),d[45]?d[46]=!1:d[46]=!0,d[46]?0:(d[45]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[99]="should_skip_genai_eval",d[96]=d[45].get(d[99]),d[96]!==void 0?d[95].set(d[99],d[96]):0,d[100]="associated_multimodal_message_id",d[97]=d[45].get(d[100]),d[97]!==void 0?d[95].set(d[100],d[97]):0,d[101]="qpl_join_id",d[98]=d[45].get(d[101]),d[98]!==void 0?d[95].set(d[101],d[98]):0,d[94]=d[95]),d[23].set(d[81],d[94])),d[82]="ads_extras",d[47]=d[6].get(d[82]),d[47]?d[48]=!1:d[48]=!0,d[48]?0:(d[47]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[99]="context",d[96]=d[47].get(d[99]),d[96]!==void 0?d[95].set(d[99],d[96]):0,d[100]="is_reply_to_ads_ai",d[97]=d[47].get(d[100]),d[97]!==void 0?d[95].set(d[100],d[97]):0,d[101]="is_message_processed_by_lightspeed",d[98]=d[47].get(d[101]),d[98]!==void 0?d[95].set(d[101],d[98]):0,d[94]=d[95]),d[23].set(d[82],d[94])),d[83]="suggested_prompt_extras",d[49]=d[6].get(d[83]),d[49]?d[50]=!1:d[50]=!0,d[50]?0:(d[49]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[98]="prompt_type",d[96]=d[49].get(d[98]),d[96]!==void 0?d[95].set(d[98],d[96]):0,d[99]="qpl_join_id",d[97]=d[49].get(d[99]),d[97]!==void 0?d[95].set(d[99],d[97]):0,d[94]=d[95]),d[23].set(d[83],d[94])),d[84]="disable_server_mqtt_typing_indicator",d[51]=d[6].get(d[84]),d[51]!==void 0?d[23].set(d[84],d[51]):0,d[85]="enable_web_scraping",d[52]=d[6].get(d[85]),d[52]!==void 0?d[23].set(d[85],d[52]):0,d[86]="client_prompt_timestamp",d[53]=d[6].get(d[86]),d[53]!==void 0?(d[53]!==void 0?d[93]=c.i64.from_string(d[53]):d[93]=void 0,d[23].set(d[86],d[93])):0,d[87]="is_client_ready_for_psi",d[54]=d[6].get(d[87]),d[54]!==void 0?d[23].set(d[87],d[54]):0,d[88]="intent_detection_extras",d[55]=d[6].get(d[88]),d[55]?d[56]=!1:d[56]=!0,d[56]?c.resolve():c.sequence([function(a){return d[55]?d[93]=!1:d[93]=!0,d[93]?c.resolve(d[94]=void 0):c.sequence([function(a){return d[95]=new c.Map(),d[104]="intent_messages_metadata",d[96]=d[55].get(d[104]),d[96]?d[97]=!1:d[97]=!0,d[97]?c.resolve():c.sequence([function(a){return d[96]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[96].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[96],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=new c.Map(),d[123]="message_type",d[116]=d[113].get(d[123]),d[116]!==void 0?d[115].set(d[123],d[116]):0,d[124]="message_sender_name",d[117]=d[113].get(d[124]),d[117]!==void 0?d[115].set(d[124],d[117]):0,d[125]="message_invoker_name",d[118]=d[113].get(d[125]),d[118]!==void 0?d[115].set(d[125],d[118]):0,d[126]="message_timestamp_ms",d[119]=d[113].get(d[126]),d[119]!==void 0?d[115].set(d[126],c.i64.from_string(d[119])):0,d[127]="message_thread_name",d[120]=d[113].get(d[127]),d[120]!==void 0?d[115].set(d[127],d[120]):0,d[128]="message_id",d[121]=d[113].get(d[128]),d[121]!==void 0?d[115].set(d[128],d[121]):0,d[129]="message_text",d[122]=d[113].get(d[129]),d[122]!==void 0?d[115].set(d[129],d[122]):0,d[130]=(d[110].push(d[115]),d[110])}])}):c.resolve()},function(a){return d[109]=d[110]}])},function(a){return d[95].set(d[104],d[109])}])},function(a){return d[105]="intent_types",d[98]=d[55].get(d[105]),d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[98].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[98],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=(d[110].push(d[113]),d[110])}])}):c.resolve()},function(a){return d[109]=d[110]}])},function(a){return d[95].set(d[105],d[109])}])},function(a){return d[106]="intent_message_ids",d[100]=d[55].get(d[106]),d[100]?d[101]=!1:d[101]=!0,d[101]?c.resolve():c.sequence([function(a){return d[100]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[100].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[100],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=(d[110].push(d[113]),d[110])}])}):c.resolve()},function(a){return d[109]=d[110]}])},function(a){return d[95].set(d[106],d[109])}])},function(a){return d[107]="intent_messages",d[102]=d[55].get(d[107]),d[102]?d[103]=!1:d[103]=!0,d[103]?c.resolve():c.sequence([function(a){return d[102]?d[108]=!1:d[108]=!0,d[108]?c.resolve(d[109]=void 0):c.sequence([function(a){return d[110]=c.createArray(),d[111]=c.i64.of_int32(d[102].length),c.i64.gt(d[111],c.i64.cast([0,0]))?c.loopAsync(d[111],function(a){return d[112]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[102],d[112]).then(function(a){return a=a,d[113]=a[0],d[114]=a[1],a})},function(a){return d[115]=(d[110].push(d[113]),d[110])}])}):c.resolve()},function(a){return d[109]=d[110]}])},function(a){return d[95].set(d[107],d[109])}])},function(a){return d[94]=d[95]}])},function(a){return d[23].set(d[88],d[94])}])},function(a){return d[89]="psi_tool_query_data",d[57]=d[6].get(d[89]),d[57]?d[58]=!1:d[58]=!0,d[58]?c.resolve():c.sequence([function(a){return d[57]?d[93]=!1:d[93]=!0,d[93]?c.resolve(d[94]=void 0):c.sequence([function(a){return d[95]=new c.Map(),d[101]="conversation_name",d[96]=d[57].get(d[101]),d[96]!==void 0?d[95].set(d[101],d[96]):0,d[102]="original_query_string",d[97]=d[57].get(d[102]),d[97]!==void 0?d[95].set(d[102],d[97]):0,d[103]="response_message_id",d[98]=d[57].get(d[103]),d[98]!==void 0?d[95].set(d[103],d[98]):0,d[104]="messages",d[99]=d[57].get(d[104]),d[99]?d[100]=!1:d[100]=!0,d[100]?c.resolve():c.sequence([function(a){return d[99]?d[105]=!1:d[105]=!0,d[105]?c.resolve(d[106]=void 0):c.sequence([function(a){return d[107]=c.createArray(),d[108]=c.i64.of_int32(d[99].length),c.i64.gt(d[108],c.i64.cast([0,0]))?c.loopAsync(d[108],function(a){return d[109]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[99],d[109]).then(function(a){return a=a,d[110]=a[0],d[111]=a[1],a})},function(a){return d[112]=new c.Map(),d[120]="message_type",d[113]=d[110].get(d[120]),d[113]!==void 0?d[112].set(d[120],d[113]):0,d[121]="message_sender_name",d[114]=d[110].get(d[121]),d[114]!==void 0?d[112].set(d[121],d[114]):0,d[122]="message_invoker_name",d[115]=d[110].get(d[122]),d[115]!==void 0?d[112].set(d[122],d[115]):0,d[123]="message_timestamp_ms",d[116]=d[110].get(d[123]),d[116]!==void 0?d[112].set(d[123],c.i64.from_string(d[116])):0,d[124]="message_thread_name",d[117]=d[110].get(d[124]),d[117]!==void 0?d[112].set(d[124],d[117]):0,d[125]="message_id",d[118]=d[110].get(d[125]),d[118]!==void 0?d[112].set(d[125],d[118]):0,d[126]="message_text",d[119]=d[110].get(d[126]),d[119]!==void 0?d[112].set(d[126],d[119]):0,d[127]=(d[107].push(d[112]),d[107])}])}):c.resolve()},function(a){return d[106]=d[107]}])},function(a){return d[95].set(d[104],d[106])}])},function(a){return d[94]=d[95]}])},function(a){return d[23].set(d[89],d[94])}])},function(a){return d[90]="psi_query_data",d[59]=d[6].get(d[90]),d[59]?d[60]=!1:d[60]=!0,d[60]?c.resolve():c.sequence([function(a){return d[59]?d[93]=!1:d[93]=!0,d[93]?c.resolve(d[94]=void 0):c.sequence([function(a){return d[95]=new c.Map(),d[101]="original_query_string",d[96]=d[59].get(d[101]),d[96]!==void 0?d[95].set(d[101],d[96]):0,d[102]="original_query_message_id",d[97]=d[59].get(d[102]),d[97]!==void 0?d[95].set(d[102],d[97]):0,d[103]="response_message_id",d[98]=d[59].get(d[103]),d[98]!==void 0?d[95].set(d[103],d[98]):0,d[104]="thread_messages",d[99]=d[59].get(d[104]),d[99]?d[100]=!1:d[100]=!0,d[100]?c.resolve():c.sequence([function(a){return d[99]?d[105]=!1:d[105]=!0,d[105]?c.resolve(d[106]=void 0):c.sequence([function(a){return d[107]=c.createArray(),d[108]=c.i64.of_int32(d[99].length),c.i64.gt(d[108],c.i64.cast([0,0]))?c.loopAsync(d[108],function(a){return d[109]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[99],d[109]).then(function(a){return a=a,d[110]=a[0],d[111]=a[1],a})},function(a){return d[112]=new c.Map(),d[117]="thread_id",d[113]=d[110].get(d[117]),d[113]!==void 0?d[112].set(d[117],d[113]):0,d[118]="thread_name",d[114]=d[110].get(d[118]),d[114]!==void 0?d[112].set(d[118],d[114]):0,d[119]="messages",d[115]=d[110].get(d[119]),d[115]?d[116]=!1:d[116]=!0,d[116]?c.resolve():c.sequence([function(a){return d[115]?d[120]=!1:d[120]=!0,d[120]?c.resolve(d[121]=void 0):c.sequence([function(a){return d[122]=c.createArray(),d[123]=c.i64.of_int32(d[115].length),c.i64.gt(d[123],c.i64.cast([0,0]))?c.loopAsync(d[123],function(a){return d[124]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[115],d[124]).then(function(a){return a=a,d[125]=a[0],d[126]=a[1],a})},function(a){return d[127]=new c.Map(),d[135]="message_type",d[128]=d[125].get(d[135]),d[128]!==void 0?d[127].set(d[135],d[128]):0,d[136]="message_sender_name",d[129]=d[125].get(d[136]),d[129]!==void 0?d[127].set(d[136],d[129]):0,d[137]="message_invoker_name",d[130]=d[125].get(d[137]),d[130]!==void 0?d[127].set(d[137],d[130]):0,d[138]="message_timestamp_ms",d[131]=d[125].get(d[138]),d[131]!==void 0?d[127].set(d[138],c.i64.from_string(d[131])):0,d[139]="message_thread_name",d[132]=d[125].get(d[139]),d[132]!==void 0?d[127].set(d[139],d[132]):0,d[140]="message_id",d[133]=d[125].get(d[140]),d[133]!==void 0?d[127].set(d[140],d[133]):0,d[141]="message_text",d[134]=d[125].get(d[141]),d[134]!==void 0?d[127].set(d[141],d[134]):0,d[142]=(d[122].push(d[127]),d[122])}])}):c.resolve()},function(a){return d[121]=d[122]}])},function(a){return d[112].set(d[119],d[121])}])},function(a){return d[120]=(d[107].push(d[112]),d[107])}])}):c.resolve()},function(a){return d[106]=d[107]}])},function(a){return d[95].set(d[104],d[106])}])},function(a){return d[94]=d[95]}])},function(a){return d[23].set(d[90],d[94])}])},function(a){return d[91]="contextual_entry_point_data",d[61]=d[6].get(d[91]),d[61]?d[62]=!1:d[62]=!0,d[62]?0:(d[61]?d[93]=!1:d[93]=!0,d[93]?d[94]=void 0:(d[95]=new c.Map(),d[98]="eligibility_reason",d[96]=d[61].get(d[98]),d[96]!==void 0?d[95].set(d[98],d[96]):0,d[99]="is_eligible",d[97]=d[61].get(d[99]),d[97]!==void 0?d[95].set(d[99],d[97]):0,d[94]=d[95]),d[23].set(d[91],d[94])),d[92]="bot_response_otid_override",d[63]=d[6].get(d[92]),d[63]!==void 0?d[23].set(d[92],d[63]):0,d[22]=d[23]}]):c.sequence([function(a){return d[13]==="XMSGProductHighlightExtras"?c.resolve((d[24]=new c.Map(),d[27]="product_highlight_type",d[25]=d[6].get(d[27]),d[25]!==void 0?d[24].set(d[27],d[25]):0,d[28]="conversation_marker",d[26]=d[6].get(d[28]),d[26]!==void 0?d[24].set(d[28],d[26]):0,d[23]=d[24])):c.sequence([function(a){return d[13]==="XMSGMagicMessengerExtras"?c.resolve((d[25]=new c.Map(),d[27]="is_magic_thread",d[26]=d[6].get(d[27]),d[26]!==void 0?d[25].set(d[27],d[26]):0,d[24]=d[25])):c.sequence([function(a){return d[13]==="XMSGAdsAIExtras"?c.resolve((d[26]=new c.Map(),d[30]="context",d[27]=d[6].get(d[30]),d[27]!==void 0?d[26].set(d[30],d[27]):0,d[31]="is_reply_to_ads_ai",d[28]=d[6].get(d[31]),d[28]!==void 0?d[26].set(d[31],d[28]):0,d[32]="is_message_processed_by_lightspeed",d[29]=d[6].get(d[32]),d[29]!==void 0?d[26].set(d[32],d[29]):0,d[25]=d[26])):c.sequence([function(a){return d[13]==="XMSGBizappExtras"?c.resolve((d[27]=new c.Map(),d[30]="message_source",d[28]=d[6].get(d[30]),d[28]!==void 0?d[27].set(d[30],d[28]):0,d[31]="message_trigger",d[29]=d[6].get(d[31]),d[29]!==void 0?d[27].set(d[31],d[29]):0,d[26]=d[27])):c.sequence([function(a){return d[13]==="XMSGGenAIContextualEntryPointData"?c.resolve((d[28]=new c.Map(),d[31]="eligibility_reason",d[29]=d[6].get(d[31]),d[29]!==void 0?d[28].set(d[31],d[29]):0,d[32]="is_eligible",d[30]=d[6].get(d[32]),d[30]!==void 0?d[28].set(d[32],d[30]):0,d[27]=d[28])):c.sequence([function(a){return d[28]=new c.Map(),d[29]=d[6].keys(),d[30]=c.i64.of_int32(d[29].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=d[6].get(d[32]),d[28].set(d[32],d[34])}])}):c.resolve()},function(a){return d[27]=d[28]}])},function(a){return d[26]=d[27]}])},function(a){return d[25]=d[26]}])},function(a){return d[24]=d[25]}])},function(a){return d[23]=d[24]}])},function(a){return d[22]=d[23]}])},function(a){return d[21]=d[22]}])},function(a){return d[20]=d[21]}])},function(a){return d[19]=d[20]}])},function(a){return d[18]=d[19]}])},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[14].set("__typename",d[13]),d[12]=d[14]}])},function(a){return d[4].set(d[10],d[12])}])},function(a){return d[8]=d[4].get("product_type"),d[0]=d[8]}]):c.resolve(d[0]=void 0)},function(e){return c.i64.eq(a[1],c.i64.cast([0,7]))?c.resolve((e=[a[0],c.i64.cast([0,1024])],d[1]=e[0],d[2]=e[1],e)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(c.i64.eq(a[0],c.i64.cast([0,0]))?d[12]=a[0]:d[12]=void 0,f=[d[12],void 0,c.i64.cast([0,20])],d[3]=f[0],d[4]=f[1],d[5]=f[2]):(e=b.item,f=[e.threadKey,e.clientThreadKey,e.authorityLevel],d[3]=f[0],d[4]=f[1],d[5]=f[2])})},function(e){return d[12]=c.i64.of_int32(a[6].length),c.i64.eq(a[1],c.i64.cast([0,1]))&&c.i64.gt(d[12],c.i64.cast([0,0]))?(d[13]=c.i64.of_int32(a[6].length),c.i64.gt(d[13],c.i64.cast([0,0]))?c.loopAsync(d[13],function(e){return d[14]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=d[15].get("contact_id"),d[18]=d[15].get("contact_type"),d[19]=d[15].get("contact_name"),d[20]=d[15].get("contact_profile_photo"),c.storedProcedure(b("LSVerifyContactRowExists"),d[17],c.i64.cast([0,0]),d[20],d[19],d[18],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,5]))}])}):c.resolve()):c.resolve()},function(e){return a[5]!==void 0?c.sequence([function(d){return c.storedProcedure(b("LSMessagePointQuery"),a[0],a[5],a[1],void 0)},function(b){return b=[a[0],void 0],d[7]=b[0],d[8]=b[1],b}]):c.sequence([function(e){return(c.i64.eq(a[1],c.i64.cast([0,2]))||c.i64.eq(a[1],c.i64.cast([0,5]))||d[0]==="CTM")&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.sequence([function(e){return d[14]=c.createArray(),d[15]=c.i64.of_int32(a[6].length),c.i64.gt(d[15],c.i64.cast([0,0]))?c.loopAsync(d[15],function(e){return d[28]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=d[29].get("contact_id"),d[32]=d[29].get("contact_type"),d[33]=d[29].get("contact_name"),d[34]=d[29].get("contact_profile_photo"),d[35]=(d[14].push(d[31]),d[14])}])}):c.resolve()},function(a){return d[16]=c.i64.of_int32(d[14].length),d[17]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[14].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[18]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[14].some(function(b){return c.i64.eq(a.contactId,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[17].push(a.threadKey),d[17]):0})},function(a){return d[19]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[17].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[17],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[20]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[17].some(function(b){return c.i64.eq(a.threadKey,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[19].push(a.threadKey),d[19]):0})},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[19].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[21]=d[30]}])},function(b){return c.islc(c.filter(c.db.table(9).fetchDesc([[[c.merge({lt:c.i64.cast([0,5])},a[1])],[c.merge({gt:c.i64.cast([0,5])},a[1])],[c.merge(c.i64.cast([0,5]),a[1])]],"threadTypeLastActivityTimestampMs"]),function(b){return d[19].some(function(a){return c.i64.eq(b.threadKey,a)})&&(c.i64.neq(b.threadType,c.i64.cast([0,5]))&&b.threadName===void 0||c.i64.eq(b.threadType,c.i64.cast([0,5]))&&b.threadName===a[2])&&c.i64.eq(b.threadType,a[1])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[void 0,void 0,c.i64.cast([0,20])],d[22]=e[0],d[23]=e[1],d[24]=e[2],e):(b=a.item,e=[b.threadKey,b.clientThreadKey,b.authorityLevel],d[22]=e[0],d[23]=e[1],d[24]=e[2])})},function(e){return c.i64.neq(d[22],void 0)?c.sequence([function(e){return d[0]==="CTM"?c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[45]="product_type",d[40]=d[38].get(d[45]),d[40]!==void 0?d[39].set(d[45],d[40]):0,d[46]="product_extras",d[41]=d[38].get(d[46]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[47]=!1:d[47]=!0,d[47]?c.resolve(d[48]=void 0):c.sequence([function(a){return d[49]=d[41].get("__typename"),d[49]==="XMSGStoryReplyExtras"?c.resolve((d[51]=new c.Map(),d[54]="logging",d[52]=d[41].get(d[54]),d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[55]=!1:d[55]=!0,d[55]?d[56]=void 0:(d[57]=new c.Map(),d[65]="story_author_fbid",d[58]=d[52].get(d[65]),d[58]!==void 0?d[57].set(d[65],d[58]):0,d[66]="camera_post_type",d[59]=d[52].get(d[66]),d[59]!==void 0?d[57].set(d[66],d[59]):0,d[67]="story_type",d[60]=d[52].get(d[67]),d[60]!==void 0?d[57].set(d[67],d[60]):0,d[68]="post_source",d[61]=d[52].get(d[68]),d[61]!==void 0?d[57].set(d[68],d[61]):0,d[69]="fb_post_type",d[62]=d[52].get(d[69]),d[62]!==void 0?d[57].set(d[69],d[62]):0,d[70]="conversation_starter_type",d[63]=d[52].get(d[70]),d[63]!==void 0?d[57].set(d[70],d[63]):0,d[71]="story_reply_type",d[64]=d[52].get(d[71]),d[64]!==void 0?d[57].set(d[71],d[64]):0,d[56]=d[57]),d[51].set(d[54],d[56])),d[50]=d[51])):c.sequence([function(a){return d[49]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[52]=new c.Map(),d[71]="listing_id",d[53]=d[41].get(d[71]),d[53]!==void 0?d[52].set(d[71],d[53]):0,d[72]="initial_clicked_component",d[54]=d[41].get(d[72]),d[54]!==void 0?d[52].set(d[72],d[54]):0,d[73]="initial_tracking",d[55]=d[41].get(d[73]),d[55]!==void 0?d[52].set(d[73],d[55]):0,d[74]="referral_surface",d[56]=d[41].get(d[74]),d[56]!==void 0?d[52].set(d[74],d[56]):0,d[75]="referral_story_type",d[57]=d[41].get(d[75]),d[57]!==void 0?d[52].set(d[75],d[57]):0,d[76]="referral_ui_component",d[58]=d[41].get(d[76]),d[58]!==void 0?d[52].set(d[76],d[58]):0,d[77]="surface",d[59]=d[41].get(d[77]),d[59]!==void 0?d[52].set(d[77],d[59]):0,d[78]="tracking",d[60]=d[41].get(d[78]),d[60]!==void 0?d[52].set(d[78],d[60]):0,d[79]="ui_component",d[61]=d[41].get(d[79]),d[61]!==void 0?d[52].set(d[79],d[61]):0,d[80]="ad_id",d[62]=d[41].get(d[80]),d[62]!==void 0?d[52].set(d[80],d[62]):0,d[81]="server_session_id",d[63]=d[41].get(d[81]),d[63]!==void 0?d[52].set(d[81],d[63]):0,d[82]="cf_page_id",d[64]=d[41].get(d[82]),d[64]!==void 0?d[52].set(d[82],d[64]):0,d[83]="live_shopping_video_id",d[65]=d[41].get(d[83]),d[65]!==void 0?d[52].set(d[83],d[65]):0,d[84]="logging_id",d[66]=d[41].get(d[84]),c.i64.neq(d[66],void 0)?d[52].set(d[84],d[66]):0,d[85]="photo_ids",d[67]=d[41].get(d[85]),d[67]?d[68]=!1:d[68]=!0,d[68]?c.resolve():c.sequence([function(a){return d[88]=c.createArray(),d[89]=c.i64.of_int32(d[67].length),c.i64.gt(d[89],c.i64.cast([0,0]))?c.loopAsync(d[89],function(a){return d[90]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[67],d[90]).then(function(a){return a=a,d[91]=a[0],d[92]=a[1],a})},function(a){return d[93]=(d[88].push(d[91]),d[88])}])}):c.resolve()},function(a){return d[52].set(d[85],d[88])}])},function(a){return d[86]="is_customized_message",d[69]=d[41].get(d[86]),d[69]!==void 0?d[52].set(d[86],d[69]):0,d[87]="referral_code",d[70]=d[41].get(d[87]),d[70]!==void 0?d[52].set(d[87],d[70]):0,d[51]=d[52]}]):c.sequence([function(a){return d[49]==="XMSGClickToMessengerAdExtras"?c.resolve((d[53]=new c.Map(),d[64]="encrypted_ads_token",d[54]=d[41].get(d[64]),d[54]!==void 0?d[53].set(d[64],d[54]):0,d[65]="product_type",d[55]=d[41].get(d[65]),d[55]!==void 0?d[53].set(d[65],d[55]):0,d[66]="post_id",d[56]=d[41].get(d[66]),d[56]!==void 0?d[53].set(d[66],d[56]):0,d[67]="ad_id",d[57]=d[41].get(d[67]),d[57]!==void 0?d[53].set(d[67],d[57]):0,d[68]="page_id",d[58]=d[41].get(d[68]),d[58]!==void 0?d[53].set(d[68],d[58]):0,d[69]="photo_id",d[59]=d[41].get(d[69]),d[59]!==void 0?d[53].set(d[69],d[59]):0,d[70]="photo_index",d[60]=d[41].get(d[70]),c.i64.neq(d[60],void 0)?d[53].set(d[70],d[60]):0,d[71]="fallback_url",d[61]=d[41].get(d[71]),d[61]!==void 0?d[53].set(d[71],d[61]):0,d[72]="product_id",d[62]=d[41].get(d[72]),d[62]!==void 0?d[53].set(d[72],d[62]):0,d[73]="user_id",d[63]=d[41].get(d[73]),d[63]!==void 0?d[53].set(d[73],d[63]):0,d[52]=d[53])):c.sequence([function(a){return d[49]==="XMSGZorroMessageExtras"?c.resolve((d[54]=new c.Map(),d[56]="is_enabled",d[55]=d[41].get(d[56]),d[55]!==void 0?d[54].set(d[56],d[55]):0,d[53]=d[54])):c.sequence([function(a){return d[49]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[55]=new c.Map(),d[58]="prompt_type",d[56]=d[41].get(d[58]),d[56]!==void 0?d[55].set(d[58],d[56]):0,d[59]="qpl_join_id",d[57]=d[41].get(d[59]),d[57]!==void 0?d[55].set(d[59],d[57]):0,d[54]=d[55])):c.sequence([function(a){return d[49]==="XMSGGenAIMultiModalExtras"?c.resolve((d[56]=new c.Map(),d[60]="should_skip_genai_eval",d[57]=d[41].get(d[60]),d[57]!==void 0?d[56].set(d[60],d[57]):0,d[61]="associated_multimodal_message_id",d[58]=d[41].get(d[61]),d[58]!==void 0?d[56].set(d[61],d[58]):0,d[62]="qpl_join_id",d[59]=d[41].get(d[62]),d[59]!==void 0?d[56].set(d[62],d[59]):0,d[55]=d[56])):c.sequence([function(a){return d[49]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[57]=new c.Map(),d[60]="seed",d[58]=d[41].get(d[60]),c.i64.neq(d[58],void 0)?d[57].set(d[60],d[58]):0,d[61]="qpl_join_id",d[59]=d[41].get(d[61]),d[59]!==void 0?d[57].set(d[61],d[59]):0,d[56]=d[57])):c.sequence([function(a){return d[49]==="XMSGShareSheetExtras"?c.resolve((d[58]=new c.Map(),d[60]="recipient_selection_session_id",d[59]=d[41].get(d[60]),d[59]!==void 0?d[58].set(d[60],d[59]):0,d[57]=d[58])):c.sequence([function(a){return d[49]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[59]=new c.Map(),d[100]="referrer_session_id",d[60]=d[41].get(d[100]),d[60]!==void 0?d[59].set(d[100],d[60]):0,d[101]="thread_session_id",d[61]=d[41].get(d[101]),d[61]!==void 0?d[59].set(d[101],d[61]):0,d[102]="prompt_id",d[62]=d[41].get(d[102]),d[62]!==void 0?d[59].set(d[102],d[62]):0,d[103]="prompt_type",d[63]=d[41].get(d[103]),d[63]!==void 0?d[59].set(d[103],d[63]):0,d[104]="prompt_fit_topic",d[64]=d[41].get(d[104]),d[64]!==void 0?d[59].set(d[104],d[64]):0,d[105]="location_extras",d[65]=d[41].get(d[105]),d[65]?d[66]=!1:d[66]=!0,d[66]?0:(d[65]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[135]="has_previous_perm_prompt",d[132]=d[65].get(d[135]),d[132]!==void 0?d[131].set(d[135],d[132]):0,d[136]="latitude",d[133]=d[65].get(d[136]),d[133]!==void 0?d[131].set(d[136],d[133]):0,d[137]="longitude",d[134]=d[65].get(d[137]),d[134]!==void 0?d[131].set(d[137],d[134]):0,d[130]=d[131]),d[59].set(d[105],d[130])),d[106]="qpl_join_id",d[67]=d[41].get(d[106]),d[67]!==void 0?d[59].set(d[106],d[67]):0,d[107]="meta_ai_prompt_type",d[68]=d[41].get(d[107]),d[68]!==void 0?d[59].set(d[107],d[68]):0,d[108]="is_subsequent_send",d[69]=d[41].get(d[108]),d[69]!==void 0?d[59].set(d[108],d[69]):0,d[109]="context_injection_type",d[70]=d[41].get(d[109]),d[70]!==void 0?d[59].set(d[109],d[70]):0,d[110]="context_injection_timestamp_ms",d[71]=d[41].get(d[110]),d[71]!==void 0?d[59].set(d[110],d[71]):0,d[111]="meta_ai_response_to_persist",d[72]=d[41].get(d[111]),d[72]?d[73]=!1:d[73]=!0,d[73]?c.resolve():c.sequence([function(a){return d[72]?d[129]=!1:d[129]=!0,d[129]?c.resolve(d[130]=void 0):c.sequence([function(a){return d[131]=new c.Map(),d[138]="text",d[132]=d[72].get(d[138]),d[132]!==void 0?d[131].set(d[138],d[132]):0,d[139]="bot_response_id",d[133]=d[72].get(d[139]),d[133]!==void 0?d[131].set(d[139],d[133]):0,d[140]="bot_request_id",d[134]=d[72].get(d[140]),d[134]!==void 0?d[131].set(d[140],d[134]):0,d[141]="external_search_params",d[135]=d[72].get(d[141]),d[135]?d[136]=!1:d[136]=!0,d[136]?c.resolve():c.sequence([function(a){return d[135]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=new c.Map(),d[153]="search_result_uri",d[146]=d[135].get(d[153]),d[146]?d[147]=!1:d[147]=!0,d[147]?c.resolve():c.sequence([function(a){return d[146]?d[158]=!1:d[158]=!0,d[158]?c.resolve(d[159]=void 0):c.sequence([function(a){return d[160]=c.createArray(),d[161]=c.i64.of_int32(d[146].length),c.i64.gt(d[161],c.i64.cast([0,0]))?c.loopAsync(d[161],function(a){return d[162]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[146],d[162]).then(function(a){return a=a,d[163]=a[0],d[164]=a[1],a})},function(a){return d[165]=(d[160].push(d[163]),d[160])}])}):c.resolve()},function(a){return d[159]=d[160]}])},function(a){return d[145].set(d[153],d[159])}])},function(a){return d[154]="search_query",d[148]=d[135].get(d[154]),d[148]!==void 0?d[145].set(d[154],d[148]):0,d[155]="attribution_link",d[149]=d[135].get(d[155]),d[149]!==void 0?d[145].set(d[155],d[149]):0,d[156]="search_engine",d[150]=d[135].get(d[156]),d[150]!==void 0?d[145].set(d[156],d[150]):0,d[157]="references_title",d[151]=d[135].get(d[157]),d[151]?d[152]=!1:d[152]=!0,d[152]?c.resolve():c.sequence([function(a){return d[151]?d[158]=!1:d[158]=!0,d[158]?c.resolve(d[159]=void 0):c.sequence([function(a){return d[160]=c.createArray(),d[161]=c.i64.of_int32(d[151].length),c.i64.gt(d[161],c.i64.cast([0,0]))?c.loopAsync(d[161],function(a){return d[162]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[151],d[162]).then(function(a){return a=a,d[163]=a[0],d[164]=a[1],a})},function(a){return d[165]=(d[160].push(d[163]),d[160])}])}):c.resolve()},function(a){return d[159]=d[160]}])},function(a){return d[145].set(d[157],d[159])}])},function(a){return d[144]=d[145]}])},function(a){return d[131].set(d[141],d[144])}])},function(a){return d[142]="followup_prompt_text",d[137]=d[72].get(d[142]),d[137]!==void 0?d[131].set(d[142],d[137]):0,d[130]=d[131]}])},function(a){return d[59].set(d[111],d[130])}])},function(a){return d[112]="gql_dark_test_qpl_join_id",d[74]=d[41].get(d[112]),d[74]!==void 0?d[59].set(d[112],d[74]):0,d[113]="gql_dark_test_client_start_time",d[75]=d[41].get(d[113]),d[75]!==void 0?d[59].set(d[113],d[75]):0,d[114]="prompt_context",d[76]=d[41].get(d[114]),d[76]?d[77]=!1:d[77]=!0,d[77]?0:(d[76]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[134]="context_token",d[132]=d[76].get(d[134]),d[132]!==void 0?d[131].set(d[134],d[132]):0,d[135]="context_token_type",d[133]=d[76].get(d[135]),c.i64.neq(d[133],void 0)?d[131].set(d[135],d[133]):0,d[130]=d[131]),d[59].set(d[114],d[130])),d[115]="imagine_flash_extras",d[78]=d[41].get(d[115]),d[78]?d[79]=!1:d[79]=!0,d[79]?0:(d[78]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[134]="seed",d[132]=d[78].get(d[134]),c.i64.neq(d[132],void 0)?d[131].set(d[134],d[132]):0,d[135]="qpl_join_id",d[133]=d[78].get(d[135]),d[133]!==void 0?d[131].set(d[135],d[133]):0,d[130]=d[131]),d[59].set(d[115],d[130])),d[116]="conversation_marker_id",d[80]=d[41].get(d[116]),d[80]!==void 0?d[59].set(d[116],d[80]):0,d[117]="multi_modal_extras",d[81]=d[41].get(d[117]),d[81]?d[82]=!1:d[82]=!0,d[82]?0:(d[81]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[135]="should_skip_genai_eval",d[132]=d[81].get(d[135]),d[132]!==void 0?d[131].set(d[135],d[132]):0,d[136]="associated_multimodal_message_id",d[133]=d[81].get(d[136]),d[133]!==void 0?d[131].set(d[136],d[133]):0,d[137]="qpl_join_id",d[134]=d[81].get(d[137]),d[134]!==void 0?d[131].set(d[137],d[134]):0,d[130]=d[131]),d[59].set(d[117],d[130])),d[118]="ads_extras",d[83]=d[41].get(d[118]),d[83]?d[84]=!1:d[84]=!0,d[84]?0:(d[83]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[135]="context",d[132]=d[83].get(d[135]),d[132]!==void 0?d[131].set(d[135],d[132]):0,d[136]="is_reply_to_ads_ai",d[133]=d[83].get(d[136]),d[133]!==void 0?d[131].set(d[136],d[133]):0,d[137]="is_message_processed_by_lightspeed",d[134]=d[83].get(d[137]),d[134]!==void 0?d[131].set(d[137],d[134]):0,d[130]=d[131]),d[59].set(d[118],d[130])),d[119]="suggested_prompt_extras",d[85]=d[41].get(d[119]),d[85]?d[86]=!1:d[86]=!0,d[86]?0:(d[85]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[134]="prompt_type",d[132]=d[85].get(d[134]),d[132]!==void 0?d[131].set(d[134],d[132]):0,d[135]="qpl_join_id",d[133]=d[85].get(d[135]),d[133]!==void 0?d[131].set(d[135],d[133]):0,d[130]=d[131]),d[59].set(d[119],d[130])),d[120]="disable_server_mqtt_typing_indicator",d[87]=d[41].get(d[120]),d[87]!==void 0?d[59].set(d[120],d[87]):0,d[121]="enable_web_scraping",d[88]=d[41].get(d[121]),d[88]!==void 0?d[59].set(d[121],d[88]):0,d[122]="client_prompt_timestamp",d[89]=d[41].get(d[122]),d[89]!==void 0?(d[89]!==void 0?d[129]=c.i64.from_string(d[89]):d[129]=void 0,d[59].set(d[122],d[129])):0,d[123]="is_client_ready_for_psi",d[90]=d[41].get(d[123]),d[90]!==void 0?d[59].set(d[123],d[90]):0,d[124]="intent_detection_extras",d[91]=d[41].get(d[124]),d[91]?d[92]=!1:d[92]=!0,d[92]?c.resolve():c.sequence([function(a){return d[91]?d[129]=!1:d[129]=!0,d[129]?c.resolve(d[130]=void 0):c.sequence([function(a){return d[131]=new c.Map(),d[140]="intent_messages_metadata",d[132]=d[91].get(d[140]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[132].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=new c.Map(),d[159]="message_type",d[152]=d[149].get(d[159]),d[152]!==void 0?d[151].set(d[159],d[152]):0,d[160]="message_sender_name",d[153]=d[149].get(d[160]),d[153]!==void 0?d[151].set(d[160],d[153]):0,d[161]="message_invoker_name",d[154]=d[149].get(d[161]),d[154]!==void 0?d[151].set(d[161],d[154]):0,d[162]="message_timestamp_ms",d[155]=d[149].get(d[162]),d[155]!==void 0?d[151].set(d[162],c.i64.from_string(d[155])):0,d[163]="message_thread_name",d[156]=d[149].get(d[163]),d[156]!==void 0?d[151].set(d[163],d[156]):0,d[164]="message_id",d[157]=d[149].get(d[164]),d[157]!==void 0?d[151].set(d[164],d[157]):0,d[165]="message_text",d[158]=d[149].get(d[165]),d[158]!==void 0?d[151].set(d[165],d[158]):0,d[166]=(d[146].push(d[151]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[131].set(d[140],d[145])}])},function(a){return d[141]="intent_types",d[134]=d[91].get(d[141]),d[134]?d[135]=!1:d[135]=!0,d[135]?c.resolve():c.sequence([function(a){return d[134]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[134].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[134],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=(d[146].push(d[149]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[131].set(d[141],d[145])}])},function(a){return d[142]="intent_message_ids",d[136]=d[91].get(d[142]),d[136]?d[137]=!1:d[137]=!0,d[137]?c.resolve():c.sequence([function(a){return d[136]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[136].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[136],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=(d[146].push(d[149]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[131].set(d[142],d[145])}])},function(a){return d[143]="intent_messages",d[138]=d[91].get(d[143]),d[138]?d[139]=!1:d[139]=!0,d[139]?c.resolve():c.sequence([function(a){return d[138]?d[144]=!1:d[144]=!0,d[144]?c.resolve(d[145]=void 0):c.sequence([function(a){return d[146]=c.createArray(),d[147]=c.i64.of_int32(d[138].length),c.i64.gt(d[147],c.i64.cast([0,0]))?c.loopAsync(d[147],function(a){return d[148]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[138],d[148]).then(function(a){return a=a,d[149]=a[0],d[150]=a[1],a})},function(a){return d[151]=(d[146].push(d[149]),d[146])}])}):c.resolve()},function(a){return d[145]=d[146]}])},function(a){return d[131].set(d[143],d[145])}])},function(a){return d[130]=d[131]}])},function(a){return d[59].set(d[124],d[130])}])},function(a){return d[125]="psi_tool_query_data",d[93]=d[41].get(d[125]),d[93]?d[94]=!1:d[94]=!0,d[94]?c.resolve():c.sequence([function(a){return d[93]?d[129]=!1:d[129]=!0,d[129]?c.resolve(d[130]=void 0):c.sequence([function(a){return d[131]=new c.Map(),d[137]="conversation_name",d[132]=d[93].get(d[137]),d[132]!==void 0?d[131].set(d[137],d[132]):0,d[138]="original_query_string",d[133]=d[93].get(d[138]),d[133]!==void 0?d[131].set(d[138],d[133]):0,d[139]="response_message_id",d[134]=d[93].get(d[139]),d[134]!==void 0?d[131].set(d[139],d[134]):0,d[140]="messages",d[135]=d[93].get(d[140]),d[135]?d[136]=!1:d[136]=!0,d[136]?c.resolve():c.sequence([function(a){return d[135]?d[141]=!1:d[141]=!0,d[141]?c.resolve(d[142]=void 0):c.sequence([function(a){return d[143]=c.createArray(),d[144]=c.i64.of_int32(d[135].length),c.i64.gt(d[144],c.i64.cast([0,0]))?c.loopAsync(d[144],function(a){return d[145]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[135],d[145]).then(function(a){return a=a,d[146]=a[0],d[147]=a[1],a})},function(a){return d[148]=new c.Map(),d[156]="message_type",d[149]=d[146].get(d[156]),d[149]!==void 0?d[148].set(d[156],d[149]):0,d[157]="message_sender_name",d[150]=d[146].get(d[157]),d[150]!==void 0?d[148].set(d[157],d[150]):0,d[158]="message_invoker_name",d[151]=d[146].get(d[158]),d[151]!==void 0?d[148].set(d[158],d[151]):0,d[159]="message_timestamp_ms",d[152]=d[146].get(d[159]),d[152]!==void 0?d[148].set(d[159],c.i64.from_string(d[152])):0,d[160]="message_thread_name",d[153]=d[146].get(d[160]),d[153]!==void 0?d[148].set(d[160],d[153]):0,d[161]="message_id",d[154]=d[146].get(d[161]),d[154]!==void 0?d[148].set(d[161],d[154]):0,d[162]="message_text",d[155]=d[146].get(d[162]),d[155]!==void 0?d[148].set(d[162],d[155]):0,d[163]=(d[143].push(d[148]),d[143])}])}):c.resolve()},function(a){return d[142]=d[143]}])},function(a){return d[131].set(d[140],d[142])}])},function(a){return d[130]=d[131]}])},function(a){return d[59].set(d[125],d[130])}])},function(a){return d[126]="psi_query_data",d[95]=d[41].get(d[126]),d[95]?d[96]=!1:d[96]=!0,d[96]?c.resolve():c.sequence([function(a){return d[95]?d[129]=!1:d[129]=!0,d[129]?c.resolve(d[130]=void 0):c.sequence([function(a){return d[131]=new c.Map(),d[137]="original_query_string",d[132]=d[95].get(d[137]),d[132]!==void 0?d[131].set(d[137],d[132]):0,d[138]="original_query_message_id",d[133]=d[95].get(d[138]),d[133]!==void 0?d[131].set(d[138],d[133]):0,d[139]="response_message_id",d[134]=d[95].get(d[139]),d[134]!==void 0?d[131].set(d[139],d[134]):0,d[140]="thread_messages",d[135]=d[95].get(d[140]),d[135]?d[136]=!1:d[136]=!0,d[136]?c.resolve():c.sequence([function(a){return d[135]?d[141]=!1:d[141]=!0,d[141]?c.resolve(d[142]=void 0):c.sequence([function(a){return d[143]=c.createArray(),d[144]=c.i64.of_int32(d[135].length),c.i64.gt(d[144],c.i64.cast([0,0]))?c.loopAsync(d[144],function(a){return d[145]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[135],d[145]).then(function(a){return a=a,d[146]=a[0],d[147]=a[1],a})},function(a){return d[148]=new c.Map(),d[153]="thread_id",d[149]=d[146].get(d[153]),d[149]!==void 0?d[148].set(d[153],d[149]):0,d[154]="thread_name",d[150]=d[146].get(d[154]),d[150]!==void 0?d[148].set(d[154],d[150]):0,d[155]="messages",d[151]=d[146].get(d[155]),d[151]?d[152]=!1:d[152]=!0,d[152]?c.resolve():c.sequence([function(a){return d[151]?d[156]=!1:d[156]=!0,d[156]?c.resolve(d[157]=void 0):c.sequence([function(a){return d[158]=c.createArray(),d[159]=c.i64.of_int32(d[151].length),c.i64.gt(d[159],c.i64.cast([0,0]))?c.loopAsync(d[159],function(a){return d[160]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[151],d[160]).then(function(a){return a=a,d[161]=a[0],d[162]=a[1],a})},function(a){return d[163]=new c.Map(),d[171]="message_type",d[164]=d[161].get(d[171]),d[164]!==void 0?d[163].set(d[171],d[164]):0,d[172]="message_sender_name",d[165]=d[161].get(d[172]),d[165]!==void 0?d[163].set(d[172],d[165]):0,d[173]="message_invoker_name",d[166]=d[161].get(d[173]),d[166]!==void 0?d[163].set(d[173],d[166]):0,d[174]="message_timestamp_ms",d[167]=d[161].get(d[174]),d[167]!==void 0?d[163].set(d[174],c.i64.from_string(d[167])):0,d[175]="message_thread_name",d[168]=d[161].get(d[175]),d[168]!==void 0?d[163].set(d[175],d[168]):0,d[176]="message_id",d[169]=d[161].get(d[176]),d[169]!==void 0?d[163].set(d[176],d[169]):0,d[177]="message_text",d[170]=d[161].get(d[177]),d[170]!==void 0?d[163].set(d[177],d[170]):0,d[178]=(d[158].push(d[163]),d[158])}])}):c.resolve()},function(a){return d[157]=d[158]}])},function(a){return d[148].set(d[155],d[157])}])},function(a){return d[156]=(d[143].push(d[148]),d[143])}])}):c.resolve()},function(a){return d[142]=d[143]}])},function(a){return d[131].set(d[140],d[142])}])},function(a){return d[130]=d[131]}])},function(a){return d[59].set(d[126],d[130])}])},function(a){return d[127]="contextual_entry_point_data",d[97]=d[41].get(d[127]),d[97]?d[98]=!1:d[98]=!0,d[98]?0:(d[97]?d[129]=!1:d[129]=!0,d[129]?d[130]=void 0:(d[131]=new c.Map(),d[134]="eligibility_reason",d[132]=d[97].get(d[134]),d[132]!==void 0?d[131].set(d[134],d[132]):0,d[135]="is_eligible",d[133]=d[97].get(d[135]),d[133]!==void 0?d[131].set(d[135],d[133]):0,d[130]=d[131]),d[59].set(d[127],d[130])),d[128]="bot_response_otid_override",d[99]=d[41].get(d[128]),d[99]!==void 0?d[59].set(d[128],d[99]):0,d[58]=d[59]}]):c.sequence([function(a){return d[49]==="XMSGProductHighlightExtras"?c.resolve((d[60]=new c.Map(),d[63]="product_highlight_type",d[61]=d[41].get(d[63]),d[61]!==void 0?d[60].set(d[63],d[61]):0,d[64]="conversation_marker",d[62]=d[41].get(d[64]),d[62]!==void 0?d[60].set(d[64],d[62]):0,d[59]=d[60])):c.sequence([function(a){return d[49]==="XMSGMagicMessengerExtras"?c.resolve((d[61]=new c.Map(),d[63]="is_magic_thread",d[62]=d[41].get(d[63]),d[62]!==void 0?d[61].set(d[63],d[62]):0,d[60]=d[61])):c.sequence([function(a){return d[49]==="XMSGAdsAIExtras"?c.resolve((d[62]=new c.Map(),d[66]="context",d[63]=d[41].get(d[66]),d[63]!==void 0?d[62].set(d[66],d[63]):0,d[67]="is_reply_to_ads_ai",d[64]=d[41].get(d[67]),d[64]!==void 0?d[62].set(d[67],d[64]):0,d[68]="is_message_processed_by_lightspeed",d[65]=d[41].get(d[68]),d[65]!==void 0?d[62].set(d[68],d[65]):0,d[61]=d[62])):c.sequence([function(a){return d[49]==="XMSGBizappExtras"?c.resolve((d[63]=new c.Map(),d[66]="message_source",d[64]=d[41].get(d[66]),d[64]!==void 0?d[63].set(d[66],d[64]):0,d[67]="message_trigger",d[65]=d[41].get(d[67]),d[65]!==void 0?d[63].set(d[67],d[65]):0,d[62]=d[63])):c.sequence([function(a){return d[49]==="XMSGGenAIContextualEntryPointData"?c.resolve((d[64]=new c.Map(),d[67]="eligibility_reason",d[65]=d[41].get(d[67]),d[65]!==void 0?d[64].set(d[67],d[65]):0,d[68]="is_eligible",d[66]=d[41].get(d[68]),d[66]!==void 0?d[64].set(d[68],d[66]):0,d[63]=d[64])):c.sequence([function(a){return d[64]=new c.Map(),d[65]=d[41].keys(),d[66]=c.i64.of_int32(d[65].length),c.i64.gt(d[66],c.i64.cast([0,0]))?c.loopAsync(d[66],function(a){return d[67]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[65],d[67]).then(function(a){return a=a,d[68]=a[0],d[69]=a[1],a})},function(a){return d[70]=d[41].get(d[68]),d[64].set(d[68],d[70])}])}):c.resolve()},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[50].set("__typename",d[49]),d[48]=d[50]}])},function(a){return d[39].set(d[46],d[48])}])},function(a){return d[43]=d[39].get("product_extras"),d[43]!==void 0?(d[47]=d[43].get("__typename"),d[47]==="XMSGClickToMessengerAdExtras"?(d[50]=new c.Map(),d[61]="encrypted_ads_token",d[51]=d[43].get(d[61]),d[51]!==void 0?d[50].set(d[61],d[51]):0,d[62]="product_type",d[52]=d[43].get(d[62]),d[52]!==void 0?d[50].set(d[62],d[52]):0,d[63]="post_id",d[53]=d[43].get(d[63]),d[53]!==void 0?d[50].set(d[63],d[53]):0,d[64]="ad_id",d[54]=d[43].get(d[64]),d[54]!==void 0?d[50].set(d[64],d[54]):0,d[65]="page_id",d[55]=d[43].get(d[65]),d[55]!==void 0?d[50].set(d[65],d[55]):0,d[66]="photo_id",d[56]=d[43].get(d[66]),d[56]!==void 0?d[50].set(d[66],d[56]):0,d[67]="photo_index",d[57]=d[43].get(d[67]),c.i64.neq(d[57],void 0)?d[50].set(d[67],d[57]):0,d[68]="fallback_url",d[58]=d[43].get(d[68]),d[58]!==void 0?d[50].set(d[68],d[58]):0,d[69]="product_id",d[59]=d[43].get(d[69]),d[59]!==void 0?d[50].set(d[69],d[59]):0,d[70]="user_id",d[60]=d[43].get(d[70]),d[60]!==void 0?d[50].set(d[70],d[60]):0,d[48]=d[50]):d[48]=void 0,d[48]!==void 0?(d[50]=d[48].get("page_id"),d[49]=d[50]):d[49]=void 0,d[44]=d[49]):d[44]=void 0,d[30]=d[44]}]):c.resolve(d[30]=void 0)},function(a){return d[31]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return d[30]!==void 0?d[37]=c.i64.from_string(d[30]):d[37]=d[32],a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[44]="product_type",d[40]=d[38].get(d[44]),d[40]!==void 0?d[39].set(d[44],d[40]):0,d[45]="product_extras",d[41]=d[38].get(d[45]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[46]=!1:d[46]=!0,d[46]?c.resolve(d[47]=void 0):c.sequence([function(a){return d[48]=d[41].get("__typename"),d[48]==="XMSGStoryReplyExtras"?c.resolve((d[50]=new c.Map(),d[53]="logging",d[51]=d[41].get(d[53]),d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[54]=!1:d[54]=!0,d[54]?d[55]=void 0:(d[56]=new c.Map(),d[64]="story_author_fbid",d[57]=d[51].get(d[64]),d[57]!==void 0?d[56].set(d[64],d[57]):0,d[65]="camera_post_type",d[58]=d[51].get(d[65]),d[58]!==void 0?d[56].set(d[65],d[58]):0,d[66]="story_type",d[59]=d[51].get(d[66]),d[59]!==void 0?d[56].set(d[66],d[59]):0,d[67]="post_source",d[60]=d[51].get(d[67]),d[60]!==void 0?d[56].set(d[67],d[60]):0,d[68]="fb_post_type",d[61]=d[51].get(d[68]),d[61]!==void 0?d[56].set(d[68],d[61]):0,d[69]="conversation_starter_type",d[62]=d[51].get(d[69]),d[62]!==void 0?d[56].set(d[69],d[62]):0,d[70]="story_reply_type",d[63]=d[51].get(d[70]),d[63]!==void 0?d[56].set(d[70],d[63]):0,d[55]=d[56]),d[50].set(d[53],d[55])),d[49]=d[50])):c.sequence([function(a){return d[48]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[51]=new c.Map(),d[70]="listing_id",d[52]=d[41].get(d[70]),d[52]!==void 0?d[51].set(d[70],d[52]):0,d[71]="initial_clicked_component",d[53]=d[41].get(d[71]),d[53]!==void 0?d[51].set(d[71],d[53]):0,d[72]="initial_tracking",d[54]=d[41].get(d[72]),d[54]!==void 0?d[51].set(d[72],d[54]):0,d[73]="referral_surface",d[55]=d[41].get(d[73]),d[55]!==void 0?d[51].set(d[73],d[55]):0,d[74]="referral_story_type",d[56]=d[41].get(d[74]),d[56]!==void 0?d[51].set(d[74],d[56]):0,d[75]="referral_ui_component",d[57]=d[41].get(d[75]),d[57]!==void 0?d[51].set(d[75],d[57]):0,d[76]="surface",d[58]=d[41].get(d[76]),d[58]!==void 0?d[51].set(d[76],d[58]):0,d[77]="tracking",d[59]=d[41].get(d[77]),d[59]!==void 0?d[51].set(d[77],d[59]):0,d[78]="ui_component",d[60]=d[41].get(d[78]),d[60]!==void 0?d[51].set(d[78],d[60]):0,d[79]="ad_id",d[61]=d[41].get(d[79]),d[61]!==void 0?d[51].set(d[79],d[61]):0,d[80]="server_session_id",d[62]=d[41].get(d[80]),d[62]!==void 0?d[51].set(d[80],d[62]):0,d[81]="cf_page_id",d[63]=d[41].get(d[81]),d[63]!==void 0?d[51].set(d[81],d[63]):0,d[82]="live_shopping_video_id",d[64]=d[41].get(d[82]),d[64]!==void 0?d[51].set(d[82],d[64]):0,d[83]="logging_id",d[65]=d[41].get(d[83]),c.i64.neq(d[65],void 0)?d[51].set(d[83],d[65]):0,d[84]="photo_ids",d[66]=d[41].get(d[84]),d[66]?d[67]=!1:d[67]=!0,d[67]?c.resolve():c.sequence([function(a){return d[87]=c.createArray(),d[88]=c.i64.of_int32(d[66].length),c.i64.gt(d[88],c.i64.cast([0,0]))?c.loopAsync(d[88],function(a){return d[89]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[66],d[89]).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[92]=(d[87].push(d[90]),d[87])}])}):c.resolve()},function(a){return d[51].set(d[84],d[87])}])},function(a){return d[85]="is_customized_message",d[68]=d[41].get(d[85]),d[68]!==void 0?d[51].set(d[85],d[68]):0,d[86]="referral_code",d[69]=d[41].get(d[86]),d[69]!==void 0?d[51].set(d[86],d[69]):0,d[50]=d[51]}]):c.sequence([function(a){return d[48]==="XMSGClickToMessengerAdExtras"?c.resolve((d[52]=new c.Map(),d[63]="encrypted_ads_token",d[53]=d[41].get(d[63]),d[53]!==void 0?d[52].set(d[63],d[53]):0,d[64]="product_type",d[54]=d[41].get(d[64]),d[54]!==void 0?d[52].set(d[64],d[54]):0,d[65]="post_id",d[55]=d[41].get(d[65]),d[55]!==void 0?d[52].set(d[65],d[55]):0,d[66]="ad_id",d[56]=d[41].get(d[66]),d[56]!==void 0?d[52].set(d[66],d[56]):0,d[67]="page_id",d[57]=d[41].get(d[67]),d[57]!==void 0?d[52].set(d[67],d[57]):0,d[68]="photo_id",d[58]=d[41].get(d[68]),d[58]!==void 0?d[52].set(d[68],d[58]):0,d[69]="photo_index",d[59]=d[41].get(d[69]),c.i64.neq(d[59],void 0)?d[52].set(d[69],d[59]):0,d[70]="fallback_url",d[60]=d[41].get(d[70]),d[60]!==void 0?d[52].set(d[70],d[60]):0,d[71]="product_id",d[61]=d[41].get(d[71]),d[61]!==void 0?d[52].set(d[71],d[61]):0,d[72]="user_id",d[62]=d[41].get(d[72]),d[62]!==void 0?d[52].set(d[72],d[62]):0,d[51]=d[52])):c.sequence([function(a){return d[48]==="XMSGZorroMessageExtras"?c.resolve((d[53]=new c.Map(),d[55]="is_enabled",d[54]=d[41].get(d[55]),d[54]!==void 0?d[53].set(d[55],d[54]):0,d[52]=d[53])):c.sequence([function(a){return d[48]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[54]=new c.Map(),d[57]="prompt_type",d[55]=d[41].get(d[57]),d[55]!==void 0?d[54].set(d[57],d[55]):0,d[58]="qpl_join_id",d[56]=d[41].get(d[58]),d[56]!==void 0?d[54].set(d[58],d[56]):0,d[53]=d[54])):c.sequence([function(a){return d[48]==="XMSGGenAIMultiModalExtras"?c.resolve((d[55]=new c.Map(),d[59]="should_skip_genai_eval",d[56]=d[41].get(d[59]),d[56]!==void 0?d[55].set(d[59],d[56]):0,d[60]="associated_multimodal_message_id",d[57]=d[41].get(d[60]),d[57]!==void 0?d[55].set(d[60],d[57]):0,d[61]="qpl_join_id",d[58]=d[41].get(d[61]),d[58]!==void 0?d[55].set(d[61],d[58]):0,d[54]=d[55])):c.sequence([function(a){return d[48]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[56]=new c.Map(),d[59]="seed",d[57]=d[41].get(d[59]),c.i64.neq(d[57],void 0)?d[56].set(d[59],d[57]):0,d[60]="qpl_join_id",d[58]=d[41].get(d[60]),d[58]!==void 0?d[56].set(d[60],d[58]):0,d[55]=d[56])):c.sequence([function(a){return d[48]==="XMSGShareSheetExtras"?c.resolve((d[57]=new c.Map(),d[59]="recipient_selection_session_id",d[58]=d[41].get(d[59]),d[58]!==void 0?d[57].set(d[59],d[58]):0,d[56]=d[57])):c.sequence([function(a){return d[48]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[58]=new c.Map(),d[99]="referrer_session_id",d[59]=d[41].get(d[99]),d[59]!==void 0?d[58].set(d[99],d[59]):0,d[100]="thread_session_id",d[60]=d[41].get(d[100]),d[60]!==void 0?d[58].set(d[100],d[60]):0,d[101]="prompt_id",d[61]=d[41].get(d[101]),d[61]!==void 0?d[58].set(d[101],d[61]):0,d[102]="prompt_type",d[62]=d[41].get(d[102]),d[62]!==void 0?d[58].set(d[102],d[62]):0,d[103]="prompt_fit_topic",d[63]=d[41].get(d[103]),d[63]!==void 0?d[58].set(d[103],d[63]):0,d[104]="location_extras",d[64]=d[41].get(d[104]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[134]="has_previous_perm_prompt",d[131]=d[64].get(d[134]),d[131]!==void 0?d[130].set(d[134],d[131]):0,d[135]="latitude",d[132]=d[64].get(d[135]),d[132]!==void 0?d[130].set(d[135],d[132]):0,d[136]="longitude",d[133]=d[64].get(d[136]),d[133]!==void 0?d[130].set(d[136],d[133]):0,d[129]=d[130]),d[58].set(d[104],d[129])),d[105]="qpl_join_id",d[66]=d[41].get(d[105]),d[66]!==void 0?d[58].set(d[105],d[66]):0,d[106]="meta_ai_prompt_type",d[67]=d[41].get(d[106]),d[67]!==void 0?d[58].set(d[106],d[67]):0,d[107]="is_subsequent_send",d[68]=d[41].get(d[107]),d[68]!==void 0?d[58].set(d[107],d[68]):0,d[108]="context_injection_type",d[69]=d[41].get(d[108]),d[69]!==void 0?d[58].set(d[108],d[69]):0,d[109]="context_injection_timestamp_ms",d[70]=d[41].get(d[109]),d[70]!==void 0?d[58].set(d[109],d[70]):0,d[110]="meta_ai_response_to_persist",d[71]=d[41].get(d[110]),d[71]?d[72]=!1:d[72]=!0,d[72]?c.resolve():c.sequence([function(a){return d[71]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=new c.Map(),d[137]="text",d[131]=d[71].get(d[137]),d[131]!==void 0?d[130].set(d[137],d[131]):0,d[138]="bot_response_id",d[132]=d[71].get(d[138]),d[132]!==void 0?d[130].set(d[138],d[132]):0,d[139]="bot_request_id",d[133]=d[71].get(d[139]),d[133]!==void 0?d[130].set(d[139],d[133]):0,d[140]="external_search_params",d[134]=d[71].get(d[140]),d[134]?d[135]=!1:d[135]=!0,d[135]?c.resolve():c.sequence([function(a){return d[134]?d[142]=!1:d[142]=!0,d[142]?c.resolve(d[143]=void 0):c.sequence([function(a){return d[144]=new c.Map(),d[152]="search_result_uri",d[145]=d[134].get(d[152]),d[145]?d[146]=!1:d[146]=!0,d[146]?c.resolve():c.sequence([function(a){return d[145]?d[157]=!1:d[157]=!0,d[157]?c.resolve(d[158]=void 0):c.sequence([function(a){return d[159]=c.createArray(),d[160]=c.i64.of_int32(d[145].length),c.i64.gt(d[160],c.i64.cast([0,0]))?c.loopAsync(d[160],function(a){return d[161]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[145],d[161]).then(function(a){return a=a,d[162]=a[0],d[163]=a[1],a})},function(a){return d[164]=(d[159].push(d[162]),d[159])}])}):c.resolve()},function(a){return d[158]=d[159]}])},function(a){return d[144].set(d[152],d[158])}])},function(a){return d[153]="search_query",d[147]=d[134].get(d[153]),d[147]!==void 0?d[144].set(d[153],d[147]):0,d[154]="attribution_link",d[148]=d[134].get(d[154]),d[148]!==void 0?d[144].set(d[154],d[148]):0,d[155]="search_engine",d[149]=d[134].get(d[155]),d[149]!==void 0?d[144].set(d[155],d[149]):0,d[156]="references_title",d[150]=d[134].get(d[156]),d[150]?d[151]=!1:d[151]=!0,d[151]?c.resolve():c.sequence([function(a){return d[150]?d[157]=!1:d[157]=!0,d[157]?c.resolve(d[158]=void 0):c.sequence([function(a){return d[159]=c.createArray(),d[160]=c.i64.of_int32(d[150].length),c.i64.gt(d[160],c.i64.cast([0,0]))?c.loopAsync(d[160],function(a){return d[161]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[150],d[161]).then(function(a){return a=a,d[162]=a[0],d[163]=a[1],a})},function(a){return d[164]=(d[159].push(d[162]),d[159])}])}):c.resolve()},function(a){return d[158]=d[159]}])},function(a){return d[144].set(d[156],d[158])}])},function(a){return d[143]=d[144]}])},function(a){return d[130].set(d[140],d[143])}])},function(a){return d[141]="followup_prompt_text",d[136]=d[71].get(d[141]),d[136]!==void 0?d[130].set(d[141],d[136]):0,d[129]=d[130]}])},function(a){return d[58].set(d[110],d[129])}])},function(a){return d[111]="gql_dark_test_qpl_join_id",d[73]=d[41].get(d[111]),d[73]!==void 0?d[58].set(d[111],d[73]):0,d[112]="gql_dark_test_client_start_time",d[74]=d[41].get(d[112]),d[74]!==void 0?d[58].set(d[112],d[74]):0,d[113]="prompt_context",d[75]=d[41].get(d[113]),d[75]?d[76]=!1:d[76]=!0,d[76]?0:(d[75]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[133]="context_token",d[131]=d[75].get(d[133]),d[131]!==void 0?d[130].set(d[133],d[131]):0,d[134]="context_token_type",d[132]=d[75].get(d[134]),c.i64.neq(d[132],void 0)?d[130].set(d[134],d[132]):0,d[129]=d[130]),d[58].set(d[113],d[129])),d[114]="imagine_flash_extras",d[77]=d[41].get(d[114]),d[77]?d[78]=!1:d[78]=!0,d[78]?0:(d[77]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[133]="seed",d[131]=d[77].get(d[133]),c.i64.neq(d[131],void 0)?d[130].set(d[133],d[131]):0,d[134]="qpl_join_id",d[132]=d[77].get(d[134]),d[132]!==void 0?d[130].set(d[134],d[132]):0,d[129]=d[130]),d[58].set(d[114],d[129])),d[115]="conversation_marker_id",d[79]=d[41].get(d[115]),d[79]!==void 0?d[58].set(d[115],d[79]):0,d[116]="multi_modal_extras",d[80]=d[41].get(d[116]),d[80]?d[81]=!1:d[81]=!0,d[81]?0:(d[80]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[134]="should_skip_genai_eval",d[131]=d[80].get(d[134]),d[131]!==void 0?d[130].set(d[134],d[131]):0,d[135]="associated_multimodal_message_id",d[132]=d[80].get(d[135]),d[132]!==void 0?d[130].set(d[135],d[132]):0,d[136]="qpl_join_id",d[133]=d[80].get(d[136]),d[133]!==void 0?d[130].set(d[136],d[133]):0,d[129]=d[130]),d[58].set(d[116],d[129])),d[117]="ads_extras",d[82]=d[41].get(d[117]),d[82]?d[83]=!1:d[83]=!0,d[83]?0:(d[82]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[134]="context",d[131]=d[82].get(d[134]),d[131]!==void 0?d[130].set(d[134],d[131]):0,d[135]="is_reply_to_ads_ai",d[132]=d[82].get(d[135]),d[132]!==void 0?d[130].set(d[135],d[132]):0,d[136]="is_message_processed_by_lightspeed",d[133]=d[82].get(d[136]),d[133]!==void 0?d[130].set(d[136],d[133]):0,d[129]=d[130]),d[58].set(d[117],d[129])),d[118]="suggested_prompt_extras",d[84]=d[41].get(d[118]),d[84]?d[85]=!1:d[85]=!0,d[85]?0:(d[84]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[133]="prompt_type",d[131]=d[84].get(d[133]),d[131]!==void 0?d[130].set(d[133],d[131]):0,d[134]="qpl_join_id",d[132]=d[84].get(d[134]),d[132]!==void 0?d[130].set(d[134],d[132]):0,d[129]=d[130]),d[58].set(d[118],d[129])),d[119]="disable_server_mqtt_typing_indicator",d[86]=d[41].get(d[119]),d[86]!==void 0?d[58].set(d[119],d[86]):0,d[120]="enable_web_scraping",d[87]=d[41].get(d[120]),d[87]!==void 0?d[58].set(d[120],d[87]):0,d[121]="client_prompt_timestamp",d[88]=d[41].get(d[121]),d[88]!==void 0?(d[88]!==void 0?d[128]=c.i64.from_string(d[88]):d[128]=void 0,d[58].set(d[121],d[128])):0,d[122]="is_client_ready_for_psi",d[89]=d[41].get(d[122]),d[89]!==void 0?d[58].set(d[122],d[89]):0,d[123]="intent_detection_extras",d[90]=d[41].get(d[123]),d[90]?d[91]=!1:d[91]=!0,d[91]?c.resolve():c.sequence([function(a){return d[90]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=new c.Map(),d[139]="intent_messages_metadata",d[131]=d[90].get(d[139]),d[131]?d[132]=!1:d[132]=!0,d[132]?c.resolve():c.sequence([function(a){return d[131]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=c.createArray(),d[146]=c.i64.of_int32(d[131].length),c.i64.gt(d[146],c.i64.cast([0,0]))?c.loopAsync(d[146],function(a){return d[147]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[131],d[147]).then(function(a){return a=a,d[148]=a[0],d[149]=a[1],a})},function(a){return d[150]=new c.Map(),d[158]="message_type",d[151]=d[148].get(d[158]),d[151]!==void 0?d[150].set(d[158],d[151]):0,d[159]="message_sender_name",d[152]=d[148].get(d[159]),d[152]!==void 0?d[150].set(d[159],d[152]):0,d[160]="message_invoker_name",d[153]=d[148].get(d[160]),d[153]!==void 0?d[150].set(d[160],d[153]):0,d[161]="message_timestamp_ms",d[154]=d[148].get(d[161]),d[154]!==void 0?d[150].set(d[161],c.i64.from_string(d[154])):0,d[162]="message_thread_name",d[155]=d[148].get(d[162]),d[155]!==void 0?d[150].set(d[162],d[155]):0,d[163]="message_id",d[156]=d[148].get(d[163]),d[156]!==void 0?d[150].set(d[163],d[156]):0,d[164]="message_text",d[157]=d[148].get(d[164]),d[157]!==void 0?d[150].set(d[164],d[157]):0,d[165]=(d[145].push(d[150]),d[145])}])}):c.resolve()},function(a){return d[144]=d[145]}])},function(a){return d[130].set(d[139],d[144])}])},function(a){return d[140]="intent_types",d[133]=d[90].get(d[140]),d[133]?d[134]=!1:d[134]=!0,d[134]?c.resolve():c.sequence([function(a){return d[133]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=c.createArray(),d[146]=c.i64.of_int32(d[133].length),c.i64.gt(d[146],c.i64.cast([0,0]))?c.loopAsync(d[146],function(a){return d[147]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[133],d[147]).then(function(a){return a=a,d[148]=a[0],d[149]=a[1],a})},function(a){return d[150]=(d[145].push(d[148]),d[145])}])}):c.resolve()},function(a){return d[144]=d[145]}])},function(a){return d[130].set(d[140],d[144])}])},function(a){return d[141]="intent_message_ids",d[135]=d[90].get(d[141]),d[135]?d[136]=!1:d[136]=!0,d[136]?c.resolve():c.sequence([function(a){return d[135]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=c.createArray(),d[146]=c.i64.of_int32(d[135].length),c.i64.gt(d[146],c.i64.cast([0,0]))?c.loopAsync(d[146],function(a){return d[147]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[135],d[147]).then(function(a){return a=a,d[148]=a[0],d[149]=a[1],a})},function(a){return d[150]=(d[145].push(d[148]),d[145])}])}):c.resolve()},function(a){return d[144]=d[145]}])},function(a){return d[130].set(d[141],d[144])}])},function(a){return d[142]="intent_messages",d[137]=d[90].get(d[142]),d[137]?d[138]=!1:d[138]=!0,d[138]?c.resolve():c.sequence([function(a){return d[137]?d[143]=!1:d[143]=!0,d[143]?c.resolve(d[144]=void 0):c.sequence([function(a){return d[145]=c.createArray(),d[146]=c.i64.of_int32(d[137].length),c.i64.gt(d[146],c.i64.cast([0,0]))?c.loopAsync(d[146],function(a){return d[147]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[137],d[147]).then(function(a){return a=a,d[148]=a[0],d[149]=a[1],a})},function(a){return d[150]=(d[145].push(d[148]),d[145])}])}):c.resolve()},function(a){return d[144]=d[145]}])},function(a){return d[130].set(d[142],d[144])}])},function(a){return d[129]=d[130]}])},function(a){return d[58].set(d[123],d[129])}])},function(a){return d[124]="psi_tool_query_data",d[92]=d[41].get(d[124]),d[92]?d[93]=!1:d[93]=!0,d[93]?c.resolve():c.sequence([function(a){return d[92]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=new c.Map(),d[136]="conversation_name",d[131]=d[92].get(d[136]),d[131]!==void 0?d[130].set(d[136],d[131]):0,d[137]="original_query_string",d[132]=d[92].get(d[137]),d[132]!==void 0?d[130].set(d[137],d[132]):0,d[138]="response_message_id",d[133]=d[92].get(d[138]),d[133]!==void 0?d[130].set(d[138],d[133]):0,d[139]="messages",d[134]=d[92].get(d[139]),d[134]?d[135]=!1:d[135]=!0,d[135]?c.resolve():c.sequence([function(a){return d[134]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[142]=c.createArray(),d[143]=c.i64.of_int32(d[134].length),c.i64.gt(d[143],c.i64.cast([0,0]))?c.loopAsync(d[143],function(a){return d[144]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[134],d[144]).then(function(a){return a=a,d[145]=a[0],d[146]=a[1],a})},function(a){return d[147]=new c.Map(),d[155]="message_type",d[148]=d[145].get(d[155]),d[148]!==void 0?d[147].set(d[155],d[148]):0,d[156]="message_sender_name",d[149]=d[145].get(d[156]),d[149]!==void 0?d[147].set(d[156],d[149]):0,d[157]="message_invoker_name",d[150]=d[145].get(d[157]),d[150]!==void 0?d[147].set(d[157],d[150]):0,d[158]="message_timestamp_ms",d[151]=d[145].get(d[158]),d[151]!==void 0?d[147].set(d[158],c.i64.from_string(d[151])):0,d[159]="message_thread_name",d[152]=d[145].get(d[159]),d[152]!==void 0?d[147].set(d[159],d[152]):0,d[160]="message_id",d[153]=d[145].get(d[160]),d[153]!==void 0?d[147].set(d[160],d[153]):0,d[161]="message_text",d[154]=d[145].get(d[161]),d[154]!==void 0?d[147].set(d[161],d[154]):0,d[162]=(d[142].push(d[147]),d[142])}])}):c.resolve()},function(a){return d[141]=d[142]}])},function(a){return d[130].set(d[139],d[141])}])},function(a){return d[129]=d[130]}])},function(a){return d[58].set(d[124],d[129])}])},function(a){return d[125]="psi_query_data",d[94]=d[41].get(d[125]),d[94]?d[95]=!1:d[95]=!0,d[95]?c.resolve():c.sequence([function(a){return d[94]?d[128]=!1:d[128]=!0,d[128]?c.resolve(d[129]=void 0):c.sequence([function(a){return d[130]=new c.Map(),d[136]="original_query_string",d[131]=d[94].get(d[136]),d[131]!==void 0?d[130].set(d[136],d[131]):0,d[137]="original_query_message_id",d[132]=d[94].get(d[137]),d[132]!==void 0?d[130].set(d[137],d[132]):0,d[138]="response_message_id",d[133]=d[94].get(d[138]),d[133]!==void 0?d[130].set(d[138],d[133]):0,d[139]="thread_messages",d[134]=d[94].get(d[139]),d[134]?d[135]=!1:d[135]=!0,d[135]?c.resolve():c.sequence([function(a){return d[134]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[142]=c.createArray(),d[143]=c.i64.of_int32(d[134].length),c.i64.gt(d[143],c.i64.cast([0,0]))?c.loopAsync(d[143],function(a){return d[144]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[134],d[144]).then(function(a){return a=a,d[145]=a[0],d[146]=a[1],a})},function(a){return d[147]=new c.Map(),d[152]="thread_id",d[148]=d[145].get(d[152]),d[148]!==void 0?d[147].set(d[152],d[148]):0,d[153]="thread_name",d[149]=d[145].get(d[153]),d[149]!==void 0?d[147].set(d[153],d[149]):0,d[154]="messages",d[150]=d[145].get(d[154]),d[150]?d[151]=!1:d[151]=!0,d[151]?c.resolve():c.sequence([function(a){return d[150]?d[155]=!1:d[155]=!0,d[155]?c.resolve(d[156]=void 0):c.sequence([function(a){return d[157]=c.createArray(),d[158]=c.i64.of_int32(d[150].length),c.i64.gt(d[158],c.i64.cast([0,0]))?c.loopAsync(d[158],function(a){return d[159]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[150],d[159]).then(function(a){return a=a,d[160]=a[0],d[161]=a[1],a})},function(a){return d[162]=new c.Map(),d[170]="message_type",d[163]=d[160].get(d[170]),d[163]!==void 0?d[162].set(d[170],d[163]):0,d[171]="message_sender_name",d[164]=d[160].get(d[171]),d[164]!==void 0?d[162].set(d[171],d[164]):0,d[172]="message_invoker_name",d[165]=d[160].get(d[172]),d[165]!==void 0?d[162].set(d[172],d[165]):0,d[173]="message_timestamp_ms",d[166]=d[160].get(d[173]),d[166]!==void 0?d[162].set(d[173],c.i64.from_string(d[166])):0,d[174]="message_thread_name",d[167]=d[160].get(d[174]),d[167]!==void 0?d[162].set(d[174],d[167]):0,d[175]="message_id",d[168]=d[160].get(d[175]),d[168]!==void 0?d[162].set(d[175],d[168]):0,d[176]="message_text",d[169]=d[160].get(d[176]),d[169]!==void 0?d[162].set(d[176],d[169]):0,d[177]=(d[157].push(d[162]),d[157])}])}):c.resolve()},function(a){return d[156]=d[157]}])},function(a){return d[147].set(d[154],d[156])}])},function(a){return d[155]=(d[142].push(d[147]),d[142])}])}):c.resolve()},function(a){return d[141]=d[142]}])},function(a){return d[130].set(d[139],d[141])}])},function(a){return d[129]=d[130]}])},function(a){return d[58].set(d[125],d[129])}])},function(a){return d[126]="contextual_entry_point_data",d[96]=d[41].get(d[126]),d[96]?d[97]=!1:d[97]=!0,d[97]?0:(d[96]?d[128]=!1:d[128]=!0,d[128]?d[129]=void 0:(d[130]=new c.Map(),d[133]="eligibility_reason",d[131]=d[96].get(d[133]),d[131]!==void 0?d[130].set(d[133],d[131]):0,d[134]="is_eligible",d[132]=d[96].get(d[134]),d[132]!==void 0?d[130].set(d[134],d[132]):0,d[129]=d[130]),d[58].set(d[126],d[129])),d[127]="bot_response_otid_override",d[98]=d[41].get(d[127]),d[98]!==void 0?d[58].set(d[127],d[98]):0,d[57]=d[58]}]):c.sequence([function(a){return d[48]==="XMSGProductHighlightExtras"?c.resolve((d[59]=new c.Map(),d[62]="product_highlight_type",d[60]=d[41].get(d[62]),d[60]!==void 0?d[59].set(d[62],d[60]):0,d[63]="conversation_marker",d[61]=d[41].get(d[63]),d[61]!==void 0?d[59].set(d[63],d[61]):0,d[58]=d[59])):c.sequence([function(a){return d[48]==="XMSGMagicMessengerExtras"?c.resolve((d[60]=new c.Map(),d[62]="is_magic_thread",d[61]=d[41].get(d[62]),d[61]!==void 0?d[60].set(d[62],d[61]):0,d[59]=d[60])):c.sequence([function(a){return d[48]==="XMSGAdsAIExtras"?c.resolve((d[61]=new c.Map(),d[65]="context",d[62]=d[41].get(d[65]),d[62]!==void 0?d[61].set(d[65],d[62]):0,d[66]="is_reply_to_ads_ai",d[63]=d[41].get(d[66]),d[63]!==void 0?d[61].set(d[66],d[63]):0,d[67]="is_message_processed_by_lightspeed",d[64]=d[41].get(d[67]),d[64]!==void 0?d[61].set(d[67],d[64]):0,d[60]=d[61])):c.sequence([function(a){return d[48]==="XMSGBizappExtras"?c.resolve((d[62]=new c.Map(),d[65]="message_source",d[63]=d[41].get(d[65]),d[63]!==void 0?d[62].set(d[65],d[63]):0,d[66]="message_trigger",d[64]=d[41].get(d[66]),d[64]!==void 0?d[62].set(d[66],d[64]):0,d[61]=d[62])):c.sequence([function(a){return d[48]==="XMSGGenAIContextualEntryPointData"?c.resolve((d[63]=new c.Map(),d[66]="eligibility_reason",d[64]=d[41].get(d[66]),d[64]!==void 0?d[63].set(d[66],d[64]):0,d[67]="is_eligible",d[65]=d[41].get(d[67]),d[65]!==void 0?d[63].set(d[67],d[65]):0,d[62]=d[63])):c.sequence([function(a){return d[63]=new c.Map(),d[64]=d[41].keys(),d[65]=c.i64.of_int32(d[64].length),c.i64.gt(d[65],c.i64.cast([0,0]))?c.loopAsync(d[65],function(a){return d[66]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[64],d[66]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=d[41].get(d[67]),d[63].set(d[67],d[69])}])}):c.resolve()},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[49].set("__typename",d[48]),d[47]=d[49]}])},function(a){return d[39].set(d[45],d[47])}])},function(a){return d[43]=d[39].get("product_extras"),d[43]!==void 0?(d[46]=d[43].get("__typename"),d[46]==="XMSGClickToMessengerAdExtras"?(d[48]=new c.Map(),d[59]="encrypted_ads_token",d[49]=d[43].get(d[59]),d[49]!==void 0?d[48].set(d[59],d[49]):0,d[60]="product_type",d[50]=d[43].get(d[60]),d[50]!==void 0?d[48].set(d[60],d[50]):0,d[61]="post_id",d[51]=d[43].get(d[61]),d[51]!==void 0?d[48].set(d[61],d[51]):0,d[62]="ad_id",d[52]=d[43].get(d[62]),d[52]!==void 0?d[48].set(d[62],d[52]):0,d[63]="page_id",d[53]=d[43].get(d[63]),d[53]!==void 0?d[48].set(d[63],d[53]):0,d[64]="photo_id",d[54]=d[43].get(d[64]),d[54]!==void 0?d[48].set(d[64],d[54]):0,d[65]="photo_index",d[55]=d[43].get(d[65]),c.i64.neq(d[55],void 0)?d[48].set(d[65],d[55]):0,d[66]="fallback_url",d[56]=d[43].get(d[66]),d[56]!==void 0?d[48].set(d[66],d[56]):0,d[67]="product_id",d[57]=d[43].get(d[67]),d[57]!==void 0?d[48].set(d[67],d[57]):0,d[68]="user_id",d[58]=d[43].get(d[68]),d[58]!==void 0?d[48].set(d[68],d[58]):0,d[47]=d[48]):d[47]=void 0,d[47]!==void 0?(d[48]=new c.Map(),d[48].set("product_extras",d[47]),d[48].set("client_thread_key",d[37]),d[48].set("offline_threading_id",c.i64.to_string(d[34])),d[48].set("admin_text_otid",c.i64.to_string(d[36])),d[49]=d[48].get("client_thread_key"),d[50]=c.toJSON(d[48]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[49]),c.i64.cast([0,1020]),d[50],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()):c.resolve()}]):c.resolve()}]):c.resolve()},function(e){return c.i64.eq(d[24],c.i64.cast([0,20]))&&!1&&!1?c.sequence([function(e){return c.storedProcedure(b("LSCreateGroupThreadWithAdminText"),d[14],void 0,a[2],void 0).then(function(a){return a=a,d[30]=a[0],a})},function(a){return a=[d[30],c.i64.cast([0,80])],d[28]=a[0],d[29]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.sequence([function(e){return c.storedProcedure(b("LSVerifyThreadRowExistsV2"),d[22],a[1],c.i64.cast([0,1]),c.i64.cast([0,20]))},function(a){return d[30]=c.i64.cast([0,20])}]):c.sequence([function(e){return c.i64.eq(d[24],c.i64.cast([0,80]))&&!1&&!1?d[31]=d[24]:d[31]=c.i64.cast([0,40]),c.storedProcedure(b("LSVerifyThreadRowExists"),d[22],a[1],c.i64.cast([0,1]))},function(a){return d[30]=d[31]}])},function(a){return a=[d[22],d[30]],d[28]=a[0],d[29]=a[1],a}])},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.sequence([function(e){return d[36]=c.i64.of_int32(a[6].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(e){return d[37]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[37]).then(function(a){return a=a,d[38]=a[0],d[39]=a[1],a})},function(a){return d[40]=d[38].get("contact_id"),d[41]=d[38].get("contact_type"),d[42]=d[38].get("contact_name"),d[43]=d[38].get("contact_profile_photo"),c.storedProcedure(b("LSVerifyContactRowExists"),d[40],c.i64.cast([0,0]),d[43],d[42],d[41],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,5]))}])}):c.resolve()},function(e){return void 0?d[28]=!1:d[28]=!0,d[28]?(e=["",void 0,void 0,void 0,void 0],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e):(d[36]=(void 0).get("nullstate_description_text1"),d[36]!==void 0?d[37]=d[36]:d[37]="",d[38]=(void 0).get("nullstate_description_text2"),d[39]=(void 0).get("nullstate_description_text3"),d[40]=(void 0).get("nullstate_description_text4"),d[41]=(void 0).get("nullstate_description_text5"),e=[d[37],d[38],d[39],d[40],d[41]],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4]),c.sequence([function(e){return d[36]=new c.Map(),d[36].set("nullstate_description_text1",d[29]),d[36].set("nullstate_description_text2",d[30]),d[36].set("nullstate_description_text3",d[31]),d[36].set("nullstate_description_text4",d[32]),d[36].set("nullstate_description_text5",d[33]),c.storedProcedure(b("LSLocalCreateOptimisticGroupThread"),d[14],"",a[2],!0,a[8]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.storedProcedure(b("LSInsertNewMessageRange"),d[37],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0)},function(a){return a=[d[37],void 0],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[26]=a[0],d[27]=a[1],a}])},function(a){return a=[d[26],d[27]],d[12]=a[0],d[13]=a[1],a}]):c.sequence([function(e){return[c.i64.cast([0,19]),c.i64.cast([0,28])].some(function(b){return c.i64.eq(a[1],b)})?c.sequence([function(e){return d[16]=new c.Map(),d[16].set("thread_fbid",a[0]),d[16].set("force_upsert",!1),d[16].set("use_open_messenger_transport",!1),d[16].set("sync_group",c.i64.cast([0,104])),d[16].set("metadata_only",!1),d[16].set("preview_only",!0),d[17]=d[16].get("thread_fbid"),d[18]=c.toJSON(d[16]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[17]),c.i64.cast([0,209]),d[18],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}]):c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.storedProcedure(b("LSVerifyThreadRowExistsV2"),a[0],a[1],c.i64.cast([0,1]),c.i64.cast([0,20])):c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[1],c.i64.cast([0,1]))},function(e){return c.i64.lt(d[5],c.i64.cast([0,60]))?c.storedProcedure(b("LSInsertNewMessageRange"),a[0],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0):c.resolve()},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}])},function(a){return a=[d[14],d[15]],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[7]=a[0],d[8]=a[1],a}])},function(e){return c.i64.eq(d[8]==null?d[5]:d[8],c.i64.cast([0,20]))?c.sequence([function(e){return c.i64.neq(a[4],void 0)?c.resolve(d[12]=a[4]):c.sequence([function(a){return c.storedProcedure(b("LSComputeOptimisticThreadCapabilities"),d[7]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[12]=d[13]}])},function(a){return c.forEach(c.db.table(9).fetch([[[d[7]]]]),function(a){var b=a.update;a.item;return b({capabilities:d[12]})})}]):c.resolve()},function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[7],c.i64.cast([0,0])],d[9]=e[0],d[10]=e[1],e):(b=a.item,b.isDisappearingMode?(e=[b.disappearingThreadKey,c.i64.cast([0,1024])],d[12]=e[0],d[13]=e[1],e):(a=[d[7],b.mailboxType],d[12]=a[0],d[13]=a[1],a),e=[d[12],d[13]],d[9]=e[0],d[10]=e[1])})},function(a){return a=[d[9],d[10]],d[1]=a[0],d[2]=a[1],a}])},function(a){return a=[d[1],d[2]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadViewStoredProcedure";a.__tables__=["threads","participants"];e.exports=a}),null);
__d("LSVerifyThreadViewStoredProcedure",["LSSynchronousPromise","LSVerifyThreadView","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadView"),e.threadKey,e.threadType,e.threadName,e.threadPictureUrl,e.threadCapabilities,e.messageId,e.contacts,e.mailboxType,e.threadMetadata,e.enableCcThreadMetadataFix);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWDeleteAllDBs",["MAWEncryptionIndexedDbV2","MAWIndexedDBDeletion","cr:10030"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,c){b("cr:10030")&&await b("cr:10030").deleteIndexedDB(a),await d("MAWIndexedDBDeletion").deleteMAWPersistence(),(c==null?void 0:c.deleteEncryptionDB)===!0&&await d("MAWEncryptionIndexedDbV2").deleteEncryptionDB_UNSAFE(void 0,"delete_all_dbs")}g.deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING=a}),98);
__d("MAWEncryptionErrorHandler",["FBLogger","MAWSetupWorker","MWDeleteAllDBs"],(function(a,b,c,d,e,f,g){"use strict";async function a(){var a="MAWEARKeychainDecryptionError",b="error";try{await d("MAWSetupWorker").terminateWorker(a);return d("MWDeleteAllDBs").deleteAllDBs_DO_NOT_USE_UNLESS_YOU_KNOW_WHAT_YOU_ARE_DOING(b,{deleteEncryptionDB:!0})}catch(d){c("FBLogger")("messenger_web").catching(d).mustfixThrow("Fail to delete dbs from: %s terminateWorkerReason: %s",b,a)}}g.handleEARKeychainError=a}),98);
__d("MWFocusTable.react",["FocusTable.react","focusScopeQueries"],(function(a,b,c,d,e,f,g){"use strict";g.createFocusTable=d("FocusTable.react").createFocusTable,g.tabbableScopeQuery=d("focusScopeQueries").tabbableScopeQuery}),98);
__d("MWXPopoverLoadingState.react",["cr:8235"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8235")}),98);
__d("mwEBCheckIfEBKeysExistInDisk",["EBDB","FBLogger","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("415");async function a(a){if(!i||a==="true")return Promise.resolve();try{a=await d("EBDB").getEBDB();a=await a.store("secure_encrypted_backups_client_state").count();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:(a>0).toString()}})}catch(a){c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"failed_to_open_db"}});c("FBLogger")("labyrinth_web").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to check if EB keys exists, ",""])),a);throw a}}g.default=a}),98);/*FB_PKG_DELIM*/
__d("hyperionChannel",["hyperionHook"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(){this.$1=new((h||(h=d("hyperionHook"))).Hook)()}var b=a.prototype;b.pipe=function(a,b){var c=this.$1.add(b?function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b(function(){a.emit.apply(a,[c].concat(e))})}:function(b){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];a.emit.apply(a,[b].concat(d))});c.$2=a;return a};b.unpipe=function(a){return this.$1.removeIf(function(b){return b.$2===a})};b.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this.$1).call.apply(b,[a].concat(d))};return a}();b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$Channel1=Object.create(null),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.$Channel2=function(a){var b=this.$Channel1[a];b||(b=this.$Channel1[a]=new((h||(h=d("hyperionHook"))).Hook)());return b};c.on=function(a){return this.$Channel2(a)};c.addListener=function(a,b){return this.on(a).add(b)};c.removeListener=function(a,b){this.on(a).remove(b);return b};c.emit=function(b){var c,d;for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];(c=this.$Channel2(b)).call.apply(c,f);(d=a.prototype.emit).call.apply(d,[this,b].concat(f))};return b}(a);c=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$PausableChannel1=!1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.pause=function(){this.$PausableChannel1=!0};c.unpause=function(){this.$PausableChannel1=!1};c.isPaused=function(){return this.$PausableChannel1};c.emit=function(b){var c;if(this.$PausableChannel1)return;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};return b}(b);g.Channel=b;g.PausableChannel=c;g.PipeableEmitter=a}),98);
__d("ALChannel",["hyperionChannel"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("hyperionChannel").Channel)();b=a;g["default"]=b}),98);
__d("ALReactUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return!0},i=function(a){var b=Object.keys(a).find(function(a){return a.startsWith("__reactFiber$")});return b!=null?a[b]:null},j=function(a){var b;b=(b=a.displayName)!=null?b:a.name;if(b==null)return null;a=b.match(/.*\[from (.*)\.react\]/);return(a=a==null?void 0:a[1])!=null?a:b};function a(a,b){if(a==null){c("FBLogger")("ads_manager_auto_logging").warn("[AL] Null element passed to getReactComponentName_THIS_CAN_BREAK.");return null}b=b?b:h;a=a;try{a=i(a);while(a){var d=a.type;if(d==null||typeof d==="string"){a=a["return"];continue}var e=j(d);e==null&&d.render!=null&&(e=j(d.render));if(e!=null&&e!==""&&b(e))return e;a=a["return"]}}catch(a){c("FBLogger")("ads_manager_auto_logging").catching(a).warn("[AL] Caught exception in getReactComponentName_THIS_CAN_BREAK.");return null}}g.getReactComponentName_THIS_CAN_BREAK=a}),98);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AutoLoggingComponentNameValidator",["AutoLoggingComponentValidatorListSitevarConfig","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={COMPONENT_ALLOW_LIST:d("AutoLoggingComponentValidatorListSitevarConfig").COMPONENT_ALLOW_LIST,COMPONENT_BLOCK_LIST:d("AutoLoggingComponentValidatorListSitevarConfig").COMPONENT_BLOCK_LIST},i=function(a){return a.join("|")},j=null;function a(a){var b;j!=null&&j!==a&&c("FBLogger")("auto_logging").warn("Config name used to get validator changed, ensure you are using consistent init config across AutoLogging",j,a);j=a;a=(b=(b=d("AutoLoggingComponentValidatorListSitevarConfig").TOOL_CONFIG)==null?void 0:b[a])!=null?b:h;var e=i(a.COMPONENT_ALLOW_LIST),f=i(a.COMPONENT_BLOCK_LIST);return function(a){return a.match(e)!=null&&a.match(f)==null}}g.getComponentNameValidator=a}),98);
__d("AdsALReactUtils",["ALReactUtils","AutoLoggingComponentNameValidator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("AutoLoggingComponentNameValidator").getComponentNameValidator("ads");function a(a,b){b===void 0&&(b=null);return d("ALReactUtils").getReactComponentName_THIS_CAN_BREAK(a,((a=b)==null?void 0:a.skipValidator)===!0?function(){return!0}:h)}function b(a){return!h(a)}g.getReactComponentName_THIS_CAN_BREAK=a;g.isComponentNameBlocked=b}),98);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var b=a.prototype;b.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};b.executeAsyncSignalCollection=async function(){var a=await this.executeSignalCollection();return a};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};b.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};b.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g.default=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}babelHelpers.inheritsLoose(a,b);return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeAsyncSignalCollection=async function(){try{if(navigator.permissions){var a=await navigator.permissions.query({name:"notifications"});a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a.state)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g.default=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){function a(){return b.call(this,k.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}babelHelpers.inheritsLoose(a,b);return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){function a(){return b.call(this,j.signalType)||this}babelHelpers.inheritsLoose(a,b);var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:d!=null?d:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];var d=a==null||(b=a.values)==null?void 0:b.length;return d!=null&&d>0?a.values[d-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(a of a)a in c("BDSignalBufferData")&&(b[a]=j(a).map(function(a){return a.valueOrError}));return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var b=a.prototype;b.collectSignals=async function(a){var b=this,c=[];a.forEach(function(a){a.signalFlags.includes(4)?b.$2(a):c.push(b.$3(a))});await Promise.all(c)};b.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};b.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};b.$3=async function(a){var b=a.getSignalCollector();if(b!=null)try{b=await b.executeAsyncSignalCollection();this.$4(b,a)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a})}};b.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};b.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};b.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g.default=b}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","javascript-blowfish"],(function(a,b,c,d,e,f,g){"use strict";var h,i="BDClientSignalCollectionTrigger",j="signal_flush_timestamp",k=!1,l=!1,m=!1,n=!1,o=0,p=0,q=0,r=30,s=5,t,u,v=d("BDUtils").uuid(),w=c("BDClientConfig").get(),x=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),y={startSignalCollection:async function(a){w.setSID(a.sid);if(!k){k=!0;d("BDServerConfig").parseConfig(a);if(!w.isParsingDone()){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});k=!1;return}a!=null&&(p=a.hbcbc&&a.hbcbc>0?a.hbcbc:p,q=a.hbvbc&&a.hbvbc>0?a.hbvbc:q,r=a.hbbi&&a.hbbi>0?a.hbbi:r);y.startHeartbeatDelayed();u=new Promise(function(a,b){try{w.getDynamicSignals().length>0&&(y.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),w.getBiometricSignals().length>0&&(y.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});await u;await y.startSignalPosting()}k&&!m&&!n&&s>0&&(s-=1,d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),y.startHeartbeatDelayed())},retrieveSignals:async function(){await u,await y.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC])},postSignals:async function(a){await y.collectStaticSignals(),y._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),x.NONE)&&y.setTimestampInStorage(Date.now(),j)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=w.getConfigGenerationTimeStamp(),f=y.encryptDataUsingAsid(v,a);a=function(){return{asid:v,ct:e,sjd:f,sid:w.sid}};var g=!1;try{b===x.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===x.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=y.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:async function(){var a=y.getTimestampInStorage(j);a=Date.now()-a;a>=w.getAllTiersFlushDurationMs()?await y.postSignalsIntermittently():window.setTimeout(function(){y.postSignalsIntermittently()},w.getAllTiersFlushDurationMs()-a)},postSignalsIntermittently:function(){y.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){y.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},w.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){m=!1,n=!1},startHeartbeatDelayed:function(){if(m||n)return;var a=y.getTimestampInStorage(y.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=w.getHeartbeatIntervalMs()?y.startHeartbeat():(window.setTimeout(function(){return y.startHeartbeat()},w.getHeartbeatIntervalMs()-a),n=!0)}catch(b){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:w.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&w.getHeartbeatIntervalMs()>0&&(y.collectHeartbeatTimes(p,q),o!==0&&(window.clearInterval(o),d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),o=window.setInterval(function(){return y.collectHeartbeatTimes(p,q)},w.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&y.collectHeartbeat(x.CRITICAL);b>0&&y.collectHeartbeat(x.VITAL);(a>1||b>1)&&window.setTimeout(function(){return y.collectHeartbeatTimes(a-1,b-1)},r*1e3)},collectHeartbeat:function(a){var b,c=w==null||(b=w.getHeartbeatSignal())==null||(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(c==null){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});y.postHeartbeat(a,c)&&y.setTimestampInStorage(Date.now(),y.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return y._postSignalsHelper(b,a)},collectStaticSignals:async function(){await y.collectSignalsOneTime(w.getStaticSignals())},collectDynamicSignals:function(){y.stopDynamicSignalCollection(),t=window.setInterval(async function(){await y.collectSignalsOneTime(w.getDynamicSignals())},w.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){y.collectSignalsOneTime(w.getBiometricSignals())},stopDynamicSignalCollection:function(){t!=null&&(window.clearInterval(t),t=null)},collectSignalsOneTime:async function(a){await c("SignalCollectionManager").get().collectSignals(a)},startLoginTimeSignalCollection:async function(a){l||(l=!0,d("BDServerConfig").parseConfig(a),await y.collectSignalsOneTime(w.getDynamicSignals()),await y.collectSignalsOneTime(w.getBiometricSignals()),await y.collectSignalsOneTime(w.getStaticSignals()))},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=y;g.default=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function i(){if(document.domain==null)return null;var a=document.domain,b=/^intern\./.test(a);if(b)return null;b=/(^|\.)facebook\.(com|sg)$/.test(a);if(b)return"facebook";b=/(^|\.)instagram\.com$/.test(a);if(b)return"instagram";b=/(^|\.)threads\.(com|net)$/.test(a);if(b)return"threads";b=/(^|\.)messenger\.com$/.test(a);return b?"messenger":null}function j(a){if(a==="instagram")return h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable an Instagram feature or \"hack\" someone's account, it is a scam and will give them access to your Instagram account.");return a==="threads"?h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Threads feature or \"hack\" someone's account, it is a scam and will give them access to your Threads account."):h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account.")}function a(a){if(top!==window)return;a=i();if(a==null)return;var b=h._(/*BTDS*/"Stop!");a=j(a);var c=h._(/*BTDS*/"See {url} for more information.",[h._param("url","https://www.facebook.com/selfxss")]),d="font-family:helvetica; font-size:20px; ";[[b,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[a,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}g.start=a}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1764786");b=d("FalcoLoggerInternal").create("client_consistency",a);e=b;g["default"]=e}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k={height:0,width:0};function l(){i===null&&(i=c("getViewportDimensions")());return i}function m(){var a=c("getViewportDimensions")(),b=a.height;a=a.width;(k.width!==a||k.height!==b)&&(k={height:b,width:a},c("Cookie").set("wd",a+"x"+b))}function n(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||c("isInIframe")()||j)return;j=!0;m();window.addEventListener("resize",c("CometDebounce")(m,{wait:250}),{passive:!0});window.addEventListener("focus",m,{passive:!0})}function a(a){var b,d=l();n();b={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(b=window.devicePixelRatio)!=null?b:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:c("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(b.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;b.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(b.document_font_size=d.fontSize)}c("WebBrowserDimensionsTypedLoggerLite").log(b)}g.init=a}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("Chromedome").__setRef("CometChromeDome");function a(){i.onReady(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){a.start({})})})}g.init=a}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsx(c("FDSNullState.react"),{headline:h._(/*BTDS*/"Sorry! Something went wrong :("),icon:c("NullStateGeneral")})})})),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometNetworkStatusToast",["fbt","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","FDSIcon.react","FDSWirelessFilled24Icon","NetworkStatus","SVGIcon","cometPushToast","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=null,l=null;function m(a){a=a.online;var b=c("BaseToasterStateManager").getInstance();k!=null&&(b.expire(k),k=null);k=a?d("cometPushToast").cometPushToast({icon:j.jsx(c("FDSIcon.react"),{color:"positive",icon:c("FDSWirelessFilled24Icon"),size:24}),message:h._(/*BTDS*/"Your internet connection was restored.")},4e3,b):d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"Refresh"),onPress:function(){d("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:j.jsx(c("FDSIcon.react"),{color:"disabled",icon:d("SVGIcon").legacySVGIcon(c("CometIconWirelessSlashFilled.react")),size:24}),message:h._(/*BTDS*/"You are currently offline.")},Infinity,b)}function a(){l=c("NetworkStatus").onChange(m)}function b(){var a;(a=l)==null||a.remove();l=null}g.subscribe=a;g.unsubscribe=b}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h="dpr";function i(a){c("Cookie").set(h,String(a))}function j(){window.devicePixelRatio!==d("WebPixelRatio").get()&&i(window.devicePixelRatio)}function a(){j(),d("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}g.startDetecting=a}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function d(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",d,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",d)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var b=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&b.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&b.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&b.add("Safari-old");if(!m&&!n&&!d&&h&&c("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?b.add("IE"):(j<0||j>d)&&(k<0||k>e)&&b.add("MSIE")}i===0&&h&&b.add("Firefox");return b}function r(){m=!0,c("setTimeout")(function(){m=!1},0)}function s(){n=!0,c("setTimeout")(function(){n=!1},0)}function t(a){p&&b("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);c("setTimeout")(function(){p=!1,o=null},0)}function e(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}g.initLogging=e}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){(i||(i=d("ODS"))).bumpEntityKey(1678,"www_client_navigations",j())}function j(){if((h||(h=c("performance"))).navigation==null||(h||(h=c("performance"))).navigation.type==null)return"UNSUPPORTED";switch((h||(h=c("performance"))).navigation.type){case(h||(h=c("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(h||(h=c("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(h||(h=c("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(h||(h=c("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}g.logPageNavigationType=a}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=new Set();function a(a){i?a():j.add(a)}function b(a){Object.entries(a).forEach(function(a){var b=a[0];a=a[1];var d=a.expiration_for_js,e=a.first_party_only,f=a.path,g=a.secure;a=a.value;c("DeferredCookie").addToQueue(b,a,d,f,e,!1,g)}),i=!0,j.forEach(function(a){return(h||(h=c("ErrorGuard"))).applyWithGuard(a,null,[])}),j.clear()}g.onCometDeferredCookieSet=a;g.setCometDeferredCookies=b}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","gkx","setCometDeferredCookies","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(a){var e=a.blLoggingCavalryFields,f=a.deferredCookies;a=a.networkStatusToast;var g=a===void 0?b("cr:17080"):a;(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return d("CometBootloaderLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometBootloaderErrorLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometVirtualCursorStatus").initLogging()},null,[]);g!=null&&!c("gkx")("11394")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return g.subscribe()},null,[]);i.applyWithGuard(function(){return d("CometOfflineTracing").initialize()},null,[]);i.applyWithGuard(function(){return d("SimplePageLoadLogger").logPageNavigationType()},null,[]);(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("WebStorageMonster").schedule()});b("cr:1201738")&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init("comet.idle")});j&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&j.init()});d("setCometDeferredCookies").setCometDeferredCookies(f);b("cr:1332233")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[]);b("cr:2718")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:2718").init()},null,[]);if(b("cr:22915"))var k=d("RunComet").onAfterLoad(function(){(i||(i=c("ErrorGuard"))).applyWithGuard(function(){b("cr:22915")==null||b("cr:22915").startRSTFromMainThread(),k.remove()},null,[])})}g.initDeferred=a}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","CometVisualCompletionAttributes","XPlatReactToasterView.react","gkx","react","react-compiler-runtime","useToasterStateManager"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={root:{display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x17syakg",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},m={bottom:{bottom:"x1ey2m1c",$$css:!0},top:{top:"x13vifvy",$$css:!0}},n={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},o={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"x1xi1syu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.align,f=a.filterToasts,g=a.maxVisible,h=a.maxWidth,p=a.position;a=a.xstyle;e=e===void 0?"start":e;g=g===void 0?1:g;var q=h===void 0?"full":h,r=p===void 0?"bottom":p,s=c("useToasterStateManager")();b[0]!==s?(h=function(){return s.getEmptyState()},b[0]=s,b[1]=h):h=b[1];p=k(h);h=p[0];var t=p[1],u;b[2]!==s?(p=function(){var a=s.registerView(t,0);return a.remove},u=[s],b[2]=s,b[3]=p,b[4]=u):(p=b[3],u=b[4]);j(p,u);p=n[e];u=m[r];b[5]!==p||b[6]!==u||b[7]!==a?(e=[l.root,c("gkx")("20935")?null:c("gkx")("22885")?l.rootWorkplaceLegacy:l.rootBlue,p,u,a],b[5]=p,b[6]=u,b[7]=a,b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x78zum5 xdt5ytf xe8uvvx x193iq5w"},b[9]=p):p=b[9];b[10]!==s?(u=function(a){s.expire(a)},b[10]=s,b[11]=u):u=b[11];b[12]!==q||b[13]!==r?(a=function(a,b,d,e){return i.jsx(c("BaseToastAnimationInternal.react"),{expired:d,id:b,position:e,toasterPosition:r,xstyle:[l.toast,o[c("gkx")("22886")?"regular":q]],children:i.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:a})},e)},b[12]=q,b[13]=r,b[14]=a):a=b[14];b[15]!==f||b[16]!==g||b[17]!==u||b[18]!==a||b[19]!==h?(p=i.jsx("ul",babelHelpers["extends"]({},p,{children:i.jsx(c("XPlatReactToasterView.react"),{filterToasts:f,maxVisible:g,onExpireToast:u,toasterState:h,children:a})})),b[15]=f,b[16]=g,b[17]=u,b[18]=a,b[19]=h,b[20]=p):p=b[20];b[21]!==e||b[22]!==p?(f=i.jsx(c("BasePortal.react"),babelHelpers["extends"]({target:document.body,xstyle:e},c("CometVisualCompletionAttributes").IGNORE,{children:p})),b[21]=e,b[22]=p,b[23]=f):f=b[23];return f}g["default"]=a}),98);
__d("FacebookAppIDs",[],(function(a,b,c,d,e,f){a=Object.freeze({ABRA_WEB:1358015658191005,ACCOUNT_QUALITY:293651901511648,ADS_AMI_BRAZIL_ONBOARDING:616624215510791,ADS_AMI_ONBOARDING:2806896492660535,ADS_EVENTS_MANAGER:2094176354154603,ADS_INCUBATOR:306597163753304,ADS_PAYMENT:123097351040126,ADS_POWER_EDITOR:119211728144504,ADS_WHATSAPP_MARKETING_MESSAGE_APP:871411417255253,ADS_WHATSAPP_MARKETING_MESSAGE_TEST_APP:755928642753606,ARMADILLO_WEB_DEVSERVER_CLIENT:1019394685547802,AT_WORK_FOR_ANDROID:1442593136019356,AT_WORK_FOR_IOS:234162453451062,BIG_COMMERCE_CATALOG_SYNC:483365901841566,BIZWEB:514771569228061,BOOSTED_INSTAGRAM_MEDIA_MOBILE:871306629649317,BOOSTED_PAGE:1146105192114219,BUSINESS_ACCOUNTS:436761779744620,BUSINESS_MANAGER_WORKPLACE_LOGIN:190532008697732,CHATPROXY_WEB:229895473858072,DOLLY:218968626708284,EVENTS:2344061033,FACEBOOK_FOR_ANDROID:74769995908,FACEBOOK_FOR_ANDROID2:350685531728,FACEBOOK_FOR_EMERGING_MARKET_ANDROID:275254692598279,FACEBOOK_FOR_IPAD:173847642670370,FACEBOOK_FOR_IPHONE:6628568379,FACEBOOK_MEDIA_EFFECTS:1779302845618373,FACEBOOK_MESSENGER_FOR_ANDROID:256002347743983,FACEBOOK_SPACES_2:2057013231240274,FBPAGES:2530096808,GAMES_INSTANT_SOAP_MITIGATION:1259518021923582,HORIZON_WEB:351299233827255,INSTAGRAM:124024574287414,INSTAGRAM_CARBON:905593853150754,INSTAGRAM_FOR_ANDROID_ANALYTICS_ONLY:567067343352427,INSTAGRAM_WEB:1217981644879628,INSTAGRAM_WEB_DESKTOP:936619743392459,INSTAGRAM_WEB_OCULUS_PWA:1035956773910536,INSTAGRAM_WEB_PWA_FOR_WINSTORE:487152425211411,INTERN_ADS_PREVIEW_GENERATION_APP:2004203579636813,KADABRA_VOICE:949958857019662,LIFT_STUDY_CREATION:367378623468359,LIFT_STUDY_VIEW:1501349520163380,M_SITE:412378670482,M_TOUCH_SITE:333176286769482,MAGENTO_CATALOG_SYNC:195311308289826,MARKETPLACE:1606854132932955,MARKETPLACE_SOAP_MITIGATION:359197717007187,MEDIA_MANAGER:2007914219485853,MESSENGER_DESKTOP:195376314393036,MESSENGER_DESKTOP_ARCHON_MACOS:451384735309667,MESSENGER_DESKTOP_ARCHON_WINDOWS:1931350367173590,MESSENGERDOTCOM:772021112871879,MOBILE_ADS_MANAGER_FOR_ANDROID:438142079694454,MOBILE_ADS_MANAGER_FOR_IOS:1479723375646806,MOST_RECENT_FEED:608920319153834,MQTT_WEB:219994525426954,OCULUS_ANDROID_TWILIGHT:624536201004543,OCULUS_IOS_TWILIGHT:147781309031234,OCULUS_IOS_TWILIGHT_DEV:1635404796768116,OCULUS_IOS_TWILIGHT_IN_HOUSE:1543576032349914,OCULUS_IOS_TWILIGHT_LOCAL:1680871178595114,OCULUS_MSITE:1013624499181349,OCULUS_WEBSITE:2763362503905702,PAGE_INBOX:263902037430900,PHOTOS:2305272732,POSTS:1042244359201256,SAVED_FOR_LATER:586254444758776,SFCC_CATALOG_SYNC:414303402113306,SHOPIFY_API_INTEGRATION_2P:699341854433150,SHOPIFY_CONFIGURATION:3046464678944642,SHOPIFY_PARTNER_INTEGRATION:372033192897621,TRANSLATIONS:4329892722,TURDUCKEN:400954310366822,UNIFIED_AMI_ONBOARDING:685960845183976,WHATSAPP_ANDROID:994766073959253,WHATSAPP_BUSINESS_ACCOUNT_MANAGER:225181538219344,WHATSAPP_IPHONE:306069495113,WHATSAPP_KAIOS:412254059643627,WHATSAPP_MAC:346387865799334,WHATSAPP_SMB_ANDROID:473039703209605,WHATSAPP_SMB_IPHONE:450645302121512,WHATSAPP_SMB_WEB:656096963291760,WHATSAPP_VR:132060743086318,WHATSAPP_WEB:167028690535322,WHATSAPP_WINDOWS:120781038571451,WHATSAPP_WINDOWS_PHONE:1904280676561321,WIT:197968810559097,WORKPLACE_BILLING:1350397358363828,WORKPLACE_DESKTOP:267999183646265,WORKPLACE_FOR_EVERY_PHONE:1263749867021676,WORKPLACE_FOR_WEB:1586666294789976,WORKROOMS:305152727005396,WORKROOMS_WEB:424940172743869,WWW:256281040558,WWW_COMET:2220391788200892});f["default"]=a}),66);
__d("LogBrowserCrashReportsLowerRetentionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("856");b=d("FalcoLoggerInternal").create("log_browser_crash_reports_lower_retention",a);e=b;g["default"]=e}),98);
__d("QPLCrashResiliencePlugin",["QPLEvent","QPLMarkerMap","QuickPerformanceLogger","RSTLogForCrash","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){if(c("gkx")("11050")===!1)return;var a=new j().getListener();(i||(i=c("QuickPerformanceLogger"))).addListener(a)}var j=function(){function a(){var a=this;this.$1=new(c("QPLMarkerMap"))();d("RSTLogForCrash").logForCrashReadyPromise.getPromise().then(function(){a.$2()})["catch"](function(){})}var b=a.prototype;b.$2=function(){var a=this;(i||(i=c("QuickPerformanceLogger"))).activeMarkers.forEach(function(b,c){b.forEach(function(b,d){a.$1.set(c,d,1)})});this.$3()};b.$3=function(){var a=this.$1.toString();d("RSTLogForCrash").logForCrash("active_qpls",a,d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE,{immediateFlush:!0})};b.getListener=function(){var a=this,b=this;return{onMarkerStarted:function(a,c,d,e){b.onMarkerStarted(a,c,d,e)},onMarkerEnd:function(b,c,d,e,f){return a.onMarkerEnd(b,c,d,e,f)},onMarkerDrop:function(a,c,d,e){b.onMarkerDrop(a,c,d,e)}}};b.onMarkerStarted=function(a,b,c,e){e=(c=e.isCrashResilient)!=null?c:!1;if(!e)return;this.$1.set((h||(h=d("QPLEvent"))).getMarkerId(a),b,1);this.$3()};b.onMarkerEnd=function(a,b,c,e,f){e=(a=f.isCrashResilient)!=null?a:!1;if(!f.passesSampling||!e)return;this.$1["delete"]((h||(h=d("QPLEvent"))).getMarkerId(b),c);this.$3()};b.onMarkerDrop=function(a,b,c,e){c=(c=e.isCrashResilient)!=null?c:!1;if(!e.passesSampling||!c)return;this.$1["delete"]((h||(h=d("QPLEvent"))).getMarkerId(a),b);this.$3()};return a}();g.startQPLCrashResilience=a}),98);
__d("RSTAdsManagerUtilsMainThread",["requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=null;c("requireWeak")("AdsAccountStore",function(a){h=a});var i=null;c("requireWeak")("AdsPERouterHelper",function(a){i=a});function a(){try{var a;a=(a=(a=i)==null||(a=a.getRouter())==null?void 0:a.getQueryParams())!=null?a:{};var b=a.selected_campaign_ids,c=a.selected_adset_ids;a=a.selected_ad_ids;a=(a=a==null?void 0:a.toArray())!=null?a:[];c=(c=c==null?void 0:c.toArray())!=null?c:[];b=(b=b==null?void 0:b.toArray())!=null?b:[];return{adIds:a.map(function(a){return String(a)}),adsetIds:c.map(function(a){return String(a)}),campaignIds:b.map(function(a){return String(a)})}}catch(a){return{adIds:[],adsetIds:[],campaignIds:[]}}}function b(){var a;return(a=(a=h)==null?void 0:a.getSelectedAccountID())!=null?a:"0"}function d(){var a;return(a=(a=h)==null?void 0:a.getSelectedBusinessID())!=null?a:"0"}function e(){return{}}g.getAdEntityIds=a;g.getAdAccountID=b;g.getBusinessID=d;g.getAdsAnnotations=e}),98);
__d("RSTExternalLoggingDataStoreMainThread",["FBLogger","RSTLogForCrash"],(function(a,b,c,d,e,f,g){var h=500,i=5e3,j=500;a=function(){function a(){this.$5=!1,this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.$6=function(a,b,d){if(a.length>h||b!=null&&b.length>i){this.$5||c("FBLogger")("responsive-tracker").warn(d,a,b);this.$5=!0;return!1}if(this.totalStoredPairCount()>j){this.$5||c("FBLogger")("responsive-tracker").warn("Too many key-value pairs for external span logging data (ignored)");this.$5=!0;return!1}return!0};b.logSpanEnd=function(a){this.$4["delete"](a)};b.logSpanStart=function(b,c){c===void 0&&(c=null);if(!this.$6(b,c,"Invalid key or annotation for external logging data (ignored), key: %s, annotation: %s"))return-1;var d=a.curSpanId++;this.$4.set(d,{id:d,name:b,start:Date.now(),annotation:c});return d};b.log=function(a,b,e){if(!this.$6(a,b,"Invalid key or value for external logging data (ignored), key: %s, value: %s"))return!1;var f=!1;if(e===d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_HEARTBEAT)f=this.$7(this.$2,a,b),this.$2.set(a,b);else if(e===d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE)f=this.$7(this.$1,a,b),this.$1.set(a,b);else if(e===d("RSTLogForCrash").RSTLogMode.VALID_FOR_5_SECONDS){f=!0;this.$3.set(a,{value:b,createTime:Date.now(),expirationTime:(a=d("RSTLogForCrash").getExpirationTime(e))!=null?a:Date.now()})}else c("FBLogger")("responsive-tracker").warn("Invalid logMode");return f};b.$7=function(a,b,c){return!a.has(b)||a.get(b)!==c};b.totalStoredPairCount=function(){return this.$1.size+this.$2.size+this.$3.size+this.$4.size};b.get=function(a){if(this.$2.has(a))return this.$2.get(a)||null;if(this.$1.has(a))return this.$1.get(a)||null;var b=this.$3.get(a);if(b!=null)if(Date.now()<b.expirationTime)return b.value;else this.$3["delete"](a);return null};b.clear=function(){this.$1.clear(),this.clearNextHeartbeatStore()};b.clearNextHeartbeatStore=function(){this.$2.clear()};b.clearSpanStore=function(){this.$4.clear()};b.getAllSpanData=function(){var a={};this.$4.forEach(function(b,c){a[""+c]=b});return a};b.$8=function(){var a=Date.now();for(var b of this.$3){var c=b[0],d=b[1];a>=d.expirationTime&&this.$3["delete"](c)}};b.getTimedStoreData=function(){this.$8();return Object.fromEntries(Array.from(this.$3.entries()).map(function(a){var b=a[0];a=a[1];return[b,a.value]}))};b.getAll=function(){return babelHelpers["extends"]({},this.getTimedStoreData(),Object.fromEntries(this.$1),Object.fromEntries(this.$2))};return a}();a.curSpanId=0;b=new a();g.loggingDataStore=b}),98);
__d("RSTClearExternalLoggingDataStoreMainThread",["RSTEvents","RSTEventsMessageQueue","RSTExternalLoggingDataStoreMainThread"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.clearNextHeartbeatStore()}function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.HEART_BEAT,h),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,h),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,h)}g.registerClearExternalLoggingData=a}),98);
__d("RSTUtilsMainThread",["CurrentUser","FacebookAppIDs","RSTConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){if(h.has(a)){var b;b=(b=h.get(a))!=null?b:0;if(b<=0){h["delete"](a);return!1}h.set(a,b-1);return!0}h.set(a,Math.floor(Math.random()*10));return!0}f=c("CurrentUser").getAppID();function b(a){switch(a){case""+c("FacebookAppIDs").ADS_POWER_EDITOR:return"Ads";case""+c("FacebookAppIDs").WWW_COMET:return"Comet";case""+c("FacebookAppIDs").ADS_EVENTS_MANAGER:return"Business";default:return"(Unset-in-RST)"}}var i=new Set([c("FacebookAppIDs").ADS_POWER_EDITOR,c("FacebookAppIDs").ADS_EVENTS_MANAGER,c("FacebookAppIDs").BIZWEB].map(function(a){return""+a}));i=f!=null&&i.has(f);b=b(f);function d(a){if(a==null)return null;for(a of a)if(!c("RSTConfig").isReactComponentNameBlocked(a))return a;return null}function e(a,b,d){d===void 0&&(d=c("RSTConfig").DEFAULT_REACT_COMPONENT_CONTEXT_SIZE);if(a==null)return null;var e=new Set(),f=[];for(a of a){if(f.length>=d)break;!e.has(a)&&!b(a)&&(f.push(a),e.add(a))}return f}g.shouldSkipProcessingIncident=a;g.isMonetizationApp=i;g.appName=b;g.getAllowListedComponentName=d;g.getReactComponentContext=e}),98);
__d("RSTIncidentLoggingMainThread",["Env","InteractionTracingConfigDefault","QPLEvent","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTUtils","RSTUtilsMainThread","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LogBrowserCrashReportsLowerRetentionFalcoEvent").__setRef("RSTIncidentLoggingMainThread"),k=new Set();function a(){return k}function l(a){var b,e,f,g,h=a.unresponsiveEvent,i=h!=null?Date.now()-(h==null?void 0:h.detectTime):0,j=h==null?void 0:h.lastHeartBeatMetadata,k=(j==null?void 0:j.brsid)!=null?String(j.brsid):null;b=(b=j==null?void 0:j.cpp)!=null?b:null;e=(e=j==null?void 0:j.cr)!=null?e:null;f=(f=j==null?void 0:j.annotations)!=null?f:{};g=(g=j==null?void 0:j.spans)!=null?g:{};a=a.isRecoverable?c("RSTConstants").reportReason.recoverable:(h==null?void 0:h.incidentType)!==c("RSTConstants").incidentType.unexpectedExit?c("RSTConstants").reportReason.unrecoverable:c("RSTConstants").reportReason.unexpectedExit;var l=h==null?void 0:h.traces;l=p(l);var n=l.qplMarkerId;l=l.tracePolicy;var q=o(h==null?void 0:h.lastTrace);return{application_name:d("RSTUtilsMainThread").appName,reason:a,url:d("RSTUtils").sanitizeURL(j==null?void 0:j.url),age:String(i),brsid:k,qpl_event_marker_id:d("RSTUtils").intToString(n),trace_policy:l,last_qpl_event_marker_id:d("RSTUtils").intToString(q.qplMarkerId),last_trace_policy:q.tracePolicy,ad_account_id:(a=j==null?void 0:j.i2)!=null?a:"0",business_id:(i=j==null?void 0:j.i3)!=null?i:"0",client_push_phase:b,client_revision:e,freeze_time_in_ms:String((k=h==null?void 0:h.unrecoverLastsForMs)!=null?k:0),normalized_component_stack:(n=j==null?void 0:j.rcs)!=null?n:[],session_start_timestamp_in_ms:String((l=j==null?void 0:j.st)!=null?l:""),rst_annotations:m(f,g,h)}}function m(a,b,d){var e=[];for(var f of Object.keys(a))e.push(f+":"+a[f]);a=d==null?void 0:d.detectTime;for(f of Object.keys(b)){var g=b[f],h=a!=null?a-g.start:0;e.push("span:"+g.name+":"+((g=g.annotation)!=null?g:"")+":"+h)}e.push("processingBrsid:"+((g=(i||(i=c("Env"))).brsid)!=null?g:""));n(e,d);return e}function n(a,b){if(!c("RSTConfig").shouldCollectAdditionalMetadata())return a;var d=b==null?void 0:b.lastTrace;d=d==null?void 0:d.endTimestamp;var e=b==null?void 0:b.detectTime;d!=null&&e!=null&&a.push("msSinceLastInteractionEnds:"+(e-d));e=b!=null?b:{};d=e.incidentID;d!=null&&a.push("incidentID:"+d);(b==null?void 0:b.isFirstUnrecoverable)===!0&&a.push("isFirstUnrecoverable:true");(b==null?void 0:b.hasOverlappingResponsiveIndicents)===!0&&a.push("hasOverlappingResponsiveIndicents:true");(b==null?void 0:b.hasDecryptionError)===!0&&a.push("hasDecryptionError:true");return a}function o(a){if(a==null)return{qplMarkerId:null,tracePolicy:null};if(a.qplEvent==null)return{qplMarkerId:null,tracePolicy:null};var b=(h||(h=d("QPLEvent"))).getMarkerId(a.qplEvent);a=a.tracePolicy;return{qplMarkerId:b,tracePolicy:a}}function p(a){if(a==null)return{qplMarkerId:null,tracePolicy:null};var b=0,c=null;a.forEach(function(a){if((a==null?void 0:a.qplEvent)==null||a.tracePolicy===d("InteractionTracingConfigDefault").DEFAULT_TRACING_CONFIG.defaultTracePolicy)return;a.startTime>b&&(b=a.startTime,c=a)});return o(c)}function q(a,b){j.onReady(function(c){c=c.log;c(function(){return l({unresponsiveEvent:a,isRecoverable:b})})})}function b(){c("RSTConfig").SHOULD_SAMPLE_RECOVERABLE&&d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,function(a){a=a.unresponsiveEventRecord;if(a==null||k.has(a.incidentID))return;k.add(a.incidentID);d("RSTUtils").debugLogImportant("logging recoverable unresponsiveness event");q(a,!0)}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.CRASH_INCIDENT,function(a){a=a.unresponsiveEventRecord;if(a==null||k.has(a.incidentID)){d("RSTUtils").debugLogImportant("not logging incident because it was already logged");return}if(c("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION&&a.isFirstUnrecoverable!==!0){var b;b=(b=a.incidentType)!=null?b:"";d("RSTUtils").debugLogImportant("not logging unrecoverable "+b+" event (because it's not the first incident in the session)");return}k.add(a.incidentID);d("RSTUtils").debugLogImportant("logging unrecoverable unresponsiveness event:");q(a,!1)})}g.getLoggedIncidentIDs=a;g.registerIncidentLogging=b}),98);
__d("RSTLocalStorageMainThread",["FBLogger","WebStorage","fb-error"],(function(a,b,c,d,e,f,g){"use strict";var h,i="RSTData",j=200,k=2*24*60*60*1e3;a=function(){function a(){this.$2=!0,this.$1=(h||(h=c("WebStorage"))).getLocalStorage(),this.probeAndInit()}var b=a.prototype;b.$3=function(a,b){a=c("fb-error").getErrorSafe(a);c("FBLogger")("web_responsiveness").catching(a).warn("%s error in RSTLocalStorage",b)};b.$4=function(){if(!this.$2)return{};try{var a;a=(a=this.$1)==null?void 0:a.getItem(i);a=a!=null?JSON.parse(a):{};return typeof a==="object"&&a!==null?a:{}}catch(a){this.$3(a,"readStore");return{}}};b.$5=function(a){if(!this.$2)return;try{var b;(b=this.$1)==null||b.setItem(i,JSON.stringify(a))}catch(a){this.$3(a,"writeStore");return}};b.probeAndInit=function(){if(this.$1==null){this.$2=!1;return}var a=this.$1;try{var b=a.getItem(i);if(b!=null)return;a.setItem(i,"{}")}catch(a){this.$3(a,"probeAndInit"),this.$2=!1}};b.cleanUpExpiredEntries=function(){if(!this.$2)return;try{var a=this.$6(this.$4());this.$5(a)}catch(a){this.$3(a,"cleanUpExpiredEntries");return}};b.$6=function(a){var b=Date.now();for(var c of Object.entries(a)){var d=c[0],e=c[1];(b-e.lastWriteTime>k||typeof e.lastWriteTime!=="number")&&delete a[d]}return a};b.$7=function(a){var b=Object.entries(a);if(b.length<=j)return a;b.sort(function(a,b){return a[1].lastWriteTime-b[1].lastWriteTime});a=b.slice(b.length-j);return Object.fromEntries(a)};b.set=function(a,b){if(!this.$2)return;var c=this.$4();c=this.$6(c);c[a]={value:b,lastWriteTime:Date.now()};c=this.$7(c);this.$5(c)};b.get=function(a){if(!this.$2)return null;var b=this.$4();b=b[a];return!b?null:b.value};b["delete"]=function(a){try{if(!this.$2)return;var b=this.$4();delete b[a];this.$5(b)}catch(a){this.$3(a,"delete");return}};b.has=function(a){if(!this.$2)return!1;var b=this.$4();b=b[a];return!b?!1:Date.now()-b.lastWriteTime<=k};b.clear=function(){if(!this.$2)return;this.$5({})};b.keys=function(){if(!this.$2)return[];var a=this.$6(this.$4());return Object.keys(a)};b.entries=function(){if(!this.$2)return[];var a=this.$6(this.$4());return Object.entries(a).map(function(a){var b=a[0];a=a[1];return[b,a.value]})};return a}();b=new a();d=b;g["default"]=d}),98);
__d("RSTMarkFirstUnrecoverableMainThread",["FBLogger","RSTLocalStorageMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h="rst-first-unrecoverable-marking";async function a(a){var b=a.sessionID,d=a.incidentID,e=b+":first-unrecoverable";try{"locks"in navigator&&await navigator.locks.request(h,function(){if(c("RSTLocalStorageMainThread").has(e))return;c("RSTLocalStorageMainThread").set(e,d);a.isFirstUnrecoverable=!0})}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to acquire lock for marking first unrecoverable incident")}}g.markFirstUnrecoverableIncident=a}),98);
__d("RSTSessionID",["Env","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function a(){if(i!=null)return i;var a=(h||(h=c("Env"))).brsid!=null?""+(h||(h=c("Env"))).brsid:c("uuidv4")(),b="rst-"+Date.now();i=b+"-"+a;return i}g.getSessionID=a}),98);
__d("ResponsiveTrackerMainThread",["ClientServiceWorkerMessage","FBLogger","RSTCloseObserver","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesMainThread","RSTIncidentLoggingMainThread","RSTIndexedDBSafe","RSTLocalStorageMainThread","RSTMarkFirstUnrecoverableMainThread","RSTMetadataCollectorMainThread","RSTMetadataMainThread","RSTSessionID","RSTUtils","RSTUtilsMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";c("RSTEventsRegisterUseCasesMainThread")();a=function(){function a(){this.$1=null,this.$2=new Set()}var b=a.prototype;b.init=function(a){this.$1=a,this.startLoggingUnresponsiveEvents(),this.startSendingHeartBeatToWorker(),this.startMonitorPageHiding(),this.startMonitoringPageUnload(),d("RSTMetadataCollectorMainThread").start(),c("RSTLocalStorageMainThread").probeAndInit(),void c("RSTIndexedDBSafe").maybeClearObsoleteIncidents()};b.startLoggingUnresponsiveEvents=function(){var a=this;void this.logAndDeleteUnresponsiveEvents();window.setInterval(function(){void a.logAndDeleteUnresponsiveEvents()},c("RSTConfig").MAIN_THREAD_LOGGING_INTERVAL_MS)};b.startSendingHeartBeatToWorker=function(){var a=this;window.setInterval(function(){a.postEvent(d("RSTEvents").RSTEvent.HEART_BEAT)},c("RSTConfig").HEART_BEAT_INTERVAL_MS)};b.startMonitorPageHiding=function(){var a=this;document.addEventListener("visibilitychange",function(){document.hidden?a.postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND):a.postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND)})};b.startMonitoringPageUnload=function(){d("RSTCloseObserver").initPageCloseObserver()};b.postEvent=function(a,b){b===void 0&&(b=d("RSTMetadataMainThread").getMainThreadMetadata());b={type:c("RSTConfig").MESSAGE_TYPE,event:a,eventTime:Date.now(),DOMData:{hidden:document.hidden},sessionID:d("RSTSessionID").getSessionID(),metadata:b};d("RSTEventsMessageQueue").notify(a,{mainToWorkerMessage:b});c("RSTConfig").ENABLE_SERVICE_WORKER&&new(c("ClientServiceWorkerMessage"))(c("RSTConfig").MESSAGE_TYPE,b).sendViaController();(a=this.$1)==null||a.postMessage(b)};b.$3=function(a){return Date.now()-((a=a.remoteLoggerProposeTime)!=null?a:0)>c("RSTConfig").INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS};b.$4=async function(a,b){if(a==null)return;var e=a.incidentID;if(d("RSTIncidentLoggingMainThread").getLoggedIncidentIDs().has(e)){b.add(e);return}var f=a.sessionID===d("RSTSessionID").getSessionID();if(f){a.hasRecovered=!0;d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:a});b.add(e);return}f=Date.now()-a.lastHeartBeatTimeStamp;if(f<c("RSTConfig").WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING)return;if(f>c("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS){if(d("RSTUtilsMainThread").shouldSkipProcessingIncident(e))return;d("RSTUtils").debugLogImportant("pending incident "+e+" cleaned");b.add(e);return}f=a.remoteLoggerSessionID==null||this.$3(a);if(f){await c("RSTIndexedDBSafe").updateIncidentInDB(function(a){if(a.incidentID!==e)return!1;d("RSTUtils").debugLogImportant("propose as logger for incident "+a.incidentID);a.remoteLoggerSessionID=d("RSTSessionID").getSessionID();a.remoteLoggerProposeTime=Date.now();return!0});return}if(a.remoteLoggerSessionID===d("RSTSessionID").getSessionID()&&!this.$3(a)){d("RSTUtils").debugLogImportant("act as logger for incident "+e);if(a.hasRecovered)d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:a}),b.add(e);else{if(a.incidentType!==c("RSTConstants").incidentType.unexpectedExit&&a.unrecoverLastsForMs<c("RSTConfig").UNRECOVER_LASTS_THRESHOLD_MS)return;!c("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION||!this.$2.has(a.sessionID)?(await d("RSTMarkFirstUnrecoverableMainThread").markFirstUnrecoverableIncident(a),d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.CRASH_INCIDENT,{unresponsiveEventRecord:a}),this.$2.add(a.sessionID)):d("RSTUtils").debugLogImportant("skip logging unrecoverable incident "+e+" "+("from session "+a.sessionID+" since it has been logged"));b.add(e)}}};b.logAndDeleteUnresponsiveEvents=async function(){try{d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.CHECKING_INDEXDB_FOR_EVENTS,{});var a=await c("RSTIndexedDBSafe").readEventsFromDB(),b=new Set();for(a of a)try{await d("RSTUtils").scheduleYield(),await this.$4(a,b)}catch(a){var e=c("getErrorSafe")(a);c("FBLogger")("responsive-tracker").catching(e).warn((e=e.message)!=null?e:"Failed to process incident")}await c("RSTIndexedDBSafe").clearIncidentFromDB(b)}catch(b){e=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(e).warn((a=e.message)!=null?a:"Failed to log incidents")}};return a}();b=new a();e=b;g.default=e}),98);
__d("RSTDebugConsoleMainThread",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.registerDebugConsole=a}),98);
__d("RSTEventsRegisterUseCasesMainThread",["RSTClearExternalLoggingDataStoreMainThread","RSTClearInteractionDataMainThread","RSTDebugConsoleMainThread","RSTIncidentLoggingMainThread"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTDebugConsoleMainThread").registerDebugConsole(),d("RSTIncidentLoggingMainThread").registerIncidentLogging(),d("RSTClearInteractionDataMainThread").registerClearInteractionData(),d("RSTClearExternalLoggingDataStoreMainThread").registerClearExternalLoggingData()}g["default"]=a}),98);
__d("RSTClearInteractionDataMainThread",["RSTEvents","RSTEventsMessageQueue","RSTInteractionDataMainThread"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.HEART_BEAT,d("RSTInteractionDataMainThread").clearInteractionData),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,d("RSTInteractionDataMainThread").clearInteractionData),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,d("RSTInteractionDataMainThread").clearInteractionData)}g.registerClearInteractionData=a}),98);
__d("RSTInteractionTrackingMainThread",["RSTConfig","RSTEvents","RSTMetadataMainThread","ResponsiveTrackerMainThread","one-trace"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["RESPONSIVENESS","INP","LONGTASK","UNKNOWN"]);function a(){if(!c("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA)return;c("one-trace").subscribe("trace-policy-set",function(a){if(h.has(a.traceType))return;var b=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.TRACE_POLICY_SET,babelHelpers["extends"]({trace:babelHelpers["extends"]({},a)},b))});c("one-trace").subscribe("trace-end",function(a){if(h.has(a.traceType))return;var b=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.TRACE_END,babelHelpers["extends"]({trace:babelHelpers["extends"]({},a,{endTimestamp:Date.now()})},b))})}g.start=a}),98);
__d("RSTRecoverableUnresponsivenessTrackingMainThread",["RSTConfig","one-trace","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["INP","LONGTASK"]);function a(){c("one-trace").subscribe("trace-end",function(a){i.has(a.traceType)&&j.getInstance().addEvent(babelHelpers["extends"]({},a))})}function b(){return j.getInstance().getStats()}var j=function(){function a(){this.WINDOW_MS=c("RSTConfig").TRACE_STATS_WINDOW_SIZE_MS,this.MAX_EVENTS=c("RSTConfig").TRACE_STATS_MAX_QUEUE_SIZE,this.eventQueue=[]}a.getInstance=function(){a.instance||(a.instance=new a());return a.instance};var b=a.prototype;b.addEvent=function(a){if(a.startTime==null||a.endTime==null)return;a={traceType:a.traceType,startTime:a.startTime,duration:a.endTime-a.startTime,endTime:a.endTime};this.eventQueue.push(a);this.cleanupOldEvents();this.eventQueue.length>=this.MAX_EVENTS&&this.eventQueue.shift()};b.getStats=function(){this.cleanupOldEvents();var a={};this.eventQueue.forEach(function(b){b.traceType in a?(a[b.traceType].count++,a[b.traceType].totalDurationMs+=b.duration):a[b.traceType]={count:1,totalDurationMs:b.duration,averageDurationMs:0}});for(var b of Object.keys(a)){var c=a[b].totalDurationMs/a[b].count;a[b].averageDurationMs=Math.floor(c)}return a};b.cleanupOldEvents=function(){var a=(h||(h=c("performanceNow")))();while(this.eventQueue.length>0){var b=this.eventQueue[0];if(b.endTime>=a-this.WINDOW_MS)break;this.eventQueue.shift()}};return a}();j.instance=null;g.start=a;g.getStats=b}),98);
__d("RSTMetadataCollectorMainThread",["FBLogger","QPLCrashResiliencePlugin","RSTInteractionTrackingMainThread","RSTRecoverableUnresponsivenessTrackingMainThread"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(){if(h)return;try{d("RSTInteractionTrackingMainThread").start(),d("RSTRecoverableUnresponsivenessTrackingMainThread").start(),d("QPLCrashResiliencePlugin").startQPLCrashResilience(),h=!0}catch(a){c("FBLogger")("responsive-tracker").catching(a).warn("Failed to start RST metadata collector")}}g.start=a}),98);
__d("RSTCloseObserver",["FBLogger","RSTConfig","RSTEvents","RSTSessionID","ResponsiveTrackerMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=new self.MessageChannel();function i(){if(!c("RSTConfig").ENABLE_SERVICE_WORKER)return;var a={type:c("RSTConfig").MESSAGE_TYPE,event:d("RSTEvents").RSTEvent.BROWSER_TAB_CLOSED,eventTime:Date.now(),DOMData:{hidden:!1},sessionID:d("RSTSessionID").getSessionID(),metadata:null};try{if("serviceWorker"in navigator){var b;(b=navigator.serviceWorker)==null||(b=b.controller)==null||b.postMessage({command:"responsiveness",data:a},[h.port2])}}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to send quick browser tab close event to worker")}try{c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_CLOSED)}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).mustfix("Failed to send browser tab close event to worker")}}function a(){window.addEventListener("pagehide",i)}g.initPageCloseObserver=a}),98);
__d("RSTInteractionDataMainThread",["ALChannel","AdsALReactUtils","FBLogger","RSTConfig","RSTEvents","RSTMetadataMainThread","RSTUtilsMainThread","ResponsiveTrackerMainThread","getReactComponentStackFromDOMElement_THIS_CAN_BREAK"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=[],j=100,k=10,l=[];function m(a){i.push(a),i.length>h&&i.shift(),l.push(a),l.length>j&&l.shift()}function a(){i.length=0}function b(){var a=i;return a[a.length-1]}function e(){return[].concat(i)}function f(a){a===void 0&&(a=k);return l.slice(-1*a)}function n(a,b){a=a!=null?a:{};var e=a.name,f=a.stack;a=a.context;(e!=null||f!=null)&&m({componentName:e,componentStack:f,componentContext:a,eventType:"click",eventTime:Date.now(),componentText:b});try{e=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.INTERACTION_DATA,babelHelpers["extends"]({},e))}catch(a){c("FBLogger")("responsive-tracker").catching(a).mustfix("Failed to send interaction data to worker")}}o();function o(){c("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA&&(d("RSTUtilsMainThread").isMonetizationApp?q():p())}function p(){window.addEventListener("click",function(a){a=a.target;if(!(a instanceof Element))return;try{var b=c("getReactComponentStackFromDOMElement_THIS_CAN_BREAK")(a);b={name:d("RSTUtilsMainThread").getAllowListedComponentName(b),stack:b!=null?b:[],context:d("RSTUtilsMainThread").getReactComponentContext(b,c("RSTConfig").isReactComponentNameBlocked)};a=r(a,b);n(b,a)}catch(a){c("FBLogger")("responsive-tracker").catching(a).mustfix("Failed to get react component stack from Shim")}},!0)}function q(){c("ALChannel").addListener("al_ui_event_capture",function(a){if(a.event!=="click")return;try{var b;b={name:a.reactComponentName,stack:(b=a.reactComponentStack)!=null?b:[],context:d("RSTUtilsMainThread").getReactComponentContext(a.reactComponentStack,d("AdsALReactUtils").isComponentNameBlocked)};a=a.targetElement;a=r(a,b);n(b,a)}catch(a){c("FBLogger")("responsive-tracker").catching(a).mustfix("Failed to get react component stack from AL")}})}function r(a,b){if(!c("RSTConfig").SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT)return null;if((b==null?void 0:b.stack)==null)return null;for(b of b.stack)if(c("RSTConfig").isReactComponentTextBlocked(b))return null;a=(b=a==null?void 0:a.textContent)!=null?b:null;if(typeof a==="string"){a=a.trim();b=c("RSTConfig").ELEMENT_TEXT_SIZE_LIMIT;a.length>b&&(a=a.substr(0,b)+("... ("+(a.length-b)+" code units omitted)"))}return a===""?null:a}g.clearInteractionData=a;g.getLastInteractionDataSinceLastMessageToWorker=b;g.getInteractionDataSinceLastMessageToWorker=e;g.getInteractionHistory=f}),98);
__d("RSTMetadataMainThread",["CurrentUser","Env","MemoryUtils","RSTAdsManagerUtilsMainThread","RSTConfig","RSTExternalLoggingDataStoreMainThread","RSTInteractionDataMainThread","RSTRecoverableUnresponsivenessTrackingMainThread","RSTUtils","SiteData","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=Date.now(),b=babelHelpers["extends"]({},d("RSTAdsManagerUtilsMainThread").getAdsAnnotations());l(b);var c=Date.now();b.rstAnnotationsCollectedInMs=""+(c-a);return b}function k(){return c("RSTConfig").shouldCollectAdditionalMetadata()?d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAllSpanData():{}}function l(a){c("RSTConfig").shouldCollectAdditionalMetadata()&&(p(a),s(a),t(a),r(a),m(a),q(a))}function m(a){var b=d("RSTAdsManagerUtilsMainThread").getAdEntityIds();a.selectedAdIds=b.adIds.join(",");a.selectedAdSetIds=b.adsetIds.join(",");a.selectedCampaignIds=b.campaignIds.join(",")}function n(){try{var a;a=(a=d("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:a.componentStack;return a!=null?a:[]}catch(a){return[]}}function o(){try{var a;a=(a=d("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:a.componentContext;return a!=null?a:[]}catch(a){return[]}}function p(a){var b=d("RSTInteractionDataMainThread").getInteractionDataSinceLastMessageToWorker().map(function(a){return a.componentName}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactedComponentsSinceLastResponsiveState=b);b=o();b.length>0&&(a.interactedComponentContextSinceLastResponsiveState=b.join(" < "));b=d("RSTInteractionDataMainThread").getInteractionHistory().map(function(a){return a.componentName}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactedComponentHistory=b);b=d("RSTInteractionDataMainThread").getInteractionHistory().map(function(a){return d("RSTUtils").getInteractionDetail(a)}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactionDetailHistory=b)}function q(a){a.crashDataOncall=c("RSTConfig").PROJECT_ONCALL,a.crashLogger=c("RSTConfig").PROJECT_NAME}function r(a){var b=d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAll();for(var c of Object.keys(b))a["@"+c]=b[c]}function s(a){var b=d("MemoryUtils").getCurrentMemory({runGC:!1}),c=b.jsHeapSizeLimit,e=b.usedJSHeapSize;b=b.totalJSHeapSize;c!=null&&(a.jsHeapSizeLimit=c.toString());e!=null&&(a.usedJSHeapSize=e.toString());b!=null&&(a.totalJSHeapSize=b.toString())}function t(a){var b=d("RSTRecoverableUnresponsivenessTrackingMainThread").getStats();if(b==null)return;for(var c of Object.keys(b)){var e=b[c];if(e==null)continue;var f=c.toLowerCase();for(var g of Object.keys(e)){var h=e[g];if(h==null)continue;a[f+"-"+g]=h.toString()}}}function a(){var a=document.URL,b=(h||(h=c("Env"))).brsid;try{var e;return{url:a,brsid:b,i1:(e=c("CurrentUser").getID())!=null?e:"0",i2:(e=d("RSTAdsManagerUtilsMainThread").getAdAccountID())!=null?e:"0",i3:(e=d("RSTAdsManagerUtilsMainThread").getBusinessID())!=null?e:"0",cpp:(e=c("SiteData").push_phase)!=null?e:"unknown",cr:""+c("SiteData").client_revision,rcs:n(),st:Math.floor(Date.now()-(i||(i=c("performance"))).now()),annotations:j(),spans:k()}}catch(c){return{url:a,brsid:b,i1:"0",i2:"0",i3:"0"}}}g.getMainThreadMetadata=a}),98);
__d("RSTWebWorkerClientMainThreadImpl",["ErrorGuard","FBLogger","RSTConfig","RSTUtils","ResponsiveTrackerMainThread","Run","WorkerMessagePort","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("4909");a=function(){function a(a){this.$1=null,this.$2=!1,this.$3=a}var b=a.prototype;b.$4=function(){this.$1==null&&(this.$1=this.$3());return this.$1};b.startRSTFromMainThread=function(a){var b=this;a===void 0&&(a={});if(!i||this.$2||!d("RSTUtils").isIndexedDBSupported())return;a=Math.max((a=a.extraDelayInMs)!=null?a:0,c("RSTConfig").START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS);window.setTimeout(function(){try{var a=b.$4();a=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(a,"RSTWorkerClient");c("ResponsiveTrackerMainThread").init(a);b.$2=!0}catch(b){c("FBLogger")("responsive-tracker").catching(b).warn((a=b==null?void 0:b.message)!=null?a:"Failed to start worker")}},a)};b.startRSTAfterPageLoadFromMainThread=function(a){var b=this;a===void 0&&(a={});d("Run").onAfterLoad(function(){(h||(h=c("ErrorGuard"))).applyWithGuard(function(){return b.startRSTFromMainThread(a)},null,[])})};return a}();g["default"]=a}),98);
__d("RSTWebWorkerClientMainThreadV2",["RSTWebV2WorkerResource","RSTWebWorkerClientMainThreadImpl","WebWorkerV2Resource"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("RSTWebWorkerClientMainThreadImpl"))(function(){return d("WebWorkerV2Resource").createDedicatedV2WebWorker(c("RSTWebV2WorkerResource"),"RSTWebWorker").worker});b=a;g["default"]=b}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871697");b=d("FalcoLoggerInternal").create("web_perf_device_info_log",a);e=b;g["default"]=e}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function j(){var a=window.navigator,b={};a&&a.hardwareConcurrency!==void 0&&(b.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(b.ram=a.deviceMemory);c("WebDevicePerfInfoData").needsFullUpdate&&i(b);return b}function k(){var a=j();c("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}async function l(){var a=j();a=await new(c("AsyncTypedRequest"))(c("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(a).promisePayload();return a.devicePerfClassLevel}function a(){(c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate)&&(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(k)}function b(){return new Promise(function(a,b){c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate?(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){l().then(a).catch(b)}):a()})}g.doLog=a;g.doLogPromise=b}),98);/*FB_PKG_DELIM*/
__d("CometAudioLanguageMenuItemsMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29971685009145446"}),null);
__d("CometAudioLanguageMenuItemsMutation.graphql",["CometAudioLanguageMenuItemsMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"SetUserPreferredAudioLanguageResponsePayload",kind:"LinkedField",name:"set_user_preferred_audio_language",plural:!1,selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_language_string",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometAudioLanguageMenuItemsMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometAudioLanguageMenuItemsMutation",selections:c},params:{id:b("CometAudioLanguageMenuItemsMutation_facebookRelayOperation"),metadata:{},name:"CometAudioLanguageMenuItemsMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometAudioLanguageMenuItemsMutation",["CometAudioLanguageMenuItemsMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("CometAudioLanguageMenuItemsMutation.graphql");g.setUserPreferredAudioLanguageDataMutation=a}),98);
__d("CometVideoPictureInPictureManager.react",["CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManagerContext","CometWatchAndScrollVideoContext","XCometWatchControllerRouteBuilder","clearTimeout","gkx","react","requireDeferred","setTimeout","useCometRouterDispatcher","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometVideoPictureInPictureManager.react"),q=c("gkx")("22889"),r=50;e=["286211568997787","214604021960500","108677131037"];var s=window.document.pictureInPictureEnabled;function a(a){var b=a.children;a=a.isPipEnabled;var e=c("useCometRouterDispatcher")(),f=a;a=o(null);var g=a[0],h=a[1];a=o(!1);var t=a[0],u=a[1];a=o(!1);var v=a[0],w=a[1],x=n(!1);a=j(function(a){x.current=a},[]);var y=m(function(){return{hasNextChainedVideo:v,isPipEnabled:f,setHasNextChainedVideo:w,setSkippedFromPipPlayer:u,skippedFromPipPlayer:t}},[t,u,v,w,f]),z=o(null),A=z[0],B=z[1],C=k(c("CometWatchAndScrollVideoContext")),D=k(c("CometSetWatchAndScrollVideoContext")),E=n(null),F=n(null),G=c("useMinifiedProductAttribution")(),H=j(function(a){a===void 0&&(a=null),p.onReady(function(b){b.log({attribution_id_v2:G,click_point:a,event:"click"})})},[]),I=j(function(){var a=C==null?void 0:C.videoID,b=C==null?void 0:C.videoUrl;if(a!=null&&b!=null){var d=C==null?void 0:C.routeTracePolicy,f=C==null?void 0:C.subOrigin;b=q?b:c("XCometWatchControllerRouteBuilder").buildURL({v:a});e&&(e.go(b,{passthroughProps:{portableVideoID:A,portalingRouteTracePolicy:d,portalingSubOrigin:f}}),D(null))}},[e,C,A,D]),J=j(function(){g!=null&&(E.current=c("setTimeout")(function(){var a=g.getCurrentState(),b=a.lastPauseReason;a=a.paused;x.current||(f&&(a===!1||a===!0&&b==="product_initiated")?(I(),H("control_pip_player_return_to_tab")):window.document.pictureInPictureElement===null&&(D(null),H("control_pip_player_close")))},r))},[g,f,I,D,H]),K=j(function(){g!=null&&(x.current||(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("pause",function(){g.pause("product_initiated")})),v||window.navigator.mediaSession.setActionHandler("nexttrack",null))},[g,v,H,a]),L=j(function(a){a.requestPictureInPicture();R(!1);a=a.internal_getVideoElement();F.current=a==null?void 0:a.currentSrc},[]),M=j(function(){if(g!=null){var a=g.getIsDesktopPictureInPicture();if(a){g.exitPictureInPicture();return}L(g)}},[L,g]),N=j(function(a){h(a)},[h]),O=j(function(a){a!=null&&B(a)},[B]);z=m(function(){return{openPipPlayer:M,setController:N,setPipPortableVideoID:O}},[M,N,O]);var P=n(!1);a=o(!1);var Q=a[0],R=a[1];l(function(){var a=null;if(s&&g!=null&&window.document.pictureInPictureElement){var b=g.internal_getVideoElement();b=b==null?void 0:b.currentSrc;var c=!1,d=!1;a=g.subscribe(function(){var a=g.getCurrentState(),b=a.playing;a=a.isDesktopPictureInPicture;!c&&b&&P.current&&!x.current&&(P.current=!1,R(!0));d&&!a&&J();!d&&a&&K();c=b;d=a});b!==F.current?!Q?(g.play("user_initiated"),P.current=!0):L(g):f&&(K(),F.current=b)}return function(){a!=null&&a.remove()}},[L,g,M,v,K,J,f,Q]);l(function(){return function(){E.current!=null&&(c("clearTimeout")(E.current),E.current=null)}},[]);return i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext.Provider,{value:y,children:i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext.Provider,{value:z,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.EXCLUDED_PROVIDERS=e;g.CometVideoPictureInPictureManager=a}),98);
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9770086849717179"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:e,storageKey:null}],storageKey:null},g={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"};e={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null};var h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g,d],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},d],storageKey:null},{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","react-compiler-runtime","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e,f){var g=d("react-compiler-runtime").c(8),i;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useLiveCostreamerTagSubscription.graphql"),g[0]=i):i=g[0];i=i;var k;g[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("uuidv4")(),g[1]=k):k=g[1];g[2]!==a||g[3]!==e?(k={input:{client_subscription_id:k,tagged_page_id:a,tagged_video_id:e}},g[2]=a,g[3]=e,g[4]=k):k=g[4];g[5]!==f||g[6]!==k?(a={onNext:f,subscription:i,updater:j,variables:k},g[5]=f,g[6]=k,g[7]=a):a=g[7];e=a;i=e;d("CometRelay").useSubscription(i)}function j(a){var b;a=a.getRootField("live_video_tag_subscribe");var c=a==null||(b=a.getLinkedRecord("tagged_page"))==null?void 0:b.getLinkedRecord("currently_live_video");a=a==null?void 0:a.getLinkedRecord("tagged_video");c==null&&a!=null&&a.setValue(null,"if_viewer_can_see_costreaming_tools")}g["default"]=a}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onNext,d=a.pageID;a=a.videoID;c("useLiveCostreamerTagSubscription.react")(d,a,b);return null}g["default"]=a}),98);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","react","react-compiler-runtime","recoverableViolation","useSelectedLatencySetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useMemo;f=h._(/*BTDS*/"Latency");var m=[o("low"),o("normal")],n=l.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function o(a){switch(a){case"low":return{description:h._(/*BTDS*/"A near-realtime experience."),title:h._(/*BTDS*/"Low latency"),value:a};case"normal":return{description:h._(/*BTDS*/"Best for performance and slower connections."),title:h._(/*BTDS*/"Normal"),value:a};case"ultra-low":return{description:h._(/*BTDS*/"Best for interactive broadcasts."),title:h._(/*BTDS*/"Ultra-low"),value:a};default:a;c("recoverableViolation")("Setting "+a+" is not valid","gaming_video");return{description:h._(/*BTDS*/"Error"),title:h._(/*BTDS*/"Error"),value:a}}}function a(a,b){var e=d("react-compiler-runtime").c(10),f=(k||(k=d("VideoPlayerHooks"))).useController(),g=k.useLatencyLevel();a=c("useSelectedLatencySetting")(a,b);var h=a[1];e[0]!==g?(b=o(g),e[0]=g,e[1]=b):b=e[1];a=b;b=a.title;e[2]!==f||e[3]!==g||e[4]!==h?(a=function(a){g!==a&&(h(a),f.setLatencyLevel(a))},e[2]=f,e[3]=g,e[4]=h,e[5]=a):a=e[5];a=a;var i;e[6]!==g||e[7]!==a||e[8]!==b?(i={selectedLatencySetting:g,selectedLatencySettingTitle:b,setSelectedLatencySetting:a},e[6]=g,e[7]=a,e[8]=b,e[9]=i):i=e[9];return i}var p=i!==void 0?i:i=b("LiveVideoLatencyMenuContextProvider_video.graphql");function e(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.video;a=d("CometRelay").useFragment(p,a);bb0:{if(a==null){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null},b[0]=e):e=b[0];e=e;break bb0}var f;b[1]!==a.if_viewer_can_use_latency_menu||b[2]!==a.if_viewer_can_use_latency_menu_toggle?(f={liveVideoLatencyMenuPaneMatchPointer:a.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:a.if_viewer_can_use_latency_menu_toggle},b[1]=a.if_viewer_can_use_latency_menu,b[2]=a.if_viewer_can_use_latency_menu_toggle,b[3]=f):f=b[3];e=f}a=e;b[4]!==c||b[5]!==a?(f=l.jsx(n.Provider,{value:a,children:c}),b[4]=c,b[5]=a,b[6]=f):f=b[6];return f}g.LATENCY_MENU_TITLE=f;g.LATENCY_SETTING_OPTIONS=m;g.LiveVideoLatencyMenuContext=n;g.getLiveVideoLatencySettingToInfoMapping=o;g.useLatencySettingState=a;g.LiveVideoLatencyMenuContextProvider=e}),226);
__d("VideoPlayerAudioTrackUtils",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a,b){if(b==null)return void 0;a=String(a).substring(0,2);try{return new Intl.DisplayNames([a],{type:"language"}).of(b)}catch(a){return void 0}};a=function(a,b){if(a==null)return h._(/*BTDS*/"Default");b=i(b,a.lang);b=b!=null?b:h._(/*BTDS*/"Default");var c=null;a.role==="dub"?c=h._(/*BTDS*/"Dubbed"):(a==null?void 0:a.role)==="description"&&(c=h._(/*BTDS*/"Description"));return c!=null?b.toString()+" - "+c.toString():b};g.getIntlDisplayName=i;g.getAudioTrackLabelLocalized=a}),226);
__d("VideoPlayerCaptionsControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCaptionsMenu.react",["fbt","$InternalEnum","CometKeys","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsMenuCaptionsDisplayPane.react","VideoPlayerCaptionsMenuMainPane.react","VideoPlayerHooks","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useEffect;e.useMemo;var m=e.useRef,n=e.useState,o=b("$InternalEnum")({CAPTIONS_BG_COLOR:"captionsBackgroundColor",CAPTIONS_BG_OPACITY:"captionsBackgroundOpacity",CAPTIONS_DISPLAY_MAIN:"captionsDisplayMain",CAPTIONS_TEXT_COLOR:"captionsTextColor",CAPTIONS_TEXT_SIZE:"captionsTextSize",CAPTIONS_MAIN:"captionsMain"});function a(a){var b=d("react-compiler-runtime").c(36),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,i=a.onClose,p=a.onPressLog,q=a.selectedCaptionsLocale,r=a.setCaptionsListExpanded;a=a.setSelectedCaptionsLocale;g=g===void 0?null:g;var s=(j||(j=d("VideoPlayerHooks"))).useCaptionDisplayStyle(),t=n(o.CAPTIONS_MAIN),u=t[0];t=t[1];var v=m(null),w=m(null),x;b[0]!==i?(x=function(a){v.current&&w.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!v.current.contains(a.target)&&w.current.contains(a.target)&&i()},b[0]=i,b[1]=x):x=b[1];var y=x,z;b[2]!==y?(x=function(){document.addEventListener("click",y);return function(){document.removeEventListener("click",y)}},z=[y],b[2]=y,b[3]=x,b[4]=z):(x=b[3],z=b[4]);l(x,z);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={key:c("CometKeys").ESCAPE},z=h._(/*BTDS*/"Close captions menu"),b[5]=x,b[6]=z):(x=b[5],z=b[6]);b[7]!==i?(x=[{command:x,description:z,handler:function(){i()}}],b[7]=i,b[8]=x):x=b[8];z=x;x=z;c("useLayerKeyCommands")(x);b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==p||b[13]!==q||b[14]!==r||b[15]!==a?(z=k.jsx(d("VideoPlayerCaptionsMenuMainPane.react").VideoPlayerCaptionsMenuMainPane,{availableCaptionsLocales:e,captionsListExpanded:f,onPressLog:p,selectedCaptionsLocale:q,setCaptionsListExpanded:r,setPane:t,setSelectedCaptionsLocale:a,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=p,b[13]=q,b[14]=r,b[15]=a,b[16]=z):z=b[16];x=z;bb0:switch(u){case o.CAPTIONS_MAIN:break bb0;case o.CAPTIONS_DISPLAY_MAIN:b[17]!==s||b[18]!==p?(e=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").VideoPlayerCaptionsMenuCaptionsDisplayMainPane,{currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[17]=s,b[18]=p,b[19]=e):e=b[19];x=e;break bb0;case o.CAPTIONS_BG_COLOR:b[20]!==s||b[21]!==p?(f=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[20]=s,b[21]=p,b[22]=f):f=b[22];x=f;break bb0;case o.CAPTIONS_BG_OPACITY:b[23]!==s||b[24]!==p?(g=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundOpacity",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[23]=s,b[24]=p,b[25]=g):g=b[25];x=g;break bb0;case o.CAPTIONS_TEXT_SIZE:b[26]!==s?(q=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextSize",currentCaptionsDisplay:s,setPane:t}),b[26]=s,b[27]=q):q=b[27];x=q;break bb0;case o.CAPTIONS_TEXT_COLOR:b[28]!==s||b[29]!==p?(r=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[28]=s,b[29]=p,b[30]=r):r=b[30];x=r}b[31]!==x?(a=k.jsx("div",{ref:v,children:x}),b[31]=x,b[32]=a):a=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1o0tod xixxii4 x13vifvy xh8yej3 x8knxv4"},{"data-testid":void 0,ref:w})),b[33]=z):z=b[33];b[34]!==a?(u=k.jsxs(k.Fragment,{children:[a,z]}),b[34]=a,b[35]=u):u=b[35];return u}g.VideoPlayerCaptionsMenuPaneType=o;g.VideoPlayerCaptionsMenu=a}),226);
__d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;var l={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",width:"xafpxmx",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},m={captionsBackgroundColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsBackgroundOpacity:{"0%":"TRANSPARENT","25%":"LIGHT","45%":"DEFAULT","75%":"DARK","100%":"OPAQUE"},captionsTextColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsTextSize:{"(50%)":"SMALLEST","(75%)":"SMALL","(100%)":"DEFAULT","(125%)":"MEDIUM","(150%)":"BIG","(175%)":"BIGGER","(200%)":"BIGGEST"}},n={"Background Color":{ftbLabel:h._(/*BTDS*/"Background Color"),name:"captionsBackgroundColor"},"Background Opacity":{ftbLabel:h._(/*BTDS*/"Background Opacity"),name:"captionsBackgroundOpacity"},"Text Color":{ftbLabel:h._(/*BTDS*/"Text Color"),name:"captionsTextColor"},"Text Size":{ftbLabel:h._(/*BTDS*/"Text Size"),name:"captionsTextSize"}},o={Black:h._(/*BTDS*/"Black"),Blue:h._(/*BTDS*/"Blue"),Cyan:h._(/*BTDS*/"Cyan"),Green:h._(/*BTDS*/"Green"),Magenta:h._(/*BTDS*/"Magenta"),Red:h._(/*BTDS*/"Red"),White:h._(/*BTDS*/"White"),Yellow:h._(/*BTDS*/"Yellow")};function p(a){var b=null,c=null;switch(a){case"(50%)":b=h._(/*BTDS*/"Small");c="X-";break;case"(75%)":b=h._(/*BTDS*/"Small");break;case"(125%)":b=h._(/*BTDS*/"Large");break;case"(150%)":b=h._(/*BTDS*/"Large");c="X-";break;case"(175%)":b=h._(/*BTDS*/"Large");c="XX-";break;case"(200%)":b=h._(/*BTDS*/"Large");c="XXX-";break;case"(100%)":b=h._(/*BTDS*/"Medium")}return k.jsxs("span",{children:[c!=null&&c,b,a]})}p.displayName=p.name+" [from "+f.id+"]";var q={captionsBackgroundColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_COLOR,captionsBackgroundOpacity:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_OPACITY,captionsTextColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_COLOR,captionsTextSize:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_SIZE};function r(a){var b=d("react-compiler-runtime").c(24),e=a.onPressLog,f=a.option,g=a.optionVal,h=a.setPane,j=n[f].name;b[0]!==j||b[1]!==e||b[2]!==f||b[3]!==h?(a=function(){h(q[j]),e&&e("captions_display_main_menu",f)},b[0]=j,b[1]=e,b[2]=f,b[3]=h,b[4]=a):a=b[4];a=a;var m;bb0:switch(j){case"captionsTextColor":case"captionsBackgroundColor":m=o[g];break bb0;default:m=g}var r=f.replace(" ","");r="video-player-captions-menu-captions-display-main-"+r;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1nxh6w3 x1s688f x1uncgzr"},b[5]=s):s=b[5];var t=n[f],u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1nxh6w3 xo1l8bm"},b[6]=u):u=b[6];var v;b[7]!==j||b[8]!==g||b[9]!==m?(v=j==="captionsTextSize"?p(g):m,b[7]=j,b[8]=g,b[9]=m,b[10]=v):v=b[10];b[11]!==v||b[12]!==r?(g=k.jsx("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:v})),b[11]=v,b[12]=r,b[13]=g):g=b[13];b[14]!==t.ftbLabel||b[15]!==g?(u=k.jsxs("div",babelHelpers["extends"]({},s,{children:[t.ftbLabel,g]})),b[14]=t.ftbLabel,b[15]=g,b[16]=u):u=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1rg5ohu"},r={className:"x1lliihq"},s={display:"table-cell"},b[17]=s,b[18]=v,b[19]=r):(s=b[17],v=b[18],r=b[19]);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx("div",{style:s,children:k.jsx(c("CometImage.react"),{src:i("480588")})})}))})),b[20]=t):t=b[20];b[21]!==a||b[22]!==u?(g=k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.menuOptionRow,children:[u,t]}),b[21]=a,b[22]=u,b[23]=g):g=b[23];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.setPane;b[0]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_MAIN)},b[0]=g,b[1]=a):a=b[1];a=a;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[2]=j):j=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x3nfvp2"},b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx("span",babelHelpers["extends"]({},o,{children:k.jsx(c("CometImage.react"),{src:i("480580")})})),p=k.jsx("span",babelHelpers["extends"]({className:"x1nxh6w3 x1s688f x1diwwjn"},{children:h._(/*BTDS*/"Subtitle Options")})),b[4]=o,b[5]=p):(o=b[4],p=b[5]);b[6]!==a?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.pressableOption,children:[o,p]})})),b[6]=a,b[7]=j):j=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1anpbxc"},b[8]=o):o=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=Object.keys(n),b[9]=p):p=b[9];b[10]!==e||b[11]!==f||b[12]!==g?(a=k.jsx("div",babelHelpers["extends"]({},o,{"data-testid":void 0,children:p.map(function(a){var b=n[a].name,c=m[b];c=Object.fromEntries(Object.entries(c).map(s));c=e!=null?c[e[b]]:"";return k.jsx(r,{onPressLog:f,option:a,optionVal:c,setPane:g},a)})})),b[10]=e,b[11]=f,b[12]=g,b[13]=a):a=b[13];b[14]!==j||b[15]!==a?(o=k.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[j,a]}),b[14]=j,b[15]=a,b[16]=o):o=b[16];return o}function s(a){var b=a[0];a=a[1];return[a,b]}g.captionsDisplayOptionsMap=m;g.colorsFBTMap=o;g.getFontSizeDivWithFBTLabel=p;g.VideoPlayerCaptionsMenuCaptionsDisplayMainPane=a}),226);
__d("VideoPlayerCaptionsSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8917695971664599"}),null);
__d("VideoPlayerCaptionsSettingMutation.graphql",["VideoPlayerCaptionsSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPlayerCaptionsSettingResponsePayload",kind:"LinkedField",name:"video_player_captions_setting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoPlayerCaptionsSettingMutation",selections:c},params:{id:b("VideoPlayerCaptionsSettingMutation_facebookRelayOperation"),metadata:{},name:"VideoPlayerCaptionsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoPlayerCaptionsSettingMutation",["CometRelay","VideoPlayerCaptionsSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("VideoPlayerCaptionsSettingMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_captions_setting:{success:!0}},variables:{input:{captions_background_color:b.captions_background_color,captions_background_opacity:b.captions_background_opacity,captions_text_color:b.captions_text_color,captions_text_size:b.captions_text_size,client_mutation_id:"www_captions_settings"}}})}g.commit=a}),98);
__d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react",["fbt","ix","CometImage.react","CometPressable.react","CometRelay","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsSettingMutation","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react")),m=j.useCallback,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},o={captionsBackgroundColor:h._(/*BTDS*/"Background Color"),captionsBackgroundOpacity:h._(/*BTDS*/"Background Opacity"),captionsTextColor:h._(/*BTDS*/"Text Color"),captionsTextSize:h._(/*BTDS*/"Text Size")},p=function(a){return{captions_background_color:a.captionsBackgroundColor,captions_background_opacity:a.captionsBackgroundOpacity,captions_text_color:a.captionsTextColor,captions_text_size:a.captionsTextSize}};function q(a){var b=a.captionsDisplayOption,e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.option,h=a.selected,j=a.setPane,o=(k||(k=d("VideoPlayerHooks"))).useController();a=h;var q=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[b];h=null;switch(b){case"captionsTextColor":case"captionsBackgroundColor":h=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").colorsFBTMap[g];break;default:h=g}var r="video-player-captions-menu-captions-display-pane-"+b+"-"+g;r=m(function(){a=!0;if(e!=null){e[b]=q[g];o.setCaptionsDisplayStyle(babelHelpers["extends"]({},e));var c=p(e);d("VideoPlayerCaptionsSettingMutation").commit(s,c)}j(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN);f&&f(b)},[e,q,b,o,g]);var s=d("CometRelay").useRelayEnvironment();return l.jsxs(c("CometPressable.react"),{"aria-pressed":a,onPress:r,testid:void 0,xstyle:n.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu x1849jeq"},{children:a&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})})),b==="captionsTextSize"?d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").getFontSizeDivWithFBTLabel(g):l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu"},{children:h}))]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(26),e=a.captionsDisplayOption,f=a.currentCaptionsDisplay,g=a.onPressLog,h=a.setPane;a=o[e];var j=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[e],k=f!=null?f[e]:null,m;b[0]!==h?(m=function(){h(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN)},b[0]=h,b[1]=m):m=b[1];m=m;var p="video-player-captions-menu-captions-display-pane-"+e,r;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1nxh6w3 x1s688f x1lku1pv"},b[2]=r):r=b[2];var s=p+"-topBar",t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x3nfvp2 x1849jeq"},b[3]=t):t=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx("span",babelHelpers["extends"]({},t,{children:l.jsx(c("CometImage.react"),{src:i("480580")})})),b[4]=t):t=b[4];b[5]!==m||b[6]!==a||b[7]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:l.jsxs(c("CometPressable.react"),{onPress:m,testid:void 0,xstyle:n.pressableOption,children:[t,a]})})),b[5]=m,b[6]=a,b[7]=s,b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1nxh6w3 xo1l8bm x1anpbxc"},b[9]=t):t=b[9];b[10]!==j?(m=Object.keys(j),b[10]=j,b[11]=m):m=b[11];b[12]!==j||b[13]!==k||b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==m?(a=m.map(function(a){var b=k===j[a];return l.jsx(q,{captionsDisplayOption:e,currentCaptionsDisplay:f,onPressLog:g,option:a,selected:b,setPane:h},a)}),b[12]=j,b[13]=k,b[14]=e,b[15]=f,b[16]=g,b[17]=h,b[18]=m,b[19]=a):a=b[19];b[20]!==a||b[21]!==p?(s=l.jsx("div",babelHelpers["extends"]({},t,{"data-testid":void 0,children:a})),b[20]=a,b[21]=p,b[22]=s):s=b[22];b[23]!==s||b[24]!==r?(m=l.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[r,s]}),b[23]=s,b[24]=r,b[25]=m):m=b[25];return m}g.VideoPlayerCaptionsMenuCaptionsDisplayPane=a}),226);
__d("VideoPlayerCaptionsMenuMainPane.react",["fbt","ix","CometPressable.react","CometScrollableArea.react","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenuTopBar.react","VideoPlayerHooks","fbicon","focusScopeQueries","isTruthy","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;var m=b.useEffect,n=b.useRef,o={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",fontSize:"x1nxh6w3",fontWeight:"xo1l8bm",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",":hover_backgroundColor":"xx8nu07",$$css:!0}},p=5;function q(a){var b,e=d("react-compiler-runtime").c(27),f=a.captions,g=a.captionsVisible,j=a.controller,m=a.focused,n=a.onPressLog,p=a.setSelectedCaptionsLocale;a=(k||(k=d("VideoPlayerHooks"))).useIsVideoBroadcast();a=f.localizedCreationMethod!=null||a;b="video-player-captions-menu-language-list-item-"+((b=f.localizedLanguage)!=null?b:"");var q;e[0]!==f.captionsUrl||e[1]!==f.locale||e[2]!==f.localizedLanguage||e[3]!==g||e[4]!==j||e[5]!==n||e[6]!==p?(q=function(){var a;f.locale!=null&&p(f.locale);g||j.setCaptionsVisible(!0);f.captionsUrl!=null&&j.setCaptionsUrl(f.captionsUrl);n&&n("captions_language_selector",(a=f.localizedLanguage)!=null?a:"")},e[0]=f.captionsUrl,e[1]=f.locale,e[2]=f.localizedLanguage,e[3]=g,e[4]=j,e[5]=n,e[6]=p,e[7]=q):q=e[7];var r;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1rg5ohu xw4jnvo"},e[8]=r):r=e[8];var s;e[9]!==m||e[10]!==b?(s=m&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),e[9]=m,e[10]=b,e[11]=s):s=e[11];e[12]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:s})),e[12]=s,e[13]=r):r=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},e[14]=s):s=e[14];var t=c("isTruthy")(f.localizedCountry)?" "+f.localizedCountry:null,u;e[15]!==a?(u=!a&&l.jsxs(l.Fragment,{children:[" ",h._(/*BTDS*/"(Provided by Author)")]}),e[15]=a,e[16]=u):u=e[16];e[17]!==f.localizedLanguage||e[18]!==t||e[19]!==u?(a=l.jsxs("div",babelHelpers["extends"]({},s,{children:[f.localizedLanguage,t,u]})),e[17]=f.localizedLanguage,e[18]=t,e[19]=u,e[20]=a):a=e[20];e[21]!==m||e[22]!==q||e[23]!==r||e[24]!==a||e[25]!==b?(s=l.jsxs(c("CometPressable.react"),{"aria-pressed":m,onPress:q,testid:void 0,xstyle:o.menuOptionRow,children:[r,a]}),e[21]=m,e[22]=q,e[23]=r,e[24]=a,e[25]=b,e[26]=s):s=e[26];return s}var r="Toggle On";function a(a){var b=d("react-compiler-runtime").c(66),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,j=a.onPressLog,s=a.selectedCaptionsLocale,t=a.setCaptionsListExpanded,u=a.setPane,v=a.setSelectedCaptionsLocale,w=(k||(k=d("VideoPlayerHooks"))).useController(),x=k.useCaptionsVisible(),y=e!=null?e.length:0,z=n(!1),A;b[0]!==y||b[1]!==x||b[2]!==v?(a=function(){x||v(""),x&&y===0&&!z.current&&(z.current=!0,v(r))},A=[x,v,y],b[0]=y,b[1]=x,b[2]=v,b[3]=a,b[4]=A):(a=b[3],A=b[4]);m(a,A);if(e==null)return null;b[5]!==e||b[6]!==j||b[7]!==u?(a=l.jsx(c("VideoPlayerCaptionsMenuTopBar.react"),{availableCaptionsLocales:e,onPressLog:j,setPane:u}),b[5]=e,b[6]=j,b[7]=u,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1anpbxc x15eivr9"},b[9]=A):A=b[9];b[10]!==y||b[11]!==w||b[12]!==s||b[13]!==v?(u=y===0&&l.jsxs(c("CometPressable.react"),{"aria-pressed":s===r,onPress:function(){v(r),w.setCaptionsVisible(!0)},xstyle:o.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu xw4jnvo"},{children:s===r&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})),l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},{children:h._(/*BTDS*/"On")}))]}),b[10]=y,b[11]=w,b[12]=s,b[13]=v,b[14]=u):u=b[14];var B=s==="",C;b[15]!==w||b[16]!==v?(C=function(){v(""),w.setCaptionsVisible(!1)},b[15]=w,b[16]=v,b[17]=C):C=b[17];var D;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"x1rg5ohu xw4jnvo"},b[18]=D):D=b[18];var E;b[19]!==s?(E=s===""&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)}),b[19]=s,b[20]=E):E=b[20];b[21]!==E?(D=l.jsx("div",babelHelpers["extends"]({},D,{children:E})),b[21]=E,b[22]=D):D=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(E=l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},{children:h._(/*BTDS*/"Off")})),b[23]=E):E=b[23];b[24]!==D||b[25]!==B||b[26]!==C?(E=l.jsxs(c("CometPressable.react"),{"aria-pressed":B,onPress:C,xstyle:o.menuOptionRow,children:[D,E]}),b[24]=D,b[25]=B,b[26]=C,b[27]=E):E=b[27];if(b[28]!==e||b[29]!==x||b[30]!==w||b[31]!==j||b[32]!==s||b[33]!==v){b[35]!==x||b[36]!==w||b[37]!==j||b[38]!==s||b[39]!==v?(D=function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,onPressLog:j,setSelectedCaptionsLocale:v},a.locale):null},b[35]=x,b[36]=w,b[37]=j,b[38]=s,b[39]=v,b[40]=D):D=b[40];B=e.slice(0,4).map(D);b[28]=e;b[29]=x;b[30]=w;b[31]=j;b[32]=s;b[33]=v;b[34]=B}else B=b[34];b[41]!==y||b[42]!==f||b[43]!==t?(C=y>=p&&!f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!0)},xstyle:o.menuOptionRow,children:l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x9pbi5e"},{children:h._(/*BTDS*/"See more")}))}),b[41]=y,b[42]=f,b[43]=t,b[44]=C):C=b[44];b[45]!==e||b[46]!==f||b[47]!==x||b[48]!==w||b[49]!==s||b[50]!==v?(D=f&&e.slice(4).map(function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,setSelectedCaptionsLocale:v},a.locale):null}),b[45]=e,b[46]=f,b[47]=x,b[48]=w,b[49]=s,b[50]=v,b[51]=D):D=b[51];b[52]!==f||b[53]!==t?(e=f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!1)},xstyle:o.menuOptionRow,children:l.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu x9pbi5e"},{children:h._(/*BTDS*/"See less")}))}),b[52]=f,b[53]=t,b[54]=e):e=b[54];b[55]!==E||b[56]!==B||b[57]!==C||b[58]!==D||b[59]!==e||b[60]!==u?(f=l.jsx(c("CometScrollableArea.react"),{hideScrollbar:!0,children:l.jsxs("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:[u,E,B,C,D,e]}))}),b[55]=E,b[56]=B,b[57]=C,b[58]=D,b[59]=e,b[60]=u,b[61]=f):f=b[61];b[62]!==g||b[63]!==f||b[64]!==a?(A=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,g,f]})}),b[62]=g,b[63]=f,b[64]=a,b[65]=A):A=b[65];return A}g.VideoPlayerCaptionsMenuMainPane=a}),226);
__d("VideoPlayerCaptionsMenuTopBar.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerCaptionsMenu.react","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));j.useCallback;var m={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.availableCaptionsLocales,f=a.onPressLog,g=a.setPane;b[0]!==f||b[1]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),f&&f("captions_main_menu_top_bar")},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var j=(k||(k=d("VideoPlayerHooks"))).useIsLive(),o=k.useIsVideoBroadcast();o=o&&!j;b[3]!==e||b[4]!==o?(j=(e==null?void 0:e.some(n))||o,b[3]=e,b[4]=o,b[5]=j):j=b[5];e=j;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14ctfv x78zum5 x1jzhcrs"},b[6]=o):o=b[6];var p,q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x1s688f"},{children:h._(/*BTDS*/"Subtitles")})),p={className:"x6s0dn4 x14ctfv x1ypdohk x3nfvp2 x1bhwmg6 x13a6bvl xymharo"},q={className:"x3nfvp2"},b[7]=j,b[8]=p,b[9]=q):(j=b[7],p=b[8],q=b[9]);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsxs("div",babelHelpers["extends"]({},p,{children:[l.jsx("span",babelHelpers["extends"]({},q,{children:l.jsx(c("CometImage.react"),{src:i("492300")})})),l.jsx("div",babelHelpers["extends"]({className:"x3nfvp2 xo1l8bm xdzw4kq"},{children:h._(/*BTDS*/"Options")}))]})),b[10]=p):p=b[10];b[11]!==a?(q=l.jsx("div",babelHelpers["extends"]({},o,{children:l.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:m.pressableOption,children:[j,p]})})),b[11]=a,b[12]=q):q=b[12];b[13]!==e?(o=e!=null&&e&&l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x1k4tb9n"},{children:h._(/*BTDS*/"Auto-generated")})),b[13]=e,b[14]=o):o=b[14];b[15]!==q||b[16]!==o?(j=l.jsxs("div",{children:[q,o]}),b[15]=q,b[16]=o,b[17]=j):j=b[17];return j}function n(a){return a.localizedCreationMethod!=null}g["default"]=a}),226);
__d("VideoPlayerCaptionsControl.react",["fbt","ix","CometRelay","IntlCurrentLocale","VideoPlayerCaptionsControl_video.graphql","VideoPlayerCaptionsMenu.react","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerLoggingSuboriginContext","VideoPlayerUserInteractionCounter","fbicon","react","requireDeferred","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;var n=e.useCallback,o=e.useContext,p=e.useEffect,q=e.useMemo,r=e.useRef,s=e.useState,t=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerCaptionsControl.react"),u="asr",v=function(a){return a.length<2?null:a.substr(0,2)};function a(a){var e=a.alignMenuToIcon;e=e===void 0?!1:e;var f=a.availableCaptionsLocales,g=a.captionsVisible,k=a.children;k=k===void 0?null:k;var w=a.compactMenu,x=a.icon,y=a.initialCaptionsUrl,z=a.menuOpened,A=a.onMenuOpen,B=a.onUserInteraction,C=a.setMenuOpened;a=a.video;var D=h._(/*BTDS*/"Captions");d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_captions_menu",z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,B);B=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerCaptionsControl_video.graphql"),a);var E=(l||(l=d("VideoPlayerHooks"))).useMuted(),F=l.useController(),G=c("usePlayerOriginRouteTracePolicy")(),H=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(B),I=q(function(){var a;return((a=f!=null?f:H)!=null?a:[]).slice().sort(function(a,b){return((a=a.localizedLanguage)!=null?a:"")>((a=b.localizedLanguage)!=null?a:"")?1:-1})},[f,H]),J=y!=null?y:B==null?void 0:B.captions_url;a=s("");var K=a[0],L=a[1],M=r(null),N=r(null);p(function(){I.forEach(function(a){a.captionsUrl===J&&a.locale!=null&&(M.current==null&&(M.current=a.locale),L(a.locale))})},[I,J]);var O=c("IntlCurrentLocale").code;p(function(){var a;a=v((a=M.current)!=null?a:"");M.current!==u&&a!=null&&a!==v(O)&&N.current===null?(F.setCaptionsVisible(!1),N.current=!1):E&&!g&&K!==""&&N.current===null?(N.current=!0,F.setCaptionsVisible(!0)):!E&&N.current===!0&&(F.setCaptionsVisible(!1),N.current=!1)},[g,F,E,O,K]);var P=z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU;y=s(!1);B=y[0];a=y[1];var Q=o(c("VideoPlayerLoggingSuboriginContext")),R=c("useMinifiedProductAttribution")(),S=n(function(a,b){a===void 0&&(a=null),b===void 0&&(b=null),t.onReady(function(c){c.log({attribution_id_v2:R,click_point:a,event:"click",event_target_info:G,event_target_sub_type:b,player_suborigin:Q})})},[R,G,Q]);return m.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],{"data-testid":void 0,children:[P&&m.jsx("div",babelHelpers["extends"]({role:"dialog"},{0:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk xk6ci0l x1602a87"},2:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 xwjie4w"},1:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"},3:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"}}[!!(w===!0)<<1|!!(e===!0)<<0],{children:m.jsx(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenu,{availableCaptionsLocales:I,captionsListExpanded:B,onClose:function(){C!=null&&C(null)},onPressLog:S,selectedCaptionsLocale:K,setCaptionsListExpanded:a,setSelectedCaptionsLocale:L,children:k})})),m.jsx(c("VideoPlayerControlIcon.react"),{icon:x==null?g?d("fbicon")._(i("662652"),20):d("fbicon")._(i("662655"),20):x,label:D,onPress:function(){C!=null&&C(P?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU),!P&&A!=null&&A(),S("closed_captions_button")},tooltip:D})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));g["default"]=a}),98);
__d("VideoPlayerCastControlShim.react",["CometPlaceholder.react","VideoPlayerCastControlShimImpl.modern.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isVisible"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,f;b[0]!==a?(e=a.isVisible,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("VideoPlayerCastControlShimImpl.modern.react"),babelHelpers["extends"]({},f))}),b[3]=f,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(f=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:e,noPaddingEnd:!0,noPaddingStart:!0,children:a}),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerExpandSidePanelControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailExpanded,f=b.setRightRailExpanded;a[0]!==e?(b=e?h._(/*BTDS*/"Collapse comments"):h._(/*BTDS*/"Expand comments"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("557039"),20):d("fbicon")._(i("557052"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerLiveVideoControls_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_clipping_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_rewind_enabled",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"LiveVideoLatencyMenuContextProvider_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_community_moderation_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video",fragmentName:"VideoPlayerModeratorControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_live_rewind",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_live_rewind",fragmentName:"VideoPlayerLiveRewindControlsGroup_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_see_costreaming_tools",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("VideoPlayerQuietModeControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailHidden,f=b.setRightRailHidden;a[0]!==e?(b=e?h._(/*BTDS*/"Show comments and reactions"):h._(/*BTDS*/"Hide comments and reactions"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("942218"),20):d("fbicon")._(i("942221"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.selectedVideoQuality,f=a.setPane;a=a.targetVideoQuality;var g;b[0]!==f?(g=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},b[0]=f,b[1]=g):g=b[1];var j,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Quality")})),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=j,b[3]=m):(j=b[2],m=b[3]);var n;b[4]!==e||b[5]!==a?(n=e==="notselected"?k.jsx("span",{"data-testid":void 0,children:"\xa0"}):e==="auto"?k.jsxs(k.Fragment,{children:[k.jsx("span",{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}),a!=null?k.jsxs(k.Fragment,{children:[k.jsx("span",{children:"\xa0"}),k.jsx("span",{"data-testid":void 0,children:a})]}):null]}):k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=a,b[6]=n):n=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[8]=a):a=b[8];b[9]!==n?(e=k.jsxs("div",babelHelpers["extends"]({},m,{children:[n,a]})),b[9]=n,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(m=k.jsxs(c("CometPressable.react"),{onPress:g,testid:void 0,xstyle:l.pressableOption,children:[j,e]}),b[11]=g,b[12]=e,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuAudioTrackPane.react","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","react","react-compiler-runtime","recoverableViolation","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=b("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function a(a){var b=d("react-compiler-runtime").c(57),e=a.children,f=a.forceShowPlaybackRateControl,g=a.onClose,i=a.originalVideoLanguage;a=a.videoID;e=e===void 0?null:e;var q=(j||(j=d("VideoPlayerHooks"))).useCaptionsLoaded(),r=j.useCaptionsVisible(),s=j.useSelectedVideoQuality(),t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=[],b[0]=t):t=b[0];t=o(t);var u=t[0],v=t[1];t=o(null);var w=t[0],x=t[1],y=j.useController(),z;b[1]!==y?(t=function(){if(y==null)return;var a=y.subscribe(function(){var a;x((a=y.getCurrentState().targetAudioTrack)!=null?a:null);v((a=y.getCurrentState().availableAudioTracks)!=null?a:[])});return function(){a.remove()}},z=[y],b[1]=y,b[2]=t,b[3]=z):(t=b[2],z=b[3]);m(t,z);t=j.useInbandCaptionsAutogenerated();z=j.useTargetVideoQuality();var A=o(p.MAIN),B=A[0],C=A[1];A=o(r);r=A[0];A=A[1];var D=j.usePlaybackRate(),E=j.useIsLive(),F=j.useIsLiveRewindActive(),G=l(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);G=G.liveVideoLatencyMenuPaneMatchPointer;var H=j.useShouldShowPlaybackRateControl(),I;b[4]!==f||b[5]!==H?(I=f===!0||d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&H,b[4]=f,b[5]=H,b[6]=I):I=b[6];f=I;b[7]!==E||b[8]!==F||b[9]!==B?(H=function(){E&&!F&&B===p.PLAYBACK_SPEED&&C(p.MAIN)},I=[F,C,E,B],b[7]=E,b[8]=F,b[9]=B,b[10]=H,b[11]=I):(H=b[10],I=b[11]);m(H,I);b[12]!==u.length||b[13]!==B?(H=function(){u.length<=1&&B===p.AUDIO&&C(p.MAIN)},b[12]=u.length,b[13]=B,b[14]=H):H=b[14];b[15]!==u||b[16]!==B?(I=[u,B],b[15]=u,b[16]=B,b[17]=I):I=b[17];m(H,I);var J=n(null),K=n(null);b[18]!==g?(H=function(a){J.current&&K.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!J.current.contains(a.target)&&K.current.contains(a.target)&&g()},b[18]=g,b[19]=H):H=b[19];var L=H;b[20]!==L?(I=function(){document.addEventListener("click",L);return function(){document.removeEventListener("click",L)}},H=[L],b[20]=L,b[21]=I,b[22]=H):(I=b[21],H=b[22]);m(I,H);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(I={key:c("CometKeys").ESCAPE},H=h._(/*BTDS*/"Close video settings menu"),b[23]=I,b[24]=H):(I=b[23],H=b[24]);b[25]!==g?(I=[{command:I,description:H,handler:function(){g()}}],b[25]=g,b[26]=I):I=b[26];H=I;I=H;c("useLayerKeyCommands")(I);H=w!=null?w:null;b[27]!==u||b[28]!==q||b[29]!==r||b[30]!==e||b[31]!==t||b[32]!==E||b[33]!==D||b[34]!==s||b[35]!==f||b[36]!==H||b[37]!==z?(I=k.jsx(c("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:u,captionsLoaded:q,captionsVisibleOptimistic:r,inbandCaptionsAutogenerated:t,isLive:E,playbackRate:D,selectedVideoQuality:s,setIsCaptionsVisible:A,setPane:C,shouldEnablePlaybackRateSupport:f,targetAudioTrack:H,targetVideoQuality:z,children:e}),b[27]=u,b[28]=q,b[29]=r,b[30]=e,b[31]=t,b[32]=E,b[33]=D,b[34]=s,b[35]=f,b[36]=H,b[37]=z,b[38]=I):I=b[38];A=I;bb0:switch(B){case p.LATENCY:if(G==null){c("recoverableViolation")("Latency components should not be null","gaming_video");break bb0}b[39]===Symbol["for"]("react.memo_cache_sentinel")?(q={setPane:C},b[39]=q):q=b[39];b[40]!==G?(r=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:G,props:q})})}),b[40]=G,b[41]=r):r=b[41];A=r;break bb0;case p.MAIN:break bb0;case p.PLAYBACK_SPEED:b[42]!==D?(e=k.jsx(c("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:D,setPane:C}),b[42]=D,b[43]=e):e=b[43];A=e;break bb0;case p.QUALITY:b[44]!==s?(t=k.jsx(c("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:s,setPane:C}),b[44]=s,b[45]=t):t=b[45];A=t;break bb0;case p.AUDIO:b[46]!==u||b[47]!==E||b[48]!==i||b[49]!==w||b[50]!==a?(f=!E&&u.length>1?k.jsx(c("VideoPlayerSettingsMenuAudioTrackPane.react"),{availableAudioTracks:u,originalVideoLanguage:i!=null?i:null,setPane:C,targetAudioTrack:w!=null?w:null,videoID:a!=null?a:null}):null,b[46]=u,b[47]=E,b[48]=i,b[49]=w,b[50]=a,b[51]=f):f=b[51];A=f}b[52]!==A?(H=k.jsx("div",{ref:J,children:A}),b[52]=A,b[53]=H):H=b[53];b[54]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",babelHelpers["extends"]({className:"xjbqb8w x5yr21d x1o0tod xg6iff7 x1g81zrj xixxii4 x13vifvy xh8yej3 x8knxv4"},{"data-testid":void 0,ref:K})),b[54]=z):z=b[54];b[55]!==H?(I=k.jsxs(k.Fragment,{children:[H,z]}),b[55]=H,b[56]=I):I=b[56];return I}g.VideoPlayerSettingsMenuPaneType=p;g.VideoPlayerSettingsMenu=a}),226);
__d("VideoPlayerSettingsMenuAudioTrackPane.react",["ix","AutoDubbingConsumptionFalcoEvent","CometAudioLanguageMenuItemsMutation","CometFeedStoryMetaSectionMiddot.react","CometImage.react","CometPressable.react","CometRelay","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","FDSTextPairing.react","FocusRegion.react","VideoPlayerAudioTrackUtils","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.availableAudioTracks,f=a.originalVideoLanguage,g=a.setPane,i=a.targetAudioTrack,o=a.videoID,p=(j||(j=d("VideoPlayerHooks"))).useController();a=d("CometRelay").useMutation(d("CometAudioLanguageMenuItemsMutation").setUserPreferredAudioLanguageDataMutation);var q=a[0];b[0]!==q?(a=function(a){a!=null&&q({variables:{input:{language_code:a}}})},b[0]=q,b[1]=a):a=b[1];var r=a;b[2]!==o?(a=function(a,b,d,e,f){var g={client_extra_data:{dubbing_type_from:d==null?"original":d,dubbing_type_to:e==null?"original":e,lang_from:a!=null?a:"original",lang_to:b!=null?b:"original"},event:f,video_id:o!=null?o:""};c("AutoDubbingConsumptionFalcoEvent").log(function(){return g})},b[2]=o,b[3]=a):a=b[3];var s=a;b[4]!==f?(a=function(a){var b;b=(b=a==null?void 0:a.lang)!=null?b:null;(a==null?void 0:a.lang)===null&&a.role==null&&(b=f!=null?f:null);return b},b[4]=f,b[5]=a):a=b[5];var t=a,u=m(null),v=function(a){var b=t(a),c=t(i);p.selectVideoVariant({lang:a.lang,role:a.role});r(b);s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption_preferred_language_changed");u.current!=null&&u.current.remove();u.current=p.subscribe(function(){var d;if(((d=p.getCurrentState().targetAudioTrack)==null?void 0:d.id)===a.id){s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption");(d=u.current)==null||d.remove()}})};b[6]!==p?(a=[p],b[6]=p,b[7]=a):a=b[7];l(function(){return function(){var a;(a=u.current)==null||a.remove()}},a);b[8]!==f?(a=function(a){var b=a==null?void 0:a.lang;b==null&&(a==null?void 0:a.role)==null&&(b=f!=null?f:null);b=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),b);var e=null;a.role==null?e=b==null?k.jsx("div",{children:d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL}):k.jsxs("div",{children:[d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b),k.jsx(c("CometFeedStoryMetaSectionMiddot.react"),{}),d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL]}):b!=null&&(e=d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b));return e},b[8]=f,b[9]=a):a=b[9];var w=a;a=d("FocusRegion.react").FocusRegion;var x=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,y=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,z="VideoPlayerSettingsMenu/changeAudioTrackPane";b[10]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[10]=z):z=b[10];var A;b[11]!==g?(A=function(){return g(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[11]=g,b[12]=A):A=b[12];var B;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[13]=B):B=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("span",babelHelpers["extends"]({},B,{children:k.jsx(c("CometImage.react"),{src:h("480579")})})),b[14]=B):B=b[14];b[15]!==A?(z=k.jsx("div",babelHelpers["extends"]({},z,{children:k.jsxs(c("CometPressable.react"),{onPress:A,testid:void 0,xstyle:n.pressableOption,children:[B,d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM]})})),b[15]=A,b[16]=z):z=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("div",babelHelpers["extends"]({className:"x1j9u4d2 xyamay9"},{children:k.jsx(c("FDSTextPairing.react"),{body:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_DESCRIPTION,bodyColor:"white",level:4})})),A={className:"x1hm9lzh x1anpbxc xn80e1m"},b[17]=B,b[18]=A):(B=b[17],A=b[18]);var C="VideoPlayerSettingsMenu/changeAudioTrackPaneList";C=e.map(function(a){var b=(i==null?void 0:i.id)===a.id,d=w(a);if(d!=null)return k.jsx("div",{children:k.jsxs(c("CometPressable.react"),{onPress:function(){return v(a)},testid:void 0,xstyle:n.menuOptionRow,children:[k.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:b&&k.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:d}))]})},a.id)});b[19]!==A||b[20]!==C?(e=k.jsx("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:C})),b[19]=A,b[20]=C,b[21]=e):e=b[21];b[22]!==z||b[23]!==B||b[24]!==e?(A=k.jsxs("div",{"data-testid":void 0,children:[z,B,e]}),b[22]=z,b[23]=B,b[24]=e,b[25]=A):A=b[25];b[26]!==a||b[27]!==A||b[28]!==x||b[29]!==y?(C=k.jsx(a,{autoFocusQuery:x,recoverFocusQuery:y,children:A}),b[26]=a,b[27]=A,b[28]=x,b[29]=y,b[30]=C):C=b[30];return C}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["ix","CometImage.react","CometPressable.react","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(30),e=a.setPane;a=a.targetAudioTrack;var f,g,i,l,m,n,o;if(b[0]!==e||b[1]!==(a==null?void 0:a.lang)||b[2]!==(a==null?void 0:a.role)){var p=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),a==null?void 0:a.lang);f=c("CometPressable.react");b[11]!==e?(l=function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},b[11]=e,b[12]=l):l=b[12];m="VideoPlayerSettingsMenu/mainPaneAudioTrackItem";n=k.pressableOption;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM})),i={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j xn80e1m"},b[13]=i,b[14]=o):(i=b[13],o=b[14]);g="VideoPlayerSettingsMenu/mainPaneAudioTrackItemLabelManuallySelected";p=(a==null?void 0:a.role)===null?d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_OFF:(a==null?void 0:a.role)==="dub"&&p!=null?d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(p):null;b[0]=e;b[1]=a==null?void 0:a.lang;b[2]=a==null?void 0:a.role;b[3]=f;b[4]=g;b[5]=p;b[6]=i;b[7]=l;b[8]=m;b[9]=n;b[10]=o}else f=b[3],g=b[4],p=b[5],i=b[6],l=b[7],m=b[8],n=b[9],o=b[10];b[15]!==g||b[16]!==p?(a=j.jsx("span",{"data-testid":void 0,children:p}),b[15]=g,b[16]=p,b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x3nfvp2 xmgb6t1 xwklpps"},b[18]=g):g=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx("span",babelHelpers["extends"]({},g,{children:j.jsx(c("CometImage.react"),{src:h("480587")})})),b[19]=p):p=b[19];b[20]!==i||b[21]!==a?(g=j.jsxs("div",babelHelpers["extends"]({},i,{children:[a,p]})),b[20]=i,b[21]=a,b[22]=g):g=b[22];b[23]!==f||b[24]!==g||b[25]!==l||b[26]!==m||b[27]!==n||b[28]!==o?(p=j.jsxs(f,{onPress:l,testid:void 0,xstyle:n,children:[o,g]}),b[23]=f,b[24]=g,b[25]=l,b[26]=m,b[27]=n,b[28]=o,b[29]=p):p=b[29];return p}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuAudioTrackPaneToggle.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.availableAudioTracks,f=a.children,g=a.isLive,h=a.playbackRate,k=a.selectedVideoQuality,l=a.setPane,m=a.shouldEnablePlaybackRateSupport,n=a.targetAudioTrack;a=a.targetVideoQuality;var o=j(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);o=o.liveVideoLatencyMenuPaneToggleMatchPointer;g=!g&&e.length>1?c("gkx")("24336"):!1;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[0]=e):e=b[0];b[1]!==k||b[2]!==l||b[3]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:k,setPane:l,targetVideoQuality:a})})),b[1]=k,b[2]=l,b[3]=a,b[4]=e):e=b[4];b[5]!==l||b[6]!==g||b[7]!==n?(k=g&&i.jsx("div",babelHelpers["extends"]({className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},{children:i.jsx(c("VideoPlayerSettingsMenuAudioTrackPaneToggle.react"),{setPane:l,targetAudioTrack:n})})),b[5]=l,b[6]=g,b[7]=n,b[8]=k):k=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[9]=a):a=b[9];b[10]!==h||b[11]!==l||b[12]!==m?(g=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:h,setPane:l,shouldEnablePlaybackRateSupport:m})})),b[10]=h,b[11]=l,b[12]=m,b[13]=g):g=b[13];b[14]!==o||b[15]!==l?(n=o!=null&&i.jsx("div",babelHelpers["extends"]({className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},{children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:o,props:{setPane:l}})})})})),b[14]=o,b[15]=l,b[16]=n):n=b[16];b[17]!==f||b[18]!==e||b[19]!==k||b[20]!==g||b[21]!==n?(a=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:i.jsxs("div",{"data-testid":void 0,children:[e,k,g,n,f]})}),b[17]=f,b[18]=e,b[19]=k,b[20]=g,b[21]=n,b[22]=a):a=b[22];return a}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.playbackRate,f=a.setPane;a=a.shouldEnablePlaybackRateSupport;if(!a)return null;b[0]!==f?(a=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},b[0]=f,b[1]=a):a=b[1];var g,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",babelHelpers["extends"]({className:"x1ypdohk x1s688f"},{children:h._(/*BTDS*/"Playback Speed")})),j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=g,b[3]=j):(g=b[2],j=b[3]);var m;b[4]!==e?(m=k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[7]=e):e=b[7];b[8]!==m?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,e]})),b[8]=m,b[9]=j):j=b[9];b[10]!==a||b[11]!==j?(e=k.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:l.pressableOption,children:[g,j]}),b[10]=a,b[11]=j,b[12]=e):e=b[12];return e}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.playbackRate,f=a.setPane,g=(k||(k=d("VideoPlayerHooks"))).useController();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=a):a=b[0];var j;b[1]!==f?(j=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=j):j=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x3nfvp2 xmgb6t1 x165d6jo"},b[3]=n):n=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx("span",babelHelpers["extends"]({},n,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),o=h._(/*BTDS*/"Playback Speed"),b[4]=n,b[5]=o):(n=b[4],o=b[5]);b[6]!==j?(a=l.jsx("div",babelHelpers["extends"]({},a,{children:l.jsxs(c("CometPressable.react"),{onPress:j,testid:void 0,xstyle:m.pressableOption,children:[" ",n,o]})})),b[6]=j,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1hm9lzh x1anpbxc"},b[8]=n):n=b[8];b[9]!==g||b[10]!==e?(o=l.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(a){var b=e===a,d=h._(/*BTDS*/"Set the playback speed to {playback_rate_option}{is_playback_rate_option_selected}",[h._param("playback_rate_option",a),h._param("is_playback_rate_option_selected",b?", selected":"")]);return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{"aria-checked":b,"aria-label":d,onPress:function(){g.setPlaybackRate(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"x17j41np x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)})})),b[9]=g,b[10]=e,b[11]=o):o=b[11];b[12]!==a||b[13]!==o?(j=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,o]})}),b[12]=a,b[13]=o,b[14]=j):j=b[14];return j}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.selectedVideoQuality,f=a.setPane;a=(k||(k=d("VideoPlayerHooks"))).useAvailableVideoQualities();var g=k.useIsAbrEnabled(),j=k.useController(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=n):n=b[0];var o;b[1]!==f?(o=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=o):o=b[2];var p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[3]=p):p=b[3];var q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("span",babelHelpers["extends"]({},p,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),q=h._(/*BTDS*/"Quality"),b[4]=p,b[5]=q):(p=b[4],q=b[5]);b[6]!==o?(n=l.jsx("div",babelHelpers["extends"]({},n,{children:l.jsxs(c("CometPressable.react"),{onPress:o,testid:void 0,xstyle:m.pressableOption,children:[p,q]})})),b[6]=o,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1hm9lzh x1anpbxc"},b[8]=p):p=b[8];b[9]!==j||b[10]!==g||b[11]!==e?(q=g?l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality("auto")},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:e==="auto"&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!(e==="auto")<<0],{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}))]})},"auto"):null,b[9]=j,b[10]=g,b[11]=e,b[12]=q):q=b[12];if(b[13]!==a||b[14]!==j||b[15]!==e){b[17]!==j||b[18]!==e?(o=function(a){var b=e===a;return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",babelHelpers["extends"]({className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25"},{children:b&&l.jsx("div",babelHelpers["extends"]({className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg"},{"data-testid":void 0}))})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)},b[17]=j,b[18]=e,b[19]=o):o=b[19];g=a.map(o).reverse();b[13]=a;b[14]=j;b[15]=e;b[16]=g}else g=b[16];b[20]!==q||b[21]!==g?(o=l.jsxs("div",babelHelpers["extends"]({},p,{"data-testid":void 0,children:[q,g]})),b[20]=q,b[21]=g,b[22]=o):o=b[22];b[23]!==o||b[24]!==n?(a=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[n,o]})}),b[23]=o,b[24]=n,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=d("react-compiler-runtime").c(29),e=a.alignMenuToIcon,f=a.children,g=a.compactMenu,j=a.forceShowPlaybackRateControl,m=a.icon,n=a.menuOpened,o=a.onMenuOpen,p=a.onUserInteraction,q=a.originalVideoLanguage,r=a.ref,s=a.setMenuOpened;a=a.videoID;e=e===void 0?!1:e;f=f===void 0?null:f;var t=l(!1),u=t[0],v=t[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Settings"),b[0]=t):t=b[0];t=t;var w=s!=null;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u,p);var x=w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u;b[1]!==e?(p={0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],b[1]=e,b[2]=p):p=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==j||b[7]!==w||b[8]!==x||b[9]!==q||b[10]!==s||b[11]!==a?(n=x&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x1fwd5yv"},2:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk xwjie4w"},1:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"},3:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"}}[!!(g===!0)<<1|!!(e===!0)<<0],{children:k.jsx(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{forceShowPlaybackRateControl:j,onClose:function(){w?s!=null&&s(null):v(!1)},originalVideoLanguage:q!=null?q:null,videoID:a!=null?a:null,children:f})})),b[3]=e,b[4]=f,b[5]=g,b[6]=j,b[7]=w,b[8]=x,b[9]=q,b[10]=s,b[11]=a,b[12]=n):n=b[12];b[13]!==m?(e=m==null?d("fbicon")._(i("497567"),20):m,b[13]=m,b[14]=e):e=b[14];b[15]!==w||b[16]!==x||b[17]!==u||b[18]!==o||b[19]!==s?(f=function(){w?s!=null&&s(x?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):v(!u),!x&&o!=null&&o()},b[15]=w,b[16]=x,b[17]=u,b[18]=o,b[19]=s,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(g=k.jsx(c("VideoPlayerControlIcon.react"),{icon:e,label:t,onPress:f,tooltip:t}),b[21]=e,b[22]=f,b[23]=g):g=b[23];b[24]!==r||b[25]!==p||b[26]!==n||b[27]!==g?(j=k.jsxs("div",babelHelpers["extends"]({},p,{ref:r,children:[n,g]})),b[24]=r,b[25]=p,b[26]=n,b[27]=g,b[28]=j):j=b[28];return j}a.displayName="VideoPlayerSettingsControl";g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchAndScrollControl_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29450006731309811"}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery.graphql",["useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9347}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:"nux(nux_id:9347)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:9347)"}]},params:{id:b("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"),metadata:{},name:"useVideoPlayerWatchAndScrollControlNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUX",["fbt","CometRelay","CometWatchAndScrollTriggerContext","react","react-compiler-runtime","recoverableViolation","requireDeferred","useFDSCallout","useVideoPlayerWatchAndScrollControlNUXQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");e.useCallback;var k=e.useContext,l=e.useEffect,m=e.useState,n=c("requireDeferred")("CometDismissFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),o=c("requireDeferred")("CometLogImpressionFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}},q=9347,r=i!==void 0?i:i=b("useVideoPlayerWatchAndScrollControlNUXQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(19),e=k(c("CometWatchAndScrollTriggerContext")),f=e.setIsTriggerDisabled;e=m(null);var g=e[0],i=e[1],j=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==f?(e=function(){f!=null&&f(!0),i(!1),n.onReady(function(a){a.commit(j,q)})},b[0]=j,b[1]=f,b[2]=e):e=b[2];var u=e,v;b[3]!==a||b[4]!==j||b[5]!==g?(e=function(){if(a&&g===null){var b=d("CometRelay").fetchQuery(j,r,{fetchPolicy:"store-or-network"}).subscribe({next:function(b){var c;b=(b==null||(c=b.nux)==null?void 0:c.should_show)||!1;i(b);b&&a&&o.onReady(function(a){a.commit(j,q,t,s)})}});return function(){b.unsubscribe()}}},v=[j,a,g],b[3]=a,b[4]=j,b[5]=g,b[6]=e,b[7]=v):(e=b[6],v=b[7]);l(e,v);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Watch and scroll feature tooltip"),b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Continue watching while you browse Facebook."),b[9]=v):v=b[9];var w;b[10]!==u?(w=function(){u()},b[10]=u,b[11]=w):w=b[11];var x;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){i(!1)},b[12]=x):x=b[12];b[13]!==w?(e={align:"end","aria-label":e,arrowStyle:"inset",content:v,disableAutoFlip:!0,hasCloseButton:!0,onClose:w,onHide:x,position:"below",type:"accent",xstyle:p.nux},b[13]=w,b[14]=e):e=b[14];v=c("useFDSCallout")(e,g===!0&&a||!1);x=v.anchorRef;b[15]!==x||b[16]!==u||b[17]!==g?(w={handleDismissNUX:u,nuxRef:x,shouldShowNUX:g},b[15]=x,b[16]=u,b[17]=g,b[18]=w):w=b[18];return w}function s(){c("recoverableViolation")("logimpression fb nux mutation failed for video player watch and scroll control.","watch_www_and_off_platform")}function t(){}g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl.react",["fbt","ix","CastingStateHooks","CometPictureInPictureExpContext","CometRelay","CometRouteRenderType","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometWatchAndScrollControlNUXContext","CometWatchAndScrollTriggerContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerWatchAndScrollControl_video.graphql","VideoPlayerWithWatchAndScrollTrigger.react","emptyFunction","fbicon","gkx","react","react-compiler-runtime","requireDeferred","useCometLazyDialog","useCometRouterDispatcher","useCometRouterState","useIsVideoHomePlayerOriginFromTracePolicy","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerWatchAndScrollControlNUX","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;e.useCallback;var n=e.useContext,o=e.useEffect,p=e.useState,q=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWatchAndScrollControl.react"),r=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerWatchAndScrollControl.react"),s=6e4,t=window.document.pictureInPictureEnabled;function a(a){var e,f,g=d("react-compiler-runtime").c(56),k=a.subOrigin;a=a.video;var u=n(c("CometWatchAndScrollTriggerContext")),v=u.isControlShown,w=u.setIsControlShown;u=d("CometRouteRenderType").useIsPushView();var x=(l||(l=d("VideoPlayerHooks"))).useIsFullscreen(),y=c("useCometRouterDispatcher")(),z=c("useCometRouterState")(),A=(z=z==null?void 0:z.main.route.tabKey)!=null?z:"undefined";z=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWatchAndScrollControl_video.graphql"),a);var B=z==null?void 0:z.id;a=(a=z==null?void 0:z.playable_duration_in_ms)!=null?a:0;var C=z==null?void 0:z.is_huddle,D=z==null?void 0:z.url,E,F;g[0]!==w?(E=function(){w!=null&&w(!0)},F=[w],g[0]=w,g[1]=E,g[2]=F):(E=g[1],F=g[2]);o(E,F);var G=c("usePlayerOriginRouteTracePolicy")();E=c("useIsVideoHomePlayerOriginFromTracePolicy")(G);F=(z==null||(e=z.owner)==null?void 0:e.has_professional_features_for_watch)===!0&&a>=s&&v&&!E;var H=l.usePlaying(),I=l.useController();a=I.getPlayheadPosition();var J=a>=10;v=p(!1);E=v[0];var K=v[1];a=p(!1);var L=a[0],aa=a[1];v=p(!1);a=v[0];var ba=v[1];v=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsStateValue();v=v==="STARTING_INDICATOR"||v==="PLAY_NI_VIDEO"||v==="START_AD"||v==="PLAY_LONGER_AD";var M=c("useMinifiedProductAttribution")(),N,O;g[3]!==J||g[4]!==H?(N=function(){H&&J&&K(!0)},O=[J,H],g[3]=J,g[4]=H,g[5]=N,g[6]=O):(N=g[5],O=g[6]);o(N,O);var P=d("CastingStateHooks").useIsCastingAnyVideo();N=c("useCometLazyDialog")(r);var Q=N[0];O=!v&&E&&F;N=c("useVideoPlayerWatchAndScrollControlNUX")(O);var R=N.handleDismissNUX;v=N.nuxRef;E=N.shouldShowNUX;var S=E===!0&&O;F=n(c("CometWatchAndScrollControlNUXContext"));var T=F.setIsVideoPlayerWatchAndScrollControlNUXVisible,U=n(c("CometPictureInPictureExpContext"));g[7]!==S||g[8]!==T?(N=function(){T&&T(S)},E=[S,T],g[7]=S,g[8]=T,g[9]=N,g[10]=E):(N=g[9],E=g[10]);o(N,E);var V=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(k,d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL,B,D),W=l.useIsPremiumMusicVideo(),X=z==null||(f=z.owner)==null?void 0:f.id;g[11]!==W||g[12]!==X||g[13]!==U?(O=function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp(),b=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExpControlGroup();U.setPictureInPictureExpConfig({isInPictureInPictureExp:a,isInPictureInPictureExpControlGroup:b,isSkipAndChainingDisabled:!1});t&&a&&aa(!0);a=(a||b)&&(W||d("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(X));a&&ba(!0)},g[11]=W,g[12]=X,g[13]=U,g[14]=O):O=g[14];F=O;var Y=G==="comet.videos.tahoe";g[15]!==P||g[16]!==V||g[17]!==Q||g[18]!==B?(N=function(){P&&B!=null?Q({onClose:c("emptyFunction"),onContinue:V,startingVideoType:"wns"},c("emptyFunction")):V()},g[15]=P,g[16]=V,g[17]=Q,g[18]=B,g[19]=N):N=g[19];var Z=N;g[20]!==I||g[21]!==y||g[22]!==R||g[23]!==L||g[24]!==S||g[25]!==Z||g[26]!==M||g[27]!==G||g[28]!==k||g[29]!==A?(E=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),y&&y.popPushView()},g[20]=I,g[21]=y,g[22]=R,g[23]=L,g[24]=S,g[25]=Z,g[26]=M,g[27]=G,g[28]=k,g[29]=A,g[30]=E):E=g[30];D=E;var $=k==="live_producer";g[31]!==I||g[32]!==y||g[33]!==Y||g[34]!==R||g[35]!==L||g[36]!==x||g[37]!==S||g[38]!==Z||g[39]!==M||g[40]!==$||g[41]!==G||g[42]!==k||g[43]!==A?(z=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),x&&I.requestSetIsFullscreen(!1),y!=null&&($||Y)&&y.go("/",{})},g[31]=I,g[32]=y,g[33]=Y,g[34]=R,g[35]=L,g[36]=x,g[37]=S,g[38]=Z,g[39]=M,g[40]=$,g[41]=G,g[42]=k,g[43]=A,g[44]=z):z=g[44];O=z;N=u?D:O;if(c("gkx")("20836")){g[45]===Symbol["for"]("react.memo_cache_sentinel")?(E=h._(/*BTDS*/"Continue watching while you use Workplace"),g[45]=E):E=g[45];z=E}else if(C===!0){g[46]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Continue listening while you browse Facebook."),g[46]=u):u=g[46];z=u}else{g[47]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"Continue watching while you browse Facebook."),g[47]=D):D=g[47];z=D}if(L){g[48]===Symbol["for"]("react.memo_cache_sentinel")?(O=h._(/*BTDS*/"Enter Picture in Picture Mode"),g[48]=O):O=g[48];z=O}g[49]!==a||g[50]!==S||g[51]!==z||g[52]!==v||g[53]!==F||g[54]!==N?(E=a?null:m.jsx("div",{onMouseEnter:F,ref:v,children:m.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:d("fbicon")._(i("150489"),20),label:z,onPress:N,tooltip:S?null:z})}),g[49]=a,g[50]=S,g[51]=z,g[52]=v,g[53]=F,g[54]=N,g[55]=E):E=g[55];return E}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls.react",["CometPlaceholder.react","CometRelay","CometTahoeCustomVideoAreaContext","CometTahoeSidePaneContext","CometTrackingNodeProvider.react","LiveCostreamerTagSubscription.react","LiveVideoLatencyMenu.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerLiveVideoControls_video.graphql","VideoPlayerPlaybackControl.react","VideoPlayerQuietModeControl.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState,n=h!==void 0?h:h=b("VideoPlayerLiveVideoControls_video.graphql");function o(a){var b,e,f=d("react-compiler-runtime").c(85),g=d("CometRelay").useFragment(n,a.video),h=(j||(j=d("VideoPlayerHooks"))).useEnded(),i=j.useIsFullscreen(),o=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),p=l(c("CometTahoeSidePaneContext"));p=p.rightRailHidden;var q=c("useVideoPlayerBigPlayButtonOverlay")();q=q.bigPlayButtonIsVisible;var r=j.useCaptionsLoaded(),s=j.useCaptionsVisible(),t=m(null),u=t[0];t=t[1];var v=l(d("CometTahoeCustomVideoAreaContext").CometTahoeCustomVideoAreaContext);v=v.customVideoAreaHidden;if(h)return null;h=a.disablePlaybackControls;var w=a.expandControl,x=a.isControlsVisible,y=a.isExpandControlVisible,z=a.isVolumeControlVisible,A=a.isWatchAndScrollControlVisible,B=a.onUserInteraction,C=a.shouldRenderCaptionsControl,D=a.shouldRenderCostreamControl,E=a.shouldRenderModeratorControl,F=a.subOrigin;y=y===void 0?!1:y;A=A===void 0?!1:A;C=C===void 0?!0:C;D=D===void 0?!1:D;E=E===void 0?!1:E;var G=g==null?void 0:g.id,H=g==null||(b=g.owner)==null?void 0:b.id,I=g==null?void 0:g.if_viewer_can_see_costreaming_tools,J=I!=null,K=g==null?void 0:g.if_viewer_can_use_clipping,L=(g==null?void 0:g.is_clipping_enabled)===!0,M=g==null?void 0:g.if_viewer_can_see_community_moderation_tools,N=M!=null,O=g==null?void 0:g.if_viewer_can_use_live_rewind;e=((e=g==null?void 0:g.live_rewind_enabled)!=null?e:!1)&&a.shouldHideRewindControls!==!0;y=y||x||h===!0&&!q;A=A||x||h===!0&&!q;f[0]!==w||f[1]!==y?(q=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,noPaddingEnd:!0,noPaddingStart:!0,children:w}),f[0]=w,f[1]=y,f[2]=q):q=f[2];w=q;f[3]!==a.shouldRenderWatchAndScrollControl||f[4]!==A||f[5]!==F||f[6]!==g?(y=a.shouldRenderWatchAndScrollControl===!0&&F!=null&&g!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:F,video:g})}):null,f[3]=a.shouldRenderWatchAndScrollControl,f[4]=A,f[5]=F,f[6]=g,f[7]=y):y=f[7];q=y;A=F==="watch_scroll";y=c("gkx")("24335")?C===!0:!A;f[8]!==O||f[9]!==h||f[10]!==x||f[11]!==e||f[12]!==B||f[13]!==a.shouldRenderPauseControl?(C=e?k.jsx(d("CometRelay").MatchContainer,{match:O,props:{isControlsVisible:x&&!h,onUserInteraction:B,video:O}}):k.jsxs(k.Fragment,{children:[Boolean(a.shouldRenderPauseControl)?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x&&!h,children:k.jsx(c("VideoPlayerPlaybackControl.react"),{})}):null,k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(k.Fragment,{})})]}),f[8]=O,f[9]=h,f[10]=x,f[11]=e,f[12]=B,f[13]=a.shouldRenderPauseControl,f[14]=C):C=f[14];f[15]!==H||f[16]!==G?(A=H!=null&&G!=null&&k.jsx(c("LiveCostreamerTagSubscription.react"),{pageID:H,videoID:G}),f[15]=H,f[16]=G,f[17]=A):A=f[17];f[18]!==J||f[19]!==I||f[20]!==i||f[21]!==D||f[22]!==G?(O=J&&D&&G!=null&&!i&&k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:I,props:{video:I}})}),f[18]=J,f[19]=I,f[20]=i,f[21]=D,f[22]=G,f[23]=O):O=f[23];f[24]!==i||f[25]!==a.shouldRenderQuietModeControl?(e=a.shouldRenderQuietModeControl===!0&&!i&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}),f[24]=i,f[25]=a.shouldRenderQuietModeControl,f[26]=e):e=f[26];f[27]!==i||f[28]!==a.shouldRenderExpandSidePanelControl||f[29]!==p?(H=a.shouldRenderExpandSidePanelControl===!0&&!i&&!p&&k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{}),f[27]=i,f[28]=a.shouldRenderExpandSidePanelControl,f[29]=p,f[30]=H):H=f[30];f[31]!==K||f[32]!==L||f[33]!==G?(J=L&&G!=null&&k.jsx(d("CometRelay").MatchContainer,{match:K,props:{video:K,videoID:G}}),f[31]=K,f[32]=L,f[33]=G,f[34]=J):J=f[34];f[35]!==N||f[36]!==M||f[37]!==E||f[38]!==G?(I=N&&E?k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(d("CometRelay").MatchContainer,{match:M,props:{video:M,videoID:G}})}):null,f[35]=N,f[36]=M,f[37]=E,f[38]=G,f[39]=I):I=f[39];f[40]!==o||f[41]!==h||f[42]!==u||f[43]!==B||f[44]!==g?(D=h===!0?null:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:k.jsx(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContextProvider,{video:g,children:k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:(o==null?void 0:o.getBottomRowAddOn())!=null,menuOpened:u,onUserInteraction:B,setMenuOpened:t})})}),f[40]=o,f[41]=h,f[42]=u,f[43]=B,f[44]=g,f[45]=D):D=f[45];f[46]!==o||f[47]!==r||f[48]!==s||f[49]!==y||f[50]!==x||f[51]!==u||f[52]!==B||f[53]!==g?(i=r&&y?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{alignMenuToIcon:(o==null?void 0:o.getBottomRowAddOn())!=null,captionsVisible:s,menuOpened:u,onUserInteraction:B,setMenuOpened:t,video:g})}):null,f[46]=o,f[47]=r,f[48]=s,f[49]=y,f[50]=x,f[51]=u,f[52]=B,f[53]=g,f[54]=i):i=f[54];f[55]!==h||f[56]!==x||f[57]!==a.shouldRenderCastControl||f[58]!==F||f[59]!==g?(p=a.shouldRenderCastControl===!0&&F!=null&&g!=null?k.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:x&&!h,subOrigin:F}):null,f[55]=h,f[56]=x,f[57]=a.shouldRenderCastControl,f[58]=F,f[59]=g,f[60]=p):p=f[60];f[61]!==x||f[62]!==e||f[63]!==H||f[64]!==J||f[65]!==I||f[66]!==D||f[67]!==i||f[68]!==p||f[69]!==A||f[70]!==O?(K=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,children:[A,O,e,H,J,I,D,i,p]}),f[61]=x,f[62]=e,f[63]=H,f[64]=J,f[65]=I,f[66]=D,f[67]=i,f[68]=p,f[69]=A,f[70]=O,f[71]=K):K=f[71];f[72]!==B?(L=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:B})}),f[72]=B,f[73]=L):L=f[73];f[74]!==z||f[75]!==L?(N=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:z,noPaddingStart:!0,children:L}),f[74]=z,f[75]=L,f[76]=N):N=f[76];f[77]!==v||f[78]!==w||f[79]!==x||f[80]!==K||f[81]!==N||f[82]!==C||f[83]!==q?(M=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:x,isVisible:v,children:[C,K,w,q,N]}),f[77]=v,f[78]=w,f[79]=x,f[80]=K,f[81]=N,f[82]=C,f[83]=q,f[84]=M):M=f[84];return M}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplLive.react",["CometRelay","VideoPlayerCometFeedStoryControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(15),f=a.disablePlaybackControls,g=a.expandControl,i=a.isAdVideo,k=a.isControlsVisible,l=a.isExpandControlVisible,m=a.isVolumeControlVisible,n=a.isWatchAndScrollControlVisible,o=a.isWatchAndScrollDisabled,p=a.onUserInteraction,q=a.reactionVideoChannelType,r=a.shouldHideRewindControls,s=a.subOrigin,t=a.video;a=a.videoTahoeUrl;t=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerCometFeedStoryControlsImplLive_video.graphql"),t);var u=c("gkx")("22809"),v=!i;u=!u&&!i&&o!==!0;e[0]!==f||e[1]!==g||e[2]!==k||e[3]!==l||e[4]!==m||e[5]!==n||e[6]!==p||e[7]!==q||e[8]!==r||e[9]!==s||e[10]!==v||e[11]!==u||e[12]!==t||e[13]!==a?(i=j.jsx(c("VideoPlayerLiveVideoControls.react"),{disablePlaybackControls:f,expandControl:g,isControlsVisible:k,isExpandControlVisible:l,isVolumeControlVisible:m,isWatchAndScrollControlVisible:n,onUserInteraction:p,reactionVideoChannelType:q,shouldHideRewindControls:r,shouldRenderCastControl:v,shouldRenderWatchAndScrollControl:u,subOrigin:s,video:t,videoTahoeUrl:a}),e[0]=f,e[1]=g,e[2]=k,e[3]=l,e[4]=m,e[5]=n,e[6]=p,e[7]=q,e[8]=r,e[9]=s,e[10]=v,e[11]=u,e[12]=t,e[13]=a,e[14]=i):i=e[14];return i}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider"}],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplNotLive_video",selections:[{condition:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberBottomWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"recipient_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberRenderer_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberRenderer_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer.react",["CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberRenderer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.scrubberProps;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberRenderer_video.graphql"),a);if((a==null?void 0:a.video_player_scrubber_base_content_renderer)==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},f)),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_base_content_renderer;e[2]!==f?(a=babelHelpers["extends"]({},f),e[2]=f,e[3]=a):a=e[3];e[4]!==g||e[5]!==a?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:a}),e[4]=g,e[5]=a,e[6]=f):f=e[6];return f}g["default"]=a}),98);
__d("VideoPlayerScrubberWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberRenderer_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","VideoPlayerScrubberRenderer.react","VideoPlayerScrubberWithPreview_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.onUserInteraction,g=a.timelinePlayedXStyle;a=a.video;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberWithPreview_video.graphql"),a);e[0]!==g||e[1]!==i?(a=function(a){return j.jsx(c("VideoPlayerScrubberRenderer.react"),{scrubberProps:babelHelpers["extends"]({},a,{timelinePlayedXStyle:g}),video:i})},e[0]=g,e[1]=i,e[2]=a):a=e[2];var k;e[3]!==i?(k=function(a){return j.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:i})},e[3]=i,e[4]=k):k=e[4];var l;e[5]!==f||e[6]!==a||e[7]!==k?(l=j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f,renderScrubber:a,renderTooltip:k}),e[5]=f,e[6]=a,e[7]=k,e[8]=l):l=e[8];return l}g["default"]=a}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive.react",["fbt","CometRelay","CometTrackingNodeProvider.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","nux:31","nux:87","react","react-compiler-runtime","useCurrentRouteBuilder","useEmptyFunction","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useState,n=(f=(e=b("nux:87"))==null?void 0:e("comet_playback_speed_prompt_headroom_test"))!=null?f:c("useEmptyFunction"),o=(f=(e=b("nux:31"))==null?void 0:e("comet_group_video_caption_setting"))!=null?f:c("useEmptyFunction"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(70),f=a.disablePlaybackControls,g=a.expandControl,j=a.isAdVideo,r=a.isControlsVisible,s=a.isExpandControlVisible,t=a.isVolumeControlVisible,u=a.isWatchAndScrollControlVisible,v=a.isWatchAndScrollDisabled,w=a.onUserInteraction,x=a.scrubberTimelinePlayedXStyle,y=a.subOrigin,z=a.video;a=a.videoTahoeUrl;z=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql"),z);var A;if(e[0]!==(z==null?void 0:z.dubbed_track_mapping)){var B;A=z==null||(B=z.dubbed_track_mapping)==null||(B=B.find(q))==null?void 0:B.audio_lang;e[0]=z==null?void 0:z.dubbed_track_mapping;e[1]=A}else A=e[1];A=A;var C=(k||(k=d("VideoPlayerHooks"))).useShouldShowPlaybackRateControl(),D;e[2]!==C||e[3]!==y?(D=["discover","entry_point"].includes(y)&&C,e[2]=C,e[3]=y,e[4]=D):D=e[4];C=D;C=(D=n(C))!=null?D:[void 0,void 0];D=C[0];C=C[1];var E=(z==null?void 0:z.recipient_group)!=null&&(z==null?void 0:z.captions_url)!=null;E=E;var F;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(F=h._(/*BTDS*/"Notification about new captions feature"),e[5]=F):F=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(F={align:"end","aria-label":F,arrowStyle:"inset",content:h._(/*BTDS*/"New! Use Settings to turn on auto-generated captions."),hasCloseButton:!0,position:"above",type:"accent",xstyle:p.nux},e[6]=F):F=e[6];F=o(F,E);E=c("useVideoPlayerBigPlayButtonOverlay")();E=E.bigPlayButtonIsVisible;r=!F&&C===!0||r;u=u||r||f===!0&&!E;s=s||f===!0&&!j&&!E;E=c("gkx")("22809");var G=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(z),H=k.useCaptionsLoaded(),I=k.useCaptionsVisible();H=H||((H=G==null?void 0:G.length)!=null?H:0)>0;var J=c("useCurrentRouteBuilder")();J=J==null?void 0:J.buildURL().toString();a=f!==!0&&a==null&&(J==null?void 0:J.includes("/watch/"))===!0;e[7]!==j||e[8]!==v||e[9]!==u||e[10]!==y||e[11]!==z?(J=!E&&!j&&v!==!0&&z!=null?l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:u,children:l.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:y,video:z})}):null,e[7]=j,e[8]=v,e[9]=u,e[10]=y,e[11]=z,e[12]=J):J=e[12];E=J;v=!F&&C===!0||s;e[13]!==g||e[14]!==v?(u=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:v,noPaddingEnd:!0,noPaddingStart:!0,children:g}),e[13]=g,e[14]=v,e[15]=u):u=e[15];J=u;C=m(null);s=C[0];g=C[1];e[16]!==a?(v=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:l.jsx(c("VideoPlayerPlaybackControl.react"),{isNPC:a})}),e[16]=a,e[17]=v):v=e[17];e[18]!==f?(u=f===!0?null:l.jsx(c("VideoPlayerPlaybackTimer.react"),{}),e[18]=f,e[19]=u):u=e[19];e[20]!==r||e[21]!==v||e[22]!==u?(C=l.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:r,children:[v,u]}),e[20]=r,e[21]=v,e[22]=u,e[23]=C):C=e[23];a=r&&!f;e[24]!==w||e[25]!==x||e[26]!==z?(v=l.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:w,timelinePlayedXStyle:x,video:z}),e[24]=w,e[25]=x,e[26]=z,e[27]=v):v=e[27];e[28]!==a||e[29]!==v?(u=l.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:a,children:v}),e[28]=a,e[29]=v,e[30]=u):u=e[30];x=r&&!f;a=A!=null?A:null;v=F!=null?F:D;F=(A=z==null?void 0:z.id)!=null?A:null;e[31]!==s||e[32]!==w||e[33]!==a||e[34]!==v||e[35]!==F?(D=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:l.jsx(c("VideoPlayerSettingsControl.react"),{menuOpened:s,onUserInteraction:w,originalVideoLanguage:a,ref:v,setMenuOpened:g,videoID:F})}),e[31]=s,e[32]=w,e[33]=a,e[34]=v,e[35]=F,e[36]=D):D=e[36];e[37]!==x||e[38]!==D?(A=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:x,noPaddingEnd:!0,children:D}),e[37]=x,e[38]=D,e[39]=A):A=e[39];e[40]!==G||e[41]!==I||e[42]!==f||e[43]!==s||e[44]!==w||e[45]!==H||e[46]!==r||e[47]!==z?(a=H?l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:r&&!f,children:l.jsx(c("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:G,captionsVisible:I,menuOpened:s,onUserInteraction:w,setMenuOpened:g,video:z})}):null,e[40]=G,e[41]=I,e[42]=f,e[43]=s,e[44]=w,e[45]=H,e[46]=r,e[47]=z,e[48]=a):a=e[48];e[49]!==f||e[50]!==j||e[51]!==r||e[52]!==y||e[53]!==z?(v=!j&&z!=null?l.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:r&&!f,subOrigin:y}):null,e[49]=f,e[50]=j,e[51]=r,e[52]=y,e[53]=z,e[54]=v):v=e[54];e[55]!==w?(F=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:l.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:w})}),e[55]=w,e[56]=F):F=e[56];e[57]!==t||e[58]!==F?(x=l.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:t,noPaddingStart:!0,children:F}),e[57]=t,e[58]=F,e[59]=x):x=e[59];e[60]!==J||e[61]!==r||e[62]!==C||e[63]!==u||e[64]!==A||e[65]!==a||e[66]!==v||e[67]!==x||e[68]!==E?(D=l.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:r,children:[C,u,A,a,v,J,E,x]}),e[60]=J,e[61]=r,e[62]=C,e[63]=u,e[64]=A,e[65]=a,e[66]=v,e[67]=x,e[68]=E,e[69]=D):D=e[69];return D}function q(a){return a.dubbing_type==="NONE"}g["default"]=a}),226);
__d("VideoPlayerWithVideoCardsOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithVideoCardsOverlay_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_video_player_with_video_card_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithVideoCardsOverlay_video",fragmentName:"VideoPlayerVideoCardsOverlay_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithVideoCardRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithVideoCardsOverlay.react",["CometPlaceholder.react","CometRelay","VideoPlayerWithVideoCardsOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.cardsHidden,g=a.surface;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithVideoCardsOverlay_video.graphql"),a);var i;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 x5yr21d xh8yej3"},e[0]=i):i=e[0];a=a==null?void 0:a.comet_video_player_with_video_card_renderer;var k;e[1]!==f||e[2]!==g?(k={cardsHidden:f,surface:g},e[1]=f,e[2]=g,e[3]=k):k=e[3];e[4]!==a||e[5]!==k?(f=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:k})})})),e[4]=a,e[5]=k,e[6]=f):f=e[6];return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BinarySearch",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e={GREATEST_LOWER_BOUND:"GREATEST_LOWER_BOUND",GREATEST_STRICT_LOWER_BOUND:"GREATEST_STRICT_LOWER_BOUND",LEAST_STRICT_UPPER_BOUND:"LEAST_STRICT_UPPER_BOUND",LEAST_UPPER_BOUND:"LEAST_UPPER_BOUND",NEAREST:"NEAREST"};var h=function(a,b){if(typeof a!=="number"||typeof b!=="number")throw c("unrecoverableViolation")("The default comparator can only be used with sequences of numbers.","comet_infra");return a-b},i=e.GREATEST_LOWER_BOUND,j=e.GREATEST_STRICT_LOWER_BOUND,k=e.LEAST_STRICT_UPPER_BOUND,l=e.LEAST_UPPER_BOUND,m=e.NEAREST;function n(a,b,c,d,e){e===void 0&&(e=h);var f=l;f=p(a,b,c,d,e,f);if(c<=f&&f<d){c=a(f);return e(c,b)===0?c:void 0}else return void 0}function o(a,b,c,d,e){e===void 0&&(e=h);var f=l;f=p(a,b,c,d,e,f);if(c<=f&&f<d)return e(a(f),b)===0?f:-1;else return-1}function p(a,b,d,e,f,g){switch(g){case l:return q(a,b,d,e,f);case i:return r(a,b,d,e,f);case k:return s(a,b,d,e,f);case j:return t(a,b,d,e,f);case m:return u(a,b,d,e,f);default:throw c("unrecoverableViolation")("Invalid mode "+g,"comet_infra")}}function q(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>=0?d=f:c=f}return c<d&&e(a(c),b)>=0?c:d}function r(a,b,c,d,e){return s(a,b,c,d,e)-1}function s(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>0?d=f:c=f}return c<d&&e(a(c),b)>0?c:d}function t(a,b,c,d,e){return q(a,b,c,d,e)-1}function u(a,b,c,d,e){var f=r(a,b,c,d,e),g=Math.abs(e(a(f),b));e=Math.abs(e(a(f+1),b));return g<e?Math.max(f,c):Math.min(f+1,d-1)}function a(a,b,c){return n(function(b){return a[b]},b,0,a.length,c)}function b(a,b,c){return o(function(b){return a[b]},b,0,a.length,c)}function d(a,b,c,d){return p(function(b){return a[b]},b,0,a.length,c,d)}g.GREATEST_LOWER_BOUND=i;g.GREATEST_STRICT_LOWER_BOUND=j;g.LEAST_STRICT_UPPER_BOUND=k;g.LEAST_UPPER_BOUND=l;g.NEAREST=m;g.find=n;g.findIndex=o;g.findBound=p;g.leastUpperBound=q;g.greatestLowerBound=r;g.leastStrictUpperBound=s;g.greatestStrictLowerBound=t;g.nearest=u;g.findInArray=a;g.findIndexInArray=b;g.findBoundInArray=d}),98);
__d("FunnelAction",[],(function(a,b,c,d,e,f){"use strict";var g="name",h="payload",i="relative_time",j="tag";a=function(){function a(a,b,c,d){this.$1={},this.$1[g]=a,this.$1[i]=b,c!==void 0&&(this.$1[j]=c),d!==void 0&&(this.$1[h]=JSON.stringify(d))}var b=a.prototype;b.getData=function(){return this.$1};return a}();f["default"]=a}),66);
__d("FunnelRegistry",[],(function(a,b,c,d,e,f){a=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,FRX_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0});f["default"]=a}),66);
__d("Funnel",["BinarySearch","FunnelAction","FunnelRegistry","sprintf","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="name",i="instance_id",j="start_time",k="tags",l="actions",m="sampling_rate",n="timeout_sec",o="beacon_id",p="beacon_session_id",q="funnel_level_beacon_id",r="funnel_level_beacon_session_id",s="is_web";a={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"};b={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"};var t=600;e=function(){function a(a,b,d,e,f){if(c("FunnelRegistry")[a]!==!0)throw c("unrecoverableViolation")("Funnel name not registered.","comet_infra");this.$1=a;this.$2=b;this.$3=[];this.$4={};this.$5=d;this.$6=f;this.timeout_sec=t;this.shouldTrackFocus=!1;this.$7=e;this.$9=-1;this.$10=-1;this.$11=-1;this.$12=-1;this.$8=null;this.devModeLogger("Started funnel")}var b=a.prototype;b.addTag=function(a){if(typeof a!=="string")throw c("unrecoverableViolation")("Funnel tag should be a String.","comet_infra");this.$4[a]=!0;this.devModeLogger("Added funnel tag %s",a);return this};b.appendAction=function(a,b,e,f){var g=this;f===void 0&&(f=Date.now());f=new(c("FunnelAction"))(a,f-this.$6,b,e);e=d("BinarySearch").leastStrictUpperBound(function(a){return g.$3[a].getData()},f.getData(),0,this.$3.length,function(a,b){if(a.name==="funnel_end")return 1;return b.name==="funnel_end"?-1:a.relative_time-b.relative_time});this.$3.splice(e,0,f);b?this.devModeLogger("Appended action %s with tag %s",a,b):this.devModeLogger("Appended action %s",a);this.$8=a;return this};b.appendActionIfNew=function(a,b,c){a!==this.$8&&this.appendAction(a,b,c);return this};b.getLogData=function(){var a={};a[h]=this.$1;this.$2!==void 0?a[i]=this.$2:a[i]=Math.floor(Math.random()*65536);a[j]=this.$6;a[m]=this.$5;a[n]=this.timeout_sec;a[k]=[];for(var b in this.$4)this.$4[b]===!0&&a[k].push(b);if(this.$3.length>0){a[l]=[];for(b=0;b<this.$3.length;b++)a[l].push(this.$3[b].getData())}this.$10!==-1&&this.$9!==-1&&(a[p]=this.$10,a[o]=this.$9);this.$12!==-1&&this.$11!==-1&&(a[r]=this.$12,a[q]=this.$11);a[s]=1;return a};b.devModeLogger=function(){};b.getTags=function(){return this.$4};b.getFunnelName=function(){return this.$1};b.addReliabilityStats=function(a,b){if(typeof a!=="number")throw c("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof b!=="number")throw c("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$10=a;this.$9=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};b.addReliabilityStatsForCurFunnel=function(a,b){if(typeof a!=="number")throw c("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof b!=="number")throw c("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$12=a;this.$11=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};return a}();g.EndType=a;g.ActionType=b;g.Funnel=e}),98);
__d("FunnelLoggerSampler",["FunnelLoggerConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){a=g(a);return a===0?!1:Math.random()*a<1}function g(a){a=b("FunnelLoggerConfig").freq[a];a===void 0&&(a=b("FunnelLoggerConfig").freq["default"]);return a}e.exports={shouldLog:a,getSamplingRate:g}}),null);
__d("FunnelReliabilityWhitelist",[],(function(a,b,c,d,e,f){a=["SEARCH_FUNNEL"];f["default"]=a}),66);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j,k="fas_reliability_lib_stats_overall",l="fas_reliability_funnel_stats_overall",m=1800,n="funnel_analytics_data_loss",o="fas_reliability_lib_stats_wl",p="fas_reliability_funnel_stats_wl",q=0,r={};function a(){return c("gkx")("20977")?!0:!1}function s(){i||(i=!0,j=(h||(h=c("WebStorage"))).getLocalStorage());return j}function t(){var a=s();if(!a)return null;a=a.getItem(l);if(a)return JSON.parse(a);else{a=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:a}}}function u(a){var b=s();if(!b)return null;b=b.getItem(p);if(b)return JSON.parse(b);else{b={};b[a]={startCount:0,endCount:0,cancelCount:0,prevCount:0};return b}}function v(){var a=s();if(!a)return null;a=a.getItem(p);return a?JSON.parse(a):null}function b(a){var b=t();if(!b)return;q+=1;b.startCount?b.startCount=parseInt(b.startCount,10)+1:b.startCount=1;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,l,JSON.stringify(b));w(a)}function w(a){var b=u(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=r[a]?r[a]+1:1;r[a]=d;d=b[a];d?d.startCount?d.startCount=parseInt(d.startCount,10)+1:d.startCount=1:(d={},d.startCount=1,d.prevCount=0,d.cancelCount=0,d.endCount=0);b[a]=d;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,p,JSON.stringify(b))}function e(a){var b=t();if(!b)return;q-=1;b.cancelCount?b.cancelCount=parseInt(b.cancelCount,10)+1:b.cancelCount=1;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,l,JSON.stringify(b));x(a)}function x(a){var b=u(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=r[a]?r[a]-1:0;r[a]=d;d=b[a];d?d.cancelCount?d.cancelCount=parseInt(d.cancelCount,10)+1:d.cancelCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=1,d.endCount=0);b[a]=d;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,p,JSON.stringify(b))}function f(a){var b=t();if(!b)return;q-=1;b.endCount?b.endCount=parseInt(b.endCount,10)+1:b.endCount=1;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,l,JSON.stringify(b));y(a)}function y(a){var b=u(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=r[a]?r[a]-1:0;r[a]=d;d=b[a];d?d.endCount?d.endCount=parseInt(d.endCount,10)+1:d.endCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=0,d.endCount=1);b[a]=d;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,p,JSON.stringify(b))}function z(){var a=t();if(!a)return!1;if(a.lastFlushTimestamp){var b=Math.floor(Date.now()/1e3);return b-parseInt(a.lastFlushTimestamp,10)>=m}return!1}function A(a,b){a=s();if(!a)return;var d=Math.floor(Date.now()/1e3);b={startCount:0,endCount:0,cancelCount:0,prevCount:b,lastFlushTimestamp:d};(h||(h=c("WebStorage"))).setItemGuarded(a,l,JSON.stringify(b))}function B(a,b){var d=s();if(!d||!a||Object.keys(a).length==0)return;var e={};for(a in a){var f=b[a];f={startCount:0,endCount:0,cancelCount:0,prevCount:f?f:0};e[a]=f}(h||(h=c("WebStorage"))).setItemGuarded(d,p,JSON.stringify(e))}function C(a,b,c,e){var f=a.prevCount,g=a.startCount,h=a.endCount;a=a.cancelCount;var i=f+g-h-a-b;g={start:g,end:h,cancel:a,prev:f,ongoing:b,loss:i};h={overall:g};if(c){a={};for(f in c){b=c[f];i=b.prevCount;g=b.startCount;var j=b.endCount;b=b.cancelCount;var k=e[f]?e[f]:0,l=i+g-j-b-k;g={start:g,end:j,cancel:b,prev:i,ongoing:k,loss:l};a[f]=g}h.funnel_level_data_loss=a}d("MarauderLogger").log(n,null,h)}function D(){if(!z())return;var a=t();if(!a)return;A(a,q);var b=v();b&&B(b,r);C(a,q,b,r)}function E(){var a=s();if(!a)return null;var b=a.getItem(k);b=b?JSON.parse(b):{};var d=b.counter,e=b.session;d?(d=parseInt(d,10)+1,e=parseInt(b.session,10)):(d=1,e=Math.floor(Math.random()*65536));(h||(h=c("WebStorage"))).setItemGuarded(a,k,JSON.stringify({counter:d,session:e}));return[e,d]}function F(a){if(!c("FunnelReliabilityWhitelist").includes(a))return null;var b=s();if(!b)return null;var d=b.getItem(o),e=void 0,f={};d&&(f=JSON.parse(d),e=f[a]);var g=e?e.counter:void 0;e=e?e.session:void 0;g?(g=parseInt(g,10)+1,e=parseInt(e,10)):(g=1,e=Math.floor(Math.random()*65536));var i={};d?(f[a]={counter:g,session:e},i=f):i[a]={counter:g,session:e};(h||(h=c("WebStorage"))).setItemGuarded(b,o,JSON.stringify(i));return[e,g]}g.passFunnelLevelStatsRolloutGK=a;g.onFunnelStart=b;g.onFunnelCancel=e;g.onFunnelEnd=f;g.maybeFlushFunnelLevelStats=D;g.increaseAndGetLibLevelStats=E;g.maybeIncreaseAndGetLibLevelStatsForCurFunnel=F}),98);
__d("FunnelLogger",["Banzai","FBLogger","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={},h=!1,i=!0;function a(a,b){B(a,b)}function c(a,b,c){B(a,c,b)}function d(a,b){a=D(a,b);return!E(a)?null:g[a]}function f(a,b){}function j(a,b,c){c===void 0?F(a,void 0,b):c&&F(a,b,c)}function k(a,c){c=D(a,c);E(c)&&(g[c].devModeLogger("Cancelled funnel"),H(c),g[c]=void 0,b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelCancel(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function l(a,b){C(a,b)}function m(a,b,c){C(a,c,b)}function n(a,b,c){c===void 0?I(a,void 0,String(b)):I(a,Number(b),c)}function o(a,b,c){c===void 0?J(a,void 0,Boolean(b)):J(a,Number(b),c)}function p(a,b,c){c===void 0?K(a,void 0,String(b),void 0):K(a,Number(b),c,void 0)}function q(a,b,c){c===void 0?L(a,void 0,String(b),void 0):L(a,Number(b),c,void 0)}function r(a,b,c,d){d===void 0?K(a,void 0,String(c),void 0,void 0,b):K(a,Number(c),d,void 0,void 0,b)}function s(a,b,c,d){d===void 0?K(a,void 0,String(b),c):K(a,Number(b),c,d)}function t(a,b,c,d,e){e===void 0?K(a,void 0,String(c),d,void 0,b):K(a,Number(c),d,e,void 0,b)}function u(a,b,c,d){d===void 0?L(a,void 0,String(b),c):L(a,Number(b),c,d)}function v(a,b,c,d){d===void 0?K(a,void 0,String(b),void 0,c):K(a,Number(b),String(c),void 0,d)}function w(a,b,c,d,e){e===void 0?K(a,void 0,String(c),void 0,d,b):K(a,Number(c),String(d),void 0,e,b)}function x(a,b,c,d){d===void 0?L(a,void 0,String(b),void 0,c):L(a,Number(b),String(c),void 0,d)}function y(a,b,c,d,e){e===void 0?K(a,void 0,String(b),c,d):K(a,Number(b),String(c),String(d),e)}function z(a,b,c,d,e,f){f===void 0?K(a,void 0,String(c),d,e,b):K(a,Number(c),String(d),String(e),f,b)}function A(a,b,c,d,e){e===void 0?L(a,void 0,String(b),c,d):L(a,Number(b),String(c),String(d),e)}function B(a,c,d){var e=D(a,c);R();M(e);b("FunnelLoggerSampler").shouldLog(a)&&(g[e]=new(b("Funnel").Funnel)(a,c,b("FunnelLoggerSampler").getSamplingRate(a),!1,d!=null?d:Date.now()),G(e),b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelStart(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function C(a,c,d){a=D(a,c);E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.EXPLICIT,void 0,d),N(a))}function D(a,c){if(b("FunnelRegistry")[a]!==!0){b("FBLogger")("funnel_validation").blameToPreviousFile().mustfix("Funnel name `%s` not registered",a);throw b("unrecoverableViolation")("Funnel name `"+a+"` not registered.","comet_infra")}if(c==null)return a;else return a+c.toString()}function E(a){return g[a]!==void 0}function F(a,b,c){a=D(a,b);E(a)&&(g[a].timeout_sec=c,g[a].devModeLogger("Timeout set to %s sec",c),G(a))}function G(a){H(a),g[a].timeout_handle=b("setTimeout")(function(){g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.TIMEOUT),N(a)},1e3*g[a].timeout_sec)}function H(a){g[a].timeout_handle&&b("clearTimeout")(g[a].timeout_handle)}function I(a,b,c){a=D(a,b);E(a)&&(g[a].addTag(c),G(a))}function J(a,b,c){a=D(a,b);E(a)&&(g[a].shouldTrackFocus=c,g[a].devModeLogger("Focus tracking %s",c?"on":"off"))}function K(a,b,c,d,e,f){a=D(a,b);E(a)&&(g[a].appendAction(c,d,e,f),G(a))}function L(a,b,c,d,e){a=D(a,b);E(a)&&g[a].appendActionIfNew(c,d,e)}function M(a){E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.RESTART),N(a))}function N(a){if(E(a)){if(b("gkx")("20976")){var c=b("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(c){var d=c[0];c=c[1];g[a].addReliabilityStats(d,c)}}d=g[a].getFunnelName();c=g[a].getLogData();b("MarauderLogger").log("funnel_analytics",null,c);g[a].devModeLogger("Logged: %s",JSON.stringify(c));H(a);g[a]=void 0;b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelEnd(d),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function O(){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.SESSION_END),N(a))}function P(){if(i){i=!1;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_BLUR),H(a))}}function Q(){if(!i){i=!0;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_FOCUS),H(a))}}function R(){h||(h=!0,window.addEventListener&&(b("Banzai").subscribe(b("Banzai").SHUTDOWN,O),window.addEventListener("blur",P),window.addEventListener("focus",Q)))}e.exports={addFunnelTag:n,appendAction:p,appendActionAtTime:r,appendActionAtTimeWithPayload:w,appendActionAtTimeWithTag:t,appendActionAtTimeWithTagAndPayload:z,appendActionIfNew:q,appendActionWithPayload:v,appendActionWithPayloadIfNew:x,appendActionWithTag:s,appendActionWithTagAndPayload:y,appendActionWithTagAndPayloadIfNew:A,appendActionWithTagIfNew:u,cancelFunnel:k,endFunnel:l,endFunnelAtTime:m,getFunnelInstance:d,setFunnelTimeout:j,setFunnelTrackFocus:o,startFunnel:a,startFunnel_DEV_MODE:f,startFunnelAtTime:c}}),null);
__d("KeyframesPerformanceLog",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60;a=function(){function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}var b=a.prototype;b.onNextFrame=function(a){this.$7=a};b.start=function(){if(this.$2<0||this.$3>=0){var a=(h||(h=c("performanceNow")))();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};b.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=(h||(h=c("performanceNow")))(),this.$5&&this.$5("pause"))};b.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};b.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};b.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};b.finish=function(){if(this.$2>=0){var a=(h||(h=c("performanceNow")))(),b=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-b),1);b=this.$1?this.$1/a*1e3:i;this.$6({animation_duration:a,display_refresh_rate:i,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:b,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};return a}();g["default"]=a}),98);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={LOAD_ATTEMPT:"plugin_load_attempt",LOAD_ATTEMPT_KF3:"plugin_load_attempt_compat"};function k(a,b){if(a==null)return;a.forEach(function(a){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:b,extras:a}))})}a={log:function(a){k(a,j.LOAD_ATTEMPT)},logCompat:function(a){k(a,j.LOAD_ATTEMPT_KF3)}};g.KeyframesPluginLogger=a}),98);
__d("KeyframesPluginsLoader",["Bootloader","KeyframesPluginLogger","Promise","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h,i={DynamicProperties:function(a){return c("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],a,"KeyframesPluginsLoader")},LayerName:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],a,"KeyframesPluginsLoader")},LayerTags:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],a,"KeyframesPluginsLoader")},RandomSubdocument:function(a){return c("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],a,"KeyframesPluginsLoader")},Sound:function(a){return c("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],a,"KeyframesPluginsLoader")},SubdocumentSwap:function(a){return c("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],a,"KeyframesPluginsLoader")},TrimPath:function(a){return c("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],a,"KeyframesPluginsLoader")}};function j(a,b){return i[a]?i[a](b):null}function k(a){a=a.map(function(a){return new(h||(h=b("Promise")))(function(b,c){var d=j(a,function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b(c)});d||c("Unknown plugin "+a)})});return(h||(h=b("Promise"))).all(a)}a=function(){function a(a,b){this.instances=[],this.$1={},this.$2={},this.$4=a,this.$3=b}a.fromPluginTable=function(b){d("KeyframesPluginLogger").KeyframesPluginLogger.log(b);return k(b).then(function(c){return new a(b,c)})};a.getSupportedPlugins=function(){return i};var b=a.prototype;b.getPluginTable=function(){return this.$4};b.getPluginsForLayer=function(a){return this.$1[a]};b.maybeInstantiatePluginsForLayer=function(a){var b=a.id();if(!this.$2[b]){var c=a.pluginsLength();if(c)for(var e=0;e<c;e++){var f=a.plugins(e),g=new(d("flatbuffers").ByteBuffer)(f.contentArray());f=f.index();if(this.$3[f]){var h=this.$3[f],i=h[0];h=h[1];f="getRootAsPlugin"+this.$4[f];h=h[f](g);f=new i(h,a);this.$1[b]||(this.$1[b]=[]);this.$1[b].push(f);this.instances.push(f);f.animationDidLoad()}}this.$2[b]=!0}};return a}();g["default"]=a}),98);
__d("KeyframesVersion",[],(function(a,b,c,d,e,f){"use strict";var g="2.0.0";function a(){return g}f.getCurrentVersion=a}),66);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","once","performanceNow","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;a=!1;var i="KEYFRAMES_FUNNEL",j="KeyframesFramePerfLoggerConfig",k=2,l=9e18,m={appid:256281040558,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:c("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function n(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function o(){var a=(h||(h=c("performanceNow")))();return function(){return Math.floor((h||(h=c("performanceNow")))()-a)}}function p(){return{value:Date.now()}}b=function(){function a(b,e){var f=this;this.$2=!1;this.$3=0;this.$5=1;this.$11=d("KeyframesVersion").getCurrentVersion();this.$15=function(b){f.$13("play_ended");f.$3++;if(f.$3===f.$5){b=babelHelpers["extends"]({},b,m,{animation_duration:String(b.animation_duration),asset_id:f.$6.assetID||null,asset_name:f.$6.assetID?null:f.$6.assetName,display_refresh_rate:String(b.display_refresh_rate),keyframes_version:f.$11,project_name:f.$6.projectName,session_id:f.$9});a.performanceLoggingMethod(b);f.$5<l&&(f.$5*=k)}};this.$16=function(a){switch(a){case"start":f.$13("play_started");return;case"pause":f.$13("play_ended");return}};this.$10=e||p();this.$6=b;this.$9=c("uuidv4")();this.$4=n(this.$9)}a.performanceLoggingMethod=function(a){c("BanzaiLogger").log(j,a)};var b=a.prototype;b.startDecode=function(a){var b=this;if(!this.$1){this.$12();this.$13("asset_decode_started",a);var d=o();this.$1=c("once")(function(a,c){b.$13("asset_decode_ended",a,{"time_since:asset_decode_started":d(),plugins_decoded:c||[]})})}return this.$1};b.error=function(a){this.$12(),this.$1?this.$14("asset_decode_failed",a):this.$14("asset_request_failed",a)};b.getUUID=function(){return this.$9};b.getInstanceID=function(){return this.$4};b.getPerformanceLogIfEnabled=function(){var a=this;if(!this.$7){var b=this.$12(),d=new(c("KeyframesPerformanceLog"))(this.$15,this.$16);d.onNextFrame(function(){return a.$13("first_frame_rendered",p(),{"time_since:session_started":b()})});this.$7=d}return this.$7};b.$12=function(){this.$8||(d("FunnelLogger").startFunnelAtTime(i,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(c("KeyframesPluginsLoader").getSupportedPlugins())}),this.$8=o());return this.$8};b.$13=function(a,b,c){b=b||p(),this.$2||d("FunnelLogger").appendActionAtTimeWithPayload(i,b.value,this.$4,a,babelHelpers["extends"]({},this.$17(),c))};b.$14=function(a,b){b=b||p(),this.$2||(this.$13("session_failed",b,{fail_reason:a}),d("FunnelLogger").endFunnelAtTime(i,b.value,this.$4),this.$2=!0)};b.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}};return a}();g["default"]=b}),98);
__d("KFComponentNames",[],(function(a,b,c,d,e,f){"use strict";a="AUDIO";b="BITMAP";c="IMAGE";d="CHILDREN";e="COMPOSITING";var g="IDENTIFICATION",h="OPACITY",i="PARENT",j="RANDOM_SUBDOCUMENT",k="RANDOM_SUBDOCUMENT_CHILDREN",l="ROOT",m="SCENE",n="SHAPE",o="TIME",p="TRIM_PATH",q="TRANSFORM",r="VIDEO";f.AUDIO=a;f.BITMAP=b;f.CHILDREN=d;f.COMPOSITING=e;f.IMAGE=c;f.IDENTIFICATION=g;f.OPACITY=h;f.PARENT=i;f.RANDOM_SUBDOCUMENT=j;f.RANDOM_SUBDOCUMENT_CHILDREN=k;f.ROOT=l;f.SCENE=m;f.SHAPE=n;f.TIME=o;f.TRIM_PATH=p;f.TRANSFORM=q;f.VIDEO=r}),66);
__d("KFLoaderUtils",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=b.getComponent(f,d("KFComponentNames").CHILDREN);g=g==null?void 0:g.getChildren();g!=null&&h(g,b,c);c(f,e,a)}}function a(a,b){var c=a.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];c=a.getComponent(c,d("KFComponentNames").SCENE);if(c==null)return;c=c.getEntities();h(c,a,b)}function b(a){a=a==null?void 0:a.duration();return a==null||a===0?1:a*1e3}function c(a){i.traverseEntitiesAndApply(a,function(b,c,e){if(c+1===e.length)return;e=e[c+1];c=a.getComponent(e,d("KFComponentNames").COMPOSITING);if((c==null?void 0:c.isTrackMatte)!==!0)return;c=a.getComponent(b,d("KFComponentNames").COMPOSITING);c==null&&(c=a.addComponent(b,d("KFComponentNames").COMPOSITING));c.trackMatteId=e.getID()})}var i={getDocumentDuration:b,maybeGenerateTrackMatteIDs:c,traverseEntitiesAndApply:a};e=i;g["default"]=e}),98);
__d("KeyframesSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.mutate_width=function(a){var b=this.bb.__offset(this.bb_pos,0);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.prototype.mutate_height=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.getRootAsPoint=function(a,b){return(b||new g.keyframes.Point()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Point.prototype.x=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_x=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.prototype.y=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_y=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.startPoint=function(a){a.startObject(2)};g.keyframes.Point.addX=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Point.addY=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Point.endPoint=function(a){a=a.endObject();return a};g.keyframes.Point.createPoint=function(a,b,c){g.keyframes.Point.startPoint(a);g.keyframes.Point.addX(a,b);g.keyframes.Point.addY(a,c);return g.keyframes.Point.endPoint(a)};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.getRootAsColor=function(a,b){return(b||new g.keyframes.Color()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Color.prototype.red=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_red=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.green=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_green=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.blue=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_blue=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.alpha=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint8(this.bb_pos+a):255};g.keyframes.Color.prototype.mutate_alpha=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.startColor=function(a){a.startObject(4)};g.keyframes.Color.addRed=function(a,b){a.addFieldInt8(0,b,0)};g.keyframes.Color.addGreen=function(a,b){a.addFieldInt8(1,b,0)};g.keyframes.Color.addBlue=function(a,b){a.addFieldInt8(2,b,0)};g.keyframes.Color.addAlpha=function(a,b){a.addFieldInt8(3,b,255)};g.keyframes.Color.endColor=function(a){a=a.endObject();return a};g.keyframes.Color.createColor=function(a,b,c,d,e){g.keyframes.Color.startColor(a);g.keyframes.Color.addRed(a,b);g.keyframes.Color.addGreen(a,c);g.keyframes.Color.addBlue(a,d);g.keyframes.Color.addAlpha(a,e);return g.keyframes.Color.endColor(a)};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.createColorsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Command=function(){this.bb=null,this.bb_pos=0};g.keyframes.Command.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Command.getRootAsCommand=function(a,b){return(b||new g.keyframes.Command()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Command.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.CommandType.MoveTo};g.keyframes.Command.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Command.prototype.point=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.startCommand=function(a){a.startObject(4)};g.keyframes.Command.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.CommandType.MoveTo)};g.keyframes.Command.addPoint=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Command.addControl1=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Command.addControl2=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Command.endCommand=function(a){a=a.endObject();return a};g.keyframes.Command.createCommand=function(a,b,c,d,e){g.keyframes.Command.startCommand(a);g.keyframes.Command.addType(a,b);g.keyframes.Command.addPoint(a,c);g.keyframes.Command.addControl1(a,d);g.keyframes.Command.addControl2(a,e);return g.keyframes.Command.endCommand(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Command()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.startPath=function(a){a.startObject(1)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.value=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.mutate_value=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(4)};g.keyframes.ScalarAnimation.addValue=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d,e){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValue(a,b);g.keyframes.ScalarAnimation.addValues(a,c);g.keyframes.ScalarAnimation.addKeyframes(a,d);g.keyframes.ScalarAnimation.addTweens(a,e);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(4)};g.keyframes.ScalarArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d,e){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValue(a,b);g.keyframes.ScalarArrayAnimation.addValues(a,c);g.keyframes.ScalarArrayAnimation.addKeyframes(a,d);g.keyframes.ScalarArrayAnimation.addTweens(a,e);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(4)};g.keyframes.PointAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d,e){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValue(a,b);g.keyframes.PointAnimation.addValues(a,c);g.keyframes.PointAnimation.addKeyframes(a,d);g.keyframes.PointAnimation.addTweens(a,e);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(4)};g.keyframes.ColorAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d,e){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValue(a,b);g.keyframes.ColorAnimation.addValues(a,c);g.keyframes.ColorAnimation.addKeyframes(a,d);g.keyframes.ColorAnimation.addTweens(a,e);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(4)};g.keyframes.ColorArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d,e){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValue(a,b);g.keyframes.ColorArrayAnimation.addValues(a,c);g.keyframes.ColorArrayAnimation.addKeyframes(a,d);g.keyframes.ColorArrayAnimation.addTweens(a,e);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(4)};g.keyframes.PathAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d,e){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValue(a,b);g.keyframes.PathAnimation.addValues(a,c);g.keyframes.PathAnimation.addKeyframes(a,d);g.keyframes.PathAnimation.addTweens(a,e);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.colorStart=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colorEnd=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,12);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Gradient.prototype.colors=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(9)};g.keyframes.Gradient.addColorStart=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Gradient.addColorEnd=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(4,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addColorStart(a,b);g.keyframes.Gradient.addColorEnd(a,c);g.keyframes.Gradient.addRampStart(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addType(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addPositions(a,i);g.keyframes.Gradient.addHighlightLength(a,j);g.keyframes.Gradient.addHighlightAngle(a,k);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.mutate_length=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0};g.keyframes.Plugin.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Plugin.getRootAsPlugin=function(a,b){return(b||new g.keyframes.Plugin()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Plugin.prototype.index=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Plugin.prototype.mutate_index=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Plugin.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Plugin.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Plugin.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Plugin.prototype.optional=function(){var a=this.bb.__offset(this.bb_pos,8);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Plugin.prototype.mutate_optional=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Plugin.startPlugin=function(a){a.startObject(3)};g.keyframes.Plugin.addIndex=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Plugin.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Plugin.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Plugin.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Plugin.addOptional=function(a,b){a.addFieldInt8(2,+b,0)};g.keyframes.Plugin.endPlugin=function(a){a=a.endObject();return a};g.keyframes.Plugin.createPlugin=function(a,b,c,d){g.keyframes.Plugin.startPlugin(a);g.keyframes.Plugin.addIndex(a,b);g.keyframes.Plugin.addContent(a,c);g.keyframes.Plugin.addOptional(a,d);return g.keyframes.Plugin.endPlugin(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_start_progress=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_end_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.sublayers=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.sublayersLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_from_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.mutate_to_progress=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,26);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.mutate_stroke_line_cap=function(a){var b=this.bb.__offset(this.bb_pos,32);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.gradient=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.mutate_stroke_line_join=function(a){var b=this.bb.__offset(this.bb_pos,36);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.miterLimit=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,40);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_bitmap_index=function(a){var b=this.bb.__offset(this.bb_pos,40);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.subdocumentIndex=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_subdocument_index=function(a){var b=this.bb.__offset(this.bb_pos,42);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,44);return c?(b||new g.keyframes.Plugin()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,44);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,46);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_progress_offset=function(a){var b=this.bb.__offset(this.bb_pos,46);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,50);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,52);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_is_track_matte=function(a){var b=this.bb.__offset(this.bb_pos,52);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,54);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.mutate_track_matte_type=function(a){var b=this.bb.__offset(this.bb_pos,54);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,56);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.mutate_vector_composite_order=function(a){var b=this.bb.__offset(this.bb_pos,56);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,58);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textSize=function(a){var b=this.bb.__offset(this.bb_pos,62);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textAlign=function(a){var b=this.bb.__offset(this.bb_pos,66);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textVAlign=function(){var a=this.bb.__offset(this.bb_pos,68);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textVAlign=function(a){var b=this.bb.__offset(this.bb_pos,68);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,70);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textTracking=function(a){var b=this.bb.__offset(this.bb_pos,70);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,72);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textLeading=function(a){var b=this.bb.__offset(this.bb_pos,72);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,74);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_textItalic=function(a){var b=this.bb.__offset(this.bb_pos,74);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,76);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.mutate_textWeight=function(a){var b=this.bb.__offset(this.bb_pos,76);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textBoxSize=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,80);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,82);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_video_index=function(a){var b=this.bb.__offset(this.bb_pos,82);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.startLayer=function(a){a.startObject(40)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addSublayers=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.createSublayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSublayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(3,b,1)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(14,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addGradient=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(16,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(18,b,-1)};g.keyframes.Layer.addSubdocumentIndex=function(a,b){a.addFieldInt32(19,b,-1)};g.keyframes.Layer.addPlugins=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(21,b,0)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(23,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(24,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(25,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(26,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(27,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTextVAlign=function(a,b){a.addFieldFloat32(32,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(33,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(34,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(35,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(36,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextBoxSize=function(a,b){a.addFieldStruct(37,b,0)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(38,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(39,b,-1)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addSublayers(a,c);g.keyframes.Layer.addFromProgress(a,d);g.keyframes.Layer.addToProgress(a,e);g.keyframes.Layer.addAnchorPoint(a,f);g.keyframes.Layer.addXPosition(a,h);g.keyframes.Layer.addYPosition(a,i);g.keyframes.Layer.addRotation(a,j);g.keyframes.Layer.addScale(a,k);g.keyframes.Layer.addPath(a,l);g.keyframes.Layer.addOpacity(a,m);g.keyframes.Layer.addFillColor(a,n);g.keyframes.Layer.addStrokeColor(a,o);g.keyframes.Layer.addStrokeWidth(a,p);g.keyframes.Layer.addStrokeLineCap(a,q);g.keyframes.Layer.addGradient(a,r);g.keyframes.Layer.addStrokeLineJoin(a,s);g.keyframes.Layer.addMiterLimit(a,t);g.keyframes.Layer.addBitmapIndex(a,u);g.keyframes.Layer.addSubdocumentIndex(a,v);g.keyframes.Layer.addPlugins(a,w);g.keyframes.Layer.addProgressOffset(a,x);g.keyframes.Layer.addClippingPath(a,y);g.keyframes.Layer.addPosition(a,z);g.keyframes.Layer.addIsTrackMatte(a,A);g.keyframes.Layer.addTrackMatteType(a,B);g.keyframes.Layer.addVectorCompositeOrder(a,C);g.keyframes.Layer.addText(a,D);g.keyframes.Layer.addTextTypeface(a,E);g.keyframes.Layer.addTextSize(a,F);g.keyframes.Layer.addTextColor(a,G);g.keyframes.Layer.addTextAlign(a,H);g.keyframes.Layer.addTextVAlign(a,I);g.keyframes.Layer.addTextTracking(a,J);g.keyframes.Layer.addTextLeading(a,K);g.keyframes.Layer.addTextItalic(a,L);g.keyframes.Layer.addTextWeight(a,M);g.keyframes.Layer.addTextBoxSize(a,N);g.keyframes.Layer.addVideoLevels(a,O);g.keyframes.Layer.addVideoIndex(a,P);return g.keyframes.Layer.endLayer(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KEYF")};g.keyframes.Document.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Document.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_frame_rate=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_duration=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.version=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_version=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.subdocuments=function(a,b){var c=this.bb.__offset(this.bb_pos,16);return c?(b||new g.keyframes.Document()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.subdocumentsLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Document.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,20);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,22);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,24);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.videos=function(a,b){var c=this.bb.__offset(this.bb_pos,26);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.videosLength=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(12)};g.keyframes.Document.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Document.addFrameRate=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Document.addDuration=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Document.addVersion=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.addBitmaps=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Document.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addSubdocuments=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Document.createSubdocumentsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startSubdocumentsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addPlugins=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Document.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addId=function(a,b){a.addFieldInt32(8,b,0)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addProgressMarkers=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Document.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addVideos=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Document.createVideosVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVideosVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KEYF")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f,h,i,j,k,l,m,n){g.keyframes.Document.startDocument(a);g.keyframes.Document.addSize(a,b);g.keyframes.Document.addFrameRate(a,c);g.keyframes.Document.addDuration(a,d);g.keyframes.Document.addVersion(a,e);g.keyframes.Document.addRootLayer(a,f);g.keyframes.Document.addBitmaps(a,h);g.keyframes.Document.addSubdocuments(a,i);g.keyframes.Document.addPlugins(a,j);g.keyframes.Document.addId(a,k);g.keyframes.Document.addManifest(a,l);g.keyframes.Document.addProgressMarkers(a,m);g.keyframes.Document.addVideos(a,n);return g.keyframes.Document.endDocument(a)};e.exports=g.keyframes}),null);
__d("KeyframesVideoUtils",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=window.setTimeout,i=4;function a(a){var b=document.createElement("video");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");b.autoplay=!1;b.src=a;b.currentTime=0;a.startsWith("blob:")||(b.crossOrigin="anonymous");return b}function c(a,c){return new(g||(g=b("Promise")))(function(b,d){var e=function(){a.pause(),a.currentTime=c,a.removeEventListener("canplaythrough",e),f()},f=function(){a.readyState===i?b(a):h(f,10)},g=function(b){a.removeEventListener("error",g),d(b)};a.currentTime=c;a.addEventListener("error",g);a.readyState===i?b(a):a.addEventListener("canplaythrough",e)})}f.createVideo=a;f.loadVideo=c}),66);
__d("requestIdleCallback",["cr:7387"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:7387")}),98);
__d("KeyframesAssetDecoder",["BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","Promise","flatbuffers","promiseDone","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g,h=b("KeyframesSchema").Document,i="medium",j=a.URL||a.webkitURL||{};function k(a){a=new(b("flatbuffers").ByteBuffer)(a);return h.bufferHasIdentifier(a)?h.getRootAsDocument(a):null}function l(a){return new(g||(g=b("Promise")))(function(b,c){var d=new Image();d.onload=function(){return b(d)};d.onerror=function(b){return c("Decode: error requesting image uri "+a)};d.src=a})}function m(a){a=b("KeyframesVideoUtils").createVideo(a);return b("KeyframesVideoUtils").loadVideo(a,0)}function n(b,c,d){return a.createImageBitmap&&!(b instanceof VideoFrame)?b.width<c||b.height<d?p(b,c,d).then(function(b){return a.createImageBitmap(b,0,0,c,d)["catch"](function(a){return b})}):a.createImageBitmap(b,0,0,b.width,b.height,{resizeWidth:c,resizeHeight:d,rezizeQuality:i})["catch"](function(a){return p(b,c,d)}):p(b,c,d)}function o(a,c,d){a.width=c;a.height=d;return(g||(g=b("Promise"))).resolve(a)}function p(a,c,d){return new(g||(g=b("Promise")))(function(b){var e=document.createElement("canvas");e.width=c;e.height=d;var f=e.getContext("2d");f.drawImage(a,0,0,c,d);b(e)})}function q(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(e instanceof VideoFrame)continue;var f=b[d].size().width(),g=b[d].size().height();if(f!==e.width||g!==e.height){var h=document.createElement("canvas");h.width=f;h.height=g;var i=h.getContext("2d");i.drawImage(e,0,0,f,g);c.push(h)}else c.push(e)}return c}function r(a,c,d){if(!j.createObjectURL)return(g||(g=b("Promise"))).reject("URL API not supported");var e=j.createObjectURL(a);c=l(e);b("promiseDone")(c,function(){return b("requestIdleCallback")(function(){return j.revokeObjectURL(e)})});return c}function s(c){if(b("BlobFactory").isSupported()){var d=c.contentArray();if(!d)return(g||(g=b("Promise"))).reject("Decode: tried to decode a null bitmap");var e=b("BlobFactory").getBlob([d]),f=c.size().width(),h=c.size().height();return a.createImageBitmap?a.createImageBitmap(e,0,0,f,h)["catch"](function(a){return r(e,f,h)}):r(e,f,h)}return(g||(g=b("Promise"))).reject("Decode: browser does not support bitmap creation")}function t(a){if(b("BlobFactory").isSupported()){var c=a.size();a=a.contentArray();if(!a)return(g||(g=b("Promise"))).reject("Decode: tried to decode a null video");a=b("BlobFactory").getBlob([a]);if(!j.createObjectURL)return(g||(g=b("Promise"))).reject("URL API not supported");var d=j.createObjectURL(a);a=m(d).then(function(a){return o(a,c.width(),c.height())});b("promiseDone")(a,function(){b("requestIdleCallback")(function(){return j.revokeObjectURL(d)})});return a}return(g||(g=b("Promise"))).reject("Decode: browser does not support video creation")}function u(a){var b=[];for(var c=a.pluginsLength()-1;c>=0;c--)b.unshift(a.plugins(c));return b.length?b:null}function v(a){var b=[];for(var c=a.bitmapsLength()-1;c>=0;c--)b.unshift(a.bitmaps(c));return b}function w(a){var b=[];for(var c=a.videosLength()-1;c>=0;c--)b.unshift(a.videos(c));return b}function x(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function y(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function z(a){var b=[];for(var c,d=a.subdocumentsLength()-1;d>=0;d--)c=a.subdocuments(d),b.unshift(c);return b}function A(a){a=k(a);return!a?(g||(g=b("Promise"))).reject("Decode: could not create flatbuffer doc"):B(a)}function B(a){var c=v(a),d=y(c),e=w(a),f=x(e),h=c.filter(function(a){return a.contentLength()||!a.name()}).map(s);e=e.filter(function(a){return a.contentLength()||!a.name()}).map(t);var i=z(a).map(B),j=u(a);j=j?b("KeyframesPluginsLoader").fromPluginTable(j):(g||(g=b("Promise"))).resolve(null);return(g||(g=b("Promise"))).all([g.all(h),g.all(e),j,g.all(i)]).then(function(b){var e=b[0],g=b[1],h=b[2];b=b[3];return{bitmaps:q(e,c),bitmapNames:d,videos:g,videoNames:f,doc:a,pluginsLoader:h,subassets:b}})}function C(a){return!Uint8Array?(g||(g=b("Promise"))).reject("Decode: typed arrays not supported"):(g||(g=b("Promise"))).resolve(new Uint8Array(a))}function D(a,c,d){if(!a.bitmapNames[c]){var e=Object.keys(a.bitmapNames).join(",");return(g||(g=b("Promise"))).reject("Decode: missing replacement bitmap name "+c+", available names: "+e)}e=a.bitmapNames[c];var f=e.index;c=e.width;e=e.height;return n(d,c,e).then(function(b){a.bitmaps[f]=b})}function E(a,c,d){if(!a.videoNames[c]){var e=Object.keys(a.videoNames).join(",");return(g||(g=b("Promise"))).reject("Decode: missing replacement video name "+c+", available names: "+e)}e=a.videoNames[c];var f=e.index;c=e.width;e=e.height;return o(d,c,e).then(function(b){a.videos[f]=b})}function F(a){var b=babelHelpers["extends"]({},a);b.bitmaps=a.bitmaps.slice();return b}var G={awaitForMap:function(a,c){var d={},e=[],f=function(){var a=h[0],f=h[1];f=c(f,a);e.push(f);b("promiseDone")(f,function(b){return d[a]=b})};for(var h of Object.entries(a))f();return(g||(g=b("Promise"))).all(e).then(function(){return d})},fromDocumentBytes:function(a){if(a instanceof ArrayBuffer)return C(a).then(A);else if(a instanceof Uint8Array)return A(a);return(g||(g=b("Promise"))).reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(a,b){return G.awaitForMap(b,function(a){return l(a)}).then(function(b){return G.replaceBitmapsWithImageSources(a,b)})},replaceBitmapsWithImageSources:function(a,b){var c=F(a);return G.awaitForMap(b,function(a,b){return D(c,b,a)}).then(function(){return c})},replaceVideosWithURIs:function(a,b){return G.awaitForMap(b,m).then(function(b){return G.replaceVideosWithVideoSources(a,b)})},replaceVideosWithVideoSources:function(a,b){var c=F(a);return G.awaitForMap(b,function(a,b){return E(c,b,a)}).then(function(){return c})}};e.exports=G}),null);
__d("KeyframesCanvasPolyfills",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0};f.addGetTransformPolyfill=a}),66);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[]}var b=a.prototype;b.getCanvas=function(){if(this.$2.length){var a=this.$2.pop();this.$3.push(a);return a}else{a=document.createElement("canvas");var b=c("nullthrows")(a.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(b);a={canvas:a,ctx:b};this.$4(a);this.$3.push(a);return a}};b.clearAllAllocated=function(){var a=this;this.$3.forEach(function(b){b=b.ctx;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,Math.max(a.$1.width.physical,a.$1.width.intrinsic),Math.max(a.$1.height.physical,a.$1.height.intrinsic))})};b.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]};b.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)};return a}();g["default"]=a}),98);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesSchema").StrokeLineCap,i=b("KeyframesSchema").CommandType;f=["miter","round","bevel"];function a(a){return"rgba("+Math.floor(a.red)+","+Math.floor(a.green)+","+Math.floor(a.blue)+","+Math.floor(a.alpha)/255+")"}function c(a){switch(a){case h.Square:return"square";case h.Round:return"round";case h.Butt:default:return"butt"}}function d(a,b){a.beginPath();for(b of b)switch(b.type){case i.MoveTo:a.moveTo(b.point.x,b.point.y);break;case i.CubicTo:b.control1&&b.control2||g(0,2935);a.bezierCurveTo(b.control1.x,b.control1.y,b.control2.x,b.control2.y,b.point.x,b.point.y);break;case i.QuadTo:b.control1||g(0,2936);a.quadraticCurveTo(b.control1.x,b.control1.y,b.point.x,b.point.y);break;case i.LineTo:a.lineTo(b.point.x,b.point.y);break;default:throw new Error("Unrecognized path command "+b.type)}}e.exports={drawPath:d,getCanvasStyle:a,getCanvasLineCap:c,LINE_JOINS:f}}),null);
__d("KeyframesDimensions",["invariant","cr:2680"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("cr:2680").get(),j=function(){function a(a){this.overridden=!1,this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*i)};b.scale=function(a,b){this.overridden&&h(0,1136),this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new j(a),this.height=new j(b)}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0)};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio)};b.reset=function(){this.height.reset(),this.width.reset()};return a}();g["default"]=a}),98);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],(function(a,b,c,d,e,f,g){"use strict";var h,i=1e3,j=new Set();function k(a){var b=(h||(h=c("performanceNow")))();a.callback(Math.min(b-(a.previousTime||b),i));a.previousTime=b;a.framesRemaining-=1;a.framesRemaining<=0&&a.cancel()}function l(a){j.size>0&&(j.forEach(k),c("requestAnimationFramePolyfill")(l))}c("gkx")("20935")||d("Run").onLeave(function(){j.forEach(function(a){return a.cancel()})});window.addEventListener("focus",function(){j.forEach(function(a){return a.previousTime=(h||(h=c("performanceNow")))()-16.67})});a=function(){function a(a){this.framesRemaining=Infinity,this.callback=a,this.previousTime=0}var b=a.prototype;b.start=function(a){a===void 0&&(a=Infinity),this.framesRemaining=a,this.$1||(j.size===0&&c("requestAnimationFramePolyfill")(l),j.add(this),this.previousTime=(h||(h=c("performanceNow")))(),this.$1=c("TimeSlice").getGuardedContinuation("KeyframesLoop"))};b.cancel=function(){this.$1&&(this.$1(c("emptyFunction")),this.$1=null,j["delete"](this))};b.isRunning=function(){return!!this.$1};return a}();g["default"]=a}),98);
__d("KeyframesPathUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return(c-b)*a+b}function b(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function c(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}e.exports={interpolateLinear:a,interpolateQuad:b,interpolateCubic:c,lerp:a}}),null);
__d("KeyframesTrackMattes",[],(function(a,b,c,d,e,f){"use strict";a={1:"destination-in",2:"destination-out"};f["default"]=a}),66);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;(d=b("KeyframesSchema")).Color;d.ColorAnimation;d.ColorArray;d.ColorArrayAnimation;d.Command;var k=d.CommandType;d.Path;d.PathAnimation;d.Point;d.PointAnimation;d.ScalarAnimation;d.ScalarArray;d.ScalarArrayAnimation;var l=d.TweenType;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function q(a){var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(o(a.colors(d)));return c}function r(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function s(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(r(a.commands(c)));return b}function t(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function u(a,b){if(t(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function v(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 0;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var w=function(a,b,c){return a*(c-b)+b};f=function(a,b,c){var d=b.valuesLength(),e=[];for(var f=0;f<d;f++)e.push(w(a,b.values(f),c.values(f)));return e};var x=function(a,b,c){return{x:w(a,b.x(),c.x()),y:w(a,b.y(),c.y())}},y=function(a,b,c){return b&&c?x(a,b,c):null},z=function(a,b,c){return{red:w(a,b.red(),c.red()),green:w(a,b.green(),c.green()),blue:w(a,b.blue(),c.blue()),alpha:w(a,b.alpha(),c.alpha())}};d=function(a,b,c){var d=b.colorsLength(),e=[];for(var f=0;f<d;f++)e.push(z(a,b.colors(f),c.colors(f)));return e};var A=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:x(a,f.point(),g.point()),control1:y(a,f.control1(),g.control1()),control2:y(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=u(c,d);e!=null||g(0,2829);c=v(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var B=a.bind(null,w,m),C=a.bind(null,f,p),D=a.bind(null,x,n),E=a.bind(null,z,o),F=a.bind(null,d,q),G=a.bind(null,A,s);function H(a,b,c,d){if(b.keyframesLength())switch(t(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}f=function(a,b){return H(a,b,B,m)};d=function(a,b){return H(a,b,C,p)};a=function(a,b){return H(a,b,D,n)};A=function(a,b){return H(a,b,E,o)};var I=function(a,b){return H(a,b,F,q)},J=function(a,b){return H(a,b,G,s)};function K(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function L(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function M(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function N(a,b,c){a=v(a,b,c);b=b.value();var d=n(b.commands(c).point());b=r(b.commands(c+1));switch(b.type){case k.LineTo:return K(a,d,b.point);case k.QuadTo:b.control1||g(0,2830);return L(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,2831);return M(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(t(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=u(a,b);c!=null||g(0,2832);return N(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:A,maybeTweenColorArray:I,maybeTweenScalar:f,maybeTweenScalarArray:d,maybeTweenPath:J,tweenPointOnPath:c};e.exports=a}),null);
__d("KeyframesVideoManager",["KeyframesVideoUtils"],(function(a,b,c,d,e,f){"use strict";var g=.2,h=100,i=[.85,1.15];e.exports=function(){function a(a){this.$1=a,this.$3=1/a.doc.frameRate(),this.$2=l(a.doc.rootLayer(),a),this.$4=this.$5()}var c=a.prototype;c.getVideos=function(){return this.$1.videos};c.getTimeWindows=function(){return this.$2};c.forEach=function(a){this.getVideos().forEach(a)};c.pause=function(){this.forEach(function(a){a.pause()})};c.mute=function(){this.forEach(function(a){a.muted=!0})};c.unMute=function(){this.forEach(function(a){a.muted=!1})};c.renderProgress=function(a){var b=this;this.$2.forEach(function(c,d){var e=c.video,f=k(c,a),h=j(c,a);h=b.$1.doc.duration()*h;var l=Math.abs(h-e.currentTime);c=b.$1.doc.duration()*(c.toProgress-c.fromProgress);if(l>g&&e.currentTime<c&&h<c){l=(c-e.currentTime)/(c-h);l>=i[0]&&l<=i[1]&&b.changeVideoPlaybackRate(d,l)}f&&e.paused?e.play():f==!1&&e.paused==!1&&(e.pause(),e.currentTime=0)})};c.$5=function(){return this.$2.map(function(a){var b=a.video;return n(function(a){b.playbackRate=a},h,!0)})};c.changeVideoPlaybackRate=function(a,b){this.$4[a](b)};c.seekToProgress=async function(a){var c=this,d=this.$2.map(async function(d){var e=d.video,f=0;if(k(d,a)){d=j(d,a);f=m(c.$1.doc.duration()*d)}e.pause();e.currentTime=f;await b("KeyframesVideoUtils").loadVideo(e,f)});await Promise.all(d)};return a}();function j(a,b){return b-a.fromProgress}function k(a,b){return b>=a.fromProgress&&b<=a.toProgress}function l(a,b){var c=[],d=a.videoIndex();if(d!=-1){var e=b.videos[d];d=b.doc.videos(d);e!=null&&c.push({fromProgress:a.fromProgress(),toProgress:a.toProgress(),name:d!=null?d.name():null,video:e})}for(d=0;d<a.sublayersLength();d++)c=c.concat(l(a.sublayers(d),b));return c}function m(a){return Math.round(a*100)/100}function n(a,b,c){b===void 0&&(b=100);c===void 0&&(c=!1);var d;return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=function(){d=null,c||a.apply(void 0,f)},i=c&&!d;clearTimeout(d);d=setTimeout(h,b);i&&a.apply(void 0,f)}}}),null);
__d("KeyframesRenderer",["invariant","ErrorGuard","KFLoaderUtils","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","gkx","nullthrows","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=1,m={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"};a=60;var n=1e3/a,o=1,p="source-over";function q(a,b){return c("gkx")("21037")?(j||(j=c("ErrorGuard"))).guard(a,{name:b}):a}var r=function(){function a(a,b){b===void 0&&(b=100),this.$3=!1,this.$4=0,this.$1=a,this.$2=b}var b=a.prototype;b.callOrIgnoreThrottled=function(){if((k||(k=c("performanceNow")))()>=this.$4){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];this.$5(b)}else this.$3=!0};b.callIfIgnored=function(){if(this.$3){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)}};b.callImmediately=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)};b.resetThrottling=function(){this.$4=0};b.$5=function(a){this.$3=!1,this.$4=(k||(k=c("performanceNow")))()+this.$2,this.$1.apply(null,a)};return a}();function s(a,b){if(a.pluginsLoader){a.pluginsLoader.instances.forEach(b);for(var c=a.subassets.length-1;0<=c;c--)s(a.subassets[c],b)}}function t(a,b,c,d){if(a.pluginsLoader){for(var e=a.pluginsLoader.instances.length-1;0<=e;e--)a.pluginsLoader.instances[e].animationWillRenderLayer(b,c,d);for(e=a.subassets.length-1;0<=e;e--)t(a.subassets[e],b,c,d)}}function u(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}function v(a,b,c,e){e=(i||(i=d("KeyframesTween"))).maybeTweenPoint2(a,b.rampStart());var f=i.maybeTweenPoint2(a,b.rampEnd()),g=b.colors(),h=b.positions();g&&h?(g=(i||(i=d("KeyframesTween"))).maybeTweenColorArray(a,g),h=i.maybeTweenScalarArray(a,h)):(g=[(i||(i=d("KeyframesTween"))).maybeTweenColor(a,b.colorStart()),i.maybeTweenColor(a,b.colorEnd())],h=[0,1]);if(b.type()===l){var j=b.highlightLength();j=j!==null?(i||(i=d("KeyframesTween"))).maybeTweenScalar(a,j):0;var k=b.highlightAngle();k=k!==null?(i||(i=d("KeyframesTween"))).maybeTweenScalar(a,b.highlightAngle()):0;a=e.x;b=e.y;var m=Math.sqrt(Math.pow(e.x-f.x,2)+Math.pow(e.y-f.y,2)),n=Math.acos((f.x-a)/m),o=a+m*j*Math.cos(n-k);n=b-m*j*Math.sin(n-k);k=0;j!==0&&(c.clip(),c.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle(g[g.length-1]),c.fill(),u(c,a,b,m));j=c.createRadialGradient(o,n,k,a,b,m)}else j=c.createLinearGradient(e.x,e.y,f.x,f.y);for(o=0,n=g.length;o<n;o++)j.addColorStop(h[o],d("KeyframesCanvasUtils").getCanvasStyle(g[o]));return j}function w(a,b,e,f,g,h,j,k,l){l===void 0&&(l=o);if(j<Math.max(h.fromProgress(),0)||j>Math.min(h.toProgress(),1))return;try{k&&k.maybeInstantiatePluginsForLayer(h)}catch(a){}a=a;var m,n=h.isTrackMatte(),q=h.trackMatteType();if(n||q!==0){var r=a.getTransform();m=b.getCanvas();m.ctx.setTransform(r.a,r.b,r.c,r.d,r.e,r.f);m.isTrackMatte=n;m.trackMatteType=q;m.ctx.globalCompositeOperation=p;a=m.ctx}a.save();r=h.position();if(r){n=(i||(i=d("KeyframesTween"))).tweenPointOnPath(j,r);q=n.x;r=n.y;a.translate(q,r)}else{n=h.xPosition();n&&a.translate((i||(i=d("KeyframesTween"))).maybeTweenScalar(j,n),0);q=h.yPosition();q&&a.translate(0,(i||(i=d("KeyframesTween"))).maybeTweenScalar(j,q))}r=h.rotation();r&&a.rotate((i||(i=d("KeyframesTween"))).maybeTweenScalar(j,r));n=h.scale();if(n){q=(i||(i=d("KeyframesTween"))).maybeTweenPoint2(j,n);r=q.x;n=q.y;a.scale(r,n)}q=h.anchorPoint();if(q){r=(i||(i=d("KeyframesTween"))).maybeTweenPoint2(j,q);n=r.x;q=r.y;a.translate(-n,-q)}r=h.opacity();r=r!=null?(i||(i=d("KeyframesTween"))).maybeTweenScalar(j,r):1;a.globalAlpha=r*l;n=!1;if(k){q=k.getPluginsForLayer(h.id());if(q)for(var s=0;s<q.length;s++)q[s].render(a,j),n=n||q[s].rendersLayer}h.clippingPath()&&(d("KeyframesCanvasUtils").drawPath(a,(i||(i=d("KeyframesTween"))).maybeTweenPath(j,h.clippingPath())),a.clip());if(!n&&h.path()){d("KeyframesCanvasUtils").drawPath(a,(i||(i=d("KeyframesTween"))).maybeTweenPath(j,h.path()));s=h.gradient();q=h.fillColor();n=!1;var t=!1;s?(a.fillStyle=v(j,s,a),n=!0):q&&(a.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle((i||(i=d("KeyframesTween"))).maybeTweenColor(j,q)),n=!0);if(h.strokeWidth()){s=(i||(i=d("KeyframesTween"))).maybeTweenScalar(j,h.strokeWidth());s>0&&(a.strokeStyle=d("KeyframesCanvasUtils").getCanvasStyle((i||(i=d("KeyframesTween"))).maybeTweenColor(j,h.strokeColor())),a.lineJoin=d("KeyframesCanvasUtils").LINE_JOINS[h.strokeLineJoin()],a.lineCap=d("KeyframesCanvasUtils").getCanvasLineCap(h.strokeLineCap()),a.lineWidth=s,t=!0)}h.vectorCompositeOrder()===0?(n&&a.fill(),t&&a.stroke()):(t&&a.stroke(),n&&a.fill())}q=h.bitmapIndex();s=e[q];s&&s.width!==0&&s.height!==0&&a.drawImage(s,0,0);t=h.videoIndex();n=f[t];n!=null&&a.drawImage(n,0,0,n.width,n.height);q=h.subdocumentIndex();if(g[q]){s=g[q].doc.size();a.save();a.beginPath();a.rect(0,0,s.width(),s.height());a.clip();w(a,b,g[q].bitmaps,g[q].videos,g[q].subassets,g[q].doc.rootLayer(),j-h.progressOffset(),g[q].pluginsLoader,r*l);a.restore()}var u;for(t=0;t<h.sublayersLength();t++){n=w(a,b,e,f,g,h.sublayers(t),j,k,r*l);if(!u&&n&&n.trackMatteType!==void 0)u=n;else if(u&&n&&n.isTrackMatte!==void 0){s=a.getTransform();a.setTransform(1,0,0,1,0,0);u.ctx.setTransform(1,0,0,1,0,0);q=n;u.ctx.globalCompositeOperation=c("KeyframesTrackMattes")[u.trackMatteType===void 0?1:u.trackMatteType];u.ctx.drawImage(q.canvas,0,0);a.drawImage(u.canvas,0,0);a.setTransform(s.a,s.b,s.c,s.d,s.e,s.f);u=void 0;q=void 0}else u&&!n?(a.drawImage(u.canvas,0,0),u=void 0,q=void 0):n&&n.isTrackMatte!==void 0&&(u=void 0,q=void 0)}a.restore();return m}b=function(){function a(a,b){var e=this;this.$5=0;this.$6=0;this.$8=!1;this.$9=!1;this.$10=!1;this.$11=0;this.$16=!1;this.$17=0;this.$18=1;this.$19=1;this.$21=1;this.$22=0;this.$26=function(a){(e.$12||e.$15)&&e.$34(a),!e.$16?e.redrawIfNeeded():(e.$10&&e.$32(),e.$24.renderProgress(e.$11),e.$33(e.$11),e.$11+=a/e.$5,e.$14&&e.$14.callOrIgnoreThrottled(e.$17),e.$11>=e.$21&&(e.$11%=e.$21,e.$19=Math.max(0,e.$19-1),e.$15&&e.$15.finish(),e.$19===0?e.pause():(e.$24.seekToProgress(0),e.$15&&e.$15.start(),e.$11+=e.$22),e.$13&&e.$13(e.$19),e.$30()))};this.$33=q(function(a){a>=0&&a<=1||h(0,750,a),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&t(this.$1,a,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),w(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,a,this.$1.pluginsLoader),this.$17=a,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()");this.$32=q(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()");this.$23=new(c("KeyframesDimensions"))(a.doc.size().width(),a.doc.size().height());this.$4=new(c("KeyframesCanvasPool"))(this.$23);this.$2=document.createElement("canvas");this.$3=c("nullthrows")(this.$2.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(this.$3);this.$7=new(c("KeyframesLoop"))(this.$26);this.$15=b;this.$24=new(c("KeyframesVideoManager"))(a);this.setDecodedAsset(a);this.$27();this.$25=Promise.resolve()}var b=a.prototype;b.play=function(){this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start());return this};b.pause=function(){this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17)));this.$24.pause();this.$29(this.$24.seekToProgress(this.$17));t(this.$1,this.$17,this.$16,this.$8);return this};b.isPlaying=function(){return this.$16};b.isFinished=function(){return this.$19===0};b.isMuted=function(){return this.$8};b.mute=function(){this.$8=!0,this.$24.mute()};b.unMute=function(){this.$8=!1,this.$24.unMute()};b.repeatCount=function(a){this.$18=this.$19=Math.max(1,a);return this};b.repeatForever=function(){return this.repeatCount(Infinity)};b.getRepeatsRemaining=function(){return this.$19};b.seekToProgress=function(a){var b=this;a>=0&&a<=1||h(0,749,a);this.$14&&this.$14.resetThrottling();this.$17=this.$11=a;this.$29(this.$24.seekToProgress(a).then(function(){return b.$28()}));a===0&&this.$30();this.$28();return this};b.setStartAndEndAt=function(a,b){if(a>=b)throw new Error("Cannot set the start time before the end time.");else if(b<=a)throw new Error("Cannot set the end time before the start time.");this.$22=a;this.$21=b;return this};b.setStartAt=function(a){if(a>=this.$21)throw new Error("Cannot set the start time before the end time.");this.$22=a;return this};b.setEndAt=function(a){if(a<=this.$22)throw new Error("Cannot set the end time before the start time.");this.$21=a;return this};b.getDuration=function(){return this.$5};b.getFrameRate=function(){return this.$6};b.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]};b.getWidth=function(){return this.$23.width.logical};b.getHeight=function(){return this.$23.height.logical};b.setWidth=function(a){this.$23.setWidth(a);this.$27();return this};b.setHeight=function(a){this.$23.setHeight(a);this.$27();return this};b.getDecodedAsset=function(){return babelHelpers.extends({},this.$1)};b.setDecodedAsset=function(a){this.$1=a;this.$5=c("KFLoaderUtils").getDocumentDuration(a.doc);this.$6=a.doc.frameRate();this.$20=a.doc.rootLayer();this.$24=new(c("KeyframesVideoManager"))(a);this.$28();this.$31();return this};b.resetDimensions=function(){this.$23.reset();this.$27();return this};b.onError=function(a){this.$12=a;return this};b.onRepeatEnd=function(a){this.$13=a;return this};b.onProgress=function(a,b){this.$14=a&&new r(a,b);return this};b.getProgress=function(){return this.$17};b.getElement=function(){return this.$2};b.hasPerformanceLogging=function(){return!!this.$15};b.redrawIfNeeded=function(){(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17));return this};b.waitForVideoUpdate=async function(){await this.$25};b.$29=function(a){this.$25=a,c("promiseDone")(a)};b.$27=function(){this.$10=!0,this.$28()};b.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)};b.$31=function(){s(this.$1,function(a){return a.animationDidLoad()})};b.$30=function(){var a=this;s(this.$1,function(b){return b.animationWillRepeat(a.$11,a.$19)})};b.$34=function(a){a=Math.round(a/n-1);a>0&&(this.$15&&this.$15.addFrameDrop(a),this.$12&&this.$12(m.ERROR_FRAMEDROP,a))};return a}();f.exports=b}),34);
__d("requestIdleCallbackComet",["IdleCallbackImplementation"],(function(a,b,c,d,e,f,g){"use strict";var h=a.requestIdleCallback||d("IdleCallbackImplementation").requestIdleCallback;function b(b,c){return h.call(a,b,c)}g["default"]=b}),98);
__d("requestIdleCallbackWWW",["cr:694370"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:694370")}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("LSGroupPollEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});f["default"]=a}),66);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSPollQuestionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});f["default"]=a}),66);
__d("LsMessageSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4190");b=d("FalcoLoggerInternal").create("ls_message_search_end",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchMsgImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4191");b=d("FalcoLoggerInternal").create("ls_message_search_msg_impression",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchMsgResultChosenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4231");b=d("FalcoLoggerInternal").create("ls_message_search_msg_result_chosen",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchSearchClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4464");b=d("FalcoLoggerInternal").create("ls_message_search_search_clicked",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4683");b=d("FalcoLoggerInternal").create("ls_message_search_start",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchThreadImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6727");b=d("FalcoLoggerInternal").create("ls_message_search_thread_impression",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchThreadListClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6293");b=d("FalcoLoggerInternal").create("ls_message_search_thread_list_click",a);e=b;g["default"]=e}),98);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWMsgType","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=new Set([(b=d("MAWLocalizationType")).LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL,b.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE,b.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE,b.LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE,b.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE,b.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION,b.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION]),k=new Set([b.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,b.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME,b.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,b.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME]),l=h._(/*BTDS*/"Change").toString(),m=h._(/*BTDS*/"See All").toString(),n=h._(/*BTDS*/"Learn more").toString(),o=h._(/*BTDS*/"Learn more").toString(),p=h._(/*BTDS*/"actions you can take.").toString(),q=h._(/*BTDS*/"Go to other chat").toString(),r=h._(/*BTDS*/"View archived chat").toString(),s=h._(/*BTDS*/"View poll").toString(),t=h._(/*BTDS*/"Change").toString();async function u(a){a=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId")));return a!=null?(i||(i=d("I64"))).add(a.ctaId,(i||(i=d("I64"))).one):(i||(i=d("I64"))).zero}function v(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function w(a,b,c){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};if(j.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:b,targetTitle:c,title:s};if(k.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:t};switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:q};case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:r};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=uk_lm",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{actionUrl:"https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function x(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";if(j.has(a))return"admin_msg_poll_details";if(k.has(a))return"admin_msg_change_theme";switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return"admin_msg_change_thread_limit_sharing_permission"}}async function y(a,b,c,e,f){await a.admin_message_ctas.add({actionContentBlob:f.actionContentBlob,actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})}async function z(a,b,c){var d=await Promise.all([v(a,b,c.msgId),u(a)]),e=d[0];d=d[1];if(e!=null)return{ctaId:e.ctaId,ctaType:x(c.adminType),title:e.title};else{e=A(c.adminType,c);var f=B(c.adminType,c);e=w(c.adminType,e,f);await y(a,d,b,c,e);return{ctaId:d,ctaType:x(c.adminType),title:e.title}}}function a(a,b,c){var e=c.adminType;return e!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e)||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||e===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED||e!=null&&j.has(e)||e!=null&&k.has(e))?z(a,b,c):Promise.resolve()}function A(a,b){if(a==null)return void 0;if(b.type_===d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE)return(i||(i=d("I64"))).of_string(b.externalId);return j.has(a)&&b.pollStanzaId!=null?(i||(i=d("I64"))).of_string(b.pollStanzaId):void 0}function B(a,b){if(a==null)return void 0;return j.has(a)?b.adminContent==null||b.adminContent.length===0?void 0:b.adminContent[b.adminContent.length-1]:void 0}g.getAdminMsgCTAContentByAdminType=w;g.getCtaTypeByAdminType=x;g.getAdminMsgCtaStep=a}),226);
__d("MAWBridgeDeleteMessagesHandler",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSReplyMessageStatus","MAWCurrentUser","MAWDbMsg","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWReplyBuilder","MAWTimeUtils","ReQL","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteMessagesHandler",async function(a,e){await Promise.all(b.messages.map(async function(b){var f=c("gkx")("15418");if(f){f=await a.messages.index("messageId").get(b.msgId);f!=null&&(await a.messages.delete(f.threadKey,f.timestampMs,f.messageId),await j(a,f))}else if(d("MAWMpsGating").isFullMpsEnabled){f=await a.messages.index("messageId").get(b.msgId);f!=null&&await a.messages.delete(f.threadKey,f.timestampMs,f.messageId);await k(a,b.msgId)}else await a.messages.delete(e,d("MAWTimeUtils").toTimestamp(b.ts),b.msgId)}))})}async function j(a,b){var e=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.messageId)),f=d("MAWDbMsg").toMsgId(b.messageId);if(f==null){c("FBLogger")("messenger_e2ee_web").mustfix("[MAWBridgeDeleteMessagesHandler] Error extracting message id from message");return}await Promise.all(e.map(function(e){var g={isBumpMsg:e.replyType===(h||(h=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP),replyToLSMessage:babelHelpers.extends({},b,{isUnsent:!0}),replyToMsgId:f,replyType:"MESSAGE"};e=babelHelpers.extends({},e,{replySnippet:d("MAWReplyBuilder").getReplyBuilder(g.replyType).buildReplySnippet(g,(i||(i=d("I64"))).to_string(e.senderId),d("MAWCurrentUser").getID()),replyStatus:d("MAWReplyBuilder").getReplyBuilder(g.replyType).buildReplyStatus(g)});return a.messages.put(e)}))}async function k(a,b){b=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b));await Promise.all(b.map(function(b){b=babelHelpers.extends({},b,{replyStatus:(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)});return a.messages.put(b)}))}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b));return a==null?void 0:a.messageId}async function j(a,b,e){var f=await i(a,b.originalMsgExternalId);if(f==null){c("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}f={messageContent:b.msgContent.content,originalMessagePk:f,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(f)}function k(a,b,e,f,g){g={messageContent:b.msgContent.content,originalMessagePk:g,pk:f,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(g)}async function l(a,b,c){a=await d("MAWChatJid").toThreadKeyMaybe(a.tables,c.threadJid);if(a==null)return;var e=c.editMsgHistoryId,f=c.originalMsgId;b=f==null||e==null?j(b,c,a):k(b,c,a,e,f);return b}function a(a,b,d){return Promise.all(d.map(function(c){return l(a,b,c)})).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b,e){var f,g,j,k=b.contentRef,l=b.defaultPreviewMediaId,m=b.msgId,n=b.subtitleText,o=b.titleText,p=b.xmaId;if(m==null)return;f=(f=b==null||(g=b.defaultCTA)==null?void 0:g.actionUrl)!=null?f:b==null||(j=b.defaultCTA)==null?void 0:j.nativeUrl;var q=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e,m));p=String(p);var r=(h||(h=d("I64"))).zero,s;if(k!=null)try{k=JSON.parse(k);k!=null&&(s=JSON.stringify(k))}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else c("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");k=await d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,m,p,{});b=k.attachmentCta1Id;var t=k.attachmentCta2Id,u=k.attachmentCta3Id;k=k.defaultCtaId;f={actionUrl:f!=null?f:void 0,attachmentCta1Id:b,attachmentCta2Id:t,attachmentCta3Id:u,attachmentFbid:p,attachmentIndex:h.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.zero,defaultCtaId:k,hasMedia:!1,hasXma:!0,hasXmaPreview:l!=null,isSharable:!0,messageId:m,receiverFetchId:s,subtitleText:n,threadKey:e,timestampMs:r,titleText:o,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)};q!=null?await a.attachments.upsert([q.threadKey,q.messageId,q.attachmentFbid],f):await a.attachments.add(f);return}g.call=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();async function j(a,b,c){await Promise.all(b.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),i.delete(c)}function k(a,b,e){return c("setTimeout")(async function(){var e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;c("promiseDone")(e.runInTransaction(async function(c){await j(c,a,b)},"readwrite",void 0,void 0,f.id+":67"))},e)}function a(a,b,d,e){a=i.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=k(f,d,e);i.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function b(a){var b=a.msgId;a=i.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=b}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b.msgs.reduce(function(b,c){return b.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,c,c.countdownTs,c.millisecondsUntilCountdownTs);(h||(h=d("I64"))).of_int32(c.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,d("MAWTimeUtils").toTimestamp(c.ts),c.msgId)).then(async function(b){if(b==null)return Promise.resolve();b=babelHelpers.extends({},b,{ephemeralExpirationTs:(h||(h=d("I64"))).of_float(c.countdownTs)});await a.messages.put(b)})})})},Promise.resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMediaManagerUiIntegrationCheck","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","WAMediaHdType","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g,j){var k=b.messagesSortOrderMs?(h||(h=d("I64"))).of_float(b.messagesSortOrderMs[e]):b.sortOrderMs!=null?(h||(h=d("I64"))).of_float(b.sortOrderMs):(h||(h=d("I64"))).of_float(b.ts*1e3);return{accessibilitySummaryText:b.accessibilitySummaryText,attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(h||(h=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(h||(h=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(h||(h=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(h||(h=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia||c("justknobx")._("4927")&&d("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()&&b.hasPreviewMedia===!0,hasXma:!1,isHd:((f=b.hdTypes)==null?void 0:f[e])===d("WAMediaHdType").HD_TYPE_HQ_4K,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(h||(h=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(h||(h=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(h||(h=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(h||(h=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(h||(h=d("I64"))).of_int32(b.previewWidthLarge),threadKey:j,timestampMs:k,titleText:b.accessibilitySummaryText,transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function k(a,b){var c=b.hasPreviewMedia!=null;return{id:a,mainMediaStatus:b.hasMedia?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:"initial_media_download",previewMediaStatus:c?b.hasPreviewMedia===!0?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(4):void 0,previewMediaStatusDetails:c?"initial_media_download":void 0}}async function l(a,b,c){var e=b.mediaId,f=b.msgIds,g=b.offlineAttachmentId,i=b.plaintextHash;await m(a,b);var k=n(e,i),l=g!=null?g:k;e=!1;var p=o(b),q=null;q=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments_ranges_v2__generated).getKeyRange(c).filter(function(a){return(h||(h=d("I64"))).equal(a.mediaGroup,p)}));await Promise.all(f.map(async function(f){var g=a.attachments,i=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g).getKeyRange(c,f));f=j(i,b,f,k,l,c);b.skipShouldUpdateHasMore!==!0&&q!=null&&(h||(h=d("I64"))).le(f.timestampMs,q.minTimestampMs)&&(e=!0);if(i!=null){return g.upsert([i.threadKey,i.messageId,i.attachmentFbid],babelHelpers.extends({},f,{transportKey:(i=i.transportKey)!=null?i:f.transportKey}))}else return g.add(f)}));if(q!=null&&q.hasMoreBefore!==!0&&e){i=babelHelpers.extends({},q,{hasMoreBefore:!0});await a.attachments_ranges_v2__generated.upsert([q.threadKey,q.mediaGroup,q.minTimestampMs],i)}}async function m(a,b){var e=b.mediaId,f=b.plaintextHash;if(f==null){c("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",e);return}e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.client_media_status).getKeyRange(f));e=e!=null&&!(h||(h=d("I64"))).equal(e.mainMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(4));if(e)return;await a.client_media_status.add(k(f,b))}function n(a,b){return""+(b!=null?b:a.toString())}function o(a){switch(a.mediaType){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.callWithoutWaitingForAnything=l;g.call=a}),98);
__d("MAWMsgFetchLSReplyMsgAndAttachment",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","MAWCurrentUser","MAWDbMsg","MAWReplyBuilder","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){var c=b.replyContent;if(c==null||c.replyType!=="MESSAGE")return b;if(c.replyToMsgId==null)return b;var e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(c.replyToMsgId)),f;e!=null&&(f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e.threadKey,e.messageId)));return babelHelpers.extends({},b,{replyContent:babelHelpers.extends({},c,{replyToLSAttachment:f,replyToLSMessage:e})})}async function b(a,b){var e,f=await (e=d("ReQL")).firstAsync(e.fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId));e=await e.toArrayAsync(e.fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.messageId));await Promise.all(e.map(function(e){var g=e.replySourceTypeV2,j=e.replyType;if(g==null||j==null){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error getting reply snippet without replySourceTypeV2 and/or replyType");return}j=d("MAWDbMsg").toMsgId(b.messageId);if(j==null){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error extracting message id from replyToLSMessage");return}if(e.messageId===b.messageId){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Message replying to itself should not be updated");return}if(g!==(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))return;g={isBumpMsg:e.replyType===(h||(h=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP),replyToLSAttachment:f,replyToLSMessage:b,replyToMsgId:j,replyType:"MESSAGE"};j=d("MAWReplyBuilder").getReplyBuilder(g.replyType);e=babelHelpers.extends({},e,{replyAttachmentId:j.buildReplyAttachmentId(g),replyAttachmentPlaintextHash:j.buildReplyAttachmentPlaintextHash(g),replyAttachmentType:j.buildReplyAttachmentType(g),replyMediaPreviewHeight:j.buildReplyMediaPreviewHeight(g),replyMediaPreviewWidth:j.buildReplyMediaPreviewHeight(g),replyMessageText:j.buildReplyMessageText(g),replySnippet:j.buildReplySnippet(g,(i||(i=d("I64"))).to_string(e.senderId),d("MAWCurrentUser").getID()),replySourceTimestampMs:j.buildReplyTimestampMs(g),replyStatus:j.buildReplyStatus(g),replyToUserId:j.buildReplyUserId(g)});return a.messages.put(e)}))}g.fetchReplyLocalViaLS=a;g.updateMessagesReplyingToMsg=b}),98);
__d("MAWUpdateMsg",["MAWBridgeBuildMsg","MAWMsgFetchLSReplyMsgAndAttachment","gkx"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f){b=d("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(b,f);f=babelHelpers.extends({},e,b);await a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],f);c("gkx")("15418")&&await d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,f)}g.call=a}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSIntEnum","LSMessageRenderingType","LSQuickReplyType","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWMpsGating","MAWMsgFetchLSReplyMsgAndAttachment","MAWMsgType","MAWThreadMappingState","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","MpsMessageToBridge","MpsOverBridge","MpsTypes","ReQL","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b,e,f){e.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");f=babelHelpers.extends({},d("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(e,f),{forwardScore:(h||(h=d("I64"))).of_float(e.forwardingScore),isAdminMessage:e.isAdminMessage,isForwarded:e.isForwarded,messageRenderingType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageRenderingType").DEFAULT),offlineThreadingId:e.externalId,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),senderId:h.of_string(e.sender),threadKey:b,viewFlags:i.ofNumber(0)});e=await a.messages.add(f);e[0];f=e[1];e=e[2];c("gkx")("15418")&&await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,f,e)).then(function(b){if(b!=null)return d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,b)})}async function k(a){var b=a.replySourceId;if(b==null)return a;var c=await d("MpsOverBridge").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-first"},debug:{purpose:"reply-fetch-local"},messageId:d("MpsTypes").toMessageId(b),threadId:d("MpsTypes").toThreadId(a.chatJid)}),e=c.success;c=c.value;if(e===!1)return a;if(c==null)return babelHelpers.extends({},a,{replySourceId:b,replyStatusType:d("MAWMsgType").MSG_TYPE.REVOKED});b=(e=d("MpsMessageToBridge").mpsFullMessagetoBridge(c))==null?void 0:e.topLevel;return b==null?a:babelHelpers.extends({},a,{replyMentionedJids:b.value.mentionedJids,replyMessageText:b.value.content,replySenderIsMe:b.value.isAuthorMe,replySourceId:b.value.msgId,replySourceTimestampMs:b.value.sortOrderMs,replyStatusType:b.value.type_,replyToUserId:b.value.sender})}function l(a,b){if(c("gkx")("15418")){a=d("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(a,b);if(a)return a}return d("MAWMpsGating").isFullMpsEnabled()?k(b):Promise.resolve(b)}async function m(a,b){var e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b.externalId));if(e!=null)return Promise.resolve(e);return d("MAWMpsGating").isFullMpsEnabled()||c("gkx")("15418")?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId)):Promise.resolve(null)}async function n(a,b,e){b=await l(a,b);if(d("MAWXMAUtils").isXMAStoryReply(b.xmaMessageType))return;if(b.isExpiredMsg===!0){c("FBLogger")("messenger_web").mustfix("Attempted to insert an expired message");return}var f=await d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,e,b),g=await m(a,b);g==null?await j(a,e,b,f):await d("MAWUpdateMsg").call(a,b,g,f);d("MAWMpsGating").isFullMpsEnabled()&&((e=b.editCount)!=null?e:0)>0&&await o(a,b)}async function o(a,b){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.msgId));await Promise.all(c.map(function(c){c=babelHelpers.extends({},c,{replyMessageText:b.content});return a.messages.put(c)}))}async function p(a,b){var c=await d("MAWThreadMappingState").getThreadKeyIfMiThreadNotMissing(a,b.chatJid);if(c==null)return;await n(a,b,c)}async function a(a,b){await Promise.all(b.map(function(b){return p(a,b)}))}g.callWithoutWaitingForAnything=n;g.call=p;g.bulkCall=a}),98);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){return a.toSorted(function(a,b){if(a.numVotes!==b.numVotes)return b.numVotes-a.numVotes;return!(i||(i=d("I64"))).equal(a.sortKeyVotingTimestamp,b.sortKeyVotingTimestamp)?(i||(i=d("I64"))).compare(b.sortKeyVotingTimestamp,a.sortKeyVotingTimestamp):(i||(i=d("I64"))).compare(a.sortKeyCreationTimestamp,b.sortKeyCreationTimestamp)})}function b(a){if(a===d("WAJids").AUTHOR_SYSTEM)throw c("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return a===d("WAJids").AUTHOR_ME?(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(d("MAWUserJidWrapper").getMyUserJid())):(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(a))}function e(a,b){switch(a.length){case 0:return h._(/*BTDS*/"{option_name}, no votes",[h._param("option_name",b)]);case 1:return h._(/*BTDS*/"{option_name}, Voted for by {voter_name}",[h._param("option_name",b),h._param("voter_name",a[0])]);case 2:return h._(/*BTDS*/"{option_name}, Voted for by {first_voter_name}, {second_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1])]);case 3:return h._(/*BTDS*/"{option_name}, Voted for by {first_voter_name}, {second_voter_name} and {third_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("third_voter_name",a[2])]);default:return h._(/*BTDS*/"{option_name}, Voted for by {first_voter_name}, {second_voter_name} and {remaining_count} others",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("remaining_count",a.length-2)])}}g.sortPollXMAOptions=a;g.getContactIdForAuthor=b;g.getListItemAccessibilityText=e}),226);
__d("MNLSXMATemplateType",[],(function(a,b,c,d,e,f){a=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});f["default"]=a}),66);
__d("QuestionPollStage",[],(function(a,b,c,d,e,f){a=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});f["default"]=a}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","QuestionPollStage","ReQL","WAJids","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;async function l(a,b,c){var e=b.contactIdForCurrentUser,f=b.dbPoll,g=b.latestUpdateMsgId,h=b.latestUpdateTimestampMs;b=b.transportKey;var j=f.pollStanzaId;j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments.index("idx_attachments_collapsible_id")).getKeyRange(c,(i||(i=d("I64"))).of_string(j)));j!=null&&await a.attachments.delete(j.threadKey,j.messageId,j.attachmentFbid);await m(a,f,c,g,h,e,b)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.dbPoll.chatJid,"BridgeNewPollHandler",function(a,c){return l(a,b,c)})}async function m(a,b,e,f,g,h,j){var l=b.latestSenderTimestampsMs,m=b.pollParticipantCount,q=b.pollStanzaId,r=(i||(i=d("I64"))).of_string(q),s=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.polls).getKeyRange(r));s==null&&await o(a,r,f,g,e);s=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_options_v2).getKeyRange(r));var t=new Map(b.pollOptions.entries().map(function(a){var b=a[0];a=a[1];return[d("MAWDbPoll").generateStableIdFromOptionHash(b,q).toString(),a]})),u=new Map();s.forEach(function(a){var b=(i||(i=d("I64"))).to_string(a.optionId);u.set(b,babelHelpers.extends({},u.get(b),{lsOption:a}))});t.entries().forEach(function(a){var b=a[0];a=a[1];a.optionText!=null&&u.set(b,babelHelpers.extends({},u.get(b),{mawDbOption:a}))});s=u.entries().toArray().sort(function(a,b){a[0];a=a[1];var d=a.lsOption;a=a.mawDbOption;b[0];b=b[1];var e=b.lsOption;b=b.mawDbOption;d=c("nullthrows")((d=d==null?void 0:d.optionText)!=null?d:a==null?void 0:a.optionText);e=c("nullthrows")((a=e==null?void 0:e.optionText)!=null?a:b==null?void 0:b.optionText);return d.localeCompare(e)});t=await Promise.all(s.map(async function(b,e){var f=b[0];b=b[1];var g=b.lsOption;b=b.mawDbOption;e=(i||(i=d("I64"))).of_int32(e);if(g==null&&b==null)return null;f=i.of_string(f);if(b==null){var j=c("nullthrows")(g);j=j.optionText;await a.poll_options_v2.upsert([r,f],babelHelpers.extends({},c("nullthrows")(g),{sortKeyCreationTimestamp:e}));var k=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(r,f,h));return{contactIds:[h],hasVoteFromCurrentUser:!0,numVotes:1,optionId:f,optionText:j,progressBarFilledPercentage:Math.floor(1/m*100),sortKeyCreationTimestamp:e,sortKeyVotingTimestamp:k!=null?k.timestampMs:(i||(i=d("I64"))).zero}}return n(a,r,f,c("nullthrows")(b.optionText),g,b,e,l,h,m)})).then(function(a){return a.filter(Boolean)});s=t.some(function(a){return a.hasVoteFromCurrentUser});t=d("MAWBridgePollUtils").sortPollXMAOptions(t).slice(0,k);await p(a,b,e,f,g,t,s,j)}async function n(a,b,e,f,g,h,j,k,l,m){h=h.voteAuthors;h=Array.from(h).map(function(a){var b=k.get(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:d("MAWBridgePollUtils").getContactIdForAuthor(a),latestSenderTimestampMs:b}});var n=g!=null?await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(b,e)):[],o=n.find(function(a){return(i||(i=d("I64"))).equal(a.contactId,l)}),p=k.get(d("WAJids").AUTHOR_ME),q=o!=null&&(p==null||p<(i||(i=d("I64"))).to_float(o.timestampMs));await Promise.all(n.map(async function(c){if((i||(i=d("I64"))).equal(c.contactId,l)&&q)return;await a.poll_votes_v2.delete(b,e,c.contactId)}));await Promise.all(h.map(async function(c){var f=c.contactId;c=c.latestSenderTimestampMs;await a.poll_votes_v2.put({contactId:f,optionId:e,pollId:b,timestampMs:(i||(i=d("I64"))).of_float(c)})}));p=(i||(i=d("I64"))).of_float(Math.max.apply(Math,h.map(function(a){return a.latestSenderTimestampMs}).concat([0])));n=q?(i||(i=d("I64"))).max(c("nullthrows")(o==null?void 0:o.timestampMs),p):p;o=h.length+(q?1:0);p={optionId:e,optionText:f,pollId:b,sortKeyCreationTimestamp:j,sortKeyVotingTimestamp:n,voteCount:i.of_int32(o)};g!=null?await a.poll_options_v2.upsert([b,e],p):await a.poll_options_v2.add(p);g=h.map(function(a){return a.contactId});q&&g.push(l);return{contactIds:g,hasVoteFromCurrentUser:q||h.find(function(a){return(i||(i=d("I64"))).equal(a.contactId,l)})!=null,numVotes:o,optionId:e,optionText:f,progressBarFilledPercentage:Math.floor(o/m*100),sortKeyCreationTimestamp:j,sortKeyVotingTimestamp:n}}async function o(a,b,e,f,g){e={authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:j.ofNumber(c("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:e,lastUpdateMessageTimestampMs:(i||(i=d("I64"))).of_float(f),pollId:b,pollStage:j.ofNumber(c("QuestionPollStage").VOTING),pollType:j.ofNumber(c("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:g};await a.polls.put(e)}async function p(a,b,e,f,g,l,m,n){var o=b.pollStanzaId,p=b.title;if(l.length===0){c("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var q=await d("ReQL").toArrayAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(a){a[0];a=a[1];return a}).filter(Boolean)),r=new Map(q.map(function(a){return[(i||(i=d("I64"))).to_string(a.id),a]}));q=l.map(function(a){var b=a.contactIds,c=a.optionId,e=a.optionText;a=a.progressBarFilledPercentage;var f=b.reduce(function(a,b){var c;b=r.get((i||(i=d("I64"))).to_string(b));a.contactUrlExpirations.push((b==null?void 0:b.profilePictureUrlExpirationTimestampMs)!=null?(i||(i=d("I64"))).to_string(b.profilePictureUrlExpirationTimestampMs):"");a.contactUrlFallbacks.push((c=b==null?void 0:b.profilePictureFallbackUrl)!=null?c:"");a.contactUrls.push((c=b==null?void 0:b.profilePictureUrl)!=null?c:"");(b==null?void 0:b.name)!=null&&a.contactNames.push(b.name);return a},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),g=f.contactNames,h=f.contactUrlExpirations,j=f.contactUrlFallbacks;f=f.contactUrls;return{listItemAccessibilityText:d("MAWBridgePollUtils").getListItemAccessibilityText(g,e).toString(),listItemContactUrlExpirationTimestampList:h.length>0?h.join(", "):void 0,listItemContactUrlFallbackList:j.length>0?j.join(", "):void 0,listItemContactUrlList:f.length>0?f.join(", "):void 0,listItemId:c,listItemProgressBarFilledPercentage:(i||(i=d("I64"))).of_int32(a),listItemTitleText:e,listItemTotalCount:i.of_int32(b.length)}});var s=(i||(i=d("I64"))).of_string(o);m=m?h._(/*BTDS*/"Change vote").toString():h._(/*BTDS*/"Vote").toString();var t={actionContentBlob:p,attachmentFbid:o,attachmentIndex:i.zero,ctaId:s,messageId:f,targetId:i.of_string(o),threadKey:e,title:m,type_:"xma_poll_details_card"},u={attachmentCta1Id:s,attachmentFbid:o,attachmentIndex:i.zero,cta1Title:m,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:s,defaultCtaTitle:m,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:i.zero,messageId:f,threadKey:e};m={attachmentCta1Id:s,attachmentFbid:o,attachmentIndex:i.zero,attachmentType:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:i.of_string(o),cta1Title:m,cta1Type:"xma_poll_details_card",defaultCtaId:s,defaultCtaTitle:m,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:p,listItemsId:i.of_string(o),messageId:f,threadKey:e,timestampMs:i.of_float(g),transportKey:n!=null?n:"WhatsApp",xmaLayoutType:j.ofNumber(c("MNLSXMALayoutType").XCENTER),xmasTemplateType:j.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)};p=b.pollOptions.values().filter(function(a){return a.optionText!=null}).toArray().length;g=p>k?h._(/*BTDS*/"_j{\"*\":\"{additional_option_count} more options\",\"_1\":\"{additional_option_count} more option\"}",[h._plural(p-k),h._param("additional_option_count",p-k)]).toString():void 0;n=babelHelpers.extends({},m,{listItemAccessibilityText1:q[0].listItemAccessibilityText,listItemAccessibilityText2:q.length>1?q[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:q.length>2?q[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:q[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:q.length>1?q[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:q.length>2?q[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:q[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:q.length>1?q[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:q.length>2?q[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:q[0].listItemContactUrlList,listItemContactUrlList2:q.length>1?q[1].listItemContactUrlList:void 0,listItemContactUrlList3:q.length>2?q[2].listItemContactUrlList:void 0,listItemId1:q[0].listItemId,listItemId2:q.length>1?q[1].listItemId:void 0,listItemId3:q.length>2?q[2].listItemId:void 0,listItemProgressBarFilledPercentage1:q[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:q.length>1?q[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:q.length>2?q[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:g,listItemTitleText1:l[0].optionText,listItemTitleText2:l.length>1?l[1].optionText:void 0,listItemTitleText3:l.length>2?l[2].optionText:void 0,listItemTotalCount1:q[0].listItemTotalCount,listItemTotalCount2:q.length>1?q[1].listItemTotalCount:void 0,listItemTotalCount3:q.length>2?q[2].listItemTotalCount:void 0});await Promise.all([a.attachments.upsert([e,f,o],n),a.attachment_ctas.upsert([s],t),a.attachment_items.upsert([o,i.zero],u)])}g.POLL_OPTIONS_THRESHOLD=k;g.call=a}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWBridgeSendAndReceive","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MessagingAttachmentType","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a){if(!d("MAWMpsGating").isFullMpsEnabled())return a;var b=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getReceiverFetchInfo",{receiverFetchId:a.receiverFetchId});return babelHelpers.extends({},a,b)}async function k(a,b,c){b=await j(b);var e=b.msgId,f=b.receiverFetchId,g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(c,e));b=l(b,c,g);await a.attachments.upsert([c,e,f],b)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"BridgeNewReceiverFetchInfoHandler",function(a,c){return k(a,b,c)})}function l(a,b,e){var f=a.accessibilitySummaryText,g=a.mimetype,j=a.msgId,k=a.previewHeight,l=a.previewUrl,n=a.previewUrlExpirationTimestampMs,o=a.previewWidth,p=a.ravenSettings,q=a.receiverFetchId,r=a.sortOrderMs,s=a.transportKey;a=a.type;a=m(a);k=d("MAWImageUtils").boundHeightWidth(k,o,d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE);o=k.height;k=k.width;var t=l!=null?l:e==null?void 0:e.previewUrl,u=n!=null?(h||(h=d("I64"))).of_float(n):e==null?void 0:e.previewUrlExpirationTimestampMs;t=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(t,u);return{accessibilitySummaryText:f,attachmentFbid:q,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(p==null?void 0:p.ephemeralMediaState)!=null?(h||(h=d("I64"))).of_int32(p.ephemeralMediaState):void 0,ephemeralMediaViewMode:(p==null?void 0:p.ephemeralMediaViewMode)!=null?(h||(h=d("I64"))).of_int32(p.ephemeralMediaViewMode):void 0,hasMedia:t,hasXma:!1,isSharable:!1,messageId:j,previewHeight:h.of_int32(o),previewUrl:l!=null?l:e==null?void 0:e.previewUrl,previewUrlExpirationTimestampMs:n!=null?(h||(h=d("I64"))).of_float(n):e==null?void 0:e.previewUrlExpirationTimestampMs,previewUrlMimeType:g,previewWidth:h.of_int32(k),receiverFetchId:q,threadKey:b,timestampMs:h.of_float(r),transportKey:s!=null?s:"WhatsApp"}}function m(a){switch(a){case"sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);default:throw c("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}g.call=a;g.composeAttachment=l}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,c){var e=String(b.xmaId),f=b.msgId;if(f==null)return;var g=b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(g)return d("MAWBridgeHandleReceiverFetchXMA").call(a,b,c);g=await d("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(a,c,f);var h=g[0];g=g[1];g=await d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,c,f,e,g);var i=g.attachmentCta1Id,j=g.attachmentCta2Id,k=g.attachmentCta3Id;g=g.defaultCtaId;b=d("MAWBridgeXMAUtils").composeAttachmentXMA(b,c,e,f,i,j,k,g,"MAWBridgeNewXMAHandler");h!=null?await a.attachments.upsert([h.threadKey,h.messageId,h.attachmentFbid],b):await a.attachments.add(b)}function i(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return h(a,b,c)})}function a(a,b){return i(a,b)}g.callWithoutWaitingForAnything=h;g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g){return{actorId:(h||(h=d("I64"))).of_string(a),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:e,reaction:g,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(f),threadKey:b,timestampMs:d("MAWTimeUtils").toTimestamp(f),transportKey:"WhatsApp"}}function k(a,b,c,e,f,g){return a.reactions.upsert([c,e,(h||(h=d("I64"))).of_string(b)],j(b,c,e,f,g))}function a(a,b,c,d,e,f){return k(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return k(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.composeReaction=j;g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(a,b,c,d,e,f,g){"use strict";b("cr:10049")==null||b("cr:10049").overwriteSamplingRate();function a(a){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLCancel:function(b){c("QPLUserFlow").endCancel(a,{instanceKey:b})},markQPLFailure:function(b,d){var e;c("QPLUserFlow").endFailure(a,(e=d==null?void 0:d.name)!=null?e:"fail",{error:d,instanceKey:b})},markQPLFailureWithMsg:function(b,d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}}g["default"]=a}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return i}function a(a){var b=j().markQPLStart();j().addQPLAnnotations(b,{string:{threadType:(h||(h=d("I64"))).to_string(a)}});return b}function b(a,b,c){j().markQPLPoint(a,"wait_act_thread_start","before fetching messages range from table"),j().addQPLAnnotations(a,{"int":{version:1},string:{direction:b,thread_id:(h||(h=d("I64"))).to_string(c)}})}function e(a,b){j().markQPLFailureWithMsg(a,b)}function f(a){j().markQPLCancel(a)}function k(a){j().markQPLPoint(a,"wait_act_thread_end","before fetching messages range from table"),j().markQPLPoint(a,"load_more_msgs_start","load more messages from MAW DB")}function l(a){j().markQPLPoint(a,"load_messages_from_eb_start","load more messages from EB")}function m(a){j().markQPLPoint(a,"load_messages_from_eb_end","load more messages from EB")}function n(a){j().markQPLPoint(a,"load_messages_from_local_db_start")}function o(a){j().markQPLPoint(a,"load_messages_from_local_db_end")}function p(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_start")}function q(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_end")}function r(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function s(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function t(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function u(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function v(a,b){j().markQPLPoint(a,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),j().addQPLAnnotations(a,{bool:{hasMoreBefore:b}})}function w(a){j().markQPLSuccess(a)}function x(a,b){j().markQPLPoint(a,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+b)}function y(a,b){j().markQPLFailure(a,b)}g.logLoadMoreMsgsStart=a;g.logLoadMoreMsgsThreadWaiting=b;g.logLoadMoreMsgsFailure=e;g.logLoadMoreMsgsCancel=f;g.logLoadMoreMsgsThreadReadyFetchMsgs=k;g.logLoadMessagesFromEBStart=l;g.logLoadMessagesFromEBEnd=m;g.logLoadMessagesFromLocalDBStart=n;g.logLoadMessagesFromLocalDBEnd=o;g.logInsertMessageResponseToLSDBStart=p;g.logInsertMessageResponseToLSDBEnd=q;g.logDispatchDownloadStateUpdatesStart=r;g.logDispatchDownloadStateUpdatesEnd=s;g.logCallBridgeHandlersStart=t;g.logCallBridgeHandlersEnd=u;g.logLoadMoreMsgsFetched=v;g.logLoadMoreMsgsSuccess=w;g.logLoadMoreMsgsRangeQuery=x;g.logLoadMoreMsgsRuntimeError=y}),98);
__d("MAWMessageIntegrityTruncateStatus",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h=["threadKey"],i,j=0,k=new Map();function a(a,b,c){var e;e=(e=k.get((i||(i=d("I64"))).to_float(a)))!=null?e:{};b.threadKey;var f=babelHelpers.objectWithoutPropertiesLoose(b,h);e=babelHelpers["extends"]({},e,{lastUpsertedRange:babelHelpers["extends"]({},f,c,{maxTimestampMs:(i||(i=d("I64"))).to_float(b.maxTimestampMs),minTimestampMs:i.to_float(b.minTimestampMs)}),updateRangeTimestamp:Date.now()});k.set(i.to_float(a),e)}function b(a){var b;b=(b=k.get((i||(i=d("I64"))).to_float(a)))!=null?b:{};b=babelHelpers["extends"]({},b,{truncateTimestamp:b.truncateTimestamp==null?j:Date.now()});k.set((i||(i=d("I64"))).to_float(a),b)}function c(a){a=k.get((i||(i=d("I64"))).to_float(a));return(a==null?void 0:a.truncateTimestamp)==null?null:a}g.setThreadLastUpsertedRange=a;g.setThreadThuncated=b;g.getThreadThuncateState=c}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","MAWGetIsMediaDownloadStatusEnabled"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,c,e,f){var g=c.editMsgHistory,h=c.expiringCountdown,i=c.medias,j=c.msgs,k=c.polls,l=c.quotedMsgs,m=c.reactions,n=c.receiverFetchInfoPayloads;c=c.xmas;f!=null&&d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(f);d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled()&&e({tag:"NewXMAs",value:c});f!=null&&(d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(f),d("MAWDataSourceLogger").logCallBridgeHandlersStart(f));l!=null&&l.length>0&&await d("MAWBridgeNewMsgHandler").bulkCall(b,l);await d("MAWBridgeNewMsgHandler").bulkCall(b,j);await Promise.all(i.map(function(a){return d("MAWBridgeNewMediaHandler").call(b,a)}));await Promise.all(c.map(function(a){return d("MAWBridgeNewXMAHandler").call(b,a)}));await Promise.all(n.map(function(a){return d("MAWBridgeNewReceiverFetchInfoHandler").call(b,a)}));await Promise.all(k.map(function(a){return d("MAWBridgeNewPollHandler").call(b,a)}));await d("MAWBridgeMsgsStartCountdownHandler").call(b,{msgs:h});await Promise.all(m.map(function(a){return a.type==="delete"?d("MAWBridgeDeleteReactionHandler").call(b,a.reaction):d("MAWBridgeReactionUpsertHandler").call(b,a.reaction)}));await d("MAWBridgeEditMsgHistoryAddedHandler").call(a,b,g);f!=null&&d("MAWDataSourceLogger").logCallBridgeHandlersEnd(f)}function a(a,b,c,d){return a.runInTransaction(function(e){return h(a,e,b,c,d)},"readwrite","ui",void 0,f.id+":109")}function b(a,b,c){return a.runInTransaction(function(d){return h(a,d,babelHelpers.extends({},b,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1}),c)},"readwrite","ui",void 0,f.id+":129")}g.insertMessageResponseToDBInExistingTransaction=h;g.insertMessageResponseIntoDatabase=a;g.insertMessageResponseIntoDatabaseByExternalId=b}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","deepEquals","getErrorSafe","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["count"],i,j=d("CometLruCache").create(20,2e3);async function a(a,b){var e=a.chatJid,f=a.config,g=a.count,i=a.direction,m=a.offsetMsg,n=a.timestampMs;e=j.get(e);if(e!=null){var o=e&&e.options,p=o.count;o=babelHelpers.objectWithoutPropertiesLoose(o,h);if(c("deepEquals")(o,{config:f,direction:i,offsetMsg:m,timestampMs:n})&&g<=p)try{return d("WAResultOrError").makeResult(babelHelpers.extends({},await e.result))}catch(a){}}if(c("qex")._("18"))return l(a,b);else return k(a,b)}async function k(a,b){var e=a.actionType,f=a.chatJid,g=a.config,h=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:e,chatJid:f,config:g,direction:k,externalId:l==null?void 0:l.externalId,includeOriginalMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,msgId:(l==null?void 0:l.messageId)==null?null:d("MAWDbMsg").toMsgId(l.messageId),numMsgs:h,sortOrderMs:a!=null?(i||(i=d("I64"))).to_float(a):null},{timeoutMs:b==null?void 0:b.timeoutMs});j.set(f,{options:{config:g,count:h,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers.extends({},await e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}}async function l(a,b){var e=a.actionType,f=a.chatJid,g=a.config,h=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:e,chatJid:f,config:g,direction:k,range:{includeLowerBoundMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,lowerBoundExternalId:(l==null?void 0:l.externalId)==null?void 0:l.externalId,lowerBoundSortOrderMs:a!=null?(i||(i=d("I64"))).to_float(a):void 0,numMsgs:h}},{timeoutMs:b==null?void 0:b.timeoutMs});j.set(f,{options:{config:g,count:h,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers.extends({},await e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}}g.default=a}),98);
__d("MDBCClientEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_OPEN:1,CHAT_JOIN_SHEET_RENDERED:2,THREAD_JOIN:3,BROADCAST_BUTTON_RENDERED:4,RENDER_PUBLIC_BROADCAST_CHAT_NUX_QP:5,RENDER_PUBLIC_BROADCAST_CHAT_CREATION_SHEET:6,PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED:7,THREAD_CREATE:8,SHARE_SHEET_RENDERED:9,COPY_LINK:10,EDIT_CHAT:11,SHARE_LINK:12,RENDER_THREAD_DETAIL:13,MUTE_CHAT:14,RENDER_CHAT_MEMBERS:15,SEEN_COUNT_RENDERED:16,SHARE_LINK_SENT:17,THREAD_SETTINGS_RENDERED:18,REPORT_MESSAGE_TO_META:19,REMOVE_MESSAGE:20,ADMIN_REMOVE_MESSAGE:21,CHAT_RENDERED_IN_MIB_INBOX:22,BLOCK_FROM_CHAT:23,DEMOTE_ADMIN_BUTTON_TAPPED:24,PROMOTE_ADMIN_FAIL_IMPRESSION:25,REMOVE_FROM_CHAT:26,MESSAGE_USER:27,VIEW_USER_PROFILE:28,ADMIN_LIMIT_REACHED_IMPRESSION:29,PROMOTE_ADMIN_BUTTON_TAPPED:30,USER_PROFILE_BOTTOMSHEET:31,BAN_FROM_CHAT_SUCCESS:32,BAN_FROM_CHAT_FAILURE:33,BAN_FROM_CHAT_INITIATION:34,NOTIFICATION_CONTROL_MUTE_SELECTED:35,NOTIFICATION_CONTROL_UNMUTE_SELECTED:36,JOIN_CHAT_CONFIRM:37,SHOW_ON_PROFILE_TOGGLE:38,SHOW_ON_PROFILE_TAPPED:39,LEAVE_CHAT:40,DELETE_CHAT:41,UNMUTE_CHAT:42,REPORTED_CONTENTS_RENDERED:43,INVITE_BUTTON_TAPPED:44,VIEW_ALL_MEMBERS:45,OPEN_INVITE_LINK_VIEW:46,REPORT_CHAT_TO_FACEBOOK:47,DISMISS_BUTTON_TAPPED:48,JOIN_CHAT_SHEET_RENDERED:49,MESSAGE_SEND:50,PUSH_NOTIFICATION_MESSAGE_RECEIVED_TAPPED:51,CREATE_CHANNEL_SCREEN_RENDERED:52,CHANGE_IMAGE_TAPPED:53,JOIN_APPROVAL_TOGGLE:54,COPY_LINK_TAPPED:55,SEARCH_BAR_INPUT_FOCUS:56,INVITE_SCREEN_RENDERED:57,DONE_BUTTON_TAPPED:58,SEND_BUTTON_TAPPED:59,SHARE_TO_FEED_SKIPPED:60,SHARE_TO_FEED_SCREEN_RENDERED:61,POST_TEXT_INPUT:62,SHARE_TO_FEED_BUTTON_TAPPED:63,NAME_TEXT_INPUT:64,EDIT_CHAT_SUCCESS:65,EDIT_CHAT_FAILURE:66,REQUIRE_APPROVAL_TO_JOIN_DISABLED:67,REQUIRE_APPROVAL_TO_JOIN_ENABLED:68,MEMBER_REQUEST_JOIN_APPROVED:69,MEMBER_REQUEST_JOIN_DENIED:70,VIEW_MEMBER_REQUESTS:71,SHARE_TO_FACEBOOK_BOTTOMSHEET_VIEWED:72,CHAT_SHARED_TO_FACEBOOK:73,EDIT_CHAT_DESCRIPTION:74,CHANGE_THREAD_PHOTO:75,INSTALL_MESSENGER_UPSELL_VIEWED:76,DOWNLOAD_MESSENGER_BUTTON_CLICKED:77,BLOCKED_USER_WARNING_RENDERED:78,BLOCKED_USER_WARNING_CONFIRM:79,NOTIF_IMPRESSION:80,NOTIF_CLICKED:81,FIRST_CREATE_BOTTOMSHEET_RENDERED:82,THREAD_CREATE_ATTEMPT:83,PUBLIC_CHAT_LINK_ATTACHMENT_RENDERED:84,PUBLIC_CHAT_LINK_ATTACHMENT_TAPPED:85,NOTIFICATION_CONTROL_ALL_SELECTED:86,NOTIFICATION_CONTROL_MENTIONS_AND_REPLIES_SELECTED:87,NOTIFICATION_CONTROL_NONE_SELECTED:88,NOTIFICATION_CONTROL_RENDERED:89,UNDO_BUTTON_TAPPED:90,INVITE_SENT_SUCCESS:91,INVITE_SENT_FAILED:92,PRIMARY_PROFILE_QP_RENDERED:93,NOT_NOW_TAPPED:94,CREATE_CHANNEL_TAPPED:95,VIEW_PINNED_CHANNELS:96,PROFILE_ABOUT_CHANNEL_SECTION_RENDERED:97,DIRECT_INVITE_SENT_SUCCESS:98,DIRECT_INVITE_SENT_FAIL:99,DIRECT_INVITE_BULK_SENT_SUCCESS:100,DIRECT_INVITE_BULK_SENT_FAIL:101,DIRECT_INVITE_NOTIFICATION_RENDERED:102,DIRECT_INVITE_SHEET_RENDERED:103,INVITE_ACCEPT:104,INVITE_DECLINE:105,CHAT_INVITE_SHEET_RENDERED:106,PAUSE_CHANNEL:107,RESUME_CHANNEL:108,THREAD_CREATE_SUCCESS:109,THREAD_CREATE_ERROR:110,NOTIFICATION_RENDERING_REQUEST_SUCCESS:111,NOTIFICATION_RECALLED:112,NOTIFICATION_DISMISS:113,NOTIFICATION_CLICK:114,FEATURED_UNIT_PROFILE_QP_RENDERED:115,PIN_CARD_TAPPED:116,PIN_FEATURED_CARD_SUCCESS:117,PIN_FEATURED_CARD_FAILURE:118,CHANNELS_FEATURED_UNIT_RENDERED:119,CHANNELS_FEATURED_UNIT_SEE_ALL_TAPPED:120,RENDER_CHAT_INVITE_SHEET:121,RENDER_INVITE_PRESET_LIST:122,INVITE_PRESET_LIST_RENDERED:123,CREATE_POST_BUTTON_TAPPED:124,RENDER_CHANNEL_PAUSE_CONFIRMATION_DIALOG:125,RENDER_CHANNEL_RESUME_CONFIRMATION_DIALOG:126,DISMISS_PAUSE_CHANNEL_DIALOG:127,DISMISS_RESUME_CHANNEL_DIALOG:128,CANCEL_RESUME_CHANNEL:129,CANCEL_PAUSE_CHANNEL:130,DEEPLINK_LANDING_PAGE_RENDERED:131,DIRECT_INVITE_SHEET_SKIPPED:132,CREATE_POST_BUTTON:133,CYSC_QP_CARD_IMPRESSION:134,SHOW_ON_PROFILE_RENDERED:135,THREAD_PREVIEW_OPEN:136,NON_MEMBER_COMPOSER_SHOWN:137,REACTIONS_UNEXPECTED_DROP:138,REACTIONS_MUTATION_SUCCESS:139,REACTIONS_MUTATION_FAILURE:140,REACTIONS_TRAY_EMPTY_ERROR:141,SET_CHAT_CREATION_PHOTO:142,SHARE_LINK_TO_FB_CONFIRM:143,BIIM_INBOX_BROADCAST_CREATE_BUTTON_RENDERED:144,BIIM_INBOX_BROADCAST_CREATE_BUTTON_TAPPED:145,PUBLIC_BROADCAST_CHAT_NUX_QP_RENDERED:146,PUBLIC_BROADCAST_CHAT_NUX_QP_TAPPED:147,PIN_FEATURED_CARD_TOGGLE:148,PIN_TO_INBOX_SUCCESS:149,PIN_TO_INBOX_FAILURE:150,UNPIN_FROM_INBOX_SUCCESS:151,UNPIN_FROM_INBOX_FAILURE:152,PINNED_THREAD_RENDERED:153,CHANNELS_TAB_ITEM_RENDERED:154,CHANNELS_TAB_ITEM_TAPPED:155,PROFILE_CHANNELS_TAB_RENDERED:156,PROMPT_ACCOUNT_SWITCH_QP_RENDERED:157,PROMPT_ACCOUNT_SWITCH_QP_CREATE_CHANNEL_TAPPED:158,PROMPT_ACCOUNT_SWITCH_QP_DISMISSED:159,CYSC_NEWSFEED_QP_RENDERED:160,CREATE_CHANNEL_OPTION_RENDERED:161,CHANNELS_LIST_RENDERED:162,CHANNELS_LIST_NULL_STATE_RENDERED:163,PUBLIC_BROADCAST_CHANNEL_APPLUS_QP:164,BROADCAST_CHANNEL_TAPPED:165,MESSENGER_SEARCH_PUBLIC_CHANNEL_RENDERED:166,PROFILE_INTRO_CARD_CHANNEL_RENDERED:167,DIRECT_INVITE_JEWEL_NOTIFICATION_CHANNEL_RENDERED:168,PERSISTENT_INVITE_CHANNEL_RENDERED:169,KEEP_EDITING_BUTTON_TAPPED:170,THREAD_TOMBSTONE_IMPRESSION:171,VIEW_PAGE_STATUS_PRESSED:172,FIRST_CREATE_FULLSCREEN_NUX_RENDERED:173,FIRST_CREATE_FULLSCREEN_NUX_TAPPED:174,DIRECTORY_SEARCH_NULLSTATE_IMPRESSION:175,DIRECTORY_PEOPLE_TAB_IMPRESSION:176,DIRECTORY_OPEN:177,DIRECTORY_FEED_QP_IMPRESSION:178,DIRECTORY_RECOMMENDATION_LIST_IMPRESSION:179,SHARE_BUTTON_ON_THREAD_HEADER:180,DIRECTORY_FEED_SEE_ALL_TAPPED:181,CHANNELS_WAITLIST_RENDERED:182,REQUEST_ACCESS_ATTEMPT:183,LEARN_MORE_TAPPED:184,REQUEST_ACCESS_SUCCESS:185,CHANNELS_SURVERY_RENDERED:186,SUBMIT_SURVEY_ATTEMPT:187,SUBMIT_SURVEY_SUCCESS:188,ALREADY_REGISTERED_VIEW_RENDERED:189,NOT_ELIGIBLE_VIEW_RENDERED:190,LOGGED_OUT_VIEW_RENDERED:191,DISCOVER_CHANNELS_TAPPED:192,CHANNELS_WAITLIST_ACCOUNT_SWITCH_RENDERED:193,WAITLIST_ACCOUNT_SWITCH_ATTEMPT:194,ALREADY_HAS_ACCESS_VIEW_RENDERED:195,MBS_CHANNELS_TAB_IMPRESSION:196,MBS_CHANNELS_TAB_TAPPED:197,MBS_CHANNELS_ENTRYPOINT_BUTTON_IMPRESSION:198,MBS_CHANNELS_ENTRYPOINT_BUTTON_TAPPED:199,WEB_SUBSCRIBE_TO_THREAD_CREATION_STATUS_TABLE:200,WEB_THREAD_CREATION_STATUS_PENDING:201,WEB_SUBSCRIBE_TO_THREADS_TABLE_DURING_CREATE:202,WEB_THREAD_CREATED_WAITING_FOR_THREAD_LINK:203,JOIN_CHAT_NUX_CONFIRM:204,JOIN_CHAT_NUX_CANCEL:205,JOIN_CHAT_NUX_RENDERED:206,MUTE_ON_LEAVE_DIALOG_RENDERED:207,DIRECTORY_FEED_QP_PREVIEW_TAPPED:208,INVITED_AND_DIRECTORY_SCREEN_IMPRESSION:209,INVITED_CHANNELS_SCREEN_IMPRESSION:210,INVITED_AND_DIRECTORY_SCREEN_TAP_SEE_ALL:211,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_STARTED:212,PROMPT_ACCOUNT_SWITCH_QP_ACCOUNT_SWITCH_COMPLETED:213,PROMPT_ACCOUNT_SWITCH_QP_CREATION_FLOW_STARTED:214,SHARE_TO_STORY_TAPPED:215,CHANNEL_STICKER_RENDERED:216,BUMP_THREAD_TO_INBOX_TAPPED:217,UNBUMP_THREAD_FROM_INBOX_TAPPED:218,DIRECTORY_FEED_QP_DISMISS_BUTTON_TAPPED:219,MBS_CHANNELS_TAB_WITH_BADGE_IMPRESSION:220,MBS_CHANNELS_TAB_WITH_BADGE_TAPPED:221,EARLY_ACCESS_AWARENESS_SCREEN_IMPRESSION:222,EARLY_ACCESS_AWARENESS_BUTTON_CLICK:223,SHARE_MESSAGE_TO_STORY_TAPPED:224,CHANNEL_MESSAGE_STICKER_RENDERED:225,SHARE_CHANNEL_TO_STORY_BOTTOMSHEET_RENDERED:226,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_RENDERED:227,EARLY_ACCESS_BROADCAST_CHANNEL_TOGGLE_CLICKED:228,EARLY_ACCESS_BROADCAST_CHANNEL_TIME_SETTING_CLICKED:229,EARLY_ACCESS_BROADCAST_CHANNEL_MESSAGE_EDITED:230,EARLY_ACCESS_BROADCAST_CHANNEL_LEARN_MORE_CLICKED:231,FORWARDED_MESSAGE_CHANNEL_CLICK:232,MESSAGE_FORWARD_CLICK:233,VIEW_PINNED_MESSAGES:234,PIN_MESSAGE:235,UNPIN_MESSAGE:236,HIGHLIGHTS_TAB_REACTION_CONTAINER:237,HIGHLIGHTS_TAB_REACTION_PILL:238,SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED:239,SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED:240,SHARE_TO_CHANNELS_PAGE_IMPRESSION:241,SHARE_TO_CHANNELS_CHANNEL_TAPPTED:242,SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED:243,SHARE_TO_CHANNELS_SHARING_UNAVAILABLE:244,JOIN_TOAST_UNDO_TAPPED:245,MEMBERSHIP_MILESTONE_SCREEN_IMPRESSION:246,MEMBERSHIP_MILESTONE_IMAGE_CARD_TAPPED:247,MEMBERSHIP_MILESTONE_SEND_BUTTON_TAPPED:248,DM_VIEW_CHANNEL_BUTTON:249,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_TAPPED:250,MBS_CONTENT_CHANNELS_NULL_STATE_BUTTON_IMPRESSION:251,MBS_CONTENT_CHANNELS_LIST_CHANNEL_TAPPED:252,CHANNELS_GUTTER_UNIT_RENDERED:253,SHARE_POST_TO_BC_EDUCATION_BOTTOMSHEET_IMPRESSION:254,TURN_ON_TAPPED:255,SHARE_POST_TO_BC_SCREEN_IMPRESSION:256,MBS_CONTENT_CHANNELS_NULL_STATE_COMPONENT_IMPRESSION:257,ENGAGEMENT_REMINDER_SCREEN_IMPRESSION:258,ENGAGEMENT_REMINDER_ADD_ATTACHMENT_TAPPED:259,ENGAGEMENT_REMINDER_SEND_BUTTON_TAPPED:260,PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED:261,ABOUT_CHANNEL_TAP:262,ABOUT_CHANNEL_VIEW_PAGE_TAP:263,ABOUT_CHANNEL_CLOSE:264,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_IMPRESSION:265,TOP_FAN_PERKS_SETTINGS_BROADCAST_CHANNEL_VIEW_BUTTON_CLICK:266,BROADCAST_CHANNELS_LEARN_MORE_IMPRESSION:267,BROADCAST_CHANNELS_LEARN_MORE_CONFIRM_BUTTON_CLICK:268,SHARE_TO_STORY_MSGR_TO_FB_DEEPLINK_HANDLED:269,UNJOINED_THREAD_ITEM_TAPPED:270,CONTENT_CHAINING_BUTTON_IMPRESSION:271,CONTENT_CHAINING_BUTTON_CLICKED:272,PIN_POST_TOGGLED_ON:273,PIN_POST_TOGGLED_OFF:274,CREATE_OR_MESSAGE_BOTTOMSHEET_IMPRESSION:275,BIIM_PERSONAL_INBOX_TOGGLE:276,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DIALOG_IMPRESSION:277,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_DECLINED:278,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ALWAYS:279,PERSONAL_INBOX_VOICE_SWITCH_CONSENT_APPROVED_ONCE:280,UNJOINED_THREAD_HEADER_TAP:281,CONTENT_CHAINING_SCREEN_IMPRESSION:282,CONTENT_CHAINING_POST_CELL_IMPRESSION:283,CONTENT_CHAINING_POST_CELL_CLICKED:284,CONTENT_CHAINING_BUTTON_CELL_IMPRESSION:285,CONTENT_CHAINING_BUTTON_CELL_CLICKED:286,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_IMPRESSION:287,SHARE_TO_CHANNELS_SHARESHEET_ENTRY_POINT_TAPPED:288,SHARE_TO_CHANNELS_SHARESHEET_CHANNEL_TAPPED:289,SHARE_TO_CHANNELS_SHARESHEET_SEND_BUTTON_TAPPED:290,CREATE_OR_MESSAGE_BOTTOMSHEET_LOADING_SCREEN_IMPRESSION:291,PIN_CHANNEL_TO_MESSENGER_TOGGLE_TAPPED:292,SHARE_TO_CHANNELS_SHARESHEET_SEND_SUCCESS:293,SHARE_TO_CHANNELS_SHARESHEET_SEND_FAILURE:294,SHARE_TO_CHANNELS_SHARESHEET_CONFIRMATION_TOAST_IMPRESSION:295,CONTENT_CHAINING_LAUNCH_FAILURE:296,RENDER_PROMPT_CREATION_PILL:297,RENDER_DAILY_PROMPT_CREATOR_NUX_SHEET:298,DAILY_PROMPT_CREATOR_NUX_SHEET_RENDERED:299,DISMISS_DAILY_PROMPT_CREATOR_NUX_SHEET:300,DAILY_PROMPT_CREATION_SHEET_RENDERED:301,RENDER_DAILY_PROMPT_CREATION_SHEET:302,CANCEL_DAILY_PROMPT_CREATION_SHEET:303,START_DAILY_PROMPT:304,RENDER_DAILY_PROMPT_RESPONSES_SHEET:305,DAILY_PROMPT_RESPONSES_SHEET_RENDERED:306,RENDER_DAILY_PROMPT_RESPONSE_REPLY_SHEET:307,REPLY_DAILY_PROMPT_RESPONSE:308,RENDER_DELETE_DAILY_PROMPT_RESPONSE_DIALOG:309,DELETE_DAILY_PROMPT_RESPONSE:310,DISMISS_DELETE_DAILY_PROMPT_RESPONSE:311,REPORT_DAILY_PROMPT_RESPONSE:312,DAILY_PROMPT_RESPONSE_REACT:313,DAILY_PROMPT_RESPONSE_CREATION_SHEET_RENDERED:314,CREATE_DAILY_PROMPT_RESPONSE:315,DELETE_DAILY_PROMPT_DIALOG_RENDERED:316,DELETE_DAILY_PROMPT:317,CANCEL_DELETE_DAILY_PROMPT:318,DAILY_PROMPT_SHARE_SHEET_RENDERED:319,COLLECT_FEEDBACK_SCREEN_IMPRESSION:320,COLLECT_FEEDBACK_POST_CARD_TAPPED:321,COLLECT_FEEDBACK_NEW_QUESTION_BUTTON_TAPPED:322,COLLECT_FEEDBACK_SEND_BUTTON_TAPPED:323,REPORT_DAILY_PROMPT_DIALOG_RENDERED:324,SHARE_TO_CHANNELS_PAGE_SAVE_TAPPED:325,COLLECT_FEEDBACK_SECTION_TOGGLED:326,SEND_A_MESSAGE_SECTION_TOGGLED:327,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_RENDERED:328,PERSONAL_INBOX_OPT_IN:329,PERSONAL_INBOX_OPT_IN_ENTRY_POINT_DISMISSED:330,PERSONAL_INBOX_OPT_OUT_AND_VIEW_AS_MEMBER:331,CHANNEL_INSIGHTS:332,FIRST_MESSAGE_SCREEN_IMPRESSION:333,FIRST_MESSAGE_SCREEN_SKIP_BUTTON_TAPPED:334,FIRST_MESSAGE_SCREEN_SEND_BUTTON_TAPPED:335,FIRST_MESSAGE_SCREEN_SUGGESTION_HSCROLL:336,FIRST_MESSAGE_SCREEN_SUGGESTION_TAPPED:337,FIRST_MESSAGE_SCREEN_MESSAGE_EDITED:338,CHANNEL_INSIGHTS_HOME_IMPRESSION:339,CHANNEL_INSIGHTS_INTERACTION_HEADER:340,CHANNEL_INSIGHTS_INTERACTION_BREAKDOWN:341,PROMPT_CREATION_COMPOSER_TOOLTIP_IMPRESSION:342,MILESTONE_NOTIFICATION_BOTTOMSHEET_RENDERED:343,MILESTONE_NOTIFICATION_BOTTOMSHEET_BUTTON_TAPPED:344,INBOX_SNIPPET_RENDERED:345,INBOX_SNIPPET_ROW_TAPPED:346,NOTIFICATION_SETTING_BOTTOM_SHEET_SHOWN:347,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_SETTING_TAPPED:348,NOTIFICATION_SETTING_BOTTOM_SHEET_DISMISSED:349,NOTIFICATION_SETTING_BOTTOM_SHEET_NOTIFICATION_TOGGLE_CHANGED:350,BEST_PRACTICES_PAGE_ACTION_TAPPED:351,BEST_PRACTICES_PAGE_RENDERED:352,PAID_PARTNERHIP_DRAWER_OPTION_TAPPED:353,PAID_PARTNERHIP_TOGGLE_UPDATED:354});c=a;f["default"]=c}),66);
__d("MDSScrollableAreaStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}};b=a;g["default"]=b}),98);
__d("MLV2DataSourceLogger",["I64","MAWQPLLogger","MWChatInteraction","mergeDeep","performanceNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){j==null&&(j=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return j}var l=new Map();function m(a,b){return(i||(i=d("I64"))).to_string(a)+b}function n(a){a=a.getTrace();var b=(a==null?void 0:a.completed)!=null;a=(a==null?void 0:a.qplEvent)===c("qpl")._(30605380,"18")||(a==null?void 0:a.qplEvent)===c("qpl")._(30609204,"1682");return!b&&a}function a(a,b,e,f){var g=m(a,b),j=l.get(g);j!=null&&j.markQPLCancel("restart_logger");var o=k().markQPLStart(),p=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a)),q=(h||(h=c("performanceNow")))();p==null||p.addMarkerPoint("MLV2_fetch_start","AppTiming",q);var r=function(a,b){var d=(h||(h=c("performanceNow")))(),e={action:a,full_duration:(d-q)/1e3};b!=null&&(e=c("mergeDeep")(e,b));if(p==null)return;b=n(p);a=a==="CANCEL"&&d-q<50;if(!b||a)return;p.addMarkerPoint("MLV2_fetch_end","AppTiming",d,e)},s=new Set();j={addQPLAnnotations:function(a){k().addQPLAnnotations(o,a)},annotateMessageRangesDataSource:function(a){s.add(a),k().addQPLAnnotations(o,{string_array:{message_ranges_source:Array.from(s.keys())}})},getInstanceKey:function(){return o},markQPLCancel:function(a){k().addQPLAnnotations(o,{string:{cancel_reason:a}}),k().markQPLCancel(o),r("CANCEL"),l["delete"](g)},markQPLFailure:function(a){k().markQPLFailure(o,a),r("FAIL"),l["delete"](g)},markQPLFailureWithMsg:function(a){k().markQPLFailureWithMsg(o,a),r("FAIL"),l["delete"](g)},markQPLPoint:function(a){k().markQPLPoint(o,a)},markQPLSuccess:function(a){k().markQPLSuccess(o),r("SUCCESS",{num_msgs_fetched:a}),l["delete"](g)}};var t=!1;p!=null&&n(p)&&(t=!0);j.addQPLAnnotations({bool:{during_chat_open:t},"int":{queried_count:e},string:{direction:b,thread_id:i.to_string(a),thread_type:i.to_string(f)}});l.set(g,j);return j}function b(a,b){a=m(a,b);return l.get(a)}g.startMLV2LoggerForThread=a;g.getMLV2LoggerForThread=b}),98);
__d("MWBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:2,event:195,parentSurface:11,source:105,surface:73};b={action:2,event:191,parentSurface:11,source:105,surface:73};c={action:2,event:190,parentSurface:11,source:105,surface:73};d={action:2,event:189,parentSurface:11,source:105,surface:73};e={action:1,event:188,parentSurface:11,source:104,surface:74};var g={action:1,event:187,parentSurface:11,source:104,surface:74},h={action:2,event:186,parentSurface:11,source:103,surface:74},i={action:1,event:184,parentSurface:11,source:102,surface:73},j={action:1,event:185,parentSurface:11,source:101,surface:73},k={action:1,event:183,parentSurface:11,source:101,surface:73},l={action:2,event:182,parentSurface:11,source:100,surface:73},m={action:1,event:185,parentSurface:11,source:102,surface:72},n={action:1,event:184,parentSurface:11,source:102,surface:72},o={action:1,event:183,parentSurface:11,source:101,surface:72},p={action:2,event:182,parentSurface:11,source:100,surface:72},q={action:1,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:95,parentSurface:7,source:8,surface:4},r={action:2,clientExtras:{entry_point:"public_chats:comet_www_inbox"},event:161,parentSurface:7,source:8,surface:4},s={action:1,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:95,parentSurface:11,source:8,surface:58},t=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),u=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:profile_from_mbs"}}),v=babelHelpers["extends"]({},s,{clientExtras:{entry_point:"public_chats:fandom_create_channel_email"}}),w={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:162,parentSurface:21,source:90,surface:59},x={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"},event:163,parentSurface:21,source:90,surface:59},y={action:2,clientExtras:{entry_point:"public_chats:profile_channels_tab_item"},event:161,parentSurface:21,source:90,surface:59},z=babelHelpers["extends"]({},y,{clientExtras:{entry_point:"public_chats:profile_channels_tab_null_state"}}),A={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:164,parentSurface:11,source:92,surface:65},B={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:164,parentSurface:21,source:92,surface:66},C={action:2,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:161,parentSurface:11,source:92,surface:65},D={action:2,clientExtras:{entry_point:"public_chats:profile_qp"},event:161,parentSurface:21,source:92,surface:66},E={action:1,clientExtras:{entry_point:"public_chats:newsfeed_qp"},event:95,parentSurface:11,source:8,surface:65},F={action:1,clientExtras:{entry_point:"public_chats:profile_qp"},event:95,parentSurface:21,source:8,surface:66},G={action:1,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:95,parentSurface:11,source:88,surface:64},H={action:1,clientExtras:{entry_point:"public_chats:channel_creation_qp"},event:95,parentSurface:11,source:67,surface:27},I={action:1,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:95,parentSurface:11,source:88,surface:69},J={action:1,clientExtras:{entry_point:"public_chats:channels_gutter"},event:95,parentSurface:11,source:8,surface:91},K={action:2,clientExtras:{entry_point:"public_chats:profile_creation_bar"},event:161,parentSurface:11,source:88,surface:64},L={action:2,clientExtras:{entry_point:"public_chats:newsfeed_composer"},event:161,parentSurface:11,source:88,surface:69},M={action:1,event:147,parentSurface:4,source:81,surface:51},N={action:1,event:165,parentSurface:21,source:93,surface:58},O={action:1,event:148,parentSurface:11,source:89,surface:21},P={action:2,event:7,parentSurface:17,source:82,surface:41},Q={action:2,event:146,parentSurface:4,source:81,surface:51},R={action:2,event:261,parentSurface:4,source:81,surface:51},S={action:1,event:53,parentSurface:4,source:81,surface:51},T={action:1,event:8,parentSurface:17,source:8,surface:41},U={action:1,event:234,parentSurface:8,source:27,surface:16},V={action:1,event:234,parentSurface:7,source:62,surface:7},W={action:1,event:235,parentSurface:7,source:62,surface:7},X={action:1,event:236,parentSurface:7,source:62,surface:7},Y={action:2,event:239,parentSurface:11,source:147,surface:87},Z={action:1,event:240,parentSurface:11,source:147,surface:87},$={action:2,event:241,parentSurface:11,source:147,surface:87},aa={action:1,event:242,parentSurface:11,source:147,surface:87},ba={action:1,event:243,parentSurface:11,source:147,surface:87};f.CREATOR_WAITLIST_ALREADY_HAS_ACCESS_VIEW_RENDERED=a;f.CREATOR_WAITLIST_LOGGED_OUT_VIEW_RENDERED=b;f.CREATOR_WAITLIST_NOT_ELIGIBLE_VIEW_RENDERED=c;f.CREATOR_WAITLIST_ALREADY_REGISTERED_VIEW_RENDERED=d;f.CREATOR_WAITLIST_INTEREST_REASONS_SUBMIT_SUCCESS=e;f.CREATOR_WAITLIST_INTEREST_REASONS_SUBMIT_ATTEMPT=g;f.CREATOR_WAITLIST_INTEREST_REASONS_RENDERED=h;f.CREATOR_WAITLIST_LANDING_PAGE_LEARN_MORE_TAPPED=i;f.CREATOR_WAITLIST_LANDING_PAGE_REQUEST_ACCESS_SUCCESS=j;f.CREATOR_WAITLIST_LANDING_PAGE_REQUEST_ACCESS_ATTEMPT=k;f.CREATOR_WAITLIST_LANDING_PAGE_RENDERED=l;f.CREATOR_WAITLIST_NEWSFEED_QP_REQUEST_ACCESS_SUCCESS=m;f.CREATOR_WAITLIST_NEWSFEED_QP_LEARN_MORE_TAPPED=n;f.CREATOR_WAITLIST_NEWSFEED_QP_REQUEST_ACCESS_TAPPED=o;f.CREATOR_WAITLIST_NEWSFEED_QP_RENDERED=p;f.CREATE_CHANNEL_TAPPED_FULL_PAGE_SHAPE=q;f.CREATE_CHANNEL_OPTION_RENDERED_FULL_PAGE_SHAPE=r;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_SHAPE=s;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_NULL_STATE_SHAPE=t;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_MBS_SHAPE=u;f.CREATE_CHANNEL_TAPPED_CHANNELS_TAB_FCC_EMAIL_SHAPE=v;f.CHANNELS_LIST_RENDERED_SHAPE=w;f.CHANNELS_LIST_NULL_STATE_RENDERED_SHAPE=x;f.CREATE_CHANNEL_OPTION_CHANNELS_TAB_RENDERED_SHAPE=y;f.CREATE_CHANNEL_OPTION_CHANNELS_TAB_NULL_STATE_RENDERED_SHAPE=z;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_RENDERED_SHAPE=A;f.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_RENDERED_SHAPE=B;f.CREATE_CHANNEL_OPTION_NEWSFEED_QP_RENDERED_SHAPE=C;f.CREATE_CHANNEL_OPTION_PROFILE_PAGE_QP_RENDERED_SHAPE=D;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_QP_TAP_SHAPE=E;f.CREATE_BROADCAST_CHANNEL_PROFILE_PAGE_QP_TAP_SHAPE=F;f.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_TAP_SHAPE=G;f.CREATE_BROADCAST_CHANNEL_JEWEL_QP_TAP_SHAPE=H;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_TAP_SHAPE=I;f.CREATE_BROADCAST_CHANNEL_FROM_GUTTER_TAP_SHAPE=J;f.CREATE_BROADCAST_CHANNEL_PROFILE_COMPOSER_RENDERED_SHAPE=K;f.CREATE_BROADCAST_CHANNEL_NEWSFEED_COMPOSER_RENDERED_SHAPE=L;f.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_BUTTON_TAP_SHAPE=M;f.APPLUS_TAP_BROADCAST_CHANNEL_IN_CHANNELS_TAB_SHAPE=N;f.APPLUS_TAP_PIN_TO_FEATURE_IN_CREATION_FORM=O;f.PUBLIC_BROADCAST_CHAT_CREATION_SHEET_RENDERED_SHAPE=P;f.APPLUS_BROADCAST_CHANNEL_EDUCATION_NUX_RENDERED_SHAPE=Q;f.PUBLIC_BROADCAST_CHANNEL_NUX_CAROUSEL_SLIDE_RENDERED=R;f.BROADCAST_CHANNEL_CHANGE_IMAGE_TAP_SHAPE=S;f.THREAD_CREATE_TAP_SHAPE=T;f.VIEW_PINNED_MESSAGES_FROM_THREAD_DETAIL=U;f.VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER=V;f.PIN_MESSAGE=W;f.UNPIN_MESSAGE=X;f.SHARE_TO_CHANNELS_ENTRY_POINT_RENDERED=Y;f.SHARE_TO_CHANNELS_ENTRY_POINT_TAPPED=Z;f.SHARE_TO_CHANNELS_PAGE_IMPRESSION=$;f.SHARE_TO_CHANNELS_CHANNEL_TAPPED=aa;f.SHARE_TO_CHANNELS_DEFAULT_TOGGLE_CLICKED=ba}),66);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef,l=b.useSyncExternalStore,m=new Map(),n=new Map();function o(a){(a=m.get(a))==null||a.forEach(function(a){return a()})}function a(a,b){var d=k(a).current,e=k({parsed:d,stringified:void 0});a=j(function(a){var c=m.get(b),d=c!=null?c:new Set();d.add(a);m.set(b,d);return function(){d["delete"](a)}},[b]);var f=j(function(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();a=a==null?n.get(b):a.getItem(b);if(a==null)return d;if(a===e.current.stringified)return e.current.parsed;try{var f=JSON.parse(a);e.current={parsed:f,stringified:a};return f}catch(a){return d}},[d,b]);a=l(a,f);f=j(function(a){a=a instanceof Function?a(e.current.parsed):a;var d=(h||(h=c("WebStorage"))).getLocalStorage();a=JSON.stringify(a);if(d!=null)if(a==null)d.removeItem(b);else try{d.setItem(b,a)}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to setItem")}else n.set(b,a);o(b)},[b]);return[a,f]}g.usePersistedUIState=a}),98);
__d("MWLogBroadcastChannelFalcoEvent",["I64","emptyFunction","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").__setRef("MWLogBroadcastChannelFalcoEvent"),j=new Set([161,119]),k=5*60*1e3,l=null,m=null;function a(a){if(a.current)return c("emptyFunction");a.current=!0;return function(a){return n(a)}}function n(a){var b=a.action,e=b===void 0?1:b,f=a.clientExtras,g=a.event;b=a.parentSurface;var n=b===void 0?3:b,o=a.source,p=a.surface,q=a.threadFbid,r=a.recipientId;i.onReady(function(a){var b=Date.now();(l==null||m!=null&&b-m>k||j.has(g))&&(l=c("uuidv4")());m=b;a.log(function(){return{action:e,action_name:e,event:g,event_name:g,extra:f,parent_surface:n,parent_surface_name:n,recipient_id:r,session_id:l,source:o,source_name:o,surface:p,surface_name:p,thread_id:q!=null?(h||(h=d("I64"))).to_string(q):void 0}})})}g.useLogBroadcastChannelFalcoEventWithRef=a;g.logBroadcastChannelFalcoEvent=n}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("LSIntEnum"))).unwrapIntEnum(a)}g["default"]=a}),98);
__d("MWPConversationSearchLogger",["I64","LSMessagingThreadTypeUtil","LsMessageSearchEndFalcoEvent","LsMessageSearchMsgImpressionFalcoEvent","LsMessageSearchMsgResultChosenFalcoEvent","LsMessageSearchSearchClickedFalcoEvent","LsMessageSearchStartFalcoEvent","LsMessageSearchThreadImpressionFalcoEvent","LsMessageSearchThreadListClickFalcoEvent","coerceMessagingThreadTypeToLSThreadType","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=void 0;function k(a,b,d){var e=a?j!=null?j:l():c("uuidv4")();b={instanceId:e,threadKey:b,threadType:d,universalSearchInstanceId:a?e:void 0};i=b;return b}function l(){var a=c("uuidv4")();j=a;return a}function a(){var a=l();c("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:2,message_search:{instance_id:a,surface_name:0,universal_search_instance_id:a}}})}function b(a,b){var e=j;if(e==null)return;var f=a.threadKey,g=a.threadType;k(!0,f,g);c("LsMessageSearchThreadListClickFalcoEvent").log(function(){var f;return{message_search:{instance_id:e,msg_match_cnt:(h||(h=d("I64"))).to_string((f=a.matchCount)!=null?f:(h||(h=d("I64"))).zero),secure_msg_match_cnt:b!=null?b.toString():null,universal_search_instance_id:e},thread:{type:c("coerceMessagingThreadTypeToLSThreadType")(g)}}})}function e(a,b){var e=j;if(e==null)return;var f=a.threadType;c("LsMessageSearchThreadImpressionFalcoEvent").log(function(){var g;return{message_search:{instance_id:e,msg_match_cnt:(h||(h=d("I64"))).to_string((g=a.matchCount)!=null?g:(h||(h=d("I64"))).zero),secure_msg_match_cnt:b!=null?b.toString():null,surface_name:0,universal_search_instance_id:e},thread:{type:c("coerceMessagingThreadTypeToLSThreadType")(f)}}})}function m(){var a=i;if(a==null)return;c("LsMessageSearchEndFalcoEvent").log(function(){return{end_action:0,message_search:{instance_id:a.instanceId,universal_search_instance_id:a.universalSearchInstanceId}}});i=void 0}function f(a,b){m();var e=k(!1,a,b),f=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);c("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:0,is_fts:f,message_search:{instance_id:e.instanceId,surface_name:1},thread:{type:c("coerceMessagingThreadTypeToLSThreadType")(b)}}})}function n(){var a=i;if(a==null)return;c("LsMessageSearchSearchClickedFalcoEvent").log(function(){return{message_search:{instance_id:a.instanceId,universal_search_instance_id:a.universalSearchInstanceId},thread:{type:a.threadType!=null?c("coerceMessagingThreadTypeToLSThreadType")(a.threadType):void 0}}})}function o(a){return(a==null?void 0:a.threadType)==null?void 0:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)?1:0}function p(a,b,e){var f=i;if(f==null)return;c("LsMessageSearchMsgResultChosenFalcoEvent").log(function(){return{click_surface_name:1,message:{message_type:o(e),sent_time:(e==null?void 0:e.messageTimestampMs)!=null?(h||(h=d("I64"))).to_float(e.messageTimestampMs):void 0},message_search:{instance_id:f.instanceId,universal_search_instance_id:f.universalSearchInstanceId},position:b.toString(),prev_or_next:a,thread:{type:f.threadType!=null?c("coerceMessagingThreadTypeToLSThreadType")(f.threadType):void 0}}})}function q(a){var b=i;if(b==null)return;c("LsMessageSearchMsgImpressionFalcoEvent").log(function(){return{message:{message_type:o(a),sent_time:(a==null?void 0:a.messageTimestampMs)!=null?(h||(h=d("I64"))).to_float(a.messageTimestampMs):void 0},message_search:{instance_id:b.instanceId,surface_name:5,universal_search_instance_id:b.universalSearchInstanceId},thread:{type:b.threadType!=null?c("coerceMessagingThreadTypeToLSThreadType")(b.threadType):void 0}}})}q={logMessageSearchEnd:m,logMessageSearchMsgImpression:q,logMessageSearchMsgResultChosen:p,logMessageSearchSearchClicked:n,logMessageSearchStart:f,logUniversalMessageSearch:a,logUniversalMessageSearchThreadClicked:b,logUniversalMessageSearchThreadImpression:e};g["default"]=q}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2});c=[a.MESSAGE_LIST_PANEL,a.INFO_PANEL];d=375;e=320;b=a.THREAD_LIST_PANEL;var g=a.MESSAGE_LIST_PANEL,h=3;f.MWLayoutPanel=a;f.MWInboxMainContentPanels=c;f.DENSE_LAYOUT_BREAKPOINT_WIDTH=d;f.DENSE_LAYOUT_BREAKPOINT_HEIGHT=e;f.DEFAULT_ONE_CARD_INDEX=b;f.DEFAULT_TWO_CARDS_INDEX=g;f.DEFAULT_MAX_CARDS_VISIBLE=h}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({_mountCard:c("emptyFunction"),_unmountCard:c("emptyFunction"),cardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:c("emptyFunction"),primaryCardIndex:d("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:c("emptyFunction"),secondaryCardIndex:null});e=b;g["default"]=e}),98);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["hasMissingMessage"],i;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var j=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),k=d("LSMessagingThreadTypeUtil").isGroup(a),l=(i||(i=d("I64"))).to_string(g);a=f!=null?f:{};var m=a.hasMissingMessage,n=babelHelpers.objectWithoutPropertiesLoose(a,h);g=f!=null?f:{};var o=g.MAW_vs_EB_numOfMissingInReference,p=g.MAW_vs_EB_numOfMissingInTarget,q=g.UI_vs_EB_numOfMissingInReference,r=g.UI_vs_EB_numOfMissingInTarget,s=g.UI_vs_MAW_numOfMissingInReference,t=g.UI_vs_MAW_numOfMissingInTarget,u=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:n,has_message_missing:m,is_secured:j,missing_messages_maw_vs_eb_missing_in_reference_count:o,missing_messages_maw_vs_eb_missing_in_target_count:p,missing_messages_page_size:u,missing_messages_ui_vs_eb_missing_in_reference_count:q,missing_messages_ui_vs_eb_missing_in_target_count:r,missing_messages_ui_vs_maw_missing_in_reference_count:s,missing_messages_ui_vs_maw_missing_in_target_count:t,other_user_fbid:k||j?void 0:l,thread_fbid:l}})}}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("FBIconMarketplaceFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 922v5.27a.23.23 0 0 1-.23.23h-7.54a.23.23 0 0 1-.23-.23V922h-1v5.27c0 .68.55 1.23 1.23 1.23h7.54c.68 0 1.23-.55 1.23-1.23V922h-1z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M109.291 919c.18 0 .3-.183.23-.348l-.686-1.609a.863.863 0 0 0-.802-.543h-8.066a.86.86 0 0 0-.799.534l-.69 1.618a.25.25 0 0 0 .23.348h10.583zm-11.041 1a.25.25 0 0 0-.25.25v1c0 .69.553 1.25 1.234 1.25h.083c.287 0 .567-.102.788-.288l.206-.194.097.082c.308.259.695.4 1.096.4h.088a1.71 1.71 0 0 0 1.106-.409l.063-.072.11.091c.305.252.688.39 1.084.39h.067c.401 0 .792-.144 1.1-.404l.068-.076.09.076c.31.261.702.404 1.107.404h.103c.404 0 .797-.145 1.11-.41l.056-.067.195.166c.236.2.534.311.843.311.72 0 1.306-.594 1.306-1.325v-.925a.25.25 0 0 0-.25-.25h-11.5zm6.75 8h-2v-3.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25V928z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 928.5h-3v-3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v3.75zm-1-1V925h-1v2.5h1z",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSResizeFreeFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("580260"),20);b=a;g["default"]=b}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchInsertRankingContactsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertRankingContacts"),e.limit);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSSynchronousPromise","LSVerifyThreadsActivityStatus","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadsActivityStatus"),e.sessionId,e.serverMode,e.fromTimestampMs,e.threads);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="maw_unsupported_browser_nux_dismissed",j="dismissed";a=function(){var a;return((a=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(i))===j};b=function(){var a;(a=(h||(h=c("WebStorage"))).getLocalStorage())==null||a.setItem(i,j)};g.getIsDismissed=a;g.setIsDismissed=b}),98);
__d("MAWUserVisibleErrorsNux.react",["ix","MAWLoggerUtils","MWXIconCautionTriangle","MWXQPCard.react","QPLUserFlow","gkx","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={hasNoMargin:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.hasNoMargin,f=a.icon,g=a.nuxBodyText,i=a.nuxButtonProps,m=a.nuxTitleText,n=a.onCloseButtonClick,o=a.ref;a=a.secondaryButtonProps;var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("MAWLoggerUtils").getInstanceKey(),b[0]=p):p=b[0];var q=p,r;b[1]!==m?(p=function(){c("QPLUserFlow").start(c("qpl")._(1056846286,"652"),{annotations:{string:{nuxTitleText:m.toString()}},instanceKey:q});return function(){return c("QPLUserFlow").endSuccess(c("qpl")._(1056846286,"652"),{instanceKey:q})}},r=[q,m],b[1]=m,b[2]=p,b[3]=r):(p=b[2],r=b[3]);k(p,r);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=c("gkx")("4425")?h("428841"):h("212797"),b[4]=p):p=b[4];r=p;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(p=c("gkx")("4425")?{props:{src:h("1745665")},type:"image"}:{props:{color:"negative",icon:c("MWXIconCautionTriangle"),size:24},type:"icon"},b[5]=p):p=b[5];p=p;b[6]!==f?(r=f!=null?f:c("gkx")("23219")?{props:{src:r},type:"image"}:p,b[6]=f,b[7]=r):r=b[7];p=e===!0?l.hasNoMargin:void 0;b[8]!==g||b[9]!==i||b[10]!==m||b[11]!==n||b[12]!==o||b[13]!==a||b[14]!==r||b[15]!==p?(f=j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXQPCard.react"),{addOnPrimary:i,addOnSecondary:a,body:g,headline:m,icon:r,onClose:n,ref:o,xstyle:p})}),b[8]=g,b[9]=i,b[10]=m,b[11]=n,b[12]=o,b[13]=a,b[14]=r,b[15]=p,b[16]=f):f=b[16];return f}g["default"]=a}),98);
__d("MAWUserVisibleErrorsNuxWrapper.react",["fbt","CometPlaceholder.react","MAWIssueNewUserVisibleErrors","MAWUnsupportedIndexedDBNuxKey","cr:3722","cr:4216","cr:9767","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors","useMAWUnsupportedBrowserNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MAWUserVisibleErrorsNuxWrapper.react");function a(a){var e=d("react-compiler-runtime").c(23),f=a.children;a=a.hasNoMargin;var g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=d("MAWUnsupportedIndexedDBNuxKey").getIsDismissed(),e[0]=g):g=e[0];g=k(g);var i=g[0],n=g[1];if(e[1]===Symbol.for("react.memo_cache_sentinel")){g=(g=b("cr:4216").buildUri({cms_id:"597429858389632"}).setDomain("www.facebook.com"))==null||(g=g.setProtocol("https"))==null?void 0:g.toString();e[1]=g}else g=e[1];g=g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g={label:h._(/*BTDS*/"Learn more"),linkProps:{target:"_blank",url:g}},e[2]=g):g=e[2];g=g;var o=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();o=o.shouldShowQP;var p=k(!1),q=p[0],r=p[1];p=c("useMAWGetUserVisibleErrors")();var s=p[0],t=p[1];e[3]!==t||e[4]!==(s==null?void 0:s.errorExtraData)?(p=function(){c("promiseDone")(async function(){r(!0);if((s==null?void 0:s.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=await l.load();await a.handleEARKeychainError()}return t()}(),m,function(){r(!1)})},e[3]=t,e[4]=s==null?void 0:s.errorExtraData,e[5]=p):p=e[5];p=p;var u;e[6]!==(s==null?void 0:s.errorBodyText)?(u=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(s==null?void 0:s.errorBodyText),e[6]=s==null?void 0:s.errorBodyText,e[7]=u):u=e[7];u=u;var v;e[8]!==(s==null?void 0:s.errorTitleText)?(v=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(s==null?void 0:s.errorTitleText),e[8]=s==null?void 0:s.errorTitleText,e[9]=v):v=e[9];v=v;e[10]!==f||e[11]!==t||e[12]!==i||e[13]!==u||e[14]!==v||e[15]!==s||e[16]!==a||e[17]!==q||e[18]!==p||e[19]!==o?(g=b("cr:9767")&&o&&!i?b("cr:3722")!=null?j.jsx(b("cr:3722"),{hasNoMargin:a,learnMoreButton:g,onCloseButtonClick:function(){n(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):j.jsx(b("cr:9767"),{hasNoMargin:a,nuxBodyText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsg,nuxButtonProps:g,nuxTitleText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsgTitle,onCloseButtonClick:function(){n(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):s&&b("cr:9767")&&v!=null&&u!=null?j.jsx(b("cr:9767"),{nuxBodyText:u,nuxButtonProps:{disabled:q,label:h._(/*BTDS*/"Refresh"),loading:q,onPress:p},nuxTitleText:v,onCloseButtonClick:function(){c("promiseDone")(t())}}):f,e[10]=f,e[11]=t,e[12]=i,e[13]=u,e[14]=v,e[15]=s,e[16]=a,e[17]=q,e[18]=p,e[19]=o,e[20]=g):g=e[20];e[21]!==g?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWUserVisibleErrorsNuxWrapper",children:g}),e[21]=g,e[22]=f):f=e[22];return f}function m(){window.location.reload(!0)}g.default=a}),226);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1},k=(h||(h=d("I64"))).of_string("100");function a(a){if(!i.contents&&(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero)){i.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:k})},"readwrite",void 0,void 0,f.id+":39"),function(){j.contents=!0});return}}function b(){return j.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWChatSearchResultTypeMapping",["MWChatSearchResultType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWChatSearchResultType").GROUP:return 3;case c("MWChatSearchResultType").MESSAGE:return 5;case c("MWChatSearchResultType").PAGE:return 4;case c("MWChatSearchResultType").USER:return 1;case c("MWChatSearchResultType").AI_BOT:return 16}}g.mapMWChatSearchResultTypeToLSSearchType=a}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchStandardResultTypeMappings","MWSearchThreadUtils","ReQL","cr:20302"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,e,f){return d("MAWChatJid").toThreadKeyMaybe(a.tables,b).then(function(b){if(b!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).then(function(a){return{displayName:e!=null?e:"",id:c,imageUrl:"",isAiBot:a!=null&&(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:a!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:a!=null&&d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:a!=null&&d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:a!=null&&d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:a!=null&&d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:a!=null&&d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:f,resultType:d("MWChatTemporarySearchResult").getResultType((i||(i=d("LSIntEnum"))).ofNumber(5)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:b}})})}function l(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)).then(function(a){if(a!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(b){return(h||(h=d("I64"))).equal(b.armadilloThreadId,a.jid)})).then(function(b){if(b!=null)return b.openThreadId;else return a.jid});else return Promise.resolve()})}function m(a){var b=a.score-1e-6;return{contactId:a.contactId,contactType:a.contactType,score:b,scoreIndex:a.scoreIndex,scoreType:a.scoreType}}function n(a,b){return l(a,b).then(function(e){var f=e!=null?e:a,g=e!=null;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.ranking_scores).getKeyRange(f,(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))).then(function(a){if(a!=null)if(g)return m(a);else return a})})}function o(a,b,c,e){var f;f=(f=b.threadDescription)!=null?f:"";(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))&&(f=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(b.threadDescription,c,e,b.threadType).toString());return f}async function p(a,b,c,e){b=await Promise.all([d("MAWChatJid").toThreadKeyMaybe(a.tables,b),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))]);var f=b[0];b=b[1];if(f==null)return;f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f));if(f==null||f.folderName!=="inbox")return;var g=await Promise.all([d("MWSearchThreadUtils").getThreadPics(f,b,a),d("MWSearchThreadUtils").getThreadParticipants(f,a),n(f.threadKey,a)]),j=g[0],k=g[1];g=g[2];var l=j[0];j=j[1];var m=d("LSMessagingThreadTypeUtil").isOneToOne(f.threadType),p=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?(i||(i=d("LSIntEnum"))).ofNumber(3):(i||(i=d("LSIntEnum"))).ofNumber(1),q=null;m===!0&&(q=await d("MWGetOtherContactOrSelf").getOtherContactOrSelf(f.threadKey,b,a));return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(f.threadName,b,k,f.threadType).toString(),id:(h||(h=d("I64"))).to_string(f.threadKey),imageUrl:l,isAiBot:h.equal(f.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:m,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,f),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,f),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,f),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,f),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,f),isVerified:q!=null?d("LSContactBitOffset").has(23,q):!1,matchedTerms:e,otherUserId:q?(h||(h=d("I64"))).to_string(q.id):void 0,rankingScore:g,resultType:d("MWChatTemporarySearchResult").getResultType(p),searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(f.threadType),searchSource:"secure",secondaryImageUrl:j,section:"",subtext:o(c,f,b,k),threadKey:f.threadKey,threadType:f.threadType}}async function q(a,b,c){var e,f=await d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}));b=await d("MAWChatJid").toThreadKeyMaybe(a.tables,b);if(b==null)return null;var g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b));if(g==null)return null;f=await d("MWSearchThreadUtils").getThreadPics(g,f,a);a=f[0];f=f[1];var j={contactId:(h||(h=d("I64"))).zero,contactType:h.zero,score:h.to_float(g.lastActivityTimestampMs),scoreIndex:h.zero,scoreType:h.zero};return{displayName:(e=g.threadName)!=null?e:"",id:h.to_string(b),imageUrl:a,isAiBot:h.equal(g.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,g),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,g),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,g),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,g),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,g),isVerified:!1,matchedTerms:c,rankingScore:j,resultType:d("MWChatTemporarySearchResult").getResultType(i.ofNumber(3)),searchResultType:3,searchSource:"secure",secondaryImageUrl:f,section:"",subtext:(e=g.threadDescription)!=null?e:"",threadKey:b}}async function r(a,b){var c=await (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton;a=await Promise.all(a.map(function(a){switch(a.recordType){case"msg":var d=a.msg,e=d==null?void 0:d.msgId;return d==null||e==null?null:k(c,a.chatJid,e,d.content,a.matchedTerms);case"groupInfo":return q(c,a.groupJid,a.matchedTerms);case"participant":return p(c,a.threadJid,b,a.matchedTerms)}}));return a.filter(Boolean)}function s(a,b,c){return a.filter(function(a){a=(i||(i=d("LSIntEnum"))).ofNumber(d("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(a.resultType));var e=b.includes(a);if(!e)return!1;e=(h||(h=d("I64"))).equal(a,i.ofNumber(3));return!e||c})}function a(a,c,e,f){b("cr:20302")==null||b("cr:20302").qplAddPoint({point:"mawdb_query_start"});return d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:f.query,searchMode:d("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},{timeoutMs:1e4}).then(function(a){b("cr:20302")==null||b("cr:20302").qplAddPoint({point:"mawdb_query_end"});return r(a,c)}).then(function(b){return s(b,a,e)})}g.filterSearchResults=s;g.fetchResults=a}),98);
__d("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react",["cr:1266"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1266")}),98);
__d("MWEncryptedBackupsJewelNuxWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsJewelNuxWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query"}]},{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsJewelNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","HeroInteractionIgnoreWithDiv.react","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContextProvider.react","MWEncryptedBackupsJewelNuxWrapper_query.graphql","MWEncryptedBackupsThreadListQPWrapper.react","cr:10269","cr:20045","cr:2046","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWChatEncryptedBackupsVestaUserInfo","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));i.useMemo;var k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapper.react"));function a(a){var e,f,g,i=d("react-compiler-runtime").c(23),k=a.children;a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsJewelNuxWrapper_query.graphql"),a);var m;i[0]!==a?(m={entrypoint:c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST,query:a},i[0]=a,i[1]=m):m=i[1];m=c("useEncryptedBackupsProcessStatePreLoaded")(m);e=(e=a.viewer.messenger_default_encrypted_backup)==null?void 0:e.vesta_user_info;var n;i[2]!==e?(n={vestaGetUserInfoResponse$key:e},i[2]=e,i[3]=n):n=i[3];e=c("useMWChatEncryptedBackupsVestaUserInfo")(n);i[4]!==e.attemptsRemaining||i[5]!==e.loginTimeoutRemainingSecs?(n={attemptsRemaining:e.attemptsRemaining,loginTimeoutRemainingSecs:e.loginTimeoutRemainingSecs,vestaClientID:null},i[4]=e.attemptsRemaining,i[5]=e.loginTimeoutRemainingSecs,i[6]=n):n=i[6];e=n;n=e;e=a==null?void 0:a.xfb_backup;var o;i[7]!==e?(o={encryptedBackup:e},i[7]=e,i[8]=o):o=i[8];e=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(o);o=e.getVirtualDevices;i[9]!==o?(e=o(),i[9]=o,i[10]=e):e=i[10];o=e;e=o.offlineDevicesCount;o=o.vestaClientID;f=(f=a==null||(g=a.xfb_backup)==null?void 0:g.has_otc_eligible_devices)!=null?f:void 0;var p;i[11]!==m||i[12]!==k||i[13]!==a?(p=j.jsx(l,{backupState:m,children:k,fragment:a}),i[11]=m,i[12]=k,i[13]=a,i[14]=p):p=i[14];i[15]!==p||i[16]!==n?(m=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContext.Provider,{value:n,children:p}),i[15]=p,i[16]=n,i[17]=m):m=i[17];i[18]!==e||i[19]!==m||i[20]!==f||i[21]!==o?(k=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:f,offlineDevicesCountInitialValue:e,vestaClientIDInitialValue:o,children:m}),i[18]=e,i[19]=m,i[20]=f,i[21]=o,i[22]=k):k=i[22];return k}function l(a){var e=d("react-compiler-runtime").c(13),f=a.backupState,g=a.children;a=a.fragment;switch(f){case 4:e[0]!==g||e[1]!==a?(f=b("cr:2046")||c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")?j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return g},children:c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")!=null?j.jsx(c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react"),{trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g}):b("cr:2046")!=null&&j.jsx(b("cr:2046"),{fragmentKey:a,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g})})}):g,e[0]=g,e[1]=a,e[2]=f):f=e[2];return f;case 2:e[3]!==g?(f=b("cr:20045")?j.jsx(b("cr:20045"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:g}):g,e[3]=g,e[4]=f):f=e[4];var h=f;e[5]!==h?(f=function(){return h},e[5]=h,e[6]=f):f=e[6];var i;e[7]!==h||e[8]!==a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells?(i=a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(d("CometRelay").MatchContainer,{match:a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{bannerSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,children:h,qpSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP}})}):b("cr:10269")?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(b("cr:10269"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:h})}):j.jsx(k,{fallback:h,props:{children:h,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL}}),e[7]=h,e[8]=a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,e[9]=i):i=e[9];e[10]!==f||e[11]!==i?(a=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:f,children:i})}),e[10]=f,e[11]=i,e[12]=a):a=e[12];return a;default:return g}}g["default"]=a}),98);
__d("MWEncryptedBackupsQPWithPinPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23433"),k={logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",width:"xvy4d1p",$$css:!0},pinInputGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},root:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x xw7yly9 x1ys307a x1yztbdb xyqm7xq x1l90r2v xyamay9"},1:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x xw7yly9 x1ys307a x1yztbdb xyqm7xq x2lwn1j xsag5q8 xz9dl7a"}}[!!j<<0],a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",babelHelpers["extends"]({className:"x16ngw23 xwib8y2"},{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})}))})}),a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:k.pinInputGlimmer})})}),a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsxs(c("MWXColumn.react"),{spacing:8,style:k.root,children:[e,f,g,i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",babelHelpers["extends"]({className:"x18xe386 xpdvgm7 x1y1aw1k"},{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})}))})})]})})),a[5]=b):b=a[5];return b}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query"}]}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWEBIsUpsellDeferred",["MWEncryptedBackupsDeferLocalStorageUpsell","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(18);a=a.upsellType;var e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=d("MWEncryptedBackupsDeferLocalStorageUpsell").getLocalStorageKeys(a),b[0]=a,b[1]=g):g=b[1];a=g;g=a;var i=g.countdownInMS,j=g.impressionsCountKey,k=g.lastImpressionTimeKey,l=g.maxImpressionLimit;b[2]!==i||b[3]!==e.tables.experiences_shared_state||b[4]!==k?(a=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(k).map(function(a){a=a.stateValue;return a!=null&&+a+i>Date.now()?!0:!1})},b[2]=i,b[3]=e.tables.experiences_shared_state,b[4]=k,b[5]=a):a=b[5];b[6]!==i||b[7]!==e||b[8]!==k?(g=[i,e,k],b[6]=i,b[7]=e,b[8]=k,b[9]=g):g=b[9];a=d("ReQLSuspense").useFirst(a,g,f.id+":41");b[10]!==e.tables.experiences_shared_state||b[11]!==j||b[12]!==l?(g=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(j).map(function(a){a=a.stateValue;return l===d("MWEncryptedBackupsDeferLocalStorageUpsell").INFINITE_IMPRESSIONS_LIMIT||+a<l?!1:!0})},b[10]=e.tables.experiences_shared_state,b[11]=j,b[12]=l,b[13]=g):g=b[13];var m;b[14]!==e||b[15]!==j||b[16]!==l?(m=[e,j,l],b[14]=e,b[15]=j,b[16]=l,b[17]=m):m=b[17];b=d("ReQLSuspense").useFirst(g,m,f.id+":56");return a===!0||b===!0}g["default"]=a}),98);
__d("useMWEncryptedBackupsIsUpsellDismissed",["MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","react","react-compiler-runtime","useMWEBIsUpsellDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.upsellType;var e=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),f=i(!1),g=f[0];f=f[1];var h;b[0]!==a?(h={upsellType:a},b[0]=a,b[1]=h):h=b[1];h=c("useMWEBIsUpsellDeferred")(h);var j=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();j=j.virtualDeviceInfo;j=j.doesUserHaveOtcEligibleDevices;if(e&&a===d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL&&!j){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!0,f],b[2]=e):e=b[2];return e}a=h===!0||g;b[3]!==a?(j=[a,f],b[3]=a,b[4]=j):j=b[4];return j}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react",["CometPlaceholder.react","CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBVestaUserInfoContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsQPWithPinPlaceholder.react","MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferred","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBGetUpsellState","useMWEncryptedBackupsIsUpsellDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("MWEncryptedBackupsThreadListRestoreQPWrapper.react").__setRef("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react")),l=c("gkx")("3952");function a(a){var e=d("react-compiler-runtime").c(15),f=a.children,g=a.fragmentKey;a=a.trigger;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql"),g);var i=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),m=c("useMWEBGetUpsellState")();m=m.isRestoreUpsellsDismissed;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL},e[0]=n):n=e[0];n=c("useMWEncryptedBackupsIsUpsellDismissed")(n);var o=n[0];n=n[1];var p;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(p={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL},e[1]=p):p=e[1];p=c("useMWEncryptedBackupsIsUpsellDismissed")(p);var q=p[0];p=p[1];var r;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL},e[2]=r):r=e[2];r=c("useMWEncryptedBackupsIsUpsellDismissed")(r);var s=r[0];r=r[1];var t;e[3]!==i?(t={backupState:4,isCooldownOrLockOutState:i},e[3]=i,e[4]=t):t=e[4];i=c("useHasRestoreInterstitialSoftblockBeenDismissed")(t);t=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();o=o||q;if(m||o&&!l||o&&l&&s)return f;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWEncryptedBackupsQPWithPinPlaceholder.react"),{}),e[5]=q):q=e[5];e[6]!==f||e[7]!==t||e[8]!==g||e[9]!==o||e[10]!==r||e[11]!==n||e[12]!==p||e[13]!==a?(m=j.jsx(c("CometPlaceholder.react"),{fallback:q,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred",children:j.jsx(k,{children:f,currentSupportedPlatform:t,fragmentKey:g,hasDismissedQps:o,setHasDismissedBanner:r,setHasDismissedQp:n,setHasDismissedQpWithPin:p,trigger:a})}),e[6]=f,e[7]=t,e[8]=g,e[9]=o,e[10]=r,e[11]=n,e[12]=p,e[13]=a,e[14]=m):m=e[14];s=m;switch(t){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:return i?s:f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:return s}}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferredWithEBCheck.react",["cr:9938"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9938")}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(4),b=(i||(i=c("useReStore")))(),e;a[0]!==b.tables.threads?(e=function(){return d("ReQL").union(d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(24)),d("ReQL").fromTableDescending(b.tables.threads.index("threadTypeLastActivityTimestampMs")).getKeyRange(h.ofNumber(19)))},a[0]=b.tables.threads,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];return!!d("ReQLSuspense").useFirst(e,g,f.id+":22")}g["default"]=a}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","promiseDone","react","react-compiler-runtime","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=1e3*60*60,o=n*3;function p(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function q(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=d("react-compiler-runtime").c(32),g=(h||(h=c("useReStore")))(),i=l(null),s="__"+a+".fromTimestampMs__",t;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-o)),e[0]=t):t=e[0];t=t;t=m(t);var u=t[0],v=t[1],w=l(u),x;e[1]!==u?(t=function(){w.current=u},x=[u],e[1]=u,e[2]=t,e[3]=x):(t=e[2],x=e[3]);k(t,x);var y=l(!1);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],e[4]=t):t=e[4];x=t;e[5]!==a?(t=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],e[5]=a,e[6]=t):t=e[6];a=t;e[7]!==a?(t=[].concat(x,a),e[7]=a,e[8]=t):t=e[8];x=t;var z=x;e[9]!==g||e[10]!==s||e[11]!==z?(a=function(){z.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(s).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:p(b),serverMode:c("LSVec").ofArray(z),threads:new(c("LSDict"))([])})},"readwrite",void 0,void 0,f.id+":98"))}})["catch"](r),function(){y.current=!0;var a=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(s,JSON.stringify(a)),function(){v(a)})})},e[9]=g,e[10]=s,e[11]=z,e[12]=a):a=e[12];var A=a;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){i.current!=null&&(c("clearInterval")(i.current),i.current=null)},e[13]=t):t=e[13];var B=t;e[14]!==A?(x=function(){if(i.current!=null)return;if(c("MetaConfig")._("96")){var a;i.current=c("setInterval")(A,(a=c("MetaConfig")._("43"))!=null?a:n)}},e[14]=A,e[15]=x):x=e[15];var C=x;e[16]!==C||e[17]!==A?(a=function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(p(w.current));i.current==null&&C();a>=((a=c("MetaConfig")._("43"))!=null?a:n)&&A()},e[16]=C,e[17]=A,e[18]=a):a=e[18];var D=a;e[19]!==D||e[20]!==b?(t=function(){d("VisibilityAPI").isVisibilityHidden()?B():b&&c("MetaConfig")._("97")&&D()},e[19]=D,e[20]=b,e[21]=t):t=e[21];var E=t;e[22]!==C||e[23]!==A||e[24]!==E?(x=function(){var a=null;y.current||(A(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(E)),C());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),i.current!=null&&(c("clearInterval")(i.current),i.current=null)}},e[22]=C,e[23]=A,e[24]=E,e[25]=x):x=e[25];e[26]!==D||e[27]!==C||e[28]!==b||e[29]!==A||e[30]!==E?(a=[B,D,C,b,A,E],e[26]=D,e[27]=C,e[28]=b,e[29]=A,e[30]=E,e[31]=a):a=e[31];k(x,a)}function r(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to set timestamp for thread activity status")}g["default"]=a}),98);
__d("useMWInboxContextSwitcherFilterPreloaderCond",["cr:4651","emptyFunction","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onHoverIn:c("emptyFunction"),onHoverOut:c("emptyFunction"),onPressIn:c("emptyFunction")},a[0]=b):b=a[0];return b}f=(e=b("cr:4651"))!=null?e:a;b=f;g["default"]=b}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSIntEnum","LSThreadRangeFilter","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","MWVerticalRhythm","Promise","gkx","promiseDone","react","react-compiler-runtime","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useMWInboxContextSwitcherFilterPreloaderCond","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["filter","hasNewContentBadge","isShown","logClick","odsAction","ref"],j,k,l,m,n,o=n||(n=d("react")),p=n.useEffect,q={tabContainerWithFilters:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xwn43p0",paddingInlineEnd:"x1x5flf6",paddingLeft:null,paddingRight:null,$$css:!0},tabWithFilters:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(27),e=a.entryPoint,g=a.onTabChange,j=a.parentThreadKey,n=a.selectedFilterTab,t=(k||(k=c("useReStore")))();c("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",e==="inbox");var u;b[0]!==t?(a=function(){c("promiseDone")(t.runInTransaction(s,"readwrite",void 0,void 0,f.id+":79"))},u=[t],b[0]=t,b[1]=a,b[2]=u):(a=b[1],u=b[2]);p(a,u);var v=c("useHasUnjoinedCMThreads")();a=d("MWInboxPersistedUIState").usePersistedUIState(v,"__MWInboxContextSwitcher.hasViewedSuggestedChats__");var w=a[0],x=a[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(u=(l||(l=d("LSIntEnum"))).ofNumber(0),b[3]=u):u=b[3];a=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(u);u=a!=null&&a>0;a=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads();var y=v&&!w,z=e==="jewel"?"jewel_tray":"messenger_inbox",A=e==="inbox"?"jewel_inbox":"chats_inbox",B;b[4]!==A||b[5]!==z?(B={onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:A,source:"blended_threadlist_community_tab",surface:z})}},b[4]=A,b[5]=z,b[6]=B):B=b[6];B=c("useSinglePartialViewImpression")(B);var C;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(C=(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),b[7]=C):C=b[7];C=c("useMWInboxContextSwitcherFilterPreloaderCond")(t,j,C);C=C.onPressIn;var D;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(D=(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),b[8]=D):D=b[8];j=c("useMWInboxContextSwitcherFilterPreloaderCond")(t,j,D);D=j.onPressIn;if(b[9]!==e||b[10]!==v||b[11]!==y||b[12]!==a||b[13]!==u||b[14]!==w||b[15]!==B||b[16]!==C||b[17]!==D||b[18]!==g||b[19]!==A||b[20]!==n||b[21]!==x||b[22]!==z){j=[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE),hasNewContentBadge:u,isShown:!0,label:h._(/*BTDS*/"All"),odsAction:"inbox_tab_click"},{filter:l.ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Unread"),odsAction:"unread_tab_click",onPressIn:D},{filter:l.ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Groups"),odsAction:"groups_tab_click",onPressIn:C}].concat(c("gkx")("2165")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES),hasNewContentBadge:a||y,isShown:!0,label:h._(/*BTDS*/"Communities"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:A,source:"blended_threadlist_community_tab",surface:z})},odsAction:"communities_tab_click",ref:B}]:[]);j=j.filter(r).map(function(a,b){var f=a.filter;b=a.hasNewContentBadge;a.isShown;var h=a.logClick,j=a.odsAction,k=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(m||(m=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))&&v&&!w&&x(!0),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,j),h==null||h(),g(f)},ref:k,selected:(m||(m=d("I64"))).equal(f,n),testid:(m||(m=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))?"communities_tab":void 0,xstyle:q.tabWithFilters})});b[9]=e;b[10]=v;b[11]=y;b[12]=a;b[13]=u;b[14]=w;b[15]=B;b[16]=C;b[17]=D;b[18]=g;b[19]=A;b[20]=n;b[21]=x;b[22]=z;b[23]=j}else j=b[23];y=j;if(y.length<=1){b[24]===Symbol["for"]("react.memo_cache_sentinel")?(a=o.jsx(c("MWVerticalRhythm"),{height:8}),b[24]=a):a=b[24];return a}b[25]!==y?(u=o.jsx(c("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:y,tabsContainerStyle:q.tabContainerWithFilters}),b[25]=y,b[26]=u):u=b[26];return u}function r(a){return a.isShown}function s(a){return(j||(j=b("Promise"))).resolve()}g["default"]=a}),226);
__d("MWInboxContextSwitcherUtils",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MWPIsThreadUnread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return function(a){return d("MWPIsThreadUnread").isThreadUnread(a)};case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return function(a){return d("LSMessagingThreadTypeUtil").isFnFGroupThread(a)};case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):default:return void 0}}function b(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return(i||(i=d("LSIntEnum"))).ofNumber(-14);case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):default:return(i||(i=d("LSIntEnum"))).ofNumber(0)}}function e(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"Inbox";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"Communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"Unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"Groups";default:return"Other"}}function f(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return h._(/*BTDS*/"No community chats");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return h._(/*BTDS*/"No unread chats");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return h._(/*BTDS*/"No group chats");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):default:return h._(/*BTDS*/"No chats")}}function k(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return h._(/*BTDS*/"When you have community chats, you\u2019ll see them here.");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return h._(/*BTDS*/"When you have unread chats, you\u2019ll see them here.");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return h._(/*BTDS*/"When you have group chats, you\u2019ll see them here.");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):default:return h._(/*BTDS*/"When you have chats, you\u2019ll see them here.")}}function l(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"jewel_communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"jewel_unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"jewel_groups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"jewel_all";default:return"jewel"}}function m(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"inbox_communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"inbox_unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"inbox_groups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"inbox_all";default:return"inbox"}}function n(a){var b;switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"inbox";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"groups";default:return((b=Object.keys(c("LSThreadRangeFilter")).find(function(b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter")[b]),a)}))!=null?b:"other").toLowerCase()}}function o(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"jewelCommunities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"jewelUnread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"jewelGroups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"jewelAll"}}function p(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return!0;case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function q(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return!0;case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function r(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return!0;case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):default:return!1}}g.getCustomThreadFilter=a;g.getParentThreadKeyFromFilter=b;g.getInteractionDescFromFilter=e;g.getNullStateHeadline=f;g.getNullStateMessage=k;g.getJewelEntryPointFromFilter=l;g.getInboxEntryPointFromFilter=m;g.getTracePolicyFromFilter=n;g.getJewelLsSubEntryPointFromFilter=o;g.shouldShowEBUpsellFromFilter=p;g.shouldShowNewMessageForInboxFromFilter=q;g.shouldShowMessageRequestsFromFilter=r}),226);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9),h.ofNumber(13)].concat(c("gkx")("24112")?[(h||(h=d("LSIntEnum"))).ofNumber(14)]:[]);b=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2)];e=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9),h.ofNumber(5)];f=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9)];c=[h.ofNumber(1)];d=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(4),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9)].concat([h.ofNumber(13)]);var i=[h.ofNumber(1),h.ofNumber(2)],j=[h.ofNumber(1),h.ofNumber(2),h.ofNumber(6),h.ofNumber(7),h.ofNumber(8),h.ofNumber(9)],k=[h.ofNumber(1),h.ofNumber(3),h.ofNumber(2)],l=[h.ofNumber(1),h.ofNumber(2)];g.allSupportedTypes=a;g.supportedTypesForMSplitUser=b;g.allSupportedTypesWithMessageSearch=e;g.armadilloSupportedTypes=f;g.onlyContacts=c;g.broadcastFlowSupportedTypes=d;g.addParticipantBase=i;g.addParticipantXac=j;g.socialChannelsSupportedTypes=k;g.communityDirectInviteSupportedTypes=l}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1};function a(a){if(!i.contents){i.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(h||(h=d("LSIntEnum"))).ofNumber(7)),function(){j.contents=!0});return}}function b(){return j.contents}g.sync=a;g.isDone=b}),98);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);
__d("MWPBaseThreadListHooks",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MAWIsIDBOperational","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.shared","ReQLSuspense","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g){var j=d("react-compiler-runtime").c(15),k,l;j[0]!==e?(k=e===void 0?(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):e,l=(i||(i=d("I64"))).equal(k,(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),j[0]=e,j[1]=k,j[2]=l):(k=j[1],l=j[2]);var m=l;j[3]!==a||j[4]!==m||j[5]!==b?(e=function(){return m?d("ReQL").fromTableDescending(a.tables.threads_ranges_v2__generated).getKeyRange(b):d("ReQL").empty()},l=[a,b,m],j[3]=a,j[4]=m,j[5]=b,j[6]=e,j[7]=l):(e=j[6],l=j[7]);e=d("ReQLSuspense").useFirst(e,l,f.id+":58");var n;j[8]!==a||j[9]!==k||j[10]!==m||j[11]!==b||j[12]!==g?(l=function(){return m?d("ReQL").empty():d("ReQL").fromTableDescending(a.tables.filtered_threads_ranges_v3__generated).getKeyRange(b).filter(function(a){return(i||(i=d("I64"))).equal(a.threadRangeFilter,k)&&(g==null||(i||(i=d("I64"))).equal(a.secondaryThreadRangeFilter,g))})},n=[a,k,b,g,m],j[8]=a,j[9]=k,j[10]=m,j[11]=b,j[12]=g,j[13]=l,j[14]=n):(l=j[13],n=j[14]);j=d("ReQLSuspense").useFirst(l,n,f.id+":65");return m?e:j}function b(a){var b=d("react-compiler-runtime").c(4),e=c("MetaConfig")._("44"),f=a!=null?(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).one)||(e?(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).max_int):!1)?null:a.minLastActivityTimestampMs:null,g=a!=null?(i||(i=d("I64"))).equal(a.maxLastActivityTimestampMs,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(a.maxLastActivityTimestampMs,(i||(i=d("I64"))).one)?null:a.maxLastActivityTimestampMs:null;b[0]!==g||b[1]!==f?(e=function(){return{gte:d("ReQL").key(f!=null?f:(i||(i=d("I64"))).min_int),lte:d("ReQL").key(g!=null?g:(i||(i=d("I64"))).max_int)}},a=[g,f],b[0]=g,b[1]=f,b[2]=e,b[3]=a):(e=b[2],a=b[3]);b=d("Int64Hooks").useMemoInt64(e,a);return b}function e(a){var b=d("react-compiler-runtime").c(11),e=a.customThreadFilter,g=a.db,k=a.parentThreadKey,l=d("MAWIsIDBOperational").useIsIDBOperational();b[0]!==e||b[1]!==g.tables.community_folders||b[2]!==g.tables.threads||b[3]!==l||b[4]!==k?(a=function(){var a,b=(a=d("ReQL")).fromTableDescending(g.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(k),n=a.fromTableDescending(g.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(k);b=a.union(b,n).map(function(a){if(!c("mwCMIsThreadBumped")(a))return{hideFromThreadlist:!1,thread:a};if((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:a};var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.community_folders,["isHidden","takedownState"]).getKeyRange((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(17))?a.threadKey:a.parentThreadKey),f.id+":162"),e=(b==null?void 0:b.takedownState)!=null?(i||(i=d("I64"))).equal(b.takedownState,(h||(h=d("LSIntEnum"))).ofNumber(1)):!1;b=(b==null?void 0:b.isHidden)===!0;b=b||e;return{hideFromThreadlist:b,thread:a}}).filter(function(a){var b=a.hideFromThreadlist,f=a.thread;if(b)return!1;a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType);return(!a||l)&&(c("mwCMIsAnyCMThread")(f.threadType)?!c("mwIsThreadDisabled")(f.takedownState):!0)&&c("MWThreadListSupportedThreadTypes").findIndex(function(a){return(i||(i=d("I64"))).equal(f.threadType,a)})!==-1&&(h||(h=d("LSIntEnum"))).toNumber(f.authorityLevel)>c("LSAuthorityLevel").CLIENT_PARTIAL&&(d("MWXacGating").isGroupsEnabled()||!c("isMWXacGroupThread")(f))&&(!e||e(f))}).map(j);return d("ReQLPaginatedList.shared").fromIterables(a.empty(),b)},b[0]=e,b[1]=g.tables.community_folders,b[2]=g.tables.threads,b[3]=l,b[4]=k,b[5]=a):a=b[5];var m;b[6]!==e||b[7]!==g||b[8]!==l||b[9]!==k?(m=[g,l,k,e],b[6]=e,b[7]=g,b[8]=l,b[9]=k,b[10]=m):m=b[10];b=d("Int64Hooks").useMemoInt64(a,m);return b}function j(a){a=a.thread;return a}g.useMWPBaseThreadListDefaultThreadsRange=a;g.useMWPBaseThreadListBounds=b;g.useMWPBaseThreadListFilteredData=e}),98);
__d("MWPOfllineOpenMiniSearchSingleton",["MWPMiniSearch"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWPMiniSearch").createMiniSearchSingleton(function(){return{storeFields:["category"]}});b=a;g["default"]=b}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts))}function j(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}))}function b(a,b){return j(b).then(function(c){var e=new Set(c.map(function(a){return(h||(h=d("I64"))).to_string(a.threadKey)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.participants).filter(function(b){return!(h||(h=d("I64"))).equal(b.contactId,a)&&e.has((h||(h=d("I64"))).to_string(b.threadKey))}).map(function(a){a=[a,d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.contactId),f.id+":54")];return a}))})}g.fetchContacts=a;g.fetchGroupThreads=j;g.fetchGroupParticipants=b}),98);
__d("MWPSearchOfflineOpenConversations",["MWPOfllineOpenMiniSearchSingleton"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("MWPOfllineOpenMiniSearchSingleton").getInstance().search(a)}function b(a){c("MWPOfllineOpenMiniSearchSingleton").getInstance().add(a)}function d(a){c("MWPOfllineOpenMiniSearchSingleton").getInstance().remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","MWSearchThreadUtils","ReQL","cr:20302","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("justknobx")._("5018");function a(a,b){return"p__"+(h||(h=d("I64"))).to_string(a)+"__"+h.to_string(b)}function e(a,e){b("cr:20302")==null||b("cr:20302").qplAddPoint({point:"offline_search_start"});if(n.contents==null){b("cr:20302")==null||b("cr:20302").qplAddPoint({annotations:{string:{offline_search_end_reason:"initial_index_not_started"}},point:"offline_search_end"});return Promise.resolve([])}var f=n.contents,g=d("MWPSearchOfflineOpenConversations").search(a).filter(function(a){return o(a,e)!==!0});return c("gkx")("6792")===!0?k(f,g,a):d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(f,(i||(i=d("LSIntEnum"))).ofNumber(7)).then(function(){return k(f,g,a)})}async function k(a,c,e){c=m(await Promise.all(c.map(function(b){var c=b.category.type;if(c==null)return Promise.resolve();switch(c){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:c=p(b.id);if(c!=null){c=c[0];return t(a,(h||(h=d("I64"))).to_string(c),b.terms)}else return Promise.resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return t(a,b.id,b.terms);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return q(a,b.id,b.terms,e)}})));c=l(c.filter(Boolean));b("cr:20302")==null||b("cr:20302").qplAddPoint({point:"offline_search_end"});return c}function l(a){var b=a.filter(function(a){return a.resultType!==c("MWChatSearchResultType").GROUP}).sort(v);a=a.filter(function(a){return a.resultType===c("MWChatSearchResultType").GROUP}).sort(v);b=b.concat(a);return b}function m(a){if(!j)return a;var b=[],c=new Set();for(a of a)a&&!c.has(a.id)&&(c.add(a.id),b.push(a));return b}var n={contents:void 0};function o(a,b){if(b)return!1;b=a.category;return(b==null?void 0:b.type)==="Contact"?!1:!0}function p(a){a=a.split("__");if(a.length!==3)return;else return[(h||(h=d("I64"))).of_string(a[1]),h.of_string(a[2])]}async function q(a,b,e,f,g){g===void 0&&(g="offline");a=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ig_contact_info).getKeyRange(h.of_string(b))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ranking_scores).getKeyRange(h.of_string(b),(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH)))]);b=a[0];var j=a[1];a=a[2];if(b==null||r(b,f,g))return;return d("MWChatTemporarySearchResult").fromContact(a!=null?a:void 0,void 0,b,j!=null?j:void 0,g,e,f)}function r(a,b,e){var f=d("LSContactBitOffset").hasWithDefault(66,a,!1);return a.isMemorialized===!0||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(h||(h=d("I64"))).one)&&e!=="null_state_recent"||!(h||(h=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))||f&&s(a.name,b)}function s(a,b,c){c===void 0&&(c=.7);a=a.trim().toLowerCase();b=b.trim().toLowerCase();b=!a.startsWith(b)||b.length/a.length<c;return b}async function t(a,b,c){var e;e=await Promise.all([(e=d("ReQL")).firstExnAsync(e.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})),e.firstAsync(e.leftJoin(e.fromTableAscending(a.tables.threads).getKeyRange((h||(h=d("I64"))).of_string(b)).filter(function(a){return!u(a)}),d("ReQL").fromTableAscending(a.tables.ig_thread_info).getKeyRange(h.of_string(b))))]);b=e[0];e=e[1];if(e==null)return Promise.resolve();var f=e[0];e=e[1];a=await Promise.all([d("MWSearchThreadUtils").getThreadPics(f,b,a),d("MWSearchThreadUtils").getThreadParticipants(f,a)]);var g=a[0];a=a[1];var i={contactId:h.zero,contactType:h.zero,score:h.to_float(f.lastActivityTimestampMs),scoreIndex:h.zero,scoreType:h.zero};return d("MWChatTemporarySearchResult").fromThread(f,"offline",b,g[0],g[1],a,i,c,e)}function u(a){return a.folderName!=="inbox"||d("LSMessagingThreadTypeUtil").isChannelPreview(a.threadType)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&(h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}function v(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;return b<a?-1:0}g.getGroupParticipantKey=a;g.search=e;g.searchHelper=k;g.db=n;g.mapContact=q;g.mapThread=t}),98);
__d("MWPSearchOpenIndexer",["I64","LSIntEnum","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","ReQL","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=new Map(),l=new Map();function m(a){var b=a.id;a=a.name;b=(h||(h=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);j.set(b,a)}function n(a){var b=j.get(a);if(b!=null){j.delete(a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function o(a){var b=a.threadKey;a=a.threadName;if(a==null)return;b=(h||(h=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);k.set(b,a)}function p(a){var b=k.get(a);if(b!=null){k.delete(a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function q(a,b){if(b==null)return;var c=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;a.nickname!=null&&(b+=" "+a.nickname);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:b.trim(),id:c};d("MWPSearchOfflineOpenConversations").add(a);l.set(c,a)}async function r(a,b){var e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.contactId));a=await s(a,b.threadKey);if(a&&c("qex")._("1843")===!0)return;return q(b,e)}async function s(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b));return a==null?!1:!(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}function t(a,b){a=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a,b);b=l.get(a);if(b!=null){l.delete(a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.operation){case"add":return m(b.value);case"put":n((h||(h=d("I64"))).to_string(a));return m(b.value);case"delete":return n((h||(h=d("I64"))).to_string(a))}}function b(a,b){switch(b.operation){case"add":return o(b.value);case"put":p((h||(h=d("I64"))).to_string(a));return o(b.value);case"delete":return p((h||(h=d("I64"))).to_string(a))}}function e(a,b,c,d){switch(d.operation){case"add":return r(a,d.value);case"put":t(b,c);return r(a,d.value);case"delete":return Promise.resolve(t(b,c))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversationsUtils").db.contents=a,b.forEach(m),c.forEach(o),e.forEach(function(a){var b=a[0];a=a[1];return q(b,a)})}g.onContactChanged=a;g.onGroupThreadChanged=b;g.onGroupParticipantChanged=e;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","promiseDone","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={contents:!1},m={contents:!1},n={contents:!1};function a(a){if(!n.contents){n.contents=!0;(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=(k||(k=d("I64"))).of_string(c("CurrentUser").getID());if(!l.contents){var f;l.contents=!0;f=(f=c("qex")._("1843"))!=null?f:!1;c("promiseDone")((h||(h=b("Promise"))).all([d("MWPSearchIndexingSource").fetchContacts(a),f?d("MWPSearchIndexingSource").fetchGroupThreads(a):(h||(h=b("Promise"))).resolve([]),f?d("MWPSearchIndexingSource").fetchGroupParticipants(e,a):(h||(h=b("Promise"))).resolve([])]).then(function(b){var c=b[0],e=b[1];b=b[2];d("MWPSearchOpenIndexer").startInitialIndex(a,c,e,b)}),function(){m.contents=!0},function(a){c("FBLogger")("messenger_web_search").catching(a).mustfix("Error indexing contacts for search")});d("ReQL").fromTableAscending(a.tables.contacts).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onContactChanged(a,b)});f&&(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(k||(k=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2))}).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onGroupThreadChanged(a,b)}),d("ReQL").fromTableAscending(a.tables.participants,["contactId","threadKey","nickname"]).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).subscribe(function(b,e){var f=b[0];b=b[1];c("promiseDone")(d("MWPSearchOpenIndexer").onGroupParticipantChanged(a,f,b,e))}))}});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a),{clearMessageResults:!1})},"readwrite",void 0,void 0,f.id+":123")}function o(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts").isDone())return m.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=o}),98);
__d("MWSearchQPLLogger",["MAWLoggerUtils","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={hasStarted:!1,instanceKey:d("MAWLoggerUtils").getInstanceKey(),query:null,sessionInstanceId:null},i=c("qpl")._(25301700,"2966");function j(){h.hasStarted=!1,h.query=null}function a(a){var b=a.queryString,e=a.sessionInstanceId;a=a.surface;if(h.query!=null&&b==="")return h.instanceKey;h.hasStarted&&k();h.instanceKey=d("MAWLoggerUtils").getInstanceKey();h.hasStarted=!0;h.query=b!=null?b:"";h.sessionInstanceId=e;c("QPLUserFlow").start(i,{instanceKey:h.instanceKey});l({annotations:{"int":{query_length:(e=b==null?void 0:b.length)!=null?e:0},string:{surface:a}}});return h.instanceKey}function k(a){if(!h.hasStarted)return;c("QPLUserFlow").endCancel(i,{annotations:{string:{end_action:a!=null?a:"unknown"}},instanceKey:h.instanceKey});j()}function b(a){var b=a.annotations;a=a.point;if(!h.hasStarted)return;c("QPLUserFlow").addPoint(i,a,{instanceKey:h.instanceKey});b!=null&&c("QPLUserFlow").addAnnotations(i,b,{instanceKey:h.instanceKey})}function l(a){a=a.annotations;if(!h.hasStarted)return;c("QPLUserFlow").addAnnotations(i,a,{instanceKey:h.instanceKey})}function e(a){var b=a.queryString,d=a.renderIndex,e=a.sessionInstanceId;a=a.source;if(!h.hasStarted)return;e===h.sessionInstanceId&&b===h.query&&c("QPLUserFlow").addPoint(i,"render_search_result_"+d,{data:{"int":{render_index:d},string:{source:a!=null?a:"unknown"}},instanceKey:h.instanceKey})}function f(){if(!h.hasStarted)return;c("QPLUserFlow").endSuccess(i,{instanceKey:h.instanceKey});j()}g.qplStart=a;g.qplCancel=k;g.qplAddPoint=b;g.qplAddAnnotations=l;g.renderSearchResult=e;g.qplSuccess=f}),98);
__d("MWXIconMarketplace",["MWXSvgIcon","SVGIcon","cr:22393","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22393")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","CometMarketplaceLogger","LSContactBitOffset","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIconGroup","MWXIconMarketplace","MWXIconStrict.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useLogMarketplaceClick","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var b=d("react-compiler-runtime").c(27),e=a.onClick,g=a.responsive,k=a.selected,p=a.size;a=a.thread;var q=c("useLogMarketplaceClick")("marketplace_inbox_folder"),r=(i||(i=c("useReStore")))(),s;b[0]!==r.tables._user_info?(s=function(){return d("ReQL").fromTableAscending(r.tables._user_info).map(o)},b[0]=r.tables._user_info,b[1]=s):s=b[1];var t;b[2]!==r?(t=[r],b[2]=r,b[3]=t):t=b[3];var u=d("ReQLSuspense").useFirst(s,t,f.id+":51");b[4]!==r.tables.contacts||b[5]!==u?(s=function(){return u!=null?d("ReQL").fromTableAscending(r.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields)).getKeyRange(u):d("ReQL").empty()},b[4]=r.tables.contacts,b[5]=u,b[6]=s):s=b[6];b[7]!==r||b[8]!==u?(t=[r,u],b[7]=r,b[8]=u,b[9]=t):t=b[9];s=d("ReQLSuspense").useFirst(s,t,f.id+":56");t=s!=null&&d("LSContactBitOffset").has(86,s);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(s=[],b[10]=s):s=b[10];m(n,s);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Marketplace").toString(),b[11]=s):s=b[11];s=s;var v=c("MWXIconMarketplace");if(t===!0){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"_j[\"Buy and sell groups\",\"3a9a1e192465754ec4427995fe1cffb4\",1]").toString(),b[12]=t):t=b[12];s=t;v=c("MWXIconGroup")}b[13]!==v?(t=l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:v,size:36}),b[13]=v,b[14]=t):t=b[14];b[15]!==q||b[16]!==e?(v=function(){q();e((j||(j=d("LSIntEnum"))).ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},b[15]=q,b[16]=e,b[17]=v):v=b[17];var w;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w=(j||(j=d("LSIntEnum"))).ofNumber(-12),b[18]=w):w=b[18];b[19]!==g||b[20]!==k||b[21]!==p||b[22]!==t||b[23]!==v||b[24]!==a||b[25]!==s?(w=l.jsx(c("MWThreadListFolderItem.react"),{icon:t,onClick:v,responsive:g,selected:k,size:p,systemFolder:w,thread:a,threadName:s}),b[19]=g,b[20]=k,b[21]=p,b[22]=t,b[23]=v,b[24]=a,b[25]=s,b[26]=w):w=b[26];return w}function n(){return d("CometMarketplaceLogger").logImpression("marketplace_inbox_folder")}function o(a){return a.facebookUserId}g["default"]=a}),226);
__d("MWXSpacing.stylex",[],(function(a,b,c,d,e,f,g){"use strict";a={spacing4:"var(--x1e4hm47)",spacing8:"var(--x15qbgmd)",spacing10:"var(--x19nwfu8)",spacing12:"var(--xxjzes5)",spacing16:"var(--xsyyfky)",spacing20:"var(--x44p0ev)",spacing24:"var(--x1npqni6)",__varGroupHash__:"x1g5acrz"};g.MWXSpacing=a}),98);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isAiBot:a.isAiBot,isContact:a.isContact,isDisappearingModeSettingOn:a.isDisappearingModeSettingOn,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInstamadilloCutover:a.isInstamadilloCutover,isInteropEligible:a.isInteropEligible!==!1,isRestrictedByViewer:a.isRestrictedByViewer,isTTLCClipEnabled:Boolean(a.isTTLCClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.isTTLCGenericXMAShareEnabled),isTTLCMediaShareEnabled:Boolean(a.isTTLCMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.isTTLCStoryShareEnabled),isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,reachabilityStatus:a.reachabilityStatus,renderIndex:b,resultType:a.resultType,searchResultType:a.searchResultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,sectionAnalyticsName:a.sectionAnalyticsName,serverSearchResult:a.serverSearchResult,subtext:a.subtext,subtextAdditional:a.subtextAdditional,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,threadType:a.threadType,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";var g=["entries"];function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,g);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";var g=["entries"];function a(a){var b=a.entries,c=babelHelpers.objectWithoutPropertiesLoose(a,g),d=(a=a.params)==null?void 0:a.query,e=b.reduce(function(a,b,c){b=b.rawData.section;if(b==null)return a;b===""&&a.set(b,0);var d=a.get(b);d=d==null?c:Math.min(d,c);a.set(b,d);return a},new Map());a=b.map(function(a,b){var c=a.key,f=a.label;a=a.rawData;var g=a.section;return{key:c,label:f,rawData:babelHelpers["extends"]({},a,{query:d,renderIndex:b,sectionRenderIndex:g==null?-1:e.get(g)}),type:"entry"}});return babelHelpers["extends"]({entries:a},c)}f["default"]=a}),66);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(){c("promiseDone")(b.runInTransaction(j,"readwrite",void 0,void 0,f.id+":22"))},a[0]=b,a[1]=e):e=a[1];return e}function j(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a),{clearMessageResults:!1})}g["default"]=a}),98);
__d("useMWInboxContextSwitcherFilterPreloader",["MWPBaseThreadListHooks","MWPBaseThreadListUtils","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g=d("MWPBaseThreadListHooks").useMWPBaseThreadListDefaultThreadsRange(a,b,e),h;f[0]!==a||f[1]!==g||f[2]!==e||f[3]!==b?(h=function(){g==null&&d("MWPBaseThreadListUtils").loadMoreThreadsForEmptyRangeDefault(a,b,e)},f[0]=a,f[1]=g,f[2]=e,f[3]=b,f[4]=h):h=f[4];h=h;h=c("useCometPreloader")("button",h,h);var i=h.onHighIntentPreloader,j=h.onHoverInPreloader,k=h.onHoverOutPreloader;h=h.onPressInPreloader;var l;f[5]!==i||f[6]!==j?(l=function(a){j(a),i(!0)},f[5]=i,f[6]=j,f[7]=l):l=f[7];var m;f[8]!==k||f[9]!==h||f[10]!==l?(m={onHoverIn:l,onHoverOut:k,onPressIn:h},f[8]=k,f[9]=h,f[10]=l,f[11]=m):m=f[11];k=m;return k}g["default"]=a}),98);
__d("useMWJewelSettingsButtonSecurityAlertsBadge",["FDSBadge.react","react","react-compiler-runtime","useDeviceAlertCount","useMAWSecurityAlertsPreferences"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMAWSecurityAlertsPreferences")();b=b.securityAlertsPreferences;var e=d("useDeviceAlertCount").useDeviceAlertCount();b==null||b.allowSecurityAlertForSelf;var f;a[0]!==(b==null?void 0:b.allowSecurityAlertForSelf)||a[1]!==e?(f=b!=null&&b.allowSecurityAlertForSelf&&e>0?i.jsx("div",babelHelpers["extends"]({className:"x12u5thl x10l6tqk x12ibf10"},{children:i.jsx(c("FDSBadge.react"),{testid:void 0})})):null,a[0]=b==null?void 0:b.allowSecurityAlertForSelf,a[1]=e,a[2]=f):f=a[2];a[3]!==f?(b={badge:f},a[3]=f,a[4]=b):b=a[4];e=b;return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}babelHelpers.inheritsLoose(b,a);b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}babelHelpers.inheritsLoose(b,a);b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&this.clearOwnKeys()}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter$p_2=d;e.$CrossWindowEventEmitter$p_1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[e,d].concat(c.__v))}});return e}babelHelpers.inheritsLoose(d,a);var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter$p_1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){function a(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}var b=a.prototype;b.random=function(){return this.$1!=null?this.$1():Math.random()};b.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};b.setIsUserLoggedInNow=function(a){this.$2=a};b.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};b.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};b.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};b.genGk=function(a){return this.$6!=null?this.$6(a):!1};b.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};b.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};b.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};b.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};b.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};b.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return a}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt==null||a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure==null||a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected==null||a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess==null||a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost==null||a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect==null||a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe==null||b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe==null||b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish==null||b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage==null||b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal==null||a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){function a(a){return b.call(this,a)||this}babelHelpers.inheritsLoose(a,b);var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){function b(){return a.call(this,"DISCONNECT")||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}babelHelpers.inheritsLoose(a,b);return a}(b),m=function(b){function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}babelHelpers.inheritsLoose(a,b);return a}(b),n=function(b){function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}babelHelpers.inheritsLoose(a,b);var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}babelHelpers.inheritsLoose(a,b);var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}babelHelpers.inheritsLoose(a,b);var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}f.getMqttForegroundStatus=a;f.getUserAgent=b}),66);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l,m){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),m===void 0&&(m=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l,this.$13=m}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),asi:this.$13,aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null||g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null||b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null||e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(d of d)try{d(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}d=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(c of d)try{c(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b of this.$3)b.onJSError&&b.onJSError(a)};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b of this.$3)b.onMQTTStateChanged(a)};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){function a(a){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$7(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=a}a.getInstance=function(b){n||(n=new a(b));return n};var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;var s=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+s);s=r/(r+j);r=n&&this.getBrowserConnectivity();var t={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:s.toString(),device_id:this.$4,hostname:k,connectionStatus:f.toString(),exposure:(j=this.$6)!=null?j:""},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return t})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$9(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$9(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4,exposure:(b=this.$6)!=null?b:""},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(d=this.$5)==null?void 0:d.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$8(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("21121");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),a!=null?a:null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);/*FB_PKG_DELIM*/
__d("EncryptedBackupsDYIFileUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="media";e="messages.zip";function i(){if(navigator.storage!=null&&navigator.storage.getDirectory!=null)return navigator.storage.getDirectory();throw c("FBLogger")("labyrinth_web").mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.")}async function a(){var a=await i();return a.getDirectoryHandle(h,{create:!0})}async function b(a,b,d){a=await a.getFileHandle(b,{create:!0});try{b=await a.createSyncAccessHandle();b.write(d);b.flush();b.close()}catch(e){if(e instanceof Error){if(e instanceof TypeError)try{b=await a.createWritable();await b.write(d);await b.close();return}catch(a){if(a instanceof Error){if(a instanceof TypeError)throw c("FBLogger")("labyrinth_web").mustfixThrow("Write operation is not supported. Please try one of the supported browsers.");throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to write using writable: %e",a.message)}throw a}throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to write using sync access handle: %s",e.message)}throw e}}async function d(a,b){a=await a.getFileHandle(b);try{var d=await a.createSyncAccessHandle(),e=new ArrayBuffer(d.getSize());d.read(e);d.close();return new Blob([e])}catch(d){if(d instanceof Error){if(d instanceof TypeError)return a.getFile();throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to read file %s, %s",b,d.message)}throw d}}g.DyiMediaFolder=h;g.DyiArchiveFilename=e;g.getRootFolderHandle=i;g.getMediaFolderHandle=a;g.writeFile=b;g.readFile=d}),98);
__d("MAWThreadKeyUtils",["I64","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).to_string(a)}function b(a){return a}function e(a){c("vulture")("9DZDuAw4Bd5gY57CNHpZSR8vpLc=");return a}function f(a){return(h||(h=d("I64"))).of_string(a)}function i(a){return a}g.stringThreadKeyFromThreadKey=a;g.toStringThreadKey=b;g.stringThreadKeyFromString=e;g.stringThreadKeyToI64=f;g.stringThreadKeyToString=i}),98);
__d("EncryptedBackupsDYIGenerateThreadMetadata",["CurrentUser","EncryptedBackupsDYISingleton","I64","IGDWebUtils","LSMessagingThreadTypeUtil","MAWThreadKeyUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){return d("IGDWebUtils").isOnInstagramWeb()?(j||(j=d("I64"))).of_string(c("CurrentUser").getEIMU()):(j||(j=d("I64"))).of_string(c("CurrentUser").getAccountID())}function l(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(d("MAWThreadKeyUtils").stringThreadKeyToI64(b)))}function m(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b))}function a(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts).filter(function(a){return b.has((j||(j=d("I64"))).to_string(a.id))}))}function n(a,b){var c;return(c=d("ReQL")).toArrayAsync(c.leftJoin(c.fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b),c.fromTableAscending(a.tables.contacts,["name"])))}function o(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a)||d("LSMessagingThreadTypeUtil").isOpenOneToOne(a)}function p(a,b,c){if(c!=null&&c.trim()!=="")return c+"_"+b;switch(a.length){case 0:return"Thread_"+b;case 1:return a[0]+"_"+b;case 2:return a[0]+"and"+a[1]+"_"+b;case 3:return""+a[0]+a[1]+"and"+a[2]+"_"+b;case 4:return""+a[0]+a[1]+a[2]+"and1other_"+b;default:return""+a[0]+a[1]+a[2]+"and"+(a.length-3)+"others_"+b}}async function q(a,b,c,e,f,g){var i=[],k=[f];f=await l(c,a);if(f!=null)if(o(f.threadType)){var q=b.getThreadIdForThreadKey(a);if(q==null){b.getLogger().WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread id for thread key ",""])),a);return}q=await m(c,(j||(j=d("I64"))).of_string(q));(q==null?void 0:q.id)!=null&&(q==null?void 0:q.name)!=null&&b.setContactNameForContactId((j||(j=d("I64"))).to_string(q.id),q.name);q=(q==null?void 0:q.name)||"Unknown User";i.push(q);k.push(q);b.setThreadMetaDataByThreadKey(a,k,p(i,g,f.threadName))}else{q=await n(c,f.threadKey);q.forEach(function(a){var c=a[0];a=a[1];(c==null?void 0:c.contactId)!=null&&(a==null?void 0:a.name)!=null&&b.setContactNameForContactId((j||(j=d("I64"))).to_string(c.contactId),a.name);if(!(j||(j=d("I64"))).equal(c.contactId,e)){c=(a==null?void 0:a.name)||"Unknown User";i.push(c);k.push(c)}});b.setThreadMetaDataByThreadKey(a,k,p(i,g,f.threadName))}else b.setThreadMetaDataByThreadKey(a,k,p(i,g))}async function b(a){var b,c=d("EncryptedBackupsDYISingleton").getSingleton(),e=c.getLogger(),f=await c.getDB(),g=await m(f,k()),h=(b=g==null?void 0:g.id)!=null?b:(j||(j=d("I64"))).zero,l=(b=g==null?void 0:g.name)!=null?b:"Me";c.setContactNameForContactId((j||(j=d("I64"))).to_string(h),l);return a.reduce(async function(a,b,d){await a;a=c.getThreadIdForThreadKey(b);a==null&&void e.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread id for thread key ",""])),b);return q(b,c,f,h,l,d)},Promise.resolve())}g.getAllUnmappedContacts=a;g.EncryptedBackupsDYIGenerateThreadMetadata=b}),98);
__d("EncryptedBackupsDYIZipUtils",["EncryptedBackupsDYIFileUtils","jszip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;async function a(a,b,e,f){f("stream_file_start");var g=new(c("jszip"))();for(a of a){var o=a.threadName+".json";g.file(o,JSON.stringify(a,null,2))}b.forEach(function(a){return n(g,a)});var p=g.generateInternalStream({compression:"DEFLATE",compressionOptions:{level:6},type:"Uint8Array"});o=await d("EncryptedBackupsDYIFileUtils").getRootFolderHandle();a=await o.getFileHandle("messages.zip",{create:!0});var q=await a.createWritable({keepExisting:!1,mode:"exclusive"});return new Promise(function(a,b){var c=0;p.on("data",function(a,d){p.pause(),c++,c%1e3===0&&void e.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Writing "," (","%)"])),d.currentFile,d.percent),void q.write(a).then(function(){p.resume()},function(a){void e.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error during data event"]))),f("stream_file_error"),b(a)})});p.on("end",function(){void e.LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Finished ZIP file generation. Saving the results"]))),f("stream_file_end"),f("write_file_start"),void q.close().then(function(){f("write_file_end"),void e.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Closed the writing stream"]))),a()},function(a){void e.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Error during end event"]))),f("write_file_error"),b(a)})});p.on("error",function(a){void e.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Generic stream error"]))),f("stream_file_error"),b(a)});p.resume()})}function n(a,b){var c=b.split("/").pop(),e=d("EncryptedBackupsDYIFileUtils").getMediaFolderHandle().then(function(a){return d("EncryptedBackupsDYIFileUtils").readFile(a,c!=null?c:b)});a.file(b,e)}g.generateZipFile=a}),98);
__d("EncryptedBackupsDYISingleton",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYIGenerateThreadMetadata","EncryptedBackupsDYISingletonFactory","EncryptedBackupsDYITypes","EncryptedBackupsDYIZipUtils","FBLogger","I64","LSIntEnum","MAWBridge","MAWQplProxy","WAHashUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=["senderId"],i,j,k,l,m,n,o,p,q,r,s,t,u,v=null;function w(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}function a(a,b,e){if(v==null)switch(a){case d("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Armadillo:if(w())throw c("FBLogger")("labyrinth_web").mustfixThrow("EncryptedBackupsDYISingleton for Armadillo can only be initialised in the main thread");v=d("EncryptedBackupsDYISingletonFactory").getMAWEncryptedBackupsDYISingleton(b,e);break;case d("EncryptedBackupsDYITypes").EncryptedBackupsDYIConfig.Instamadillo:if(!w())throw c("FBLogger")("labyrinth_web").mustfixThrow("EncryptedBackupsDYISingleton for Instamadillo can only be initialised in the worker");v=d("EncryptedBackupsDYISingletonFactory").getIGDEncryptedBackupsDYISingleton(b,e);break}}function b(){if(v==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("EncryptedBackupsDYISingleton is not initialised. Please call EncryptedBackupsDYISingleton.initSingleton() first.");return v}e=function(){function a(a,b,c,d){this.$5=new Map(),this.$6=new Set(),this.$7=new Set(),this.$8=new Map(),this.$9=new Map(),this.$10=new Map(),this.$11=new Map(),this.$12=new Map(),this.$1=a,this.$2=b,this.$3=c,this.$4=d}var b=a.prototype;b.getDB=function(){return this.$1()};b.getLogger=function(){return this.$4};b.getAllMediaUrls=function(){return Array.from(this.$5.values())};b.$13=function(a){return this.$5.get(a)};b.setMediaUrlByPlainTextHash=function(a,b){if(this.$5.has(a))return;this.$5.set(a,b)};b.addThreadKeyToThreadsRestoreInProgress=function(a){this.$6.add(a)};b.isThreadRestoreInProgressForThreadKey=function(a){return this.$6.has(a)};b.deleteThreadKeyFromThreadsRestoreInProgress=function(a){this.$6.delete(a),this.$4.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Finished handling message range queries for thread with thread key ",". "," threads left"])),a,this.$6.size),this.$14()&&(this.$4.LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["DYI flow complete - generating output"]))),void this.$15())};b.isThreadsRestoreComplete=function(){return this.$6.size===0};b.addPlaintextHashToAttachmentDownloadsInProgress=function(a){this.$7.add(a),this.$4.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Started processing attachment with plaintext hash ","."])),d("WAHashUtils").sanitisePlaintextHash(a))};b.deletePlaintextHashFromAttachmentDownloadsInProgress=function(a){this.$7.delete(a),this.$4.LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Finished processing attachment with plaintext hash ",". "," attachments left"])),d("WAHashUtils").sanitisePlaintextHash(a),this.$7.size),this.$7.size<30&&this.$4.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Remaining attachments: ",""])),Array.from(this.$7).map(d("WAHashUtils").sanitisePlaintextHash).join(", ")),this.$14()&&(this.$4.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["DYI flow complete - generating output"]))),void this.$15())};b.isAttachmentDownloadInProgressForPlaintextHash=function(a){return this.$7.has(a)};b.isAttachmentDownloadCompleteForPlaintextHash=function(a){return!!this.$5.get(a)};b.isAttachmentDownloadComplete=function(){return this.$7.size===0};b.setMessagesByThreadKey=function(a,b,c){a=this.getMessagesByThreadKey(a);a.set(b,c)};b.getMessagesByThreadKey=function(a){this.$16(a)||this.$8.set(a,new Map());return this.$8.get(a)};b.$16=function(a){return this.$8.has(a)};b.hasMessage=function(a,b){a=this.$8.get(a);return a==null?!1:a.has(b)};b.getThreadIdForThreadKey=function(a){return this.$10.get(a)};b.getThreadKeyForThreadId=function(a){return this.$11.get(a)};b.setThreadMapping=function(a,b){this.$10.set(a,b),this.$11.set(b,a)};b.setThreadMetaDataByThreadKey=function(a,b,c){this.$9.set(a,{participants:b,threadName:c})};b.getThreadMetadataMap=function(){return this.$9};b.setContactNameForContactId=function(a,b){this.$12.set(a,b)};b.getContactNameForContactId=function(a){return this.$12.get(a)};b.getContactNameMap=function(){return this.$12};b.getOutput=function(){var a=this;return Array.from(this.getThreadMetadataMap(),function(b){var c=b[0];b=b[1];var d=a.$16(c);d=d?Array.from(a.getMessagesByThreadKey(c),function(b){b[0];b=b[1];return babelHelpers.extends({},b,{media:Array.from(b.media,function(b){b=a.$13(b);return{uri:b!=null?"./"+b:"Failed to download media"}})})}):[];d=d.map(function(b){var c=b.senderId,d=babelHelpers.objectWithoutPropertiesLoose(b,h);if(c!=null&&d.senderName==="Unknown User"){c=a.getContactNameForContactId(c);if(c!=null)return babelHelpers.extends({},d,{senderName:c})}return b});c=d.sort(function(a,b){return typeof a.timestamp==="number"&&typeof b.timestamp==="number"?a.timestamp-b.timestamp:0});return babelHelpers.extends({},b,{messages:c})})};b.$14=function(){return this.isAttachmentDownloadComplete()&&this.isThreadsRestoreComplete()};b.$17=function(a){switch(a){case 0:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.InProgress;case 1:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed;case 2:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed;case-1:default:return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.NotStarted}};b.updateDYIStatus=async function(a){var b=await this.getDB();await b.runInTransaction(async function(b){await b.encrypted_backups_dyi_backup_restore_status.put({currentStatus:(t||(t=d("LSIntEnum"))).ofNumber(a),pk:(u||(u=d("I64"))).zero})},"readwrite",void 0,void 0,f.id+":517");d("MAWBridge").getBridge().fireAndForget("event","updateDYIStatus",{qplEvent:this.$2,qplInstanceKeyE2E:(b=this.$3)!=null?b:void 0,status:this.$17(a)})};b.$18=async function(){var a=this,b=new Set();this.getContactNameMap().forEach(function(a,c){a==="Unknown User"&&b.add(c)});var c=await this.getDB();c=await d("EncryptedBackupsDYIGenerateThreadMetadata").getAllUnmappedContacts(c,b);c.forEach(function(b){var c=(u||(u=d("I64"))).to_string(b.id);a.setContactNameForContactId(c,b.name)});this.$4.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Fetched remaining contact names, total of "," contacts"])),this.getContactNameMap().size.toString())};b.$15=async function(){var a=this;this.logDYIQPLPoint("complete_dyi_flow_start");await this.$18();this.$4.LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Generating output"])));var b=this.getOutput(),c=Array.from(this.$5.values());this.$4.LOG(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Generating zip file"])));try{await d("EncryptedBackupsDYIZipUtils").generateZipFile(b,c,this.$4,function(b,c){a.logDYIQPLPoint(b,c)}),this.logDYIQPLPoint("complete_dyi_flow_end"),await this.updateDYIStatus(1)}catch(a){this.$4.ERROR(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate zip file: ",""])),a),this.logDYIQPLPoint("complete_dyi_flow_error"),await this.updateDYIStatus(2)}finally{void this.clear()}};b.exitDYIEarly=async function(a,b){b!=null&&this.$4.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["DYI Exiting Early - Found "," instamadillo threads"])),b),this.logDYIQPLPoint("dyi_exit_early",{int:{dyi_threads:b}}),await this.updateDYIStatus(a?2:1),void this.clear()};b.clear=async function(){this.$5=new Map();this.$6=new Set();this.$7=new Set();this.$8=new Map();this.$9=new Map();var a=await d("EncryptedBackupsDYIFileUtils").getRootFolderHandle();await a.removeEntry(d("EncryptedBackupsDYIFileUtils").DyiMediaFolder,{recursive:!0})};b.logDYIQPLPoint=function(a,b){this.$3!=null&&d("MAWQplProxy").sendQplPointThroughBridge(this.$2,a,{annotations:b,instanceKey:this.$3})};return a}();g.initSingleton=a;g.getSingleton=b;g.EncryptedBackupsDYISingleton=e}),98);
__d("EncryptedBackupsDYISingletonFactory",["EncryptedBackupsDYISingleton","WATagsLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return new(d("EncryptedBackupsDYISingleton").EncryptedBackupsDYISingleton)(a,c("qpl")._(521478596,"1329"),b,d("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi",b==null?"":b.toString()]))}function b(a,b){return new(d("EncryptedBackupsDYISingleton").EncryptedBackupsDYISingleton)(a,c("qpl")._(521479842,"2163"),b,d("WATagsLogger").TAGS(["igd_labyrinth_web","igd_dyi",b==null?"":b.toString()]))}g.getMAWEncryptedBackupsDYISingleton=a;g.getIGDEncryptedBackupsDYISingleton=b}),98);
__d("EncryptedBackupsDYIMediaDownloadHandlers",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYISingleton","FBLogger","WAResultOrError","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,e,f){f=await d("EncryptedBackupsDYIFileUtils").getMediaFolderHandle();b=b.split("/")[1];b=c("uuidv4")()+"."+b;await d("EncryptedBackupsDYIFileUtils").writeFile(f,b,e);f=d("EncryptedBackupsDYISingleton").getSingleton();f.setMediaUrlByPlainTextHash(a,d("EncryptedBackupsDYIFileUtils").DyiMediaFolder+"/"+b);f.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return d("WAResultOrError").makeResult()};b=function(){c("FBLogger")("labyrinth_web").debug("[DYIMediaPreviewHandler] Skipping previews for DYI");return Promise.resolve(d("WAResultOrError").makeResult())};g.DYIMediaDownloadHandler=a;g.DYIMediaPreviewHandler=b}),98);
__d("MAWMediaPreviewDownloadManager",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=[],j=new Map();function a(a){if(j.has(a))return;l();var b=new(d("WAResolvable").Resolvable)();j.set(a,b);i.push(a)}function b(a,b){var c=j.get(a);if(c==null)return;c.reject(b);k(a)}function c(a){return j.get(a)}function k(a){j["delete"](a)}function l(){if(i.length>=h){var a=i.shift();a!=null&&j["delete"](a)}}function e(){i=[],j.clear()}g.markMediaPreviewAsDownloading=a;g.markMediaPreviewAsFailed=b;g.getMediaPreviewDownloadingResolvable=c;g.removeMediaPreviewDownloadingResolvable=k;g.clear=e}),98);
__d("MAWHandleMediaPreviewBeforeDownloadApi",["MAWMediaPreviewDownloadManager","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){d("MAWMediaPreviewDownloadManager").markMediaPreviewAsDownloading(a);return(h||(h=b("Promise"))).resolve()};g.handleMediaPreviewBeforeDownload=a}),98);
__d("MAWHandleMediaPreviewDownloadApi",["MAWBridgeTypesCreators","MAWDbMediaTxns","MAWDbMsgTxns","MAWDexieTable","MAWIndexedDb","MAWLoggerUtils","MAWMediaAfterTxns","MAWMediaDownloadStatus","MAWMediaDownloadStatusForUI","MAWMediaPreviewDownloadManager","MAWMediaUtils","MAWTransactionMode","MWFBLogger","WACryptoSha256","WAHashUtils","WAResultOrError","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWMediaLogger.tags([d("MAWLoggerUtils").Tag.MediaDownload,d("MAWLoggerUtils").Tag.MessageReceive,"MediaPreview"]);a=async function(a,b,e,f){var g=d("WAHashUtils").toPlaintextHash(await d("WACryptoSha256").sha256(b));d("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download",hash:a,status:c("MAWMediaDownloadStatus").DOWNLOADING,type:"preview"});var h=d("MAWMediaPreviewDownloadManager").getMediaPreviewDownloadingResolvable(a);h!=null&&(h.resolve(new Blob([b],{type:"image/jpeg"})),d("MAWMediaPreviewDownloadManager").removeMediaPreviewDownloadingResolvable(a));return k(a,g,b,e,f)};var k=d("MAWIndexedDb").makeMsgrTransactor({chunk:(b=d("MAWTransactionMode")).READWRITE,media:b.READWRITE,messages:b.READONLY,threads:b.READONLY},"handleMediaPreviewDownload",function(a){return function(b,e,f,g,k){return d("MAWDexieTable").dexieAll([d("MAWDbMediaTxns").maybeGetMediaFromPlaintextHash(a,b),d("MAWDbMsgTxns").maybeGetMsgByProtocolMsgId(a,k)]).then(function(k){var l=k[0],m=k[1];j.DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Handling preview for main hash ","... preview hash ","..."])),d("WAHashUtils").sanitisePlaintextHash(b),d("WAHashUtils").sanitisePlaintextHash(e));if(l==null){d("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"missing_media_on_save",hash:b,status:c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"preview"});j.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Main media for preview is null. Type: ",""])),g);return d("WAResultOrError").makeError("missing-media-on-save")}k=function(){switch(g){case"image":return a.media.update(l.mediaId,babelHelpers.extends({},l,{validatedImageInfo:babelHelpers.extends({},l.validatedImageInfo,{jpegThumbnail:f})}));case"video":return a.media.update(l.mediaId,babelHelpers.extends({},l,{validatedVideoInfo:babelHelpers.extends({},l.validatedVideoInfo,{jpegThumbnail:f})}));default:g;return d("MAWDexieTable").dexieResolve()}};d("MAWMediaDownloadStatusForUI").sendMediaDownloadStatusToUI({details:"handle_media_download_success",hash:b,status:c("MAWMediaDownloadStatus").SUCCESS,type:"preview"});c("gkx")("9695")||(k(),k=function(){return d("MAWDexieTable").dexieResolve()});return k().then(function(){return a.messages.where("msgId").anyOf(l.msgIds).toArray().then(function(b){return a.threads.where("jid").anyOf(b.map(function(a){return a.threadJid})).toArray().then(function(c){return d("MAWDexieTable").dexieAll(c.map(function(c){var e=d("MAWMediaUtils").createHdTypesForBridgeMedia(b);c=d("MAWBridgeTypesCreators").createBridgeMedia({chatJid:c.jid,filteredMsgIds:d("MAWBridgeTypesCreators").getMsgIdsFilteredByJid(b,c.jid),hasMediaForUI:!0,hdTypes:e,media:l,sortOrderMs:m==null?void 0:m.sortOrderMs});return d("MAWMediaAfterTxns").handleNewMediaAfterTxnWithBridgeMedia(a,c,b)})).then(function(){return d("WAResultOrError").makeResult()})})})})})}});g.handleMediaPreviewDownload=a}),98);
__d("MAWHandleMediaPreviewDownloadAsFailedApi",["MAWMediaPreviewDownloadManager","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c){d("MAWMediaPreviewDownloadManager").markMediaPreviewAsFailed(a,c);return(h||(h=b("Promise"))).resolve()};g.handleMediaPreviewDownloadFailed=a}),98);
__d("MebWAMediaDownloader",["MAWHandleMediaPreviewBeforeDownloadApi","MAWHandleMediaPreviewDownloadApi","MAWHandleMediaPreviewDownloadAsFailedApi","WAAPI","WAIsMediaExpiredError","WALogger","WAStartMediaDownloadQplFlow","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b,c){this.mediaDownloadMetadata=a,this.downloadCallbacks=b,this.waApiDownloadCall=c}var b=a.prototype;b.handle=async function(){var a,b=this.mediaDownloadMetadata.mediaEntry.mediaKeyTimestamp;if(b==null){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][WAMediaDownloader] Cannot download media - missing mediaKeyTimestamp"])));return this.handleError()}b=!d("WATimeUtils").happenedWithin(b,29*d("WATimeUtils").DAY_SECONDS);a=(a=this.mediaDownloadMetadata.isUrlRenewed)!=null?a:!1;if(!a&&(b||c("gkx")("23960"))){d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] downloading media from MI directly"])));return this.handleUrlExpired()}a=this.mediaDownloadMetadata;b=a.hash;var e=a.mediaEntry;a=a.protocolMsgId;b=await this.waApiDownloadCall(b,e,a);if(b.success)return this.downloadCallbacks.onDownloadSuccess({mimeType:b.value.mimeType,plaintext:b.value.plaintext});if(d("WAIsMediaExpiredError").isMediaExpiredError(b.error))return this.handleUrlExpired();else return this.handleError()};b.handleUrlExpired=async function(){var a;await this.downloadCallbacks.onUrlExpired();return(a=this.mediaDownloadHandler)==null?void 0:a.handle()};b.handleError=async function(){var a;await this.downloadCallbacks.onDownloadError();return(a=this.mediaDownloadHandler)==null?void 0:a.handle()};b.getDownloadMetadata=function(){return this.mediaDownloadMetadata};b.setNextHandler=function(a){this.mediaDownloadHandler=a};return a}();b=function(a,b,e){var f=d("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"MebWAMediaDownloader",msgType:null,protocolMsgId:e,triggerUIView:null});return c("WAAPI").downloadMedia({downloadMediaMetric:f,handleMediaPreviewBeforeDownload:d("MAWHandleMediaPreviewBeforeDownloadApi").handleMediaPreviewBeforeDownload,handleMediaPreviewDownload:d("MAWHandleMediaPreviewDownloadApi").handleMediaPreviewDownload,handleMediaPreviewDownloadFailed:d("MAWHandleMediaPreviewDownloadAsFailedApi").handleMediaPreviewDownloadFailed,hash:a,mediaEntry:b,protocolMsgId:e})};g.MebWAMediaDownloader=a;g.MebWADownloadMediaFromWorker=b}),98);
__d("EncryptedBackupsDYIMessageProcessingUtils",["EncryptedBackupsDYIMediaDownloadHandlers","EncryptedBackupsDYISingleton","FBLogger","MAWBridge","MAWFrontendMediaUtils","MebWAMediaDownloader","WAHashUtils","WAJids","WALongInt","WAMediaUtils","WAProgressiveJpegGetScanLengths","WAResultOrError","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q;function a(a,b){return{isUnsent:!1,media:new Set(),reactions:[],senderName:r(a),text:"",timestamp:b!=null?b:0,type:""}}function r(a){var b=d("EncryptedBackupsDYISingleton").getSingleton(),c="Unknown User";if(a!=null){b=b.getContactNameForContactId(a);b!=null&&(c=b)}return c}async function b(a,b,e,f){var g=d("EncryptedBackupsDYISingleton").getSingleton(),l=g.getLogger(),m=l.TAGS([d("WAHashUtils").sanitisePlaintextHash(a)]);c("FBLogger")("labyrinth_web").tags(["labyrinth_dyi"]).debug("Sending the media download bridge call for plaintext hash: %s",d("WAHashUtils").sanitisePlaintextHash(a));f=await d("MAWBridge").getBridge().sendAndReceive("backend","dyiDownloadMediaV2",{mediaEntry:f,plaintextHash:a,protocolMsgId:b,sortOrderMs:e});c("FBLogger")("labyrinth_web").tags(["labyrinth_dyi"]).debug("Received the media download result from the bridge for plaintext hash: %s, success: %s, error: %s",d("WAHashUtils").sanitisePlaintextHash(a),f.success?"true":"false",f.error);if(f.success){e=f.value;var n=e.unvalidatedMimeType;e=e.validatedResult;n=e.skipValidation?n:e.mimeType;n=await d("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(a,n,e.validatedPlaintext,b);if(!n.success){m.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to save media: ",", ",""])),n.error,n.payload);l.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to save media: ",", ",""])),n.error,n.payload);g.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return}}else{m.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media: ",", ",""])),f.error,f.payload);l.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media: ",", ",""])),f.error,f.payload);g.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return}}function e(a,b,c,e,f,g,h,i,j,k,r){var s=d("EncryptedBackupsDYISingleton").getSingleton(),t=s.getLogger(),u=t.TAGS([d("WAHashUtils").sanitisePlaintextHash(j)]),v={author:d("WAJids").toMsgrUserJid(h),chat:d("WAJids").toMsgrUserJid(f),externalId:i},w={hash:j,isUrlRenewed:!1,mediaEntry:e,protocolMsgId:v,sortOrderMs:k};h={onDownloadError:function(){u.WARN(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media"])));t.ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Failed to download media"])));s.deletePlaintextHashFromAttachmentDownloadsInProgress(w.hash);return Promise.resolve()},onDownloadSuccess:async function(a){u.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Successfully downloaded media"])));var b=a.mimeType;a=a.plaintext;await d("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(w.hash,b,a,v)},onUrlExpired:function(){u.LOG(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Media CDN URL has expired and should be renewed"])));return Promise.resolve()}};var x=new(d("MebWAMediaDownloader").MebWAMediaDownloader)(w,h,a),y=e.serverMediaType;e=e.objectId;if(y!=null&&e!=null&&typeof k==="number"){b={backupEntFbid:b,deliveryObjectId:e,hash:j,mediaType:y,messageId:i,productType:c,sortOrder:k,threadId:f,threadKey:g};e={onResignCdnUrlFailure:function(a){u.WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign CDN URL: ",""])),a.message);t.ERROR(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign CDN URL: ",""])),a.message);s.deletePlaintextHashFromAttachmentDownloadsInProgress(w.hash);return Promise.resolve()},onResignCdnUrlSuccess:async function(){}};j=r(b,e);x.setNextHandler(j);j.setNextHandler(new(d("MebWAMediaDownloader").MebWAMediaDownloader)(w,h,a))}void x.handle()}function f(a,b,c){var e,f,g,h;e=(e=a.integral)==null||(e=e.transport)==null||(e=e.ancillary)==null?void 0:e.mimetype;if(e==null)return d("WAResultOrError").makeError("mime-type-missing");e=d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(e,b).serverMediaType;if(e==null)return d("WAResultOrError").makeError("server-media-type-missing");b=(b=a.integral)==null||(b=b.transport)==null||(b=b.integral)==null?void 0:b.directPath;if(b==null)return d("WAResultOrError").makeError("direct-path-missing");f=(f=a.integral)==null||(f=f.transport)==null||(f=f.integral)==null?void 0:f.fileSha256;if(f==null)return d("WAResultOrError").makeError("plaintext-hash-missing");g=d("WALongInt").maybeNumber((g=a.integral)==null||(g=g.transport)==null||(g=g.integral)==null?void 0:g.mediaKeyTimestamp);if(g==null)return d("WAResultOrError").makeError("media-key-timestamp-missing");var i;if(((h=a.ancillary)==null?void 0:h.scanLengths)!=null&&((h=a.ancillary)==null?void 0:h.scansSidecar)!=null){h=a.ancillary;var j=h.scanLengths;h=h.scansSidecar;i={scanLengths:j.map(d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength),sidecar:h}}var k;if(((j=a.integral)==null||(j=j.transport)==null||(j=j.ancillary)==null||(j=j.thumbnail)==null?void 0:j.downloadableThumbnail)!=null){h=a.integral.transport.ancillary.thumbnail.downloadableThumbnail;j=h.directPath;var l=h.fileEncSha256,m=h.fileSha256,n=h.mediaKey,o=h.mediaKeyTimestamp;h=h.objectId;k={directPath:j,fileEncSha256:l,fileSha256:m,mediaKey:n,mediaKeyTimestamp:d("WALongInt").maybeNumber(o),objectId:h}}o={directPath:b,downloadableThumbnail:k,fileEncSha256:(j=a.integral)==null||(j=j.transport)==null||(j=j.integral)==null?void 0:j.fileEncSha256,filename:c,fileSha256:f,mediaKey:(l=a.integral)==null||(l=l.transport)==null||(l=l.integral)==null?void 0:l.mediaKey,mediaKeyTimestamp:d("WATimeUtils").castToUnixTime(g),objectId:(m=a.integral)==null||(m=m.transport)==null||(m=m.ancillary)==null?void 0:m.objectId,progressiveJpegDetails:i,serverMediaType:e,size:d("WALongInt").maybeNumber((n=a.integral)==null||(n=n.transport)==null||(n=n.ancillary)==null?void 0:n.fileLength)};return d("WAResultOrError").makeResult(d("WAMediaUtils").rawDataToMediaEntry(o))}g.buildBaseDyiMessage=a;g.getSenderName=r;g.downloadMediaWithMediaManager=b;g.startMediaDownloadChain=e;g.decodeMediaEntryFromAttachmentPayload=f}),98);
__d("MAWUnstoredQuotedMsgUtils",["FBLogger","MAWMsgType","WAJids","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)return;var b=a.content;a=a.remoteJid;var e;switch(b.type){case d("MAWMsgType").MSG_TYPE.TEXT:e=j(b);break;case d("MAWMsgType").MSG_TYPE.IMAGE:e=k(b);break;case d("MAWMsgType").MSG_TYPE.VIDEO:e=l(b);break;case d("MAWMsgType").MSG_TYPE.PTT:e=m(b);break;case d("MAWMsgType").MSG_TYPE.GIF:e=n(b);break;case d("MAWMsgType").MSG_TYPE.STICKER:e=o(b);break;case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:e=q(b);break;case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:e=r(b);break;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:e=s(b);break;case d("WAMsgType").NOTE_REPLY:e=p(b);break;case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:e=t(b);break;default:b.type;throw c("FBLogger")("messenger_web").mustfixThrow("For flow")}return{content:e,remoteJid:a}}function i(a){if(d("WAJids").isAuthorSystem(a.author))throw c("FBLogger")("messenger_web").mustfixThrow("A system message cannot be quoted");return{author:a.author,externalId:a.externalId,ts:a.ts}}function j(a){return babelHelpers["extends"]({},i(a),{msgContent:a.msgContent,type:d("MAWMsgType").MSG_TYPE.TEXT})}function k(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.IMAGE})}function l(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.VIDEO})}function m(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.PTT})}function n(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.GIF})}function o(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.STICKER})}function p(a){return babelHelpers["extends"]({},i(a),{expirationTs:a.expirationTs,msgContent:a.msgContent,type:d("WAMsgType").NOTE_REPLY})}function q(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE})}function r(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.UNAVAILABLE})}function s(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL})}function t(a){return babelHelpers["extends"]({},i(a),{type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH})}function a(a){return{quote:h(a.quote)}}g.getWithQuoteMsg=a}),98);
__d("MAWUnstoredTypedMsgUtils",["MAWAdminMsgType","MAWDbMsg","MAWMsgType","MAWRavenUtils","MAWUnstoredQuotedMsgUtils","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return{ack:a.ack,author:a.id.author,ebTimestampMs:a.ebTimestampMs,externalId:a.id.externalId,reportingMeta:a.reportingMeta,serverTs:a.serverTs,ts:a.ts}}function i(a){return{forwardingScore:a.forwardingScore,isForwarded:a.isForwarded}}function j(a){return{ephemeralSetting:k(a.ephemeralSetting),messageDeleteTs:a.deleteTs,messageExpirationTs:a.expirationTs}}function k(a){if(a==null)return;return{ephemeralExpirationInSec:a.expirationTs,ephemeralLastUpdatedOrSetTimestamp:a.updatedTs}}function a(a,b){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,collapsibleId:a.collapsibleId,isCollapsed:a.isCollapsed,msgContent:{commands:b.commands,content:(a=b.sentWithMessage)!=null?a:"",mentionedJids:b.mentionedJids},type:d("MAWMsgType").MSG_TYPE.XMA,xmaMessageType:b.targetType})}function b(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,editCount:0,msgContent:a.msgContent,specialTextSize:a.specialTextSize,type:d("MAWMsgType").MSG_TYPE.TEXT})}function c(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.IMAGE})}function e(a){return babelHelpers["extends"]({},h(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,ravenEphemeralMediaState:d("MAWRavenUtils").getEphemeralMediaState(a.ravenEphemeralMediaState),ravenEphemeralType:a.ravenEphemeralType,ravenMediaType:a.ravenMediaType,type:d("MAWMsgType").MSG_TYPE.RAVEN})}function f(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.VIDEO})}function l(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.PTT})}function m(a){return{adminMsgContent:a.adminMsgContent,adminType:a.adminType}}function n(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,author:d("WAJids").AUTHOR_SYSTEM,msgContent:m(a.msgContent),type:d("MAWMsgType").MSG_TYPE.ADMIN})}function o(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.GIF})}function p(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,plaintextHash:(a=a.mediaId)!=null?a:void 0,type:d("MAWMsgType").MSG_TYPE.STICKER})}function q(a){return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE})}function r(a){return babelHelpers["extends"]({},h(a),{altIndex:d("MAWDbMsg").FUTUREPROOF_ALT_INDEX,msgContent:a.msgContent,type:d("MAWMsgType").MSG_TYPE.FUTUREPROOF})}function s(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,ebTimestampMs:a.ebTimestampMs,revokedExternalId:a.revokedExternalId,type:d("MAWMsgType").MSG_TYPE.REVOKED})}function t(a){return{adminMsgContent:a.adminMsgContent,adminType:a.adminType}}function u(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:t(a.msgContent),type:d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN})}function v(a){return{adminMsgContent:a.adminMsgContent,adminType:a.adminType,screenshotActionType:a.screenshotActionType,version:a.version}}function w(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:v(a.msgContent),type:d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION})}function x(a){return{adminType:a.adminType,authorName:a.authorName}}function y(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:x(a.msgContent),type:d("MAWMsgType").MSG_TYPE.ICDC_ALERT})}function z(a){return babelHelpers["extends"]({},h(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE})}function A(a,b){b=b.receiverFetchId;return babelHelpers["extends"]({},h(a),i(a),d("MAWUnstoredQuotedMsgUtils").getWithQuoteMsg(a),j(a),{altIndex:void 0,receiverFetchId:b,type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH})}function B(a,b){var c=a.id.author===d("WAJids").AUTHOR_ME;b=[b.name];c||b.unshift(a.id.author!==d("WAJids").AUTHOR_ME&&a.id.author!==d("WAJids").AUTHOR_SYSTEM?d("WAJids").userIdFromJid(a.id.author):a.id.author);c=c?d("MAWAdminMsgType").CURRENT_USER_CREATED_POLL:d("MAWAdminMsgType").PARTICIPANT_CREATED_POLL;return babelHelpers["extends"]({},h(a),{altIndex:void 0,msgContent:{adminMsgContent:b,adminType:c,version:1},type:d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE})}function C(a){return babelHelpers["extends"]({},h(a),{altIndex:void 0,type:d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE})}g.getXMAMsg=a;g.getTextMsg=b;g.getImageMsg=c;g.getRavenMsg=e;g.getVideoMsg=f;g.getPttMsg=l;g.getAdminMsg=n;g.getGifMsg=o;g.getStickerMsg=p;g.getDocumentFileMsg=q;g.getFutureproofMsg=r;g.getRevokedMsg=s;g.getEphemeralSettingAdminMsg=u;g.getEphemeralScreenshotActionMsg=w;g.getICDCAlertMsg=y;g.getBumpExistingMessageMsg=z;g.getReceiverFetchMsg=A;g.getGroupPollCreateMsg=B;g.getGroupPollUpdateMsg=C}),98);
__d("MAWUnstoredMsgUtils",["FBLogger","MAWMsgType","MAWUnstoredTypedMsgUtils","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.unstoredGroupPollCreateInfo,e=a.unstoredMsg,f=a.unstoredReceiverFetchInfo;a=a.unstoredXMA;if(e==null)return null;switch(e.type){case d("MAWMsgType").MSG_TYPE.TEXT:return d("MAWUnstoredTypedMsgUtils").getTextMsg(e);case d("MAWMsgType").MSG_TYPE.IMAGE:return d("MAWUnstoredTypedMsgUtils").getImageMsg(e);case d("MAWMsgType").MSG_TYPE.VIDEO:return d("MAWUnstoredTypedMsgUtils").getVideoMsg(e);case d("MAWMsgType").MSG_TYPE.PTT:return d("MAWUnstoredTypedMsgUtils").getPttMsg(e);case d("MAWMsgType").MSG_TYPE.ADMIN:return d("MAWUnstoredTypedMsgUtils").getAdminMsg(e);case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return d("MAWUnstoredTypedMsgUtils").getFutureproofMsg(e);case d("MAWMsgType").MSG_TYPE.REVOKED:return d("MAWUnstoredTypedMsgUtils").getRevokedMsg(e);case d("MAWMsgType").MSG_TYPE.GIF:return d("MAWUnstoredTypedMsgUtils").getGifMsg(e);case d("MAWMsgType").MSG_TYPE.STICKER:return d("MAWUnstoredTypedMsgUtils").getStickerMsg(e);case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return d("MAWUnstoredTypedMsgUtils").getDocumentFileMsg(e);case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return d("MAWUnstoredTypedMsgUtils").getEphemeralSettingAdminMsg(e);case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return d("MAWUnstoredTypedMsgUtils").getEphemeralScreenshotActionMsg(e);case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return d("MAWUnstoredTypedMsgUtils").getICDCAlertMsg(e);case d("MAWMsgType").MSG_TYPE.XMA:if((a==null?void 0:a.xma)==null)throw c("FBLogger")("messenger_web").mustfixThrow("XMA content cannot be parsed without XMA payload");return d("MAWUnstoredTypedMsgUtils").getXMAMsg(e,a==null?void 0:a.xma);case d("MAWMsgType").MSG_TYPE.RAVEN:return d("MAWUnstoredTypedMsgUtils").getRavenMsg(e);case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.REACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return null;case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return d("MAWUnstoredTypedMsgUtils").getBumpExistingMessageMsg(e);case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:if(f==null)throw c("FBLogger")("messenger_web").mustfixThrow("Receiver Fetch Info cannot be null for Receiver Fetch Msg");return d("MAWUnstoredTypedMsgUtils").getReceiverFetchMsg(e,f);case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:if(!c("qex")._("3169"))throw c("FBLogger")("messenger_web").mustfixThrow("Group polls are not yet supported");if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Poll Create Info cannot be null for Poll Create Msg");return d("MAWUnstoredTypedMsgUtils").getGroupPollCreateMsg(e,b);case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:if(!c("qex")._("3169"))throw c("FBLogger")("messenger_web").mustfixThrow("Group polls are not yet supported");return d("MAWUnstoredTypedMsgUtils").getGroupPollUpdateMsg(e);default:e.type;return null}}function b(a){if(a==null)return null;switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return d("MAWUnstoredTypedMsgUtils").getTextMsg(a);case d("MAWMsgType").MSG_TYPE.GIF:return d("MAWUnstoredTypedMsgUtils").getGifMsg(a);case d("MAWMsgType").MSG_TYPE.STICKER:return d("MAWUnstoredTypedMsgUtils").getStickerMsg(a);default:return null}}function e(a){a=a.unstoredMsg;if(!a||a.type!==d("MAWMsgType").MSG_TYPE.REACTION)return null;a=a;return{ack:a.ack,author:a.id.author,externalId:a.id.externalId,groupingKey:a.groupingKey,reaction:a.reaction,reactToAuthor:a.reactToAuthor,reactToExternalId:a.reactToExternalId,senderTimestampMs:a.senderTimestampMs,threadJid:a.id.chat,ts:a.ts}}function f(a){a=a.unstoredMsg;if(!a||a.type!==d("MAWMsgType").MSG_TYPE.RAVEN_ACTION)return null;a=a;return{ack:a.ack,actionTimestamp:a.actionTimestamp,actionType:a.actionType,author:a.id.author,externalId:a.id.externalId,ravenActionToMsgExternalId:a.ravenActionToMsgExternalId,ts:a.ts,type:a.type}}function h(a){a=a.unstoredIncomingGroupInvite;return!a?null:babelHelpers["extends"]({},a)}function i(a){return a==null?null:{ack:a.ack,author:a.id.author,editMsgContent:a.editMsgContent,externalId:a.id.externalId,originalMsgExternalId:a.originalMsgExternalId,reportingMeta:a.reportingMeta,serverTs:a.serverTs,specialTextSize:a.specialTextSize,ts:a.ts,type:a.type}}function j(a){a=a.unstoredReceiverFetchInfo;return a==null?null:babelHelpers["extends"]({},a,{type:"sticker"})}function k(a){a=a.unstoredGroupPollCreateInfo;return a==null?null:babelHelpers["extends"]({},a,{latestSenderTimestampsMs:new Map()})}function l(a){a=a.unstoredGroupPollUpdateInfo;return a==null?null:{encryptedMessage:a.pollUpdateMessage}}g.getUnstoredMsg=a;g.getUnstoredAssociatedMsg=b;g.getUnstoredReaction=e;g.getUnstoredRavenActionMsg=f;g.getGroupInvite=h;g.getUnstoredEditActionMsg=i;g.getUnstoredReceiverFetchInfo=j;g.getUnstoredGroupPollCreateInfo=k;g.getUnstoredDbGroupPollUpdateInfo=l}),98);
__d("MAWUnstoredMediaUtils",["MAWUnstoredMsgUtils","WASortedLists"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?null:{accessibilitySummaryText:a.accessibilitySummaryText,mediaEntry:a.mediaEntry,mediaType:a.mediaType,msgIds:d("WASortedLists").emptySet(),plaintextHash:a.plaintextHash,size:a.size,ts:a.ts,validatedAudioInfo:a.validatedAudioInfo,validatedDocumentFileInfo:a.validatedDocumentFileInfo,validatedImageInfo:a.validatedImageInfo,validatedVideoInfo:a.validatedVideoInfo}}function a(a){a=a.unstoredXMA;if(a==null)return;var b=a.unstoredAssociatedMedia,c=a.unstoredAssociatedMsg,e=a.unstoredFavicon,f=a.unstoredHeaderMedia,g=a.unstoredPreviews;a=a.xma;return{unstoredAssociatedMedia:(b=h(b))!=null?b:void 0,unstoredAssociatedMsg:(b=d("MAWUnstoredMsgUtils").getUnstoredAssociatedMsg(c))!=null?b:void 0,unstoredDbXMA:{author:a.author,contentRef:a.contentRef,ctas:a.ctas,defaultCTA:a.defaultCTA,externalId:a.externalId,headerTitle:a.headerTitle,isTombstoned:a.isTombstoned,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines,maxTitleNumOfLines:a.maxTitleNumOfLines,overlayDescription:a.overlayDescription,overlayIconGlyph:a.overlayIconGlyph,overlayTitle:a.overlayTitle,subtitleText:a.subtitleText,targetExpiringAtSec:a.targetExpiringAtSec,targetId:a.targetId,targetType:a.targetType,targetUsername:a.targetUsername,threadJid:a.threadJid,titleText:a.titleText,xmaDataclass:a.xmaDataclass,xmaLayoutType:a.xmaLayoutType},unstoredFavicon:(c=h(e))!=null?c:void 0,unstoredHeaderMedia:(b=h(f))!=null?b:void 0,unstoredPreviews:g?g.map(function(a){return h(a)}).filter(Boolean):void 0}}g.getUnstoredMedia=h;g.getUnstoredXMA=a}),98);
__d("MAWUnstoredContentToUnstoredDbContentUtils",["MAWUnstoredMediaUtils","MAWUnstoredMsgUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=(b=d("MAWUnstoredMsgUtils")).getUnstoredMsg(a),e=d("MAWUnstoredMediaUtils").getUnstoredMedia(a.unstoredMedia),f=b.getUnstoredReaction(a),g=b.getUnstoredRavenActionMsg(a),h=d("MAWUnstoredMediaUtils").getUnstoredXMA(a),i=b.getGroupInvite(a),j=b.getUnstoredEditActionMsg(a.unstoredEditMsg),k=b.getUnstoredReceiverFetchInfo(a),l=b.getUnstoredGroupPollCreateInfo(a);b=b.getUnstoredDbGroupPollUpdateInfo(a);if(i==null)return{contentTypeForLogging:a.contentTypeForLogging,unstoredDbEditActionMsg:j,unstoredDbGroupPollCreateInfo:l,unstoredDbGroupPollUpdateInfo:b,unstoredDbMedia:e,unstoredDbMsg:c,unstoredDbRavenActionMsg:g,unstoredDbReaction:f,unstoredDbReceiverFetchInfo:k,unstoredXMA:h,xmaTargetTypeForLogging:a.xmaTargetTypeForLogging};else return{contentTypeForLogging:a.contentTypeForLogging,unstoredDbEditActionMsg:j,unstoredDbGroupPollCreateInfo:l,unstoredDbGroupPollUpdateInfo:b,unstoredDbMedia:e,unstoredDbMsg:c,unstoredDbRavenActionMsg:g,unstoredDbReaction:f,unstoredDbReceiverFetchInfo:k,unstoredIncomingDbGroupInvite:i,unstoredXMA:h,xmaTargetTypeForLogging:a.xmaTargetTypeForLogging}}g.unstoredContentToUnstoredDbContent=a}),98);
__d("MAWHandleEchoProtobufsRestoreApi",["EBLogger","EchoMessageMediaFieldUtils","EncryptedBackupsDYIMessageProcessingUtils","LSMEBTaskCreationSource","MAWJids","MAWMsg","MAWMsgType","MAWODSProxy","MAWUnstoredContentToUnstoredDbContentUtils","MessageBackupSupplementalKeyGenerator","WAAckLevel","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WABase64","WAConsumerApplication.pb","WAGlobals","WAHashUtils","WAJids","WAMediaTransport.pb","WAMsgApplication.pb","WAMsgType","WAOdsEnums","WAParseMediaTransportProtocol","WAParseMessageApplication","WAStanzaUtils","WATimeUtils","decodeProtobuf","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=d("EBLogger").EBLogger.tags(["ProtobufRestore"]);function a(a){var b=a.isMediaGalleryRestore,e=a.taskSource;b!=null&&b?(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.EB_RESTORE,key:"is_media_gallery_restore_param"}),D.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["isMediaGalleryRestore is deprecated. Consider using taskSource insted"]))),b=c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE):b=e!=null?e:c("LSMEBTaskCreationSource").UNKNOWN;return babelHelpers["extends"]({},a,{isMediaGalleryRestore:void 0,taskSource:b})}function E(a,b,c){c={author:c,chat:b,externalId:a};return c}function F(a,b,c,e,f,g,h,n,o,p,q,r,s,t,u,v){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(h==null){D.MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Text content cannot be null for msg type text - unable to restore msg"])));return}else{h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,msgContent:{content:h,mentionedJids:n!=null?n.map(d("WAJids").validateUserJid).filter(Boolean):void 0},ts:b,type:d("MAWMsgType").MSG_TYPE.TEXT};return h}else if(a===d("MAWMsgType").MSG_TYPE.VIDEO){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.VIDEO};return n}else if(a===d("MAWMsgType").MSG_TYPE.GIF){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.GIF};return h}else if(a===d("MAWMsgType").MSG_TYPE.IMAGE){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.IMAGE};return n}else if(a===d("MAWMsgType").MSG_TYPE.STICKER){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.STICKER};return h}else if(a===d("MAWMsgType").MSG_TYPE.PTT){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.PTT};return n}else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE};return h}else if(a===d("MAWMsgType").MSG_TYPE.XMA){n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,ts:b,type:d("MAWMsgType").MSG_TYPE.XMA};return n}else if(a===d("MAWMsgType").MSG_TYPE.REVOKED){if(o==null){D.MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["No revoked msg external id found for revoked msg"])));return}h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,ebTimestampMs:null,id:e,msgContent:void 0,revokedExternalId:o,ts:b,type:d("MAWMsgType").MSG_TYPE.REVOKED,unsendMsgContentDeleteTs:b};return h}else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE){n={ack:d("WAAckLevel").ACK.SENT,id:e,ts:b,type:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return n}else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH){o={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,ts:b,type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH};return o}else if(a===d("MAWMsgType").MSG_TYPE.RAVEN){if(p==null){D.MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No raven msg ephemeral type found for raven msg"])));return}if(q==null){D.MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["No raven msg media type found for raven msg"])));return}h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,id:e,mediaId:r,ravenEphemeralMediaState:d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN,ravenEphemeralType:p,ravenMediaType:q,ts:b,type:d("MAWMsgType").MSG_TYPE.RAVEN};return h}else if(a===d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE){if(s==null||t==null||u==null||v==null){D.MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] One of the mandatory fields is missing for the group poll creation msg"])));return}n={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,id:e,ts:b,type:d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE};return n}}function b(a,b,c,e,f){var g,h,i=a.metadata,j=a.msgType;if(i==null){D.MUSTFIX(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Missing required metadata, unable to create db msg from protobuf"])));return}if(j==null){D.MUSTFIX(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Missing required msg type, unable to create db msg from protobuf"])));return}var k=i.messageId;i=i.senderId;g=(g=a.decodedPayload)==null?void 0:g.text;h=(h=a.decodedPayload)==null?void 0:h.mentionedJid;if(k==null){D.MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Missing required message id, unable to create db msg from protobuf"])));return}if(i==null){D.MUSTFIX(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Missing required author, unable to create db msg from protobuf"])));return}var l=d("WATimeUtils").castMilliSecondsToUnixTime(a.sortOrderMs);i=d("MAWJids").toUserJid(i);var m=d("WAStanzaUtils").toStanzaId(k),t=i===c?d("WAJids").AUTHOR_ME:i,u=E(m,b,i);if(a.editMsgData.length>0){var v=l;a.editMsgData.forEach(function(a){var b;if(a.ts>v&&((b=a.editMsgContent.message)==null?void 0:b.text)!=null){v=a.ts;g=(b=a.editMsgContent.message)==null?void 0:b.text;h=(b=a.editMsgContent.message)==null?void 0:b.mentionedJid}})}u=F(j,l,t,u,a.isForwarded,a.forwardingScore,g,h,a.revokedMsgExternalId,a.ravenMsgEphemeralType,a.ravenMsgMediaType,(l=a.ravenUnstoredMedia)==null?void 0:l.plaintextHash,(t=a.groupPollInfo)==null?void 0:t.encKey,(u=a.groupPollInfo)==null?void 0:u.name,(l=a.groupPollInfo)==null?void 0:l.options,(t=a.groupPollInfo)==null?void 0:t.selectableOptionsCount);if(u==null){D.MUSTFIX(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Missing required fields, unable to create db msg from protobuf for thread jid "," and otid ",""])),b,m);return}var w;if(a.xmaData!=null&&((l=a.xmaData)==null?void 0:l.targetType)!=null){l={author:i,externalId:m,targetType:(t=a.xmaData)==null?void 0:t.targetType,threadJid:b};w={unstoredAssociatedMedia:void 0,unstoredAssociatedMsg:void 0,unstoredFavicon:void 0,unstoredHeaderMedia:void 0,unstoredPreviews:void 0,xma:l}}i={unstoredGroupPollCreateInfo:a.groupPollInfo,unstoredMedia:void 0,unstoredMsg:u,unstoredQuotedMedia:void 0,unstoredReceiverFetchInfo:a.receiverFetchInfo,unstoredXMA:w};u.type===d("MAWMsgType").MSG_TYPE.RAVEN&&a.ravenUnstoredMedia!=null&&(i.unstoredMedia=a.ravenUnstoredMedia);t=d("MAWUnstoredContentToUnstoredDbContentUtils").unstoredContentToUnstoredDbContent(i);if(t.unstoredDbMsg!=null){b=t.unstoredDbMsg;b.sortOrderMs=a.sortOrderMs;b.serverTs=d("WATimeUtils").castToUnixTime(a.sortOrderMs/1e3);a.noteReply!=null&&(b.quote={content:a.noteReply,remoteJid:void 0});l=e.get(k);b.author!=null&&c===b.author&&b.author!==d("WAJids").AUTHOR_SYSTEM&&(b.author=d("WAJids").AUTHOR_ME);l!=null&&(b.quoteExternalId=d("WAStanzaUtils").toStanzaId(l));j===d("MAWMsgType").MSG_TYPE.TEXT&&(b.editCount=a.editMsgData.length);u={author:b.author,stanzaId:m,unstoredDbContent:t};t.unstoredDbMedia!=null&&f!=null&&f.set(m,t.unstoredDbMedia);return u}D.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to create db msg from protobuf"])))}function G(a){switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.GIF;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.STICKER;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_MP4;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_WAV;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;default:return null}}function H(a){switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return d("EchoMessageMediaFieldUtils").AttachmentType.IMAGE;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return d("EchoMessageMediaFieldUtils").AttachmentType.GIF;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return d("EchoMessageMediaFieldUtils").AttachmentType.STICKER;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return d("EchoMessageMediaFieldUtils").AttachmentType.VIDEO;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return d("EchoMessageMediaFieldUtils").AttachmentType.PTT;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return d("EchoMessageMediaFieldUtils").AttachmentType.XMA;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:return d("EchoMessageMediaFieldUtils").AttachmentType.DOCUMENT;default:return null}}function I(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}function J(a){var b,e=I()?d("WAGlobals").getConfig().isOctetStreamAttachmentMimeTypeEnabled():c("gkx")("4644");switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:b="image/jpeg";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:b="audio/wav";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:b="video/mp4";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:b="image/gif";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:b="image/webp";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:b="image/jpeg";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:b=e?"application/octet-stream":"application/pdf";break;default:D.MUSTFIX(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Unsupported media type, cannot get mimetype for attachment"])))}return b}function K(a,b,c){var e,f,g,h,i,j,k,l,m,n;b=b;var o=a.ancillary,p=a.integral,q=p==null||(e=p.transport)==null||(e=e.integral)==null?void 0:e.fileSha256,r=p==null||(f=p.transport)==null||(f=f.integral)==null?void 0:f.fileEncSha256,s=p==null||(g=p.transport)==null||(g=g.integral)==null?void 0:g.mediaKey,t=(p==null||(h=p.transport)==null||(h=h.integral)==null?void 0:h.mediaKeyTimestamp)!=null?typeof (p==null||(i=p.transport)==null?void 0:i.integral.mediaKeyTimestamp)==="number"?p==null||(j=p.transport)==null?void 0:j.integral.mediaKeyTimestamp:void 0:void 0,w=o==null?void 0:o.gifPlayback;w!=null&&w&&(b=d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF);w=p==null||(k=p.transport)==null||(k=k.ancillary)==null||(k=k.thumbnail)==null?void 0:k.thumbnailHeight;var x=p==null||(l=p.transport)==null||(l=l.ancillary)==null||(l=l.thumbnail)==null?void 0:l.thumbnailWidth,y=G(b),z=H(b);if(z===null){D.MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Invalid attachment type, cannot restore attachment"])));return}a=d("EncryptedBackupsDYIMessageProcessingUtils").decodeMediaEntryFromAttachmentPayload(a,z===d("EchoMessageMediaFieldUtils").AttachmentType.XMA,c);a.success||D.WARN(v||(v=babelHelpers.taggedTemplateLiteralLoose(["Cannot generate media entry data, ",""])),a.error);z={attachmentObjectId:p==null||(m=p.transport)==null||(m=m.ancillary)==null?void 0:m.objectId,attachmentType:z,directPath:p==null||(n=p.transport)==null||(n=n.integral)==null?void 0:n.directPath,encryptedHash:r!=null?d("WAHashUtils").toPlaintextHash(r):void 0,filename:c,height:o==null?void 0:o.height,mediaEntryData:a.value,mediaKey:s!=null?d("WABase64").encodeB64UrlSafe(s):void 0,mediaKeyTimestamp:t,mediaPlayableDuration:o==null?void 0:o.seconds,plaintextHash:q!=null?d("WAHashUtils").toPlaintextHash(q):void 0,width:o==null?void 0:o.width,xAttachmentType:b,xContentType:"full"};p=J(b);p!=null&&(z.mediaContentType=p);y!=null&&(z.previewContentType=y,z.previewContentHeight=w,z.previewContentWidth=x);return d("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(z,"protobuf")}function L(a,b,c){var e;b=K(a,b,c);if(b==null)return{mediaMetadata:void 0,previewMetadata:null};c=a.integral;a=null;c=c==null||(e=c.transport)==null||(e=e.ancillary)==null||(e=e.thumbnail)==null?void 0:e.downloadableThumbnail;if(c!=null){var f=c.fileSha256,g=c.fileEncSha256,h=c.mediaKey,i=typeof c.mediaKeyTimestamp==="number"?c.mediaKeyTimestamp:void 0;a={attachmentObjectId:c.objectId,attachmentType:d("EchoMessageMediaFieldUtils").AttachmentType.IMAGE,directPath:c.directPath,encryptedHash:g!=null?d("WAHashUtils").toPlaintextHash(g):void 0,filename:void 0,height:void 0,mediaKey:h!=null?d("WABase64").encodeB64UrlSafe(h):void 0,mediaKeyTimestamp:i,mediaPlayableDuration:void 0,plaintextHash:f!=null?d("WAHashUtils").toPlaintextHash(f):void 0,width:void 0,xAttachmentType:d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.MESSENGER_PREVIEW,xContentType:"preview"};return{mediaMetadata:b,previewMetadata:d("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(a,"protobuf")}}return{mediaMetadata:b,previewMetadata:null}}function M(a,b,c,e,f,g){g===void 0&&(g=null),b!=null&&a!=null&&(c.push({mediaMetadata:b,mediaRestoreType:e,previewMetadata:g}),f.set(d("WAStanzaUtils").toStanzaId(a),c))}function N(a){switch(a){case 0:return d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE;case 1:return d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY;case 2:return d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT;default:return void 0}}function O(a,b,c,e,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v=Q(a,g,h,i),B=v==null||(m=v.obj.payload)==null?void 0:m.content,C={editMsgData:[],externalId:e,forwardingScore:(n=v==null||(o=v.metadata)==null?void 0:o.forwardingScore)!=null?n:0,isForwarded:(n=v==null||(p=v.metadata)==null?void 0:p.isForwarded)!=null?n:!1,metadata:a.metadata,reactionData:[],sortOrderMs:b,unknownFieldCount:a.$$unknownFieldCount},E=[];if(B!=null){if(B.messageText!=null){C.msgType=d("MAWMsgType").MSG_TYPE.TEXT;C.decodedPayload=B.messageText;return C}else if(B.extendedContentMessage!=null){C.msgType=d("MAWMsgType").MSG_TYPE.XMA;C.xmaData=B.extendedContentMessage;if(((n=B.extendedContentMessage)==null?void 0:n.headerImage)!=null){n=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,(b=B.extendedContentMessage)==null?void 0:b.headerImage.payload);b=K(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);M(e,b,E,"xma_header",j)}if(((n=B.extendedContentMessage)==null?void 0:n.favicon)!=null){n=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,(b=B.extendedContentMessage)==null?void 0:b.favicon.payload);b=K(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);M(e,b,E,"xma_favicon",j)}if(((n=B.extendedContentMessage)==null?void 0:n.previews)!=null){(b=B.extendedContentMessage)==null||b.previews.forEach(function(a){a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,a.payload);a=K(a,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);C.mediaMetadata=a;M(e,a,E,"xma_preview",j)})}return C}else if(B.audioMessage!=null){b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").AudioTransportSpec,(n=B.audioMessage)==null||(n=n.audio)==null?void 0:n.payload);n=K(b,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO);C.msgType=d("MAWMsgType").MSG_TYPE.PTT;C.mediaMetadata=n;M(e,n,E,"attachment",j);return C}else if(B.videoMessage!=null){b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,(b=B.videoMessage)==null||(b=b.video)==null?void 0:b.payload);b=L(b,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO);var F=b.mediaMetadata;b=b.previewMetadata;n=F;n!=null&&n.xAttachmentType===d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?C.msgType=d("MAWMsgType").MSG_TYPE.GIF:C.msgType=d("MAWMsgType").MSG_TYPE.VIDEO;C.mediaMetadata=n;M(e,n,E,"attachment",j,b);return C}else if(B.imageMessage!=null){b=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(F=B.imageMessage)==null||(F=F.image)==null?void 0:F.payload);F=L(b,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);b=F.mediaMetadata;F=F.previewMetadata;n=b;C.msgType=d("MAWMsgType").MSG_TYPE.IMAGE;C.mediaMetadata=n;M(e,n,E,"attachment",j,F);return C}else if(B.stickerMessage!=null){F=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,(b=B.stickerMessage)==null||(b=b.sticker)==null?void 0:b.payload);if(((b=F.integral)==null?void 0:b.receiverFetchId)!=null){b=d("WAParseMediaTransportProtocol").parseStickerReceiverFetchInfo(F);if(b==null){D.MUSTFIX(w||(w=babelHelpers.taggedTemplateLiteralLoose(["[MAWHandleEchoProtobufsRestoreApi] consumerMessage has no sticker receiver fetch info"])));return C}C.msgType=d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH;C.receiverFetchInfo=b;return C}n=K(F,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER);C.msgType=d("MAWMsgType").MSG_TYPE.STICKER;C.mediaMetadata=n;M(e,n,E,"attachment",j);return C}else if(B.documentMessage!=null){F=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").DocumentTransportSpec,(b=B.documentMessage)==null||(b=b.document)==null?void 0:b.payload);n=K(F,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT,(b=B.documentMessage)==null?void 0:b.fileName);C.msgType=d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE;C.mediaMetadata=n;M(e,n,E,"attachment",j);return C}}else if((v==null||(q=v.obj.payload)==null||(q=q.applicationData)==null?void 0:q.revoke)!=null){var G;F=v==null||(G=v.obj.payload)==null||(G=G.applicationData)==null||(G=G.revoke)==null||(G=G.key)==null?void 0:G.id;if(F==null)D.MUSTFIX(x||(x=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve revoked message external id"])));else{C.revokedMsgExternalId=d("WAStanzaUtils").toStanzaId(F);C.msgType=d("MAWMsgType").MSG_TYPE.REVOKED;return C}}if((v==null||(r=v.obj.payload)==null||(r=r.content)==null?void 0:r.bumpExistingMessage)!=null){var H;B=v==null||(H=v.obj.payload)==null||(H=H.content)==null?void 0:H.bumpExistingMessage;F=(b=B.key)==null?void 0:b.id;F!=null&&(h.has(F)||g.add(F),i.set(e,F));h=(b=B.key)==null?void 0:b.participant;if(h==null){h=(g=B.key)==null?void 0:g.remoteJid}if(h==null)D.MUSTFIX(y||(y=babelHelpers.taggedTemplateLiteralLoose(["No author found for original message that was bumped - unable to restore"])));else{i=d("WAJids").unsafeCoerceToUserJid(h);F=i===c?d("WAJids").AUTHOR_ME:i;k.set(d("WAStanzaUtils").toStanzaId(e),F);C.msgType=d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;return C}}if((v==null||(s=v.obj)==null||(s=s.payload)==null||(s=s.content)==null?void 0:s.noteReplyMessage)!=null){var I;b=v==null||(I=v.obj)==null||(I=I.payload)==null||(I=I.content)==null?void 0:I.noteReplyMessage;B=b.noteTimestampMs;g=b.noteText;i=(h=a.metadata)==null?void 0:h.senderId;if(B!=null&&typeof B==="number"&&i!=null&&f!=null){k=d("MAWJids").toUserJid(i);F=d("MAWJids").toUserJid(f);a=F===k?c:F;h={author:a===c?d("WAJids").AUTHOR_ME:a,externalId:d("WAStanzaUtils").toStanzaId(e),ts:d("WATimeUtils").castMilliSecondsToUnixTime(B),type:d("WAMsgType").NOTE_REPLY};if((g==null?void 0:g.text)!=null){i={content:g==null?void 0:g.text,mentionedJids:g==null?void 0:g.mentionedJid.map(function(a){return d("MAWJids").toUserJid(a)})};h.msgContent=i}C.noteReply=h}if(b.textContent!=null){C.msgType=d("MAWMsgType").MSG_TYPE.TEXT;C.decodedPayload=b.textContent;return C}else if(b.stickerContent!=null){f=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,b.stickerContent.payload);n=K(f,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER);C.msgType=d("MAWMsgType").MSG_TYPE.STICKER;C.mediaMetadata=n;M(e,n,E,"attachment",j);return C}else if(b.videoContent!=null){k=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,b.videoContent.payload);n=K(k,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO);n!=null&&n.xAttachmentType===d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?C.msgType=d("MAWMsgType").MSG_TYPE.GIF:C.msgType=d("MAWMsgType").MSG_TYPE.VIDEO;C.mediaMetadata=n;M(e,n,E,"attachment",j);return C}}if((v==null||(t=v.obj)==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.ravenMessageMsgr)!=null){var J,O,R;C.ravenMsgEphemeralType=N(v==null||(J=v.obj)==null||(J=J.payload)==null||(J=J.content)==null||(J=J.ravenMessageMsgr)==null?void 0:J.ephemeralType);if((v==null||(O=v.obj)==null||(O=O.payload)==null||(O=O.content)==null||(O=O.ravenMessageMsgr)==null?void 0:O.imageMessage)!=null){if(l==null||!l){var S;C.ravenUnstoredMedia=d("WAParseMediaTransportProtocol").decodeImageTransport(v==null||(S=v.obj)==null||(S=S.payload)==null||(S=S.content)==null||(S=S.ravenMessageMsgr)==null||(S=S.imageMessage)==null?void 0:S.payload,d("WATimeUtils").castMilliSecondsToUnixTime(C.sortOrderMs),"image")}C.ravenMsgMediaType=d("MAWMsg").MAWRavenMsgMediaType.IMAGE}else if((v==null||(R=v.obj)==null||(R=R.payload)==null||(R=R.content)==null||(R=R.ravenMessageMsgr)==null?void 0:R.videoMessage)!=null){if(l==null||!l){var T;F=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").VideoTransportSpec,v==null||(T=v.obj)==null||(T=T.payload)==null||(T=T.content)==null||(T=T.ravenMessageMsgr)==null||(T=T.videoMessage)==null?void 0:T.payload);c=d("WAParseMediaTransportProtocol").parseVideoMsg(F,d("WATimeUtils").castMilliSecondsToUnixTime(C.sortOrderMs),!1);c!=null?C.ravenUnstoredMedia=c:D.MUSTFIX(z||(z=babelHelpers.taggedTemplateLiteralLoose(["Decoded raven video unstored message is null - unable to restore"])))}C.ravenMsgMediaType=d("MAWMsg").MAWRavenMsgMediaType.VIDEO}C.msgType=d("MAWMsgType").MSG_TYPE.RAVEN;return C}else if((v==null||(u=v.obj)==null||(u=u.payload)==null||(u=u.content)==null?void 0:u.pollCreationMessage)!=null){C.msgType=d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE;a=v.obj.payload.content.pollCreationMessage;B=a.encKey;g=a.name;i=a.options;h=a.selectableOptionsCount;B!=null&&g!=null&&i!=null&&(C.groupPollInfo={encKey:B,name:g,options:i.map(function(a){a=a.optionName;return a}).filter(Boolean),selectableOptionsCount:h||0});return C}v!=null&&P(C,v.obj);D.MUSTFIX(A||(A=babelHelpers.taggedTemplateLiteralLoose(["Unable to retrieve decoded protobuf from backup message - unsupported message type"])));return C}function P(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;(b==null||(c=b.payload)==null||(c=c.content)==null?void 0:c.locationMessage)!=null&&(a.futureProofMessageType="locationMessage");(b==null||(d=b.payload)==null||(d=d.content)==null?void 0:d.liveLocationMessage)!=null&&(a.futureProofMessageType="liveLocationMessage");(b==null||(e=b.payload)==null||(e=e.content)==null?void 0:e.pollUpdateMessage)!=null&&(a.futureProofMessageType="pollUpdateMessage");(b==null||(f=b.payload)==null||(f=f.content)==null?void 0:f.viewOnceMessage)!=null&&(a.futureProofMessageType="viewOnceMessage");(b==null||(g=b.payload)==null||(g=g.content)==null?void 0:g.contactMessage)!=null&&(a.futureProofMessageType="contactMessage");(b==null||(h=b.payload)==null||(h=h.content)==null?void 0:h.extendedTextMessage)!=null&&(a.futureProofMessageType="extendedTextMessage");(b==null||(i=b.payload)==null||(i=i.content)==null?void 0:i.groupInviteMessage)!=null&&(a.futureProofMessageType="groupInviteMessage");(b==null||(j=b.payload)==null||(j=j.content)==null?void 0:j.commonSticker)!=null&&(a.futureProofMessageType="commonSticker");(b==null||(k=b.payload)==null||(k=k.content)==null?void 0:k.screenshotAction)!=null&&(a.futureProofMessageType="screenshotAction");(b==null||(l=b.payload)==null||(l=l.content)==null?void 0:l.extendedMessageContentWithSear)!=null&&(a.futureProofMessageType="extendedMessageContentWithSear");(b==null||(m=b.payload)==null||(m=m.content)==null?void 0:m.imageGalleryMessage)!=null&&(a.futureProofMessageType="imageGalleryMessage");(b==null||(n=b.payload)==null||(n=n.content)==null?void 0:n.paymentsTransactionMessage)!=null&&(a.futureProofMessageType="paymentsTransactionMessage");(b==null||(o=b.payload)==null||(o=o.applicationData)==null?void 0:o.metadataSync)!=null&&(a.futureProofMessageType="metadataSync");(b==null||(p=b.payload)==null||(p=p.applicationData)==null?void 0:p.aiBotResponse)!=null&&(a.futureProofMessageType="aiBotResponse")}function Q(a,b,c,e){var f;f=(f=a.metadata)==null?void 0:f.messageId;a=d("decodeProtobuf").decodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a.encryptedTransportMessage);var g=d("WAParseMessageApplication").parseMessageApplication(a);if(g.type==="error"){D.MUSTFIX(B||(B=babelHelpers.taggedTemplateLiteralLoose(["Message contains unparseable message application - unable to restore message"])));return}a=a.metadata;var h=a==null?void 0:a.quotedMessage;h=h==null?void 0:h.stanzaId;f!=null&&h!=null&&(c.has(h)||b.add(h),e.set(f,h));if(g.subprotocolType==="armadillo"){c=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAArmadilloApplication.pb").ArmadilloSpec,g.payload);return{metadata:a,obj:c}}else if(g.subprotocolType==="consumerMessage")return{metadata:a,obj:d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAConsumerApplication.pb").ConsumerApplicationSpec,g.payload)}}function e(a,b,c,d,e,f,g,h,i){return a.map(function(a){return R(a,b,c,d,e,f,g,h,i)})}function R(a,b,c,e,f,g,h,i,j){g===void 0&&(g=new Map());var k=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a.toplevelProtobuf.decryptedProtobuf);k=O(k,a.toplevelProtobuf.protobufTimestampMS,b,a.otid,c,e,f,g,h,i,j);c=a.supplementalProtobufs;for(h of c){i=h[0];j=h[1];c=d("MessageBackupSupplementalKeyGenerator").parseIdentifierString(i);d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_EB_DECODE_MESSAGE_PROTOBUF_SUPPLEMENTAL,key:c.type});var l=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,j.decryptedProtobuf);if(l.encryptedTransportMessage==null)continue;switch(c.type){case"raven_action_message":var m=Q(l,e,f,g),n=c.senderJid;n=n===b?d("WAJids").AUTHOR_ME:n;if(m!=null){var o,p,q;m=m.obj;o=(o=m.payload)==null||(o=o.content)==null||(o=o.ravenActionNotifMessage)==null?void 0:o.actionTimestamp;p=(p=m.payload)==null||(p=p.content)==null||(p=p.ravenActionNotifMessage)==null?void 0:p.actionType;if(o!=null&&p!=null&&typeof o==="number"&&((q=m.payload)==null||(q=q.content)==null||(q=q.ravenActionNotifMessage)==null||(q=q.key)==null?void 0:q.id)!=null){m=d("WAStanzaUtils").toStanzaId((q=m.payload)==null||(q=q.content)==null||(q=q.ravenActionNotifMessage)==null||(q=q.key)==null?void 0:q.id);if(((q=l.metadata)==null?void 0:q.timestampMs)!=null&&typeof ((q=l.metadata)==null?void 0:q.timestampMs)==="number"&&((q=l.metadata)==null?void 0:q.messageId)!=null){var r;q=(q=l.metadata)==null?void 0:q.messageId;r=d("WATimeUtils").castMilliSecondsToUnixTime((r=l.metadata)==null?void 0:r.timestampMs);q=d("WAStanzaUtils").toStanzaId(q);p=p===0?d("MAWMsg").MAWRavenActionNotifType.PLAYED:p===1?d("MAWMsg").MAWRavenActionNotifType.SCREENSHOTTED:d("MAWMsg").MAWRavenActionNotifType.FORCE_DISABLED;o={ack:d("WAAckLevel").ACK.RECEIVED,actionTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(o),actionType:p,author:n,externalId:q,ravenActionToMsgExternalId:m,ts:r,type:d("MAWMsgType").MSG_TYPE.RAVEN_ACTION};k.ravenActionUnstoredMsg=o}}}break;case"reaction":n=(p=l.metadata)==null?void 0:p.messageId;m=(q=Q(l,e,f,g))==null||(q=q.obj.payload)==null||(q=q.content)==null?void 0:q.reactionMessage;r=d("WAJids").extractUserId(c.senderJid);m!=null&&r!=null&&k.reactionData.push({reaction:m,reactionExternalId:n,senderId:r,ts:d("WATimeUtils").castMilliSecondsToUnixTime(j.protobufTimestampMS)});break;case"edit":p=(o=Q(l,e,f,g))==null||(o=o.obj.payload)==null||(o=o.content)==null?void 0:o.editMessage;m=(q=l.metadata)==null?void 0:q.senderId;if(p!=null){r=(n=p.key)==null?void 0:n.id;j=p.timestampMs;if(r!=null&&j!=null&&m!=null&&typeof j==="number"){o=d("MAWJids").toUserJid(m);q=o===b?d("WAJids").AUTHOR_ME:o;k.editMsgData.push({author:q,editMsgContent:p,externalId:d("WAStanzaUtils").toStanzaId(k.externalId),originalMsgExternalId:d("WAStanzaUtils").toStanzaId(r),ts:d("WATimeUtils").castMilliSecondsToUnixTime(j)})}}break;case"poll_update":n=Q(l,e,f,g);if(n==null)continue;o=(m=n.obj.payload)==null||(m=m.content)==null?void 0:m.pollUpdateMessage;if(o!=null){q={externalId:d("WAStanzaUtils").toStanzaId(c.rawIdentifierString)};o.addOption!=null&&(q.addOption=o.addOption);o.vote!=null&&(q.vote=o.vote);o.pollCreationMessageKey!=null&&(q.pollCreationMessageKey=o.pollCreationMessageKey);k.groupPollUpdateData!=null?k.groupPollUpdateData.push(q):k.groupPollUpdateData=[q]}break;case"unknown":p=i.split(":");r=p[0];D.MUSTFIX(C||(C=babelHelpers.taggedTemplateLiteralLoose(["Unknown supplemental identifier. Identifier prefix: ",". Parts: ",""])),r||"null",p.length);break;default:c.type}}f.add(a.otid);return k}g.removeDeprecatedProtobufRestoreArgs=a;g.createUnstoredDbContentFromProtobufObject=b;g.decodeProtobufArray=e;g.decodeDecryptedMessageProtobuf=R}),98);
__d("MAWEBUnstoredDbMsgUtils",["EBLogger","MAWHandleEBRestoreWithHIM","MAWHandleEchoProtobufsRestoreApi","MAWMessageSortOrderUtils","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("EBLogger").EBLogger.tags(["restore","MAWEBUnstoredDbMsgUtils"]);function a(a,b,c,e){var f=c!=null?c:b!=null?d("WAJids").unsafeCoerceToChatJid(b):void 0;if(f==null){j.mustfix("threadId and chatJid are both null - cannot convert protobuf to unstoredDbMsg");return[]}return d("MAWHandleEchoProtobufsRestoreApi").decodeProtobufArray(a,e,void 0,new Set(),new Set(),new Map(),new Map(),new Map(),!0).map(function(a){var b;if((a==null||(b=a.metadata)==null?void 0:b.messageId)!=null)try{var c=d("MAWHandleEchoProtobufsRestoreApi").createUnstoredDbContentFromProtobufObject(a,f,e,new Map(),void 0);if(c!=null&&c.unstoredDbContent.unstoredDbMsg!=null){c=c.unstoredDbContent.unstoredDbMsg;var g=d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder(c);c.sortOrderMs=g;return c}}catch(b){j.MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert protobuf to unstored db message: type: "," error: ",""])),a.msgType,b.message)}return null}).filter(Boolean)}function b(a,b){return d("MAWHandleEBRestoreWithHIM").convertEchoMessages(a,b).map(function(a){var b;if(a==null||a.length===0||((b=a[0].decodedMsg)==null?void 0:b.unstoredDbMsg)==null){j!=null&&j.MUSTFIX(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert echo message to unstored db message"])));return null}return(b=a[0].decodedMsg)==null?void 0:b.unstoredDbMsg}).filter(Boolean)}g.getUnstoredDbMsgFromProtobuf=a;g.getUnstoredDbMsgFromEcho=b}),98);
__d("MAWFTSIsMessageValidForSearch",["MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0}function a(a){var b=a.msgContent,c=a.sortOrderMs,e=a.type;b=b==null?void 0:b.content;if(b==null||c==null)return null;if(e!==d("MAWMsgType").MSG_TYPE.TEXT&&e!==d("MAWMsgType").MSG_TYPE.XMA)return null;return h(a)?null:{content:b,sortOrderMs:c}}g.verifyMessageValidity=a}),98);
__d("WACryptoAesGcm",["WABinary","WACryptoDependencies"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,c,e,f){f===void 0&&(f=16);b={name:"AES-GCM",iv:i(b),tagLength:f*8};e!=null&&(b.additionalData=i(e));return d("WACryptoDependencies").getCrypto().subtle.encrypt(b,await h(a),c)}async function b(a,b,c,e,f){f===void 0&&(f=16);b={name:"AES-GCM",iv:i(b),tagLength:f*8};e!=null&&(b.additionalData=i(e));return d("WACryptoDependencies").getCrypto().subtle.decrypt(b,await h(a),c)}function h(a){return d("WACryptoDependencies").getCrypto().subtle.importKey("raw",a,"AES-GCM",!1,["encrypt","decrypt"])}function i(a){if(a instanceof Uint8Array)return a;if(typeof a==="string"){var b=new(d("WABinary").Binary)();b.writeString(a);return b.readByteArrayView()}return new Uint8Array(a)}g.gcmEncrypt=a;g.gcmDecrypt=b}),98);
__d("WAUseCaseSecret",["$InternalEnum","WABinary","WACryptoHkdf"],(function(a,b,c,d,e,f,g){"use strict";c=b("$InternalEnum")({POLL_VOTE:"Poll Vote",ENC_REACTION:"Enc Reaction",ENC_COMMENT:"Enc Comment",REPORT_TOKEN:"Report Token",EVENT_RESPONSE:"Event Response",EVENT_EDIT_ENCRYPTED:"Event Edit"});var h=32;function a(a){var b=a.messageSecret,c=a.stanzaId,e=a.parentMsgOriginalSender,f=a.modificationSender;a=a.modificationType;c=d("WABinary").Binary.build(c,e,f,a).readBuffer();return d("WACryptoHkdf").extractAndExpand(b instanceof ArrayBuffer?new Uint8Array(b):b,c,h)}g.UseCaseSecretModificationType=c;g.createUseCaseSecret=a}),98);
__d("MAWGroupPollsDualEncryptionUtils",["MAWDbPoll","WABase64","WAConsumerApplication.pb","WACryptoAesGcm","WACryptoSha256","WAResultOrError","WAUseCaseSecret","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,c){if(a.encIv==null||a.encPayload==null)return d("WAResultOrError").makeError("invalid_poll_enc_value");var e=a.encIv;a=a.encPayload;try{b=await d("WACryptoAesGcm").gcmDecrypt(b,e,a,c);return d("WAResultOrError").makeResult(b)}catch(a){return d("WAResultOrError").DEPRECATED_makeError("decryption_error",a)}}async function i(a,b,c){try{var e=self.crypto.getRandomValues(new Uint8Array(12));b=await d("WACryptoAesGcm").gcmEncrypt(b,e,a,c);return d("WAResultOrError").makeResult({encIv:e.buffer,encPayload:b})}catch(a){return d("WAResultOrError").DEPRECATED_makeError("encryption_error",a)}}function j(a,b){a=a+"\0"+b;return new TextEncoder().encode(a).buffer}async function a(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=await d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f});e=j(b,g);f=d("encodeProtobuf").encodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollVoteMessageSpec,a).readBuffer();return i(f,c,e)}async function b(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=await d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f});e=j(b,g);f=await h(a,c,e);if(!f.success)return f;try{return d("WAResultOrError").makeResult(d("decodeProtobuf").decodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollVoteMessageSpec,f.value))}catch(a){return d("WAResultOrError").DEPRECATED_makeError("protobuf_decode_error",a)}}async function c(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=await d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f});e=j(b,g);f=d("encodeProtobuf").encodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollAddOptionMessageSpec,a).readBuffer();return i(f,c,e)}async function e(a,b){var c=b.pollCreationMessageKey,e=b.pollCreationSenderJid,f=b.pollCreationStanzaId,g=b.pollUpdateSenderJid;b=b.pollUpdateStanzaId;c=await d("WAUseCaseSecret").createUseCaseSecret({messageSecret:c,modificationSender:g,modificationType:d("WAUseCaseSecret").UseCaseSecretModificationType.POLL_VOTE,parentMsgOriginalSender:e,stanzaId:f});e=j(b,g);f=await h(a,c,e);if(!f.success)return f;try{return d("WAResultOrError").makeResult(d("decodeProtobuf").decodeProtobuf(d("WAConsumerApplication.pb").ConsumerApplication$PollAddOptionMessageSpec,f.value))}catch(a){return d("WAResultOrError").DEPRECATED_makeError("protobuf_decode_error",a)}}async function f(a){a=await d("WACryptoSha256").sha256(new TextEncoder("utf8").encode(a));return k(a)}function k(a){return d("MAWDbPoll").convertStringToOptionHash(d("WABase64").encodeB64(a))}g.encryptGroupPollVote=a;g.decryptGroupPollVote=b;g.encryptGroupPollAddOption=c;g.decryptGroupPollAddOption=e;g.getHashForOptionName=f;g.getBase64EncodedHash=k}),98);/*FB_PKG_DELIM*/
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4])):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[19]=c[0].get("last_sync_request_timestamp_ms"),c[20]=c[0].get("can_ignore_timestamp"),c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[38]=c[0].get("sync_params"),c[39]=c[0].get("current_cursor"),c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4]}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure";a.__tables__=["sync_groups","network_requests"];e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSyncForSyncGroup"),e.syncGroupId,e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSync"),e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function a(){return d("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(h).load()}g["default"]=a}),98);
__d("LSPlatformClientInit",["LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeEagerly","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","cr:3411","cr:7705","emptyFunction","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);i.debug("Platform client sync connection status: ",b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":76"),function(){i.debug("Platform client sync connection status set successfully")},function(a){i.error("Platform client sync connection status set failed: "+(a==null?void 0:a.message));throw a})}async function a(a,e,f,g,h,l){var m;i.debug("Platform client sync starting...");(m=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();m.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");m.addPoint("ds_eval_registration");g=await e.getEval();i.debug("Getting datascript evaluator success");var n;try{n=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("recoverableViolation")("fail to register datascriptEvaluator","ls_web_init",{error:b}),n=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");l.didEvaluateInitSyncEagerly||(await d("LSClearEpochBeforeResumeSync").call(a),i.debug("Clearing epoch before resume sync success"),d("LSPlatformLsInitLog").addPoint("create_client_end"),e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),await d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,n,a,f),i.debug("Starting hard-coded init sync success")));d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a));i.debug("Starting realtime transport");m=await e.realtimeUnderylingTransport();var o=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(m,e.appId,f);i.debug("Starting task system");var p=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,o,n,e.schemaVersion));i.debug("Starting sync system");var q=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeEagerly")(),function(b){q=b(a,o,n,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var r=j(a),s;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){s=a}));i.debug("Subscribing to mqtt sync status change events");o.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");d("LSPlatformLsInitLog").endSuccess();return{cleanup:function(){var b;i.debug("Platform client sync cleaning up");h(a);p==null||p.cleanup();(b=q)==null||b.cleanup();o.cleanup();r();s==null||s()},db:a}}g.init=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","cr:10018","emptyFunction","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction").thatReturns(Promise.resolve());function j(a,b,e){var f,g=async function(){var g=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");f=await d("LSPlatformClientInit").init(a,b,g,c("emptyFunction"),c("emptyFunction"),e)};return{cleanup:function(){var a;(a=f)==null||a.cleanup()},db:a,start:g}}async function k(a,e,f){if(b("cr:10018")==null)throw c("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=await b("cr:10018").make(a,e,f);e.isTabWithoutClient()===!0&&(d("MAWMIC").addPoint("ls_init_end"),d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end),d("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:i}}async function a(a,e){d("LSPlatformLsInitLog").addPoint("make_client");if((h||(h=c("ExecutionEnvironment"))).canUseDOM){d("LSPlatformLsInitLog").addPoint("create_client_get_db");var f=await a.getDb();d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(f)&&b("cr:10018")!==null)try{return k(f,a,e)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return j(f,a,e)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:i}}g.make=a}),98);
__d("LSPlatformDGWTransport",["DGWClient","DGWLoggingContext","DGWStream","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","LSStreamGroupRef","MWPBumpEntityKey","MessengerWebRegion","MqttConfig","NetworkStatus","QuickPerformanceLogger","Random","gkx","promiseDone","qex","qpl","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("3218"),k=c("gkx")("12101"),l=(b=c("qex")._("4523"))!=null?b:!1,m=(e=c("qex")._("4859"))!=null?e:!1,n=(f=c("qex")._("4860"))!=null?f:!1,o=(b=c("qex")._("3293"))!=null?b:!1,p=(e=c("qex")._("3269"))!=null?e:!1,q=c("qpl")._(701246226,"1285"),r=15,s=0,t=!1,u=new Map(),v=null,w=!1,x=!1,y=null;function z(a){a=1*Math.pow(2,a);a=Math.max(a,1);a=Math.min(a,64);return Math.ceil(a*(1e3+d("Random").random()*200))}function A(a,b,e,f){var g;if(w){var h;(h=d("LSStreamGroupRef").streamGroupRef.current)==null||h.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","","deviceId:"+a);return}w=!0;h=z(s++);n&&s>r&&(s=0);var i="deviceId:"+a+", reconnectMs:"+h+", attempt:"+s+", isClosedLocally:"+String(x);(g=d("LSStreamGroupRef").streamGroupRef.current)==null||g.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect","",i);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect");y=c("setTimeout")(function(){B(a,b,e,f),w=!1},h)}function B(a,b,e,f){var g=c("uuidv4")(),h={authToken:e,authType:f,deviceId:a,keepAliveMs:15e3,loggingId:g,serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:j};k&&(h.trafficTracing=g);d("MessengerWebRegion").regionNullable!=null&&(h.regionHint=d("MessengerWebRegion").regionNullable);g={onStreamGroupError:function(b){var c;d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Error"));(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b));d("DGWStreamGroupCallbacks").isRetryableError(b)?(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),A(a,"reconnect_on_streamgrouperror."+d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),e,f)):d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(b){var c;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+b);(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain",b,"deviceId:"+a);A(a,"reconnect_on_streamgroupmustdrain",e,f)},onStreamGroupTransportClose:function(){var b;d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Close"));(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+a);A(a,"onStreamGroupTransportClose",e,f)}};u.clear();d("LSStreamGroupRef").streamGroupRef.status="Connecting";g=c("DGWClient")().createStreamGroup(g,h);h="deviceId:"+a+", runtime_site_is_comet_fb_web:"+String(c("gkx")("2116"))+", endpoint:"+c("MqttConfig").endpoint+", reason:"+b;g.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport","",h);c("promiseDone")(g.initTransport(),function(c){d("LSLogHistory").log("StreamGroupTransport Connected","debug");d("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(d("LSStreamGroupRef").streamGroupRef.status="Connected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Connected"));t&&(d("LSStreamGroupRef").streamGroupRef.reconnectHandler&&d("LSStreamGroupRef").streamGroupRef.reconnectHandler(3));t=!0;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","","deviceId:"+a+", reason:"+b);(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"BufferFlushed","",String(d("LSStreamGroupRef").streamGroupRef.publishBuffer.size));s=0;d("LSStreamGroupRef").streamGroupRef.publishBuffer.forEach(function(a,b,c){a.resolve(),d("LSStreamGroupRef").streamGroupRef.publishBuffer.delete(b)})},function(b){var c;d("LSLogHistory").log("StreamGroupTransport onError","debug");d("LSStreamGroupRef").streamGroupRef.publishBuffer.clear();d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected",b));(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError");b!==d("DGWStream").StreamError.UNAUTHORIZED&&A(a,"reconnect_on_streamgrouptransportonerror."+String(b),e,f)});d("LSStreamGroupRef").streamGroupRef.current=g;return d("LSStreamGroupRef").streamGroupRef.current}async function C(a,b,e,f){e===void 0&&(e=!0);var g=d("LSStreamGroupRef").streamGroupRef.current;if(g==null)throw c("FBLogger")("ls_web_init").mustfixThrow("LS Stream Group not initialized");var h=new TextDecoder(),i={};d("LSPlatformDGWHostnameOverride").useHostNameOverride&&d("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(i["javascript-sandbox"]=d("LSPlatformDGWHostnameOverride").hostNameOverride);try{var k=c("uuidv4")();g=await g.establishStream({groupedStreamHeaders:i,loggingId:k,verboseLoggingEnabled:j},{onClose:function(){d("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(a){var b=h.decode(a);b.length>0&&d("LSStreamGroupRef").streamGroupRef.subscribers.forEach(function(a){a(b)})},onError:function(a){d("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(a){d("LSLogHistory").log("Stream finished sending data","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),a.close()},onStreamMustDrain:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),d("LSLogHistory").log("Stream must drain","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),a.close()}},b,e,f);d("LSLogHistory").log("Stream Connected","debug");return g}catch(b){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+a);d("LSLogHistory").log("Error Establishing Stream. Disconnected","debug");throw b}}var D="Disconnected";f=function(){return D};function a(a,b,c,d){v||(v=E(a,b,"init_single_transport_instance",c,d));return v}function E(a,b,e,f,g){var j=new TextEncoder();B(b,e,f,g);var k=c("NetworkStatus").onChange(function(a){a=a.online;m&&a&&(y!=null&&(window.clearTimeout(y),y=null,w=!1,s=0,A(b,"network_status_change",f,g)))});return{cleanup:function(){var a;x=!0;k.remove();(a=d("LSStreamGroupRef").streamGroupRef.current)==null||a.close();d("LSStreamGroupRef").streamGroupRef.reconnectHandler=null;d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null;d("LSStreamGroupRef").streamGroupRef.publishBuffer.clear();d("LSStreamGroupRef").streamGroupRef.subscribers.clear()},logEvent:function(a){var b;(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a)},onConnectionStatusChange:function(a){d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=a;return function(){d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null}},onReconnect:function(a){d("LSStreamGroupRef").streamGroupRef.reconnectHandler=a;return function(){d("LSStreamGroupRef").streamGroupRef.reconnectHandler=null}},publish:async function(a,e,k){var m=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);(i||(i=c("QuickPerformanceLogger"))).markerStart(q,m);i.markerAnnotate(q,{string:{streamGroupId:d("LSStreamGroupRef").getTransportId()}},{instanceKey:m});var n=(h||(h=d("LSIntEnum"))).toNumber(e);try{d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream."+(h||(h=d("LSIntEnum"))).toNumber(e));d("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(p&&d("LSStreamGroupRef").streamGroupRef.status==="Disconnected"&&(y!=null&&(window.clearTimeout(y),y=null,s=0,w=!1),(i||(i=c("QuickPerformanceLogger"))).markerPoint(q,"reconnect",{instanceKey:m}),B(b,"reconnect_when_publish",f,g)),(i||(i=c("QuickPerformanceLogger"))).markerPoint(q,"wait_for_connection",{instanceKey:m}),await F().then(function(){}).catch(function(){var a;d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+n);(a=d("LSStreamGroupRef").streamGroupRef.current)==null||a.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(n));return Promise.reject({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}));(i||(i=c("QuickPerformanceLogger"))).markerPoint(q,"send_message",{instanceKey:m});var r=1===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e)||2===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);if(r&&u.has(k)){var t=u.get(k);await (t==null?void 0:t.send(j.encode(a)))}else{t=4!==(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);var v={int:{databaseType:k,requestType:n}};a=await C(n,j.encode(a),t,v);t&&(i||(i=c("QuickPerformanceLogger"))).markerPoint(q,"send_message_acked",{instanceKey:m});(i||(i=c("QuickPerformanceLogger"))).markerEnd(q,2,m);r&&u.set(k,a)}}catch(a){a===d("DGWStream").StreamError.ACK_TIMEOUT&&(i||(i=c("QuickPerformanceLogger"))).markerPoint(q,"ack_timeout",{instanceKey:m});(i||(i=c("QuickPerformanceLogger"))).markerEnd(q,3,m);if(a.message==="Max number of stream IDs reached"){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+n);(v=d("LSStreamGroupRef").streamGroupRef.current)==null||v.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream","StreamIdLimitExceeded",n.toString())}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+n);(t=d("LSStreamGroupRef").streamGroupRef.current)==null||t.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",n.toString());r=l&&3===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);if(r)return Promise.resolve();else{o&&a===d("DGWStream").StreamError.ACK_TIMEOUT&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",y!=null&&(window.clearTimeout(y),y=null,s=0,w=!1),B(b,"stream_ack_timeout",f,g));return Promise.reject(a)}}},subscribe:function(a){d("LSStreamGroupRef").streamGroupRef.subscribers.set(a,a);return function(){d("LSStreamGroupRef").streamGroupRef.subscribers.delete(a)}}}}function F(){var a={reject:function(){},resolve:function(){}},b=d("Random").uint32(),c=new Promise(function(b,c){a.resolve=b,a.reject=c});d("LSStreamGroupRef").streamGroupRef.publishBuffer.set(b,a);return c}g.getStatusForDebugging=f;g.LSPlatformDGWTransport=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","ReQL","gkx","promiseDone","qex","recoverableViolation","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g,j,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=new(c("LSPlatformServerResponseHandler"))(e),n=d("LSDatabaseProviderType").isProviderPersisted(a),o=function(b){return a.runInTransaction(async function(a){var c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",b));c!=null&&await a.network_requests.put({epochId:void 0,failureCount:(h||(h=d("I64"))).add(c.failureCount,h.one),lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName})},"readwrite",void 0,void 0,f.id+":79")},p=new(c("LSPlatformRequestScheduler"))(),q=async function(f,l){l=d("LSShape").toRecord(l);var o=d("LSShape").toRecord(l.request_payload);l=l.type;var p=c("LSPlatformRequestId").generate(),q=d("LSJson").stringify(d("LSShape").ofRecord({database:o.database,epoch_id:o.epoch_id,failure_count:o.failure_count,last_applied_cursor:o.last_applied_cursor,sync_params:o.sync_params,version:(h||(h=d("I64"))).of_string(g)})),r=(h||(h=d("I64"))).equal(f.sync_group_id,(i||(i=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!r&&f.skip_realtime_gateway){r=await d("LSPlatformGraphQLTransport").publish(j,p,l,q,k);var s=r[0],t=r[1],u=r[2];r=r[3];u={experiments:u,syncScript:t,target:r};return n?m.maybeEvalInOrderReceived(s,u):e(u)}else{t=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id));r=t!=null?t.syncChannel:d("LSMailboxInitialSyncCursor").syncChannel;t!=null&&(i||(i=d("LSIntEnum"))).toNumber(t.syncChannel)!==(h||(h=d("I64"))).to_int32(d("LSMailboxInitialSyncCursor").syncChannel)&&b.logEvent("Sync channel mismatch between "+(i||(i=d("LSIntEnum"))).toNumber(t.syncChannel)+" and "+(h||(h=d("I64"))).to_int32(d("LSMailboxInitialSyncCursor").syncChannel));s=c("qex")._("789");if(t!=null&&s!=null&&s!=="default"){u=(i||(i=d("LSIntEnum"))).unwrapIntEnum(l);if(1===u||2===u||5===u){f=s+"."+(i||(i=d("LSIntEnum"))).toNumber(r)+"."+i.toNumber(l)+"."+i.toNumber(t.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}u=(h||(h=d("I64"))).to_int32(o.database);return b.publish({databaseType:u,payload:q,queueName:void 0,requestId:p,syncChannel:r,type_:l}).then(function(){return Promise.resolve()})}},r=function(b){var e=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:b})},"readwrite",void 0,void 0,f.id+":219").then(function(a){return r(a[0])})},g=function(a,b){p.schedule(function(){c("promiseDone")(e(a))},(h||(h=d("I64"))).to_string(a),h.to_float(b))},j=d("LSShape").toRecord(b);b=j.work_item_type;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(5))){var k=c("qex")._("789");if(k!=null&&k!=="default"){var m=k+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",m)}var n=j.network_payload;if(n!=null)return q(j,n).catch(function(a){if(k!=null&&k!=="default"){var b=k+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception");a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.timeout"):a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.notconnected")}if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),l.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(i||(i=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(n).type)+"."+i.toNumber(j.sync_group_id));return o(j.sync_group_id).then(function(){return e(j.sync_group_id)})});else{c("recoverableViolation")("Expected networkpayload for sync request but didn't get any","ls_web_init");return Promise.resolve()}}if(!(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(3)))if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(4))||!(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(2)))return Promise.resolve();else{c("recoverableViolation")("Native handling for sync group not implemented yet","ls_web_init");return Promise.resolve()}m=j.next_sync_ms;if(m!=null){g(j.sync_group_id,m);return Promise.resolve()}else{c("recoverableViolation")("Expected delay for delayed sync request but didn't get any","ls_web_init");return Promise.resolve()}},s=function(a){return Promise.all(c("LSVec").toArray(a[0]).map(function(a){return r(a)}))},t=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":400").then(s))},u=c("throttle")(t,500);t=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return u()})};var v=function(){return b.subscribeToNonTaskResponses(function(a,b){var f=b.ex,g=b.payload;f={experiments:f,sp:b.sp,syncScript:g,target:b.target};c("promiseDone")(n?m.maybeEvalInOrderReceived(a,f):c("gkx")("10470")?m.maybeEvalInOrderReceived(a,f):e(f),function(){return u()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,b)}})})},w=function(){return b.onReconnect(function(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect");if(d("LSMailboxInitialSyncCursor").isWebApp&&1===b&&c("qex")._("4375")===!0&&c("qex")._("3195")===!0)return;l.debug("Sync System reconnecting");c("promiseDone")(a.runInTransaction(async function(b){var e;e=await (e=d("ReQL")).toArrayAsync(e.mergeJoin(e.fromTableAscending(a.tables.sync_groups),e.fromTableAscending(a.tables.network_requests).getKeyRange("")));await Promise.all(e.map(function(a){a=a[1];return b.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(b),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":504").then(s))})},x=t(),y=v(),z=w();u();return{cleanup:function(){x(),z(),y()}}}g.default=a}),98);
__d("MDSLegacyStyleXDarkTheme",[],(function(a,b,c,d,e,f){a=Object.freeze({accent:"hsl(214, 100%, 59%)","alert-banner-corner-radius":"8px","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-white":"white","attachment-footer-background":"rgba(255,255,255,0.1)","background-deemphasized":"rgba(255,255,255,0.1)","badge-accent":"#429AFF","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#4599FF","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(235,245,255)","blue-tertiary":"rgb(4,59,114)","blueprint-button-height-large":"48px","blueprint-button-height-medium":"40px","border-focused":"#8A8D91","button-corner-radius":"6px","button-corner-radius-large":"12px","button-corner-radius-medium":"10px","button-height-large":"40px","button-height-medium":"36px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","card-background":"#2E2E2E","card-background-flat":"#323436","card-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-corner-radius":"12px","card-padding-horizontal":"10px","card-padding-vertical":"20px","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(226,255,152)","chartreuse-tertiary":"rgb(50,65,19)","chat-bubble-border-radius":"18px","chat-bubble-emphasis-ring-after":"white","chat-bubble-emphasis-ring-before":"black","chat-bubble-padding-horizontal":"12px","chat-bubble-padding-vertical":"8px","chat-incoming-message-bubble-background-color":"#4C4C4C","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(255, 255, 255, 0.12)","chat-text-blockquote-color-background-line":"rgba(255, 255, 255, 0.19)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chip-button-green":"#24832C","chip-corner-radius":"6px","circle-button-green-background-color":"#30A13A","circle-button-normal-background-color":"rgba(255, 255, 255, 0.18)","circle-button-overlay-raised-background-color":"#1F1F1F","circle-button-overlay-raised-shadow-color":"rgba(255, 255, 255, 0.18)","circle-button-red-background-color":"#E91D16","circle-button-secondary-on-media-background-color":"rgba(0, 0, 0, 0.6)","comment-background":"#3A3B3C","comment-bubble":"18px","comment-footer-background":"#4E4F50","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(231,245,255)","cyan-tertiary":"rgb(15,63,93)","dataviz-orange":"#D06C14","dataviz-primary-1":"rgb(0,174,143)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(92,87,210)","dataviz-secondary-2":"rgb(142,129,255)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(232,234,238)","destructive-button-background":"#E91D16","destructive-button-text":"#FFFFFF","dialog-anchor-horizontal-padding":"8px","dialog-anchor-vertical-padding":"64px","dialog-border-radius":"12px","dialog-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1), inset 0 0 0 1px var(--shadow-inset)","dialog-corner-radius":"8px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","disabled-button-background":"rgba(255, 255, 255, 0.18)","disabled-button-text":"rgba(255, 255, 255, 0.34)","disabled-icon":"rgba(255, 255, 255, 0.3)","disabled-text":"rgba(255, 255, 255, 0.3)",divider:"#3E4042","event-date":"#F3425F","fb-logo":"#0866FF","fb-wordmark":"#FFFFFF","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-black":"black","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"black","fds-blue-30":"black","fds-blue-40":"black","fds-blue-60":"black","fds-blue-70":"black","fds-blue-80":"black","fds-button-text":"black","fds-comment-background":"black","fds-dark-mode-gray-100":"black","fds-dark-mode-gray-35":"black","fds-dark-mode-gray-50":"black","fds-dark-mode-gray-70":"black","fds-dark-mode-gray-80":"black","fds-dark-mode-gray-90":"black","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-none":"0ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-fast":"200ms","fds-gray-00":"black","fds-gray-05":"black","fds-gray-10":"black","fds-gray-100":"black","fds-gray-20":"black","fds-gray-25":"black","fds-gray-30":"black","fds-gray-45":"black","fds-gray-70":"black","fds-gray-80":"black","fds-gray-90":"black","fds-green-55":"black","fds-green-65":"black","fds-highlight":"black","fds-highlight-cell-background":"black","fds-primary-icon":"white","fds-primary-text":"white","fds-red-55":"black","fds-slow":"400ms","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"black","fds-spectrum-blue-gray-tint-70":"black","fds-spectrum-cherry":"black","fds-spectrum-cherry-tint-70":"black","fds-spectrum-grape-tint-70":"black","fds-spectrum-grape-tint-90":"black","fds-spectrum-lemon-dark-1":"black","fds-spectrum-lemon-tint-70":"black","fds-spectrum-lime":"black","fds-spectrum-lime-tint-70":"black","fds-spectrum-orange-tint-70":"black","fds-spectrum-orange-tint-90":"black","fds-spectrum-seafoam-tint-70":"black","fds-spectrum-slate-dark-2":"black","fds-spectrum-slate-tint-70":"black","fds-spectrum-teal":"black","fds-spectrum-teal-dark-1":"black","fds-spectrum-teal-dark-2":"black","fds-spectrum-teal-tint-70":"black","fds-spectrum-teal-tint-90":"black","fds-spectrum-tomato":"black","fds-spectrum-tomato-tint-30":"black","fds-spectrum-tomato-tint-90":"black","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"black","fds-unified-gray-20":"black","fds-white":"black","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"black","filter-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-always-white":"invert(100%)","filter-blue-link-icon":"invert(73%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(103.25%) hue-rotate(189deg) brightness(101%) contrast(101%)","filter-disabled-icon":"invert(100%) opacity(30%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-primary-deemphasized-button-icon":"brightness(0) saturate(100%) invert(63%) sepia(20%) saturate(1290%) hue-rotate(185deg) brightness(107%) contrast(101%)","filter-primary-icon":"invert(89%) sepia(6%) hue-rotate(185deg)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(62%) sepia(98%) saturate(12%) hue-rotate(175deg) brightness(90%) contrast(96%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","focus-ring-blue":"#429AFF","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(255,241,246)","fuschia-tertiary":"rgb(118,14,62)","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"steps(10, end)","glimmer-base-opaque":"#FFFFFF","glimmer-corner-radius":"8px","glimmer-high-contrast-base-opaque":"#FFFFFF","glimmer-opacity-high-contrast-max":"0.48","glimmer-opacity-high-contrast-min":"0.1","glimmer-opacity-max":"1","glimmer-opacity-min":"0.25","glimmer-spinner-icon":"white","global-panel-width":"0px","global-panel-width-expanded":"0px","green-primary":"rgb(43,154,53)","green-secondary":"rgb(227,250,224)","green-tertiary":"rgb(26,68,27)","header-height":"0px","hero-banner-background":"#E85D07","highlight-bg":"rgba(24, 119, 242, .31)","hosted-view-selected-state":"rgba(45, 136, 255, 0.1)","hover-overlay":"rgba(255, 255, 255, 0.1)","icon-accent-color":"#429AFF","icon-destructive-color":"#FF4942","icon-inactive-color":"rgba(155, 160, 168, 0.75)","icon-nux-color":"rgba(255, 255, 255, 0.34)","icon-primary-color":"#FFFFFF","icon-secondary-color":"rgba(255, 255, 255, 0.45)","icon-selected-color":"rgba(255, 255, 255, 0.45)","icon-tertiary-color":"rgba(255, 255, 255, 0.19)","icon-white-color":"#FFFFFF","image-corner-radius":"4px","infochip-medium-radius":"12px","input-background":"#242526","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-disabled":"#18191A","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-hover":"var(--input-background)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-border-color":"#3E4042","input-border-color-hover":"var(--placeholder-text)","input-border-width":"1px","input-corner-radius":"6px","input-label-color-disabled":"var(--disabled-text)","input-label-color-error":"var(--negative)","input-label-color-highlighted":"hsl(214, 100%, 59%)","input-label-color-inside":"var(--secondary-text)","inverse-text":"var(--always-white)","last-active-state-background":"#1F391E","last-active-state-text":"#31CC46","list-cell-chevron":"#B0B3B8","list-cell-corner-radius":"8px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(255,239,254)","magenta-tertiary":"rgb(96,36,91)","mds-green":"#31CC46","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(255, 255, 255, 0.05)","media-outer-border":"#33363A","media-pressed":"rgba(68, 73, 80, 0.35)","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-horizontal":"8px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","messenger-application-max-width":"2560px","messenger-card-background":"#1F1F1F","messenger-card-box-shadow":"0px 0px 16px rgba(0, 0, 0, 0.3)","messenger-card-corner-radius":"12px","messenger-card-max-width":"480px","messenger-card-min-width":"300px","messenger-card-spacing":"16px","messenger-reply-background":"#18191A","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","nav-bar-background":"#1A1A1A","nav-bar-background-gradient":"linear-gradient(to top, #242526, rgba(36,37,38,.9), rgba(36,37,38,.7), rgba(36,37,38,.4), rgba(36,37,38,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #18191A, rgba(24,25,26,.9), rgba(24,25,26,.7), rgba(24,25,26,.4), rgba(24,25,26,0))","nav-list-cell-corner-radius":"8px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","nux-card-body-padding-end":"24px","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(255,241,239)","orange-tertiary":"rgb(94,49,14)","overlay-alpha-80":"rgba(11, 11, 11, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","page-footer-padding-vertical":"16px","placeholder-icon":"#8A8D91","placeholder-image":"rgb(164, 167, 171)","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#3E4042","popover-border-color":"transparent","popover-border-style":"none","popover-border-width":"0px","popover-card-background":"var(--card-background)",positive:"#31A24C","positive-background":"#1F3520","press-overlay":"rgba(255, 255, 255, 0.2)","pressable-background-color-hover":"rgba(255, 255, 255, 0.18)","pressable-background-color-selected":"rgba(255, 255, 255, 0.12)","primary-button-background":"#0070F6","primary-button-icon":"#FFFFFF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#0D1F3A","primary-deemphasized-button-pressed":"rgba(24, 119, 242, 0.2)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#429AFF","primary-icon":"#E4E6EB","primary-text":"#E4E6EB","primary-text-on-media":"white","primary-web-focus-indicator":"#D24294","progress-ring-blue-background":"rgba(45, 136, 255, 0.2)","progress-ring-blue-foreground":"hsl(214, 100%, 59%)","progress-ring-disabled-background":"rgba(122,125,130, 0.2)","progress-ring-disabled-foreground":"#7A7D82","progress-ring-neutral-background":"rgba(255, 255, 255, 0.2)","progress-ring-neutral-foreground":"#ffffff","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(245,241,255)","purple-tertiary":"rgb(55,50,121)","qp-card-box-shadow":"0 4px 8px 0 rgba(0,0,0,0.08)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"var(--accent)","radio-border-width":"2px","radio-checked-icon-color":"var(--accent)","radio-checked-icon-color-disabled":"var(--disabled-button-background)","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-size-large":"24px","radio-size-medium":"20px","rating-star-active":"#FF9831","red-primary":"rgb(251,60,68)","red-secondary":"rgb(255,241,239)","red-tertiary":"rgb(118,22,27)","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(255, 255, 255, 0.05) inset","scroll-thumb":"rgba(255, 255, 255, 0.45)","scrollbar-thumb-color":"rgba(255, 255, 255, 0.19)","scrollbar-track-color":"transparent","secondary-button-background":"rgba(255, 255, 255, 0.18)","secondary-button-background-floating":"#4B4C4F","secondary-button-background-on-dark":"rgba(255, 255, 255, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#FFFFFF","secondary-deemphasized-button-background":"rgba(0, 0, 0, 0)","secondary-icon":"#B0B3B8","secondary-text":"#B0B3B8","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","section-header-text":"#BCC0C4","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.05)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(28, 43, 51, 0.6)","shadow-primary":"0px 0px 12px rgba(28, 43, 51, 0.1)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","story-seen":"#84878B","story-unseen":"#0866FF","surface-background":"#1F1F1F","switch-active":"hsl(214, 100%, 59%)","switch-inactive":"#3E4042","switch-unchecked-background-color":"#6F7276","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(227,247,241)","teal-tertiary":"rgb(10,68,56)","text-accent":"#429AFF","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-corner-radius":"4px","text-badge-critical-background":"#e41e3f","text-badge-info-background":"hsl(214, 100%, 59%)","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-badge-success-background":"#31A24C","text-blue-link":"#429AFF","text-disabled":"rgba(255, 255, 255, 0.34)","text-highlight":"rgba(24, 119, 242, 0.45)","text-input-active-text":"#3E93F8","text-input-caption-margin-top":"10px","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-outside-label":"#FFFFFF","text-input-padding-vertical":"12px","text-negative":"#FF4942","text-placeholder":"rgba(255, 255, 255, 0.5)","text-positive":"#31CC46","text-primary":"#FFFFFF","text-primary-on-media":"#FFFFFF","text-secondary":"rgba(255, 255, 255, 0.5)","text-secondary-on-media":"rgba(255, 255, 255, 0.8)","text-white":"#FFFFFF","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"6px","toast-background":"#242526","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toast-container-max-width":"100%","toast-container-min-width":"288px","toast-container-padding-horizontal":"10px","toast-container-padding-vertical":"16px","toast-corner-radius":"8px","toast-text":"#FFFFFF","toast-text-link":"#4599FF","toaster-view-max-width":"328px","toggle-active-background":"rgb(45, 136, 255)","toggle-active-icon":"#FFFFFF","toggle-active-text":"#FFFFFF","toggle-button-active-background":"#E6F2FF","toggle-handle-off":"#FFFFFF","toggle-handle-on":"#FFFFFF","toggle-track-off":"rgba(255, 255, 255, 0.45)","toggle-track-on":"#0070F6","tombstoned-message-border-color":"rgba(255, 255, 255, 0.18)","tooltip-background":"rgba(11, 11, 11, 0.8)","tooltip-box-shadow":"0 2px 4px 0 var(--shadow-5)","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"2px",warning:"hsl(40, 89%, 52%)",wash:"#3E4042","web-wash":"#1A1A1A","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(255,246,161)","yellow-tertiary":"rgb(72,59,12)"});f["default"]=a}),66);
__d("MDSLegacyStyleXLightTheme",[],(function(a,b,c,d,e,f){a=Object.freeze({accent:"#0099FF","alert-banner-corner-radius":"8px","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-white":"#FFFFFF","attachment-footer-background":"#F0F2F5","background-deemphasized":"#F0F2F5","badge-accent":"#0070F6","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#216FDB","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(4,59,114)","blue-tertiary":"rgb(235,245,255)","blueprint-button-height-large":"48px","blueprint-button-height-medium":"40px","border-focused":"#65676B","button-corner-radius":"6px","button-corner-radius-large":"12px","button-corner-radius-medium":"10px","button-height-large":"40px","button-height-medium":"36px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","card-background":"#FFFFFF","card-background-flat":"#F7F8FA","card-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-corner-radius":"12px","card-padding-horizontal":"10px","card-padding-vertical":"20px","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(50,65,19)","chartreuse-tertiary":"rgb(226,255,152)","chat-bubble-border-radius":"18px","chat-bubble-emphasis-ring-after":"black","chat-bubble-emphasis-ring-before":"white","chat-bubble-padding-horizontal":"12px","chat-bubble-padding-vertical":"8px","chat-incoming-message-bubble-background-color":"#F0F0F0","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(0, 0, 0, 0.03)","chat-text-blockquote-color-background-line":"rgba(0, 0, 0, 0.12)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chip-button-green":"#24832C","chip-corner-radius":"6px","circle-button-green-background-color":"#30A13A","circle-button-normal-background-color":"rgba(0, 0, 0, 0.04)","circle-button-overlay-raised-background-color":"#FFFFFF","circle-button-overlay-raised-shadow-color":"rgba(0, 0, 0, 0.12)","circle-button-red-background-color":"#E91D16","circle-button-secondary-on-media-background-color":"rgba(0, 0, 0, 0.6)","comment-background":"rgba(134, 142, 153, 0.1)","comment-bubble":"18px","comment-footer-background":"#F6F9FA","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(15,63,93)","cyan-tertiary":"rgb(231,245,255)","dataviz-orange":"#D06C14","dataviz-primary-1":"rgb(0,174,143)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(83,78,191)","dataviz-secondary-2":"rgb(103,96,228)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(51,51,52)","destructive-button-background":"#E91D16","destructive-button-text":"#FFFFFF","dialog-anchor-horizontal-padding":"8px","dialog-anchor-vertical-padding":"64px","dialog-border-radius":"12px","dialog-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1), inset 0 0 0 1px var(--shadow-inset)","dialog-corner-radius":"8px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","disabled-button-background":"rgba(0, 0, 0, 0.04)","disabled-button-text":"rgba(0, 0, 0, 0.2)","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","event-date":"#F3425F","fb-logo":"#0866FF","fb-wordmark":"#0866FF","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-100":"#1C1C1C","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-none":"0ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-fast":"200ms","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-100":"#1C1E21","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-green-55":"#00A400","fds-green-65":"#51CE70","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-slow":"400ms","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"#1455B0","fds-unified-gray-20":"#323436","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00","filter-accent":"invert(50%) sepia(94%) saturate(3979%) hue-rotate(183deg) brightness(104%) contrast(103%)","filter-always-white":"invert(100%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-primary-deemphasized-button-icon":"invert(28%) sepia(100%) saturate(6042%) hue-rotate(202deg) brightness(96%) contrast(101%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","focus-ring-blue":"#0070F6","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(118,14,62)","fuschia-tertiary":"rgb(255,241,246)","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"steps(10, end)","glimmer-base-opaque":"#979A9F","glimmer-corner-radius":"8px","glimmer-high-contrast-base-opaque":"#65686C","glimmer-opacity-high-contrast-max":"1","glimmer-opacity-high-contrast-min":"0.08","glimmer-opacity-max":"1","glimmer-opacity-min":"0.25","glimmer-spinner-icon":"#65676B","global-panel-width":"0px","global-panel-width-expanded":"0px","green-primary":"rgb(43,154,53)","green-secondary":"rgb(26,68,27)","green-tertiary":"rgb(227,250,224)","header-height":"0px","hero-banner-background":"#FFFFFF","highlight-bg":"#E7F3FF","hosted-view-selected-state":"rgba(0, 0, 0, 0.04)","hover-overlay":"rgba(0, 0, 0, 0.05)","icon-accent-color":"#0070F6","icon-destructive-color":"#E91D16","icon-inactive-color":"rgba(134, 142, 153, 0.75)","icon-nux-color":"rgba(0, 0, 0, 0.2)","icon-primary-color":"#000000","icon-secondary-color":"rgba(0, 0, 0, 0.44)","icon-selected-color":"rgba(0, 0, 0, 0.44)","icon-tertiary-color":"rgba(0, 0, 0, 0.2)","icon-white-color":"#FFFFFF","image-corner-radius":"4px","infochip-medium-radius":"12px","input-background":"#FFFFFF","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-disabled":"#F0F2F5","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-hover":"var(--input-background)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-border-color":"#CED0D4","input-border-color-hover":"var(--placeholder-text)","input-border-width":"1px","input-corner-radius":"6px","input-label-color-disabled":"var(--disabled-text)","input-label-color-error":"var(--negative)","input-label-color-highlighted":"hsl(214, 89%, 52%)","input-label-color-inside":"var(--secondary-text)","inverse-text":"var(--always-white)","last-active-state-background":"#E8FBE2","last-active-state-text":"#1B7027","list-cell-chevron":"#65676B","list-cell-corner-radius":"8px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(96,36,91)","magenta-tertiary":"rgb(255,239,254)","mds-green":"#31CC46","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-horizontal":"8px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","messenger-application-max-width":"2560px","messenger-card-background":"#FFFFFF","messenger-card-box-shadow":"0px 0px 8px rgba(52,72,84,.05)","messenger-card-corner-radius":"12px","messenger-card-max-width":"480px","messenger-card-min-width":"300px","messenger-card-spacing":"16px","messenger-reply-background":"#F0F2F5","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","nav-bar-background":"#F5F5F5","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))","nav-list-cell-corner-radius":"8px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","nux-card-body-padding-end":"24px","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(94,49,14)","orange-tertiary":"rgb(255,241,239)","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","page-footer-padding-vertical":"16px","placeholder-icon":"#65676B","placeholder-image":"rgb(164, 167, 171)","placeholder-text":"#65676B","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF","popover-border-color":"transparent","popover-border-style":"none","popover-border-width":"0px","popover-card-background":"var(--card-background)",positive:"#5AD539","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","pressable-background-color-hover":"rgba(0, 0, 0, 0.04)","pressable-background-color-selected":"rgba(0, 0, 0, 0.06)","primary-button-background":"#0070F6","primary-button-icon":"#FFFFFF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#EAF3FE","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#0069E0","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","primary-web-focus-indicator":"#D24294","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(55,50,121)","purple-tertiary":"rgb(245,241,255)","qp-card-box-shadow":"0 4px 8px 0 rgba(0,0,0,0.1)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"#000000","radio-border-width":"2px","radio-checked-icon-color":"#000000","radio-checked-icon-color-disabled":"var(--disabled-button-background)","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-size-large":"24px","radio-size-medium":"20px","rating-star-active":"#EB660D","red-primary":"rgb(251,60,68)","red-secondary":"rgb(118,22,27)","red-tertiary":"rgb(255,241,239)","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(0, 0, 0, 0.1) inset","scroll-thumb":"rgba(0, 0, 0, 0.44)","scrollbar-thumb-color":"rgba(0, 0, 0, 0.2)","scrollbar-track-color":"transparent","secondary-button-background":"rgba(0, 0, 0, 0.04)","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#000000","secondary-deemphasized-button-background":"rgba(0, 0, 0, 0)","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","section-header-text":"#4B4C4F","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.5)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(52, 72, 84, 0.05)","shadow-primary":"0px 5px 12px rgba(52, 72, 84, 0.2)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","story-seen":"#84878B","story-unseen":"#0866FF","surface-background":"#FFFFFF","switch-active":"hsl(214, 89%, 52%)","switch-inactive":"#CED0D4","switch-unchecked-background-color":"#8F9297","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(10,68,56)","teal-tertiary":"rgb(227,247,241)","text-accent":"#0A7CFF","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-corner-radius":"4px","text-badge-critical-background":"#e41e3f","text-badge-info-background":"hsl(214, 89%, 52%)","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-badge-success-background":"#31A24C","text-blue-link":"#0069E0","text-disabled":"rgba(0, 0, 0, 0.2)","text-highlight":"rgba(24, 119, 242, 0.2)","text-input-active-text":"#0064D1","text-input-caption-margin-top":"10px","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-outside-label":"#000000","text-input-padding-vertical":"12px","text-negative":"#D41A14","text-placeholder":"rgba(0, 0, 0, 0.55)","text-positive":"#1B7027","text-primary":"#000000","text-primary-on-media":"#FFFFFF","text-secondary":"rgba(0, 0, 0, 0.55)","text-secondary-on-media":"rgba(255, 255, 255, 0.8)","text-white":"#FFFFFF","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"6px","toast-background":"#FFFFFF","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toast-container-max-width":"100%","toast-container-min-width":"288px","toast-container-padding-horizontal":"10px","toast-container-padding-vertical":"16px","toast-corner-radius":"8px","toast-text":"#1C2B33","toast-text-link":"#216FDB","toaster-view-max-width":"328px","toggle-active-background":"#E7F3FF","toggle-active-icon":"rgb(24, 119, 242)","toggle-active-text":"rgb(24, 119, 242)","toggle-button-active-background":"#E7F3FF","toggle-handle-off":"#FFFFFF","toggle-handle-on":"#FFFFFF","toggle-track-off":"rgba(0, 0, 0, 0.44)","toggle-track-on":"#0070F6","tombstoned-message-border-color":"rgba(0, 0, 0, 0.12)","tooltip-background":"rgba(244, 244, 244, 0.8)","tooltip-box-shadow":"0 2px 4px 0 var(--shadow-5)","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"2px",warning:"hsl(40, 89%, 52%)",wash:"#E4E6EB","web-wash":"#F5F5F5","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(72,59,12)","yellow-tertiary":"rgb(255,246,161)"});f["default"]=a}),66);
__d("MDSThemeConfig",["cr:5386","cr:5559"],(function(a,b,c,d,e,f,g){"use strict";a={dark:b("cr:5386"),light:b("cr:5559"),type:"VARIABLES"};g["default"]=a}),98);
__d("MDSTheme.react",["BaseTheme.react","MDSThemeConfig","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["displayMode"],i,j=i||(i=d("react"));i.useMemo;var k={root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",zIndex:"x1swf91x",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(e=a.displayMode,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=c("useCurrentDisplayMode")();var g;bb0:{if(e==="invert"){g=a==="dark"?"light":"dark";break bb0}g=e!=null?e:a}e=g;b[3]!==f||b[4]!==e?(a=j.jsx(c("BaseTheme.react"),babelHelpers["extends"]({config:c("MDSThemeConfig"),displayMode:e,xstyle:k.root},f)),b[3]=f,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSTooltipImpl.react",["BaseAnchorPositioningUtils","BaseContextualLayerLayerAdjustmentContext","CometPlaceholder.react","FDSProgressRingIndeterminate.react","MDSText.react","MDSTheme.react","clearTimeout","cr:20267","cr:20391","react","react-compiler-runtime","setTimeout","stylex","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=["align","contentColor","contentKey","contentType","delayContentMs","headline","id","isVisible","themeWrapper","tooltip","tooltipTheme"],i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.useLayoutEffect,n=e.useRef,o=e.useState,p={arrowAbove:{backgroundColor:"xlhe6ec",borderEndEndRadius:"xt6ovg4",bottom:"xuvo3zv",clipPath:"xinh0ix",height:"x1v9usgg",insetInlineStart:"x3nj053",left:null,right:null,position:"x10l6tqk",transform:"x1158fpu",width:"x6jxa94",$$css:!0},arrowBelow:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1fqc64z",clipPath:"x1ii9esy",height:"x1v9usgg",insetInlineStart:"x3nj053",left:null,right:null,position:"x10l6tqk",top:"x1ans9ou",transform:"x1158fpu",width:"x6jxa94",$$css:!0},contextualLayer:{$$css:!0},outerContainerArrowAboveMarginSpacing:{marginBottom:"xvrx75z",marginTop:"xr9ek0c",$$css:!0},outerContainerArrowBelowMarginSpacing:{marginBottom:"xjpr12u",marginTop:"x1is9kpn",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(4),c=a.contextualLayerRef;b[0]!==c.current?(a=function(){var a=c.current;a&&a.reposition({autoflip:!0})},b[0]=c.current,b[1]=a):a=b[1];var e;b[2]!==c?(e=[c],b[2]=c,b[3]=e):e=b[3];m(a,e);return null}function r(a){var b,e=d("react-compiler-runtime").c(8);a=a.position;b=(b=l(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;if(a==null)return null;var f=a==="above"&&p.arrowAbove;a=a==="below"&&p.arrowBelow;var g;e[0]!==f||e[1]!==a?(g=(i||(i=c("stylex")))(f,a),e[0]=f,e[1]=a,e[2]=g):g=e[2];f="translate("+-b+"px, 0px) rotate(45deg)";e[3]!==f?(a={transform:f},e[3]=f,e[4]=a):a=e[4];e[5]!==g||e[6]!==a?(b=k.jsx("div",{className:g,style:a}),e[5]=g,e[6]=a,e[7]=b):b=e[7];return b}function a(a){var e,f=d("react-compiler-runtime").c(52),g;if(f[0]!==a){var j=a.align;a.contentColor;var l=a.contentKey;a.contentType;var s=a.delayContentMs;a.headline;var t=a.id,u=a.isVisible;a.themeWrapper;var v=a.tooltip,w=a.tooltipTheme,x=babelHelpers.objectWithoutPropertiesLoose(a,h);j=j;l=l;s=s;t=t;g=u;u=v;v=w;w=x;f[0]=a;f[1]=j;f[2]=l;f[3]=t;f[4]=g;f[5]=w;f[6]=s;f[7]=v;f[8]=u}else j=f[1],l=f[2],t=f[3],g=f[4],w=f[5],s=f[6],v=f[7],u=f[8];var y=s===void 0?0:s;x=v===void 0?"invert":v;a=w;s=a.position;v=n(null);a=c("useCometDisplayTimingTrackerForInteraction")("ToolTip");var z=n(null),A=n(g),B;f[9]!==y||f[10]!==g?(B=function(){return g===!0&&A.current===!1&&y>0},f[9]=y,f[10]=g,f[11]=B):B=f[11];B=o(B);var C=B[0],D=B[1];B=n(null);var E=w.anchorPosName;e=(e=w.anchorPosRef)!=null?e:B;f[12]!==j||f[13]!==s?(B=d("BaseAnchorPositioningUtils").contextualLayerToAnchorPositionAreaCompat(s,j),f[12]=j,f[13]=s,f[14]=B):B=f[14];j=B;B=j[0];j=j[1];var F;f[15]!==B||f[16]!==j?(F={blockPositionArea:B,inlinePositionArea:j,tryFallbacks:"flip-block"},f[15]=B,f[16]=j,f[17]=F):F=f[17];B=b("cr:20267")(E,e,F);j=d("BaseAnchorPositioningUtils").passesAnchorPositionExperiment();var G,H;B!=null&&j&&(G=B[0],H=B[1]);f[18]!==a||f[19]!==w?(E=babelHelpers["extends"]({align:"middle"},w,{imperativeRef:v,ref:a,xstyle:p.contextualLayer}),f[18]=a,f[19]=w,f[20]=E):E=f[20];e=E;f[21]!==y||f[22]!==g?(F=function(){if(g===!0&&A.current===!1&&y>0){D(!0);z.current=c("setTimeout")(function(){D(!1),z.current=null},y);return function(){c("clearTimeout")(z.current),z.current=null}}else z.current!=null&&(D(!1),c("clearTimeout")(z.current),z.current=null);A.current=g},j=[y,g],f[21]=y,f[22]=g,f[23]=F,f[24]=j):(F=f[23],j=f[24]);m(F,j);if(u==null||!g)return null;f[25]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("div",babelHelpers["extends"]({className:"x78zum5 xl56j7k"},{children:k.jsx(c("FDSProgressRingIndeterminate.react"),{color:"dark",size:20})})),f[25]=B):B=f[25];a=B;w=H;f[26]!==G||f[27]!==s?(E=(i||(i=c("stylex"))).props(s==="below"&&p.outerContainerArrowBelowMarginSpacing,s==="above"&&p.outerContainerArrowAboveMarginSpacing,G),f[26]=G,f[27]=s,f[28]=E):E=f[28];f[29]!==g?(F={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x152obne x17o27uk xg01cxk xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6"},1:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x152obne x17o27uk xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6 x1hc1fzr"}}[!!g<<0],f[29]=g,f[30]=F):F=f[30];f[31]!==l||f[32]!==C||f[33]!==u?(j=k.jsx(c("MDSText.react"),{type:"body4",children:C?a:k.jsxs(c("CometPlaceholder.react"),{fallback:a,name:"MDSTooltipImpl",children:[k.jsx(q,{contextualLayerRef:v}),u]},l)}),f[31]=l,f[32]=C,f[33]=u,f[34]=j):j=f[34];f[35]!==s?(B=k.jsx(r,{position:s}),f[35]=s,f[36]=B):B=f[36];f[37]!==t||f[38]!==F||f[39]!==j||f[40]!==B?(a=k.jsxs("div",babelHelpers["extends"]({},F,{"data-testid":void 0,id:t,role:"tooltip",children:[j,B]})),f[37]=t,f[38]=F,f[39]=j,f[40]=B,f[41]=a):a=f[41];f[42]!==H||f[43]!==E||f[44]!==a?(v=k.jsx("div",babelHelpers["extends"]({ref:w},E,{children:a})),f[42]=H,f[43]=E,f[44]=a,f[45]=v):v=f[45];f[46]!==v||f[47]!==x?(l=k.jsx(c("MDSTheme.react"),{displayMode:x,children:v}),f[46]=v,f[47]=x,f[48]=l):l=f[48];C=l;f[49]!==e||f[50]!==C?(u=k.jsx(b("cr:20391"),babelHelpers["extends"]({},e,{children:C})),f[49]=e,f[50]=C,f[51]=u):u=f[51];return u}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadInitializeDataSource",["SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","searchCometGlobalTypeahead.config","useSearchCometEventEmitterContext","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(17),b=c("useSearchCometGlobalTypeaheadNullStateDataSource")(),e;a[0]!==b?(e={config:c("searchCometGlobalTypeahead.config"),recentDataSource:b},a[0]=b,a[1]=e):e=a[1];var f=c("useSearchCometGlobalTypeaheadCompositeDataSource")(e);e=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var g=e.subscribeToClearGlobalRecentSearches,h=e.subscribeToRecentSearchEntryAdded,j=e.subscribeToRefreshRecentSearches;a[2]!==f||a[3]!==h?(b=function(){return h==null?void 0:h(function(a){f.addRecentEntry(a)})},e=[f,h],a[2]=f,a[3]=h,a[4]=b,a[5]=e):(b=a[4],e=a[5]);i(b,e);a[6]!==f||a[7]!==g?(b=function(){return g==null?void 0:g(function(){f.clearRecentSearches()})},e=[f,g],a[6]=f,a[7]=g,a[8]=b,a[9]=e):(b=a[8],e=a[9]);i(b,e);a[10]!==f||a[11]!==j?(b=function(){return j==null?void 0:j(function(){f.refreshRecentSearches()})},e=[f,j],a[10]=f,a[11]=j,a[12]=b,a[13]=e):(b=a[12],e=a[13]);i(b,e);a[14]!==f?(b=function(){f.bootstrap()},e=[f],a[14]=f,a[15]=b,a[16]=e):(b=a[15],e=a[16]);i(b,e)}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadDataSourceLoader.react",["CometVisualCompletionAttributes","react","react-compiler-runtime","useSearchCometGlobalTypeaheadInitializeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1);c("useSearchCometGlobalTypeaheadInitializeDataSource")();var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE)),a[0]=b):b=a[0];return b}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="_SearchBootstrapCache_";c=b("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);f.StorageKeyPrefix=a;f.StorageKey=c}),66);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","Promise","WebStorage","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=["storageKey","storageTimespan"],i,j,k=1e3*60*60*24;a=function(){function a(a){var b=a.storageKey,e=a.storageTimespan;e=e===void 0?k:e;a=babelHelpers.objectWithoutPropertiesLoose(a,h);this.$1=new(c("BaseTypeaheadDataProvider"))(a);this.$3=b!=null?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+b:null;this.$4=e;b=a.queryVariablesBuilder;this.$2=b}var e=a.prototype;e.fetch=function(a){var c=this,d=this.$3!=null?this.$5(a):null;if(d!=null){var e=this.$2.build();e=e(a);return(j||(j=b("Promise"))).resolve({requestQueryVariables:e,response:d})}return this.$1.fetch(a).then(function(b){var d=b.response;d!=null&&c.$3!=null&&c.$6(a,d);return b})};e.clearLocalStorage=function(){var a=this.$3,b=(i||(i=c("WebStorage"))).getLocalStorage();if(b==null||a==null)return;b.removeItem(a)};e.$5=function(a){var b=this.$3,d=(i||(i=c("WebStorage"))).getLocalStorage();if(d==null||b==null)return null;var e=d.getItem(b);if(e==null)return null;var f;try{f=JSON.parse(e)}catch(a){c("recoverableViolation")("Cannot deserialize bootstrap response from local storage due to error: "+a,"search")}if(f==null)return null;e=f;var g=e.queryVariables,h=e.response;e=e.timestamp;var j=this.$2.build();j=j(a);if(JSON.stringify(g)!==JSON.stringify(j)){d.removeItem(b);return null}a=Date.now();if(e+Number(this.$4)>=a)return h;d.removeItem(b);return null};e.$6=function(a,b){var d=this.$3,e=(i||(i=c("WebStorage"))).getLocalStorage();if(e==null||d==null)return;var f=this.$2.build();f=f(a);try{a=Date.now();f=JSON.stringify({queryVariables:f,response:b,timestamp:a});e.setItem(d,f)}catch(a){c("recoverableViolation")("Cannot save bootstrap response to local storage due to error: "+a,"search")}};return a}();g["default"]=a}),98);
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*BTDS*/"No people found")}g["default"]=a}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})})),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"],i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState;function a(a){var b=a.ref,e=a.context,f=a.dataSource,g=a.inputElement,i=a.layoutStrategyRenderer,q=a.loggingProvider,r=a.onAriaChange,s=a.onEntriesUpdated,t=a.onHighlightEntry,u=a.onSelectedEntry,v=a.onVisibilityChange,w=a.position;w=w===void 0?"above":w;var x=a.queryString,y=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var z=n(null),A=o(null),B=A[0],C=A[1],D=n([]);A=o(D.current);var E=A[0],F=A[1];A=o(!0);var G=A[0],H=A[1],I=n(null),J=n(x);l(function(){J.current=x},[x]);var K=k(function(a){t&&t(a),C(a),z.current=a},[t]);A=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:k(function(a){var b;a=a.entries;D.current=a;F(a);var d=c("baseTypeaheadFlattenEntries")(a),e=d[0],f=z==null||(b=z.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(f)&&K(e);s&&s(a.length>0)},[K,s])});var L=A[0].isLoading,M=A[1],N=G&&(E.length>0||L);l(function(){N?q.startSession(J.current):q.isSessionActive()&&q.maybeEndSession(J.current,c("baseTypeaheadFlattenEntries")(D.current));v(N);return function(){q.isSessionActive()&&q.maybeEndSession(J.current,c("baseTypeaheadFlattenEntries")(D.current))}},[v,q,N]);l(function(){H(!0),M({query:x})},[M,x,f]);m(b,function(){return{getViewRef:function(){return I},hasSelection:function(){return p(c("baseTypeaheadFlattenEntries")(D.current),B)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(D.current),B!=null?B.key:null,K,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(D.current),B!=null?B.key:null,K,!1)},select:function(){var a=c("baseTypeaheadFlattenEntries")(D.current);u&&B!=null&&p(a,B)&&(q.isSessionActive()&&q.maybeEndSession(x,a,B),u(B))}}},[B,K,u,q,x]);A=k(function(a){var b=c("baseTypeaheadFlattenEntries")(D.current);u&&p(b,a)&&(q.isSessionActive()&&q.maybeEndSession(x,b,a),u(a))},[u,q,x]);l(function(){if(N===!1)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=I.current;c=c!==null&&(b===c||a(b,c));b=g!==null&&(b===g||a(b,g));H(c||b)};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[g,N]);return!N?null:j.jsx(i,{ariaProps:{role:"listbox"},context:e,entries:E,highlightedEntry:B,isLoading:L,onAriaChange:r,onBlur:a.onBlur,onHighlightEntry:K,onPressEntry:A,onPressEntryIn:A,position:w,queryString:x,viewRef:I,viewStrategyRenderer:y})}a.displayName=a.name+" [from "+f.id+"]";function p(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}g["default"]=a}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=a.anchor;if(a.type!=="text")return null;var c=a.getNode();if(b!=null&&!b()||b==null&&!c.isSimpleText())return null;b=a.offset;return c.getTextContent().slice(0,b)}function a(a,b){return a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:h(a,b)})}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(!1);i(function(){if(c.current)return;var e=a.getRootElement()===document.activeElement;if(e){b();c.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();c.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},[b,a,c])}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("WithTagSuggestionContinueClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3701");b=d("FalcoLoggerInternal").create("with_tag_suggestion_continue_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","WithTagSuggestionContinueClickedFalcoEvent","guid","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("recoverableViolation")("Mentions logging sessionID does not exist.","search");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d,e){if(a==null)return;var f=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,g=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:f,session_id:this.getSessionID(),typed_query:a});if(d!=null){var h=d.key,i=(f=b==null?void 0:b.findIndex(function(a){return a.key===h}))!=null?f:null,j=isNaN(parseInt(d.key,10))?"0":d.key;if(e===!0){c("WithTagSuggestionContinueClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},g,{selected_position:String(i),selected_result_display_text:d.label,selected_result_id:j,selected_result_id_string:d.key})});return}else c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},g,{selected_position:String(i),selected_result_display_text:d.label,selected_result_id:j,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return g});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?i:a;var e;b[0]!==a?(e=new(c("CometMentionsLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.startTransition,j=b.useEffect,k=b.useState;function l(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b,d){var e=k(null),f=e[0],g=e[1];j(function(){var e=document.createRange(),f=null,h=null,j=null,k=function(){var k=e,m=c("getCometComposerMentionsSearchForLexical")(a,d);if(m===f||k===null)return;f=m;m=b(m);var n=m.dataSource,o=m.searchResult;if(n===h&&o===j)return;m=l(o,k);h=n;j=o;!m||n===null||o===null?i(function(){return g(null)}):i(function(){g({dataSource:n,range:k,searchResult:o})})},m=a.registerUpdateListener(k);k();return function(){e=null,m()}},[d,b,a]);return f}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","react-compiler-runtime","recoverableViolation","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState;function a(a){var b=a.$isValidSelection,e=a.createNodeStrategy,f=a.dataSourceResolverConfig,g=f.bootstrap,h=f.resolver,m=a.editor;f=a.layoutStrategyRenderer;var o=a.mentionsHandlerForSelectedEntry,r=a.mentionsLoggerContext,s=a.onMentionsEntrySelected,t=a.position;t=t===void 0?"below":t;a=a.viewStrategyRenderer;var u=c("useCometMentionsResolutionForLexical")(m,h,b),v=l(!1),w=n(m),x=w[0],y=w[1],z=l(null),A=q(m);c("useCometMentionsBootstrapForLexical")(m,g);k(function(){return m.registerCommand(d("Lexical").BLUR_COMMAND,function(){A();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[m,A]);w=j(function(){A()},[A]);k(function(){var a;a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:(a=d("Lexical")).KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:a.KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:a.KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:a.KEY_ARROW_DOWN_COMMAND},{handler:function(){A();y();return!0},type:a.KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return m.registerCommand(a,function(a){var c=z.current,d=v.current;if(c===null||!d||x)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[y,m,A,x]);g=j(function(a){v.current=a},[]);var B=j(function(a){if(a)return;A()},[A]),C=j(function(a){var d=c("getCometComposerMentionsSearchForLexical")(m,b);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var f=h(d);f=f.searchResult;if(f==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query "+d,"CometComposer");return}A();d=o==null?void 0:o(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;p(m,e,a,f,b);s==null||s(a);y()},[m,b,h,A,o,e,s,y]);r=c("useCometMentionsLoggingProvider")(r);if(u===null||x){A();v.current=!1;return null}return i.jsx(c("CometMentions.react"),{context:u.range,dataSource:u.dataSource,inputElement:m.getRootElement(),layoutStrategyRenderer:f,loggingProvider:r,onAriaChange:A,onBlur:w,onEntriesUpdated:B,onFocus:c("emptyFunction"),onSelectedEntry:C,onVisibilityChange:g,position:t,queryString:u.searchResult.matchingString,ref:z,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(7),c=m(!1),e=c[0],f=c[1],g;b[0]!==a||b[1]!==e?(c=function(){if(e){var b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&f(!1),b=a})}},g=[a,e],b[0]=a,b[1]=e,b[2]=c,b[3]=g):(c=b[2],g=b[3]);k(c,g);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){return f(!0)},b[4]=c):c=b[4];b[5]!==e?(g=[e,c],b[5]=e,b[6]=g):g=b[6];c=g;return c}function o(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function p(a,b,c,e,f){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var g=a.getNode();if(f!=null&&!f()||f==null&&!g.isSimpleText())return;a=a.offset;var h=g.getTextContent().slice(0,a),i=c.label,j=e.replaceableString.length;h=o(h,i,j);i=a-h;if(i<0)return;b({anchorNode:g,endOffset:a,selectedEntry:c,startOffset:i})})}function q(a){var b=d("react-compiler-runtime").c(2),c=l(void 0),e=l(void 0),f;b[0]!==a?(f=function(b,f){var g=c.current,h=e.current;(g!==b||h!==f)&&(c.current=b,e.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:b,controlsID:f}))},b[0]=a,b[1]=f):f=b[1];return f}g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","react-compiler-runtime","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.entries,f=a.highlightedEntry,g=a.onAriaChange;b[0]!==e?(a=c("baseTypeaheadFlattenEntries")(e),b[0]=e,b[1]=a):a=b[1];b[2]!==f||b[3]!==a?(e={activeEntries:a,helperText:"",highlightedEntry:f,inputLabel:"",isOpened:!0,viewRole:"listbox"},b[2]=f,b[3]=a,b[4]=e):e=b[4];f=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(e);var h=f.ariaInputProps;a=f.ariaViewProps;b[5]!==h||b[6]!==g?(e=function(){return g(h["aria-activedescendant"],h["aria-controls"])},f=[h,g],b[5]=h,b[6]=g,b[7]=e,b[8]=f):(e=b[7],f=b[8]);i(e,f);return a}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","react-compiler-runtime","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,i,k;b[0]!==a?(f=a.isLoading,k=a.isLoadingIndicatorEnabled,g=a.onAriaChange,e=a.viewStrategyRenderer,i=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5]);a=k===void 0?!1:k;b[6]!==g||b[7]!==i.entries||b[8]!==i.highlightedEntry?(k={entries:i.entries,highlightedEntry:i.highlightedEntry,onAriaChange:g},b[6]=g,b[7]=i.entries,b[8]=i.highlightedEntry,b[9]=k):k=b[9];g=c("useBaseMentionsLayoutStrategyARIAProps.react")(k);k=a?f:!1;b[10]!==e||b[11]!==g||b[12]!==i||b[13]!==k?(a=j.jsx(e,babelHelpers["extends"]({},i,{ariaProps:g,isLoading:k})),b[10]=e,b[11]=g,b[12]=i,b[13]=k,b[14]=a):a=b[14];b[15]!==f||b[16]!==i.entries?(e=!f&&i.entries.length===0?j.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,b[15]=f,b[16]=i.entries,b[17]=e):e=b[17];b[18]!==a||b[19]!==e?(g=j.jsxs("div",{children:[a,e]}),b[18]=a,b[19]=e,b[20]=g):g=b[20];return g}g["default"]=a}),98);
__d("CometMentionsLayoutStrategy.react",["fbt","CometContextualLayer.react","CometPopover_DEPRECATED.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["ariaProps","context","entries","onBlur","position","viewRef"],j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,j,l,m,n;b[0]!==a?(e=a.ariaProps,f=a.context,g=a.entries,j=a.onBlur,l=a.position,n=a.viewRef,m=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],j=b[4],l=b[5],m=b[6],n=b[7]);if(g.length===0)return null;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Mentions suggestions"),b[8]=a):a=b[8];var o;b[9]!==e||b[10]!==g||b[11]!==m?(o=k.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:e,entries:g,isLoading:!1},m)),b[9]=e,b[10]=g,b[11]=m,b[12]=o):o=b[12];b[13]!==j||b[14]!==o||b[15]!==n?(e=k.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":a,onBlur:j,ref:n,role:"listbox",children:o}),b[13]=j,b[14]=o,b[15]=n,b[16]=e):e=b[16];b[17]!==f||b[18]!==l||b[19]!==e?(g=k.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:f,position:l,children:e}),b[17]=f,b[18]=l,b[19]=e,b[20]=g):g=b[20];return g}g["default"]=a}),226);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],i,j=i||(i=d("react"));i.useMemo;function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,i;if(b[0]!==a){var k=a.ariaProps,l=a.entries;a.extraViewProps;var m=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var n=a.viewItemStrategyRenderer,o=babelHelpers.objectWithoutPropertiesLoose(a,h);k=k;f=l;g=m;e=n;i=o;b[0]=a;b[1]=e;b[2]=k;b[3]=f;b[4]=g;b[5]=i}else e=b[1],k=b[2],f=b[3],g=b[4],i=b[5];l=k.role;if(l!=null){b[6]!==l?(m={role:l},b[6]=l,b[7]=m):m=b[7];n=m}else{b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={},b[8]=o):o=b[8];n=o}a=n;b[9]!==l?(m=c("getItemRoleFromCompositeRole")(l),b[9]=l,b[10]=m):m=b[10];var p=m;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(o="x78zum5 xdt5ytf x1iyjqo2",b[11]=o):o=b[11];if(b[12]!==e||b[13]!==f||b[14]!==((n=g)==null?void 0:n.key)||b[15]!==p||b[16]!==i){if(b[18]!==e||b[19]!==f.length||b[20]!==((l=g)==null?void 0:l.key)||b[21]!==p||b[22]!==i){m=function(a,b){if(a.type==="section"){var d=a.entries,h=a.key,k=a.label;return d.length===0?null:j.jsxs("li",{"aria-selected":"false",role:"option",children:[j.jsx("div",babelHelpers["extends"]({className:"x889kno x2vl965 x1a8lsjc xe2zdcy"},{children:j.jsx("label",{htmlFor:h,children:j.jsx(c("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:k})})})),j.jsx("ul",{id:h,role:"listbox",children:d.map(function(a){var b;return j.createElement(e,babelHelpers["extends"]({},i,{entry:a,isActive:a.key===((b=g)==null?void 0:b.key),key:a.key,role:p}))})})]},"section-"+h)}else{return j.createElement(e,babelHelpers["extends"]({},i,{entry:a,isActive:a.key===((k=g)==null?void 0:k.key),isFirstItem:b===0,isLastItem:b===f.length-1,key:a.key,role:p}))}};b[18]=e;b[19]=f.length;b[20]=(n=g)==null?void 0:n.key;b[21]=p;b[22]=i;b[23]=m}else m=b[23];l=f.map(m);b[12]=e;b[13]=f;b[14]=(n=g)==null?void 0:n.key;b[15]=p;b[16]=i;b[17]=l}else l=b[17];b[24]!==a||b[25]!==l?(m=j.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:l}),b[24]=a,b[25]=l,b[26]=m):m=b[26];b[27]!==k||b[28]!==m?(n=j.jsx("ul",babelHelpers["extends"]({},k,{className:o,"data-testid":void 0,children:m})),b[27]=k,b[28]=m,b[29]=n):n=b[29];return n}g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["onPressEntryIn","queryString"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e;if(b[0]!==a){var f=a.onPressEntryIn;a.queryString;var g=babelHelpers.objectWithoutPropertiesLoose(a,h);g=g;e=function(a,b){b.preventDefault(),f&&f(a,b)};b[0]=a;b[1]=g;b[2]=e}else g=b[1],e=b[2];a=e;b[3]!==a||b[4]!==g?(e=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{onPressEntryIn:a})),b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("CometTypeaheadCompositeDataSource",["BaseDataEntryKeyBuilder","Promise","baseTypeaheadDedupEntriesBuilder","baseTypeaheadFlattenEntries"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.bootstrapDataSource,c=a.limit,d=a.networkDataSource;a=a.nullstateDataSource;this.$1=!1;this.$2=b;this.$3=c;this.$4=d;this.$5=a}var d=a.prototype;d.bootstrap=function(){if(this.$1)return;this.$2!=null&&this.$2.bootstrap();this.$5!=null&&void this.$5.fetchNetwork({query:""});this.$1=!0};d.fetchCache=function(a){var b=a.query;if(this.$5!=null&&b==="")return this.$5.fetchCache(a);if(b==="")return{entries:[],params:a};if(this.$2==null)return this.$4!=null?this.$4.fetchCache(a):{entries:[],params:a};b=this.$2.fetchCache(a);var d=b.entries,e=c("baseTypeaheadFlattenEntries")(d).length;if(e>=this.$3||this.$4==null)return b;e=this.$4.fetchCache(a);b=e.entries;a=e.params;e=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))(d!=null?d:[],b!=null?b:[]);return{entries:e,params:a}};d.fetchNetwork=function(a){var d=a.query;if(this.$5!=null&&d==="")return this.$5.fetchNetwork(a);if(d==="")return(h||(h=b("Promise"))).resolve({entries:[],params:a});d=this.$2;if(d==null&&this.$4==null)return(h||(h=b("Promise"))).resolve({entries:[],params:a});if(d==null)return this.$4!=null?this.$4.fetchNetwork(a):(h||(h=b("Promise"))).resolve({entries:[],params:a});var e=d.fetchCache(a);return this.$4==null?(h||(h=b("Promise"))).resolve(e):this.$4.fetchNetwork(a).then(function(a){var b=e.entries,d=a.entries;a=a.params;b=c("baseTypeaheadDedupEntriesBuilder")(c("BaseDataEntryKeyBuilder"))(b!=null?b:[],d!=null?d:[]);return{entries:b,params:a}})};return a}();g["default"]=a}),98);
__d("baseTypeaheadPrefixWithDocumentContainsMatchBuilder",["baseTypeaheadContainsMatchBuilder","baseTypeaheadStartsWithMatchBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return a.key.includes("diff:")||a.key.includes("task:")||a.key.includes("gdocs:")||a.key.includes("quip:")||a.key.includes("notes:")||a.key.includes("wiki:")?c("baseTypeaheadContainsMatchBuilder")({query:b})(a):c("baseTypeaheadStartsWithMatchBuilder")({query:b})(a)}}g["default"]=a}),98);
__d("baseTypeaheadQueryMatchBuilder",["TokenizeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.query;return function(a){return c("TokenizeUtil").isQueryMatch(b,a.label)}}g["default"]=a}),98);
__d("CometTypeaheadGraphQLBootstrapDataSource",["BaseTypeaheadDataCacheProvider","BaseTypeaheadInMemoryMapDataCache","baseTypeaheadContainsMatchBuilder","baseTypeaheadPrefixWithDocumentContainsMatchBuilder","baseTypeaheadQueryMatchBuilder","baseTypeaheadStartsWithMatchBuilder","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={prefix:c("baseTypeaheadStartsWithMatchBuilder"),prefix_with_document_substring:c("baseTypeaheadPrefixWithDocumentContainsMatchBuilder"),substring:c("baseTypeaheadContainsMatchBuilder"),token:c("baseTypeaheadQueryMatchBuilder")};a=function(){function a(a){var b=a.bootstrapDataProvider,d=a.matchStrategy;d=d===void 0?"prefix":d;a=a.normalize;this.$2=!1;this.$1=new(c("BaseTypeaheadDataCacheProvider"))({cache:new(c("BaseTypeaheadInMemoryMapDataCache"))(),matchBuilder:h[d]});this.$3=a;this.$4=b}var b=a.prototype;b.isBootstrapped=function(){return this.$2};b.bootstrap=function(){var a=this;c("promiseDone")(this.$4.fetch({query:""}).then(function(b){b=b.response;return a.$3(b)}).then(function(b){a.$1.add(b,null)}).then(function(){return a.$2=!0}))};b.fetchCache=function(a){var b=a.query;b=this.$1.match(b);return{entries:b,params:a}};return a}();g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("FDSShopsFilled20Icon",["cr:15667"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15667")}),98);
__d("FDSShopsFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1664042"),20);b=a;g["default"]=b}),98);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSChevronLeftFilled16Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7);c("vulture")("gGHDieg7mm2jsTrKIdPDlmejPMo=");var e=a.entry;e=e.label;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={icon:c("FDSChevronLeftFilled16Icon"),type:"icon"},b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x15huedd"},b[1]=g):g=b[1];b[2]!==e?(f=i.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:f,addOnStartOverrideVerticalStyle:j.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:e})})),level:4,paddingHorizontal:0}),b[2]=e,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(g=i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[4]=a,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSChevronRightFilled16Icon","FDSShopsFilled20Icon","FDSText.react","react","react-compiler-runtime","recoverableViolation","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12);c("vulture")("Q1EDZhyn9frZO2tJJtSWGW-ofiM=");var e=a.entry,f=e.label;e=e.rawData;e=e.type==="MENTION_TYPE_SELECTION"?e.iconName:null;if(e==null){c("recoverableViolation")("No icon name found for mention type selection entry","comet_composer");return null}var g=null;bb0:switch(e){case"shops":g=c("FDSShopsFilled20Icon");break bb0;default:}b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={color:"secondary",icon:c("FDSChevronRightFilled16Icon"),type:"icon"},b[0]=e):e=b[0];var h;b[1]!==g?(h=g!=null?{icon:g,size:40,type:"contained-icon"}:null,b[1]=g,b[2]=h):h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xcqhk00"},b[3]=g):g=b[3];b[4]!==f?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})})),b[4]=f,b[5]=g):g=b[5];b[6]!==h||b[7]!==g?(f=i.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnEnd:e,addOnEndVerticalAlign:"center",addOnStart:h,addOnStartOverrideVerticalStyle:j.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:g,level:4,paddingHorizontal:0}),b[6]=h,b[7]=g,b[8]=f):f=b[8];b[9]!==a||b[10]!==f?(e=i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[9]=a,b[10]=f,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","fbicon","qex","react","react-compiler-runtime","recoverableViolation","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=["entry"],k,l,m=l||(l=d("react"));l.useCallback;var n=c("requireDeferred")("cometPushToast").__setRef("FeedComposerCometMentionsViewItem.react"),o={invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(56),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,j),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);if(b[3]===Symbol["for"]("react.memo_cache_sentinel")){a=(a=c("qex")._("4529"))!=null?a:!1;b[3]=a}else a=b[3];var g=a;b[4]!==e.rawData?(a=function(){var a;a=((a=e)==null||(a=a.rawData)==null?void 0:a.isEligible)==null||((a=e)==null||(a=a.rawData)==null?void 0:a.isEligible)===!0;if(!g||a)return;var b=((a=e)==null||(a=a.rawData)==null?void 0:a.ineligibleReason)!=null?h._(/*BTDS*/"{ineligible reason}",[h._param("ineligible reason",String(e.rawData.ineligibleReason))]):h._(/*BTDS*/"This person cannot be tagged at this time.");n.onReady(function(a){a.cometPushToast({message:b,testid:"FeedCometMentionHintToast"})})},b[4]=e.rawData,b[5]=a):a=b[5];a=a;var l=e;l=l.rawData;var q=!1,r=!1,s=null,t="circle",u=(l==null?void 0:l.isEligible)===!1&&g,v=u?"disabled":null;if(l.type==="MENTION_SEARCH_RESULT"){var w;q=Boolean(l.isExternal);r=l.isVerified;s=l.subtext;t=(w=l.iconShape)!=null?w:"circle"}w=e;w=w.label;var x=f.addOn,y=o.name;x!=null&&(y=r?o.invitedVerifiedName:o.invitedName);l=l.type!=="SEE_ALL_ENTRY"&&l.type!=="MENTION_TYPE_RESET"?l.photoURI:null;if(l==null){c("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}var z;b[6]!==l?(z={uri:l},b[6]=l,b[7]=z):z=b[7];b[8]!==t||b[9]!==z?(l=m.jsx(c("FDSProfilePhoto.react"),{shape:t,size:40,source:z}),b[8]=t,b[9]=z,b[10]=l):l=b[10];t=l;b[11]!==u||b[12]!==f.onPressEntry?(z=u?p:f.onPressEntry,b[11]=u,b[12]=f.onPressEntry,b[13]=z):z=b[13];l="CometSearchMentionsBaseViewItem/"+w;var A;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x78zum5 x1gfrnbc x18ip3f8"},A={className:"x1vqgdyp x100vrsf"},b[14]=u,b[15]=A):(u=b[14],A=b[15]);b[16]!==t?(A=m.jsx("div",babelHelpers["extends"]({},A,{children:t})),b[16]=t,b[17]=A):A=b[17];var B;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1iyjqo2 x1diwwjn x6ikm8r x10wlt62 xlyipyv xuxw1ft"},B={className:"x78zum5 x1gslohp x12nagc"},b[18]=t,b[19]=B):(t=b[18],B=b[19]);var C;b[20]!==y?(C=(k||(k=c("stylex"))).props(y),b[20]=y,b[21]=C):C=b[21];b[22]!==w||b[23]!==v?(y=m.jsx(c("FDSText.react"),{color:v,numberOfLines:1,type:"headlineEmphasized4",children:w}),b[22]=w,b[23]=v,b[24]=y):y=b[24];b[25]!==C||b[26]!==y?(w=m.jsx("div",babelHelpers["extends"]({},C,{children:y})),b[25]=C,b[26]=y,b[27]=w):w=b[27];b[28]!==e.key||b[29]!==r?(C=r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"x51ohtg"}),m.jsx("div",babelHelpers["extends"]({className:"x1kpxq89"},{children:m.jsx(c("CometProfileVerificationBadge.react"),{profileID:e.key,size:"small"})})),m.jsx("div",{className:"x51ohtg"})]}),b[28]=e.key,b[29]=r,b[30]=C):C=b[30];b[31]!==q?(y=q?m.jsx("span",babelHelpers["extends"]({className:"xaso8d8"},{children:m.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"Not part of your organization"),color:"primary",icon:d("fbicon")._(i("785426"),12)})})):null,b[31]=q,b[32]=y):y=b[32];b[33]!==w||b[34]!==C||b[35]!==y?(r=m.jsxs("div",babelHelpers["extends"]({},B,{children:[w,C,y]})),b[33]=w,b[34]=C,b[35]=y,b[36]=r):r=b[36];b[37]!==s||b[38]!==v?(q=s!=null&&m.jsxs("div",babelHelpers["extends"]({className:"x12nagc"},{children:[m.jsx("div",{className:"xdk7pt"}),m.jsx(c("FDSText.react"),{color:v,numberOfLines:1,type:"meta3",children:s})]})),b[37]=s,b[38]=v,b[39]=q):q=b[39];b[40]!==r||b[41]!==q?(B=m.jsxs("div",babelHelpers["extends"]({},t,{children:[r,q]})),b[40]=r,b[41]=q,b[42]=B):B=b[42];b[43]!==x?(w=m.jsx("div",{children:x}),b[43]=x,b[44]=w):w=b[44];b[45]!==B||b[46]!==w||b[47]!==A?(C=m.jsxs("div",babelHelpers["extends"]({},u,{children:[A,B,w]})),b[45]=B,b[46]=w,b[47]=A,b[48]=C):C=b[48];b[49]!==e||b[50]!==a||b[51]!==f||b[52]!==C||b[53]!==z||b[54]!==l?(y=m.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,onPressEntry:z,onPressEntryIn:a,testid:void 0,children:C})),b[49]=e,b[50]=a,b[51]=f,b[52]=C,b[53]=z,b[54]=l,b[55]=y):y=b[55];return y}function p(){}g["default"]=a}),226);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;switch(a.type){case"MENTION_TYPE_SELECTION":b[3]!==e||b[4]!==f?(a=j.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a;case"MENTION_TYPE_RESET":b[6]!==e||b[7]!==f?(a=j.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[6]=e,b[7]=f,b[8]=a):a=b[8];return a;default:b[9]!==e||b[10]!==f?(a=j.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[9]=e,b[10]=f,b[11]=a):a=b[11];return a}}g["default"]=a}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);d.setStyle(g.getStyle());g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("cometMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:a.key,text:c("cometMentionsDataEntryText")(a),type:"Actor"})});b=a;g["default"]=b}),98);
__d("cometTypeaheadCreateOrGetCachedCompositeDataSource",["CometLruCache","CometTypeaheadCompositeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=["cacheKey_SEARCH_ONLY"],i=d("CometLruCache").create(5);function a(a){var b=a.cacheKey_SEARCH_ONLY;a=babelHelpers.objectWithoutPropertiesLoose(a,h);b=j(b);var d=i.get(b);if(d!=null)return d;d=new(c("CometTypeaheadCompositeDataSource"))(a);i.set(b,d);return d}function j(a){switch(a.type){case"group_rules_mentions_intentful_datasource_cache_key":case"groups_mentions_intentful_datasource_cache_key":case"groups_mentions_non_intentful_datasource_cache_key":return a.type+"-"+a.groupID;case"feed_mentions_intentful_datasource_cache_key":return a.enableTypeSelection.toString()+"-"+a.type+"-"+a.mentionTypes.join(",");case"workplace_chat_composer_mentions_datasource_cache_key":return a.participants.toString()+"-"+a.type+"-"+a.threadID+"}";case"groups_post_mentions_intentful_datasource_cache_key":return a.type+"-"+a.groupID+"-"+a.postID;default:return String(a.type)}}g["default"]=a}),98);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b,c){b="[^"+a+b+"\\s]";c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+c+"){0,"+i+"}))$");var d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=a.validJoins;a=a===void 0?h:a;e=j(e,f,a);var i=e.regex,k=e.regexAlias;return{findMentionableString:function(a){var c=i.exec(a);c===null&&(c=k.exec(a));if(c!==null){a=c[1];var d=c[3];if(g!=null&&g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a}),66);
__d("createFeedCometMentionsDataEntryWithInstagramTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithInstagramTag_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"InstagramUserV2",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTagSuggestion_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"SuggestedWithTagsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTag_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"FriendsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},d={kind:"Variable",name:"scale",variableName:"scale"},e={alias:"photo",args:[{kind:"Literal",name:"height",value:40},d,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g=[a,b,e];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[a,b,{alias:"thumbnail_link",args:[d],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,e],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a,e],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:g,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}}();e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry",["FBLogger","createFeedCometMentionsDataEntryWithInstagramTag_data.graphql","createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql","createFeedCometMentionsDataEntryWithTag_data.graphql","createFeedCometMentionsDataEntry_data.graphql","createFeedCometMentionsDataEntry_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;h!==void 0?h:h=b("createFeedCometMentionsDataEntry_data.graphql");i!==void 0?i:i=b("createFeedCometMentionsDataEntryWithTag_data.graphql");j!==void 0?j:j=b("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql");k!==void 0?k:k=b("createFeedCometMentionsDataEntry_profile.graphql");l!==void 0?l:l=b("createFeedCometMentionsDataEntryWithInstagramTag_data.graphql");function a(a){var b,d,e=null;e=a.data.node;if(e==null){c("FBLogger")("comet_composer").warn("missing node info for Comet mentions data entry");return null}var f=e,g=f.id;f=f.name;b=(b=e)==null?void 0:b.photo;var h=e.__typename==="InstagramUserV2";h&&((d=e)==null?void 0:d.username)==null&&c("FBLogger")("comet_composer").warn("Instagram user is missing username for Comet mentions data entry");d=b==null?void 0:b.uri;var i;switch(a.data.icon_shape){case"square":i="square";break;case"roundedRect":i="roundedRect";break;default:i="circle";break}if(d==null&&a.type==="MENTION_SEARCH_RESULT"){d=(b=a.data.node)==null?void 0:b.thumbnail_link;i="roundedRect"}if(f==null||g==null||d==null){c("FBLogger")("comet_composer").warn("%s is missing the name, id, or photoURI for Comet mentions data entry",e.__typename);return null}if(a.type==="MENTION_SEARCH_RESULT"){var j,k;b=a.data.score;if(b==null){c("FBLogger")("comet_composer").warn("%s is missing score info for Comet mentions data entry",e.__typename);return null}j=Boolean((j=a.data.node)==null?void 0:j.is_verified);return{key:g,label:f,rawData:{docTitle:(k=a.data.node)==null?void 0:k.doc_title,docUrl:(k=a.data.node)==null?void 0:k.doc_url,iconShape:i,isExternal:!1,isVerified:j,photoURI:d,resultType:(k=a.data.node)==null?void 0:k.__typename,score:b,subtext:(j=a.data.node)==null?void 0:j.mentions_subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}return{key:g,label:((k=e)==null?void 0:k.username)!=null?e.username:f,rawData:{isInstagramUser:h,photoURI:d,type:a.type},type:"entry"}}g["default"]=a}),98);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getTaggingTransparencyGating",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;a=(a=c("qex")._("488"))!=null?a:!1;return a}function b(){var a;a=(a=c("qex")._("157"))!=null?a:!1;return a}g.getIsTaggingTransparencyAPIEnabled=a;g.getIsTaggingTransparencyEnabledForWithTags=b}),98);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp(c("getHashtagRegexString")(),"i");function a(a){if(!a.hasNodes([d("LexicalHashtag").HashtagNode]))throw c("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var b=function(a){return d("LexicalHashtag").$createHashtagNode(a.getTextContent())},e=function(a){a=h.exec(a);if(a===null)return null;var b=a[3].length+1;a=a.index+a[1].length;b=a+b;return{end:b,start:a}};return d("LexicalUtils").mergeRegister.apply(void 0,d("LexicalText").registerLexicalTextEntity(a,e,d("LexicalHashtag").HashtagNode,b))}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect;b.useMemo;function a(a,b){var c=d("react-compiler-runtime").c(12),e;c[0]!==a?(e=function(){a.forEach(j)},c[0]=a,c[1]=e):e=c[1];var f=e,g;c[2]!==f||c[3]!==b?(e=function(){if(!b)return;f()},g=[b,f],c[2]=f,c[3]=b,c[4]=e,c[5]=g):(e=c[4],g=c[5]);i(e,g);c[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=new Map(),c[6]=e):e=c[6];var h=e;c[7]!==a?(g=function(b){var c={dataSource:null,searchResult:null};if(b==null)return c;var d=h.get(b);if(d!=null)return d;for(d=0;d<a.length;d++){var e=a[d],f=e.dataSource;e=e.matchStrategy;e=e.findMentionableString(b);if(e!=null){f={dataSource:f,searchResult:e};h.set(b,f);return f}}h.set(b,c);return c},c[7]=a,c[8]=g):g=c[8];c[9]!==f||c[10]!==g?(e={bootstrap:f,resolver:g},c[9]=f,c[10]=g,c[11]=e):e=c[11];g=e;return g}function j(a){a=a.dataSource;a.bootstrap()}g["default"]=a}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoading"],i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e=a.viewItemStrategyRenderer;b[0]!==e?(a=function(a){var b=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:e})),b&&j.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},b[0]=e,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapDataSource",["BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),l=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var m=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:l});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,l]);return i(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))}}},[m,k])}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=a.storageKey,l=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),m=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var n=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:m,storageKey:k});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,m]);return i(function(){return{bootstrap:function(){return n.bootstrap()},fetchCache:function(a){return l(n.fetchCache(a))}}},[n,l])}g["default"]=a}),98);
__d("useCometTypeaheadCompositeDataSource",["BaseTypeaheadPayloadDecoratorAddLimit","CometTypeaheadCompositeDataSource","baseTypeaheadFetchPayloadDecorate","cometTypeaheadCreateOrGetCachedCompositeDataSource","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.bootstrapDataSource,d=a.cacheKey_SEARCH_ONLY,e=a.limit,f=a.networkDataSource,g=a.nullstateDataSource,h=a.payloadDecorators,k=i(function(a){return c("baseTypeaheadFetchPayloadDecorate")(a,[].concat(h!=null?h:[],[c("BaseTypeaheadPayloadDecoratorAddLimit")(e)]))},[e,h]),l=j(function(){return{bootstrapDataSource:b,limit:e,networkDataSource:f,nullstateDataSource:g}},[b,e,f,g]),m=j(function(){return d!=null?c("cometTypeaheadCreateOrGetCachedCompositeDataSource")(babelHelpers["extends"]({},l,{cacheKey_SEARCH_ONLY:d})):new(c("CometTypeaheadCompositeDataSource"))(l)},[d,l]);return j(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))},fetchNetwork:function(a){return m.fetchNetwork(a).then(function(a){return k(a)})}}},[m,k])}g["default"]=a}),98);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24037885915835927"}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},d={defaultValue:null,kind:"LocalArgument",name:"options"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"typeaheadFirstDegreeFilters"},g={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},h=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"typeaheadFirstDegreeFilters"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n={alias:"photo",args:[{kind:"Literal",name:"height",value:40},m,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p=[j,k,n];o={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i,{kind:"InlineFragment",selections:[j,k,l,n,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[o],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[j,k,{alias:"thumbnail_link",args:[m],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[j,k,l,n],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[j,n],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:p,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:p,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:p,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,g,f,a],kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[i,o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react-compiler-runtime","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(12),e=a.canUseSections,f=a.firstDegreeFinderOptions,g=a.includeViewer,h=a.limit,k=a.matchStrategy,l=a.storageKey,m=a.typeaheadContext;a=a.typeaheadFirstDegreeFilters;k=k===void 0?"prefix":k;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("WebPixelRatio").get(),b[0]=n):n=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==m||b[5]!==a?(n={canUseSections:e,include_viewer:g,options:f,scale:n,typeahead_context:m,typeaheadFirstDegreeFilters:a},b[1]=e,b[2]=f,b[3]=g,b[4]=m,b[5]=a,b[6]=n):n=b[6];b[7]!==h||b[8]!==k||b[9]!==l||b[10]!==n?(e={gqlQuery:i,limit:h,matchStrategy:k,normalize:j,queryVariables:n,storageKey:l},b[7]=h,b[8]=k,b[9]=l,b[10]=n,b[11]=e):e=b[11];return c("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")(e)}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_bootload)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});f["default"]=a}),66);
__d("CometVideoPlayerInstreamAdsFeedContextCardContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isWatchTab:!1,onNodeChangeFunc:null});function a(){return i(j)}g.CometVideoPlayerInstreamAdsFeedContextCardContext=j;g.useCometVideoPlayerInstreamAdsFeedContextCardContext=a}),98);
__d("CometVideoPlayerNextgendashAvailability",[],(function(a,b,c,d,e,f){a=Object.freeze({AVAILABLE:"AVAILABLE",UNAVAILABLE_NEXTGENDASH_GK:"UNAVAILABLE_NEXTGENDASH_GK",UNAVAILABLE_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_1:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_1",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_2:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_2",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_3:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_3",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_4:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_4",UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_5:"UNAVAILABLE_TEMPORARY_FOR_THIS_KIND_OF_VIDEO_5",UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY:"UNAVAILABLE_FROM_JS_OZ_PLAYER_AVAILABILITY",UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER",UNAVAILABLE_FROM_JS_NEXTGENDASH_GK:"UNAVAILABLE_FROM_JS_NEXTGENDASH_GK",UNAVAILABLE_FROM_JS_NOT_DESIRED:"UNAVAILABLE_FROM_JS_NOT_DESIRED"});f["default"]=a}),66);
__d("FDSResizeUpFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("517763"),20);b=a;g["default"]=b}),98);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;b={fairplayCert:b,graphApiVideoLicenseUri:d!=null?d:null,videoLicenseUriMap:e,widevineCert:a};return b.graphApiVideoLicenseUri===null&&c("isEmptyObject")(b.videoLicenseUriMap)?null:b}g.makeGraphQLVideoDRMInfo=a}),98);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);function a(a){return(a=g.cast(a))!=null?a:null}f.HiveTechOrder=g;f.hiveTechOrderOrNull=a}),66);
__d("InstreamAdsConfig",["PMVInterruptionsWWWSitevarConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=15e3,j=5e3,k=200,l=200,m=3e3,n=5e3,o=6e4,p=300,q=6e4,r=6e4,s=3e3,t=16,u=15,v=5,w=200,x=96,y=93,z=92,A=97,B="unified_scheduler",C="is_live_preroll";function a(){return 4e3}function b(){return s}function d(){return 1e3}function e(){return 2e3}function f(){return c("gkx")("24371")?o:3e5}function D(){return i}function E(){return j}function F(){return k}function G(){return h}function H(){return p}function I(){return l}function J(){return!c("gkx")("24372")?m:n}function K(){return c("PMVInterruptionsWWWSitevarConfig").pmv_pre_roll_fetch_timeout_ms}function L(){return q}function M(){return r}g.DEFAULT_LONGER_AD_DURATION=t;g.DEFAULT_AD_COMPLETION_DURATION=u;g.DEFAULT_SKIPPABLE_TIME_THRESHOLD=v;g.DEFAULT_FETCH_TIME_INTERVAL_MS=w;g.UNIFIED_SCHEDULER_AD_INDEX=x;g.FULLSCREEN_AD_INDEX=y;g.CLICK_TO_PLAY_AD_INDEX=z;g.IS_LIVE_PREROLL_INDEX=A;g.UNIFIED_SCHEDULER_TIGGER_SOURCE=B;g.IS_LIVE_PREROLL_TRIGGER_SOURCE=C;g.getNonPmvMaxFetchTimeMS=a;g.getIsLivePrerollMaxFetchTimeMS=b;g.getHaloStartFetchTimeMS=d;g.getNonLiveBeginningTransitionTimeMS=e;g.getNonLiveMidrollGapRuleMS=f;g.getPostRollPreFetchTimeMs=D;g.getPostRollPreFetchEndTimeMs=E;g.getPreFetchTimeDeltaMs=F;g.getPreFetchTimeMs=G;g.getRecheckStartMs=H;g.getStartDeltaMs=I;g.getStartingIndicatorMs=J;g.getPMVInterruptionsPreRollFetchTimeMs=K;g.getUnifiedSchedulerStartDelayMs=L;g.getUnifiedSchedulerFrequencyMs=M}),98);
__d("InstreamAdsExtraFieldsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(null);function a(){return i(j)}g.InstreamAdsExtraFieldsContext=j;g.useInstreamAdsExtraFieldsContext=a}),98);
__d("InstreamAdsPalmStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext("INIT");function a(){return i(j)}g.InstreamAdsPalmStateContext=j;g.useInstreamAdsPalmStateContext=a}),98);
__d("InstreamPalmStateManagerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={setCurrentInsertion:function(){},setExtraFields:function(){},setHideAdBehavior:function(){},setIsEmpty:function(){},setState:function(){}};var j=b.createContext(c);function a(){return i(j)}g.InstreamPalmStateManagerContext=j;g.useInstreamPalmStateManager=a}),98);
__d("InstreamVideoAdBreaksPlayer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"InstreamVideoAdBreaksPlayer_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"InstreamExtraConfig",kind:"LinkedField",name:"instream_extra_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"instream_halo_delay_time_seconds",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{args:null,documentName:"InstreamVideoAdBreaksPlayer_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayerImpl_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("InstreamVideoAdBreaksPlayer.react",["CometPlaceholder.react","CometRelay","InstreamVideoAdBreaksPlayer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(11),f=a.playerFormat,g=a.subOrigin;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("InstreamVideoAdBreaksPlayer_video.graphql"),a);var i=a.id,k=a.instream_extra_config;a=a.instream_video_ad_breaks_comet;k=k==null?void 0:k.instream_halo_delay_time_seconds;var l;e[0]!==k?(l={instreamHaloDelayTimeSeconds:k},e[0]=k,e[1]=l):l=e[1];e[2]!==a||e[3]!==f||e[4]!==g||e[5]!==l||e[6]!==i?(k={instreamExtraConfig:l,instreamVideoAdBreaksComet:a,playerFormat:f,subOrigin:g,videoFBID:i},e[2]=a,e[3]=f,e[4]=g,e[5]=l,e[6]=i,e[7]=k):k=e[7];e[8]!==a||e[9]!==k?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:k})}),e[8]=a,e[9]=k,e[10]=f):f=e[10];return f}g["default"]=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a,b){var c=[];b=b?window.ManagedMediaSource:window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d of h){f=d[0];a=d[1];e=f+'; codecs="'+a+'"';h=f.startsWith("audio")?"audio":f.startsWith("video")?"video":"other";var i=!0,j=!1;g(e)&&(j=!0,i=b?b.isTypeSupported(e):!1);c.push({codecs:a,isRequiredForPlayback:j,isTypeSupported:i,mimeCodec:e,mimeType:f,representationType:h})}}return c}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){var i=c("err")("canUseOz="+String(b));i.name="GotCanUseOz/"+String(b);return i}b=e!=null?null:f==null||f===""?null:f;i=e!=null?e:d==null||d===""?null:d;if(b==null&&i==null){f=c("err")("Got no manifest XML and no URL to it");f.name="GotNoManifestOrURL";return f}e=g.getBool("enable_managed_media_source",!1);if(e){if(!window.ManagedMediaSource){d=c("err")("window.ManagedMediaSource is missing");d.name="GotMissingManagedMediaSourceAPI";return d}}else if(!window.MediaSource){f=c("err")("window.MediaSource is missing");f.name="GotMissingMediaSourceAPI";return f}if(b!=null){d=c("getAvailableMimeCodecsFromDashManifest")(b,e).filter(function(a){return a.isRequiredForPlayback});f=d.filter(function(a){return!a.isTypeSupported});if(f.length>0){e=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(f.length),String(d.length),d.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));e.name="GotManifestWithUnsupportedCodecs";return e}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:h!=null?h:null,initialVideoVariant:{lang:h!=null?h:null,role:null},manifest:b,manifestUrl:i,minQualityPreference:a!=null?a:null}}g.makeOzImplementationData=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9450060145042784"}),null);
__d("VideoPlayerRelayFragmentRefetchQuery.graphql",["VideoPlayerRelay_video$normalization.graphql","VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"},e=[{kind:"Variable",name:"id",variableName:"id"}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"VideoPlayerRelay_video"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,a],kind:"Operation",name:"VideoPlayerRelayFragmentRefetchQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:[{kind:"Variable",name:"VideoPlayerRelay_video$playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"VideoPlayerRelay_video$playerSuborigin",variableName:"playerSuborigin"}],fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("VideoPlayerRelayFragmentRefetchQuery_facebookRelayOperation"),metadata:{},name:"VideoPlayerRelayFragmentRefetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",["VideoPlayerRelayFragmentRefetchQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:["node"],operation:b("VideoPlayerRelayFragmentRefetchQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unsupported_browser_message",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LatencySensitiveConfig",kind:"LinkedField",name:"latency_sensitive_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_latency_sensitivity",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"LivePlaybackInstrumentationConfigParams",kind:"LinkedField",name:"live_playback_instrumentation_configs",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_client_triggered_trace_enabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_ncsr",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seo_web_crawler_lookaside_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementationsParamsRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerBuilder_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{args:null,documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"InstreamVideoAdBreaksPlayer_video"}]},{args:null,kind:"FragmentSpread",name:"VideoPlayerVideoIsCastingCover_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerIMFFromVideoMetadataRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerUnsupportedBrowserMessageFallback.react",["ErrorMetadata","FBLogger","VideoPlayerFallbackCover.react","err","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect;b.useMemo;var k=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(11);bb0:{if(a!=null){var f;if(e[0]!==a||e[1]!==b){var g;f=c("err")("Cannot play video: Unsupported browser message from server: %s",a);f.name="VideoPlayerUnsupportedBrowserMessageFromServer";g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();f.metadata=g;g.addEntry("COMET_VIDEO","VIDEO_ID",b);e[0]=a;e[1]=b;e[2]=f}else f=e[2];g=f;break bb0}g=null}var h=g,l=k(!1);e[3]!==h?(f=function(){if(h!=null&&!l.current){var a;l.current=!0;(a=c("FBLogger")("comet_video_player").catching(h)).warn.apply(a,[(a=h.messageFormat)!=null?a:""].concat((a=h.messageParams)!=null?a:[]))}},e[3]=h,e[4]=f):f=e[4];e[5]!==h||e[6]!==b?(g=[h,b],e[5]=h,e[6]=b,e[7]=g):g=e[7];j(f,g);if(a!=null){e[8]!==a||e[9]!==h?(b=i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:h,message:a}),e[8]=a,e[9]=h,e[10]=b):b=e[10];return b}return null}g.useVideoPlayerUnsupportedBrowserMessageFallback=a}),98);
__d("VideoPlayerXImplRelayWrapper.react",["VideoPlayerXImpl.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("VideoPlayerXImpl.react")}),98);
__d("XFBLatencySensitiveTypeUtils.facebook",["$InternalEnumUtils","LatencySensitiveType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("LatencySensitiveType"));b=d("$InternalEnumUtils").createFromJSEnum(c("LatencySensitiveType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","react-compiler-runtime","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);var e;c[0]!==a.autoplay_gating_result||c[1]!==a.can_autoplay||c[2]!==a.viewer_autoplay_setting?(e=d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay),c[0]=a.autoplay_gating_result,c[1]=a.can_autoplay,c[2]=a.viewer_autoplay_setting,c[3]=e):e=c[3];return e}g["default"]=a}),98);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","react","useGraphQLVideoDRMInfo_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useRef;function l(a){if(a!=null){a=m(a);return d("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function m(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoDRMInfo_video.graphql"),a);var e=k(null),f=l(a.drm_info),g=(i||(i=c("useUnsafeRef_DEPRECATED")))(null);e.current!==a.drm_info&&(e.current=a.drm_info,g.current=f);return g.current}g["default"]=a}),98);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveCommunityInfo",kind:"LinkedField",name:"community_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"community_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"community_name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=null;if(a){var e,f,g,h,i;e={delay_p2p_until_play:(e=(e=a.config)==null?void 0:e.delay_p2p_until_play)!=null?e:!1,disable_hivejava_for_livevc:(e=(e=a.config)==null?void 0:e.disable_hivejava_for_livevc)!=null?e:!1};var j=a.ticket,k=a.community_info;f=(f=a.hive_initialization_options)==null?void 0:f.debug_level;g=(g=(g=a.hive_initialization_options)==null?void 0:g.hive_tech_order.map(function(a){var b=d("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);b==null&&a!=null&&c("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return b}).filter(Boolean))!=null?g:[];h=(h=a.hive_initialization_options)==null||(h=h.hive_java)==null?void 0:h.min_version;i=(i=a.hive_initialization_options)!=null&&i.hive_java?{minVersion:h}:null;h=a.hive_initialization_options?{HiveJava:i,debugLevel:f,hiveTechOrder:g}:null;f={communityId:(a=k==null?void 0:k.community_id)!=null?a:"unknowncustomer",communityName:(i=k==null?void 0:k.community_name)!=null?i:"Unknown Customer"};b={community_info:f,config:e,hive_initialization_options:h,ticket:j}}return b}function a(a){a=d("CometRelay").useFragment(h!==void 0?h:h=b("useGraphQLVideoP2PSettings_video.graphql"),a);var e=(i||(i=c("useUnsafeRef_DEPRECATED")))(null),f=i(null);a=j((a=a.p2p_settings)!=null?a:null);var g=JSON.stringify(a);e.current!==g&&(e.current=g!=null?g:null,f.current=a!=null?a:null);return f.current}g["default"]=a}),98);
__d("useVideoImplementationsParamsRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],b=[{}],c={alias:null,args:null,concreteType:"XFBVideoDeliveryFailureReason",kind:"LinkedField",name:"failure_reason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_format",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_params",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsParamsRelayImpl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comet_video_player_nextgendash_availability",storageKey:null},{alias:"videoDeliveryLegacyFields",args:[{kind:"Literal",name:"negate",value:!0}],concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{alias:"dash_manifest_xml_string",args:a,kind:"ScalarField",name:"playlist",storageKey:'playlist(scrubbing_preference:"MPEG_DASH")'},{alias:"dash_manifest_url",args:a,kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:"browser_native_sd_url",args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"browser_native_hd_url",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'}],storageKey:"if_viewer_should_use_video_delivery_response(negate:true)"},{alias:"videoDeliveryResponseFragment",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_should_use_video_delivery_response",plural:!1,selections:[{kind:"CatchField",field:{alias:"videoDeliveryResponseResult",args:[{kind:"Literal",name:"video_delivery_request",value:{dash_manifest_requests:b,dash_manifest_url_requests:b,hls_playlist_url_requests:b,progressive_url_requests:[{quality:"SD"},{quality:"HD"}]}}],concreteType:"XFBVideoDeliveryResponse",kind:"LinkedField",name:"video_delivery_response",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBDashManifestResponse",kind:"LinkedField",name:"dash_manifests",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_xml",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBDashManifestUrlResponse",kind:"LinkedField",name:"dash_manifest_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"manifest_url",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"XFBProgressiveUrlResponse",kind:"LinkedField",name:"progressive_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"progressive_url",storageKey:null},c,{alias:null,args:null,concreteType:"XFBProgressiveUrlMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"quality",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBHlsPlaylistUrlResponse",kind:"LinkedField",name:"hls_playlist_urls",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"hls_playlist_url",storageKey:null},c],storageKey:null}],storageKey:'video_delivery_response(video_delivery_request:{"dash_manifest_requests":[{}],"dash_manifest_url_requests":[{}],"hls_playlist_url_requests":[{}],"progressive_url_requests":[{"quality":"SD"},{"quality":"HD"}]})'},to:"RESULT"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoImplementationsParamsRelayImpl",["CometRelay","CometVideoPlayerNextgendashAvailability","getJSEnumSafe","react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e){var f,g,i,j,k,l,m,n=d("react-compiler-runtime").c(20);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsParamsRelayImpl_video.graphql"),a);(f=a.spherical_video_fallback_urls)==null||f.hd;(f=a.spherical_video_fallback_urls)==null||f.sd;(f=a.videoDeliveryLegacyFields)==null||f.dash_manifest_xml_string;(f=a.videoDeliveryLegacyFields)==null||f.dash_manifest_url;(f=a.videoDeliveryLegacyFields)==null||f.browser_native_hd_url;(f=a.videoDeliveryLegacyFields)==null||f.browser_native_sd_url;f=(f=a.videoDeliveryLegacyFields)==null?void 0:f.browser_native_hd_url;g=(g=a.videoDeliveryLegacyFields)==null?void 0:g.browser_native_sd_url;i=(i=a.videoDeliveryLegacyFields)==null?void 0:i.dash_manifest_url;j=(j=a.videoDeliveryLegacyFields)==null?void 0:j.dash_manifest_xml_string;if(n[0]!==a.comet_video_player_nextgendash_availability){var o;o=(o=c("getJSEnumSafe")(c("CometVideoPlayerNextgendashAvailability"),a.comet_video_player_nextgendash_availability))!=null?o:"UNAVAILABLE_FROM_JS_NO_INFO_FROM_SERVER";n[0]=a.comet_video_player_nextgendash_availability;n[1]=o}else o=n[1];k=(k=a.spherical_video_fallback_urls)==null?void 0:k.hd;l=(l=a.spherical_video_fallback_urls)==null?void 0:l.sd;m=(m=a.videoDeliveryResponseFragment)==null?void 0:m.videoDeliveryResponseResult;var p;n[2]!==e.dashManifestUrlOverride_DO_NOT_USE||n[3]!==e.minQualityPreferenceOverrideFromProductSurface||n[4]!==e.preferBrowserNativeImplementation||n[5]!==e.videoPlayerShakaConfig||n[6]!==f||n[7]!==g||n[8]!==i||n[9]!==j||n[10]!==o||n[11]!==k||n[12]!==l||n[13]!==m||n[14]!==a.audio_user_preferred_language||n[15]!==a.can_use_oz||n[16]!==a.id||n[17]!==a.is_spherical||n[18]!==a.min_quality_preference?(p={browserNativeHdUrl:f,browserNativeSdUrl:g,canUseOz:a.can_use_oz,dashManifestUrl:i,dashManifestUrlOverride_DO_NOT_USE:e.dashManifestUrlOverride_DO_NOT_USE,dashManifestXmlString:j,initialAudioUserPreferredLanguage:a.audio_user_preferred_language,isSpherical:a.is_spherical,minQualityPreference:a.min_quality_preference,minQualityPreferenceOverrideFromProductSurface:e.minQualityPreferenceOverrideFromProductSurface,nextgendashAvailability:o,preferBrowserNativeImplementation:e.preferBrowserNativeImplementation,sphericalVideoFallbackHdUrl:k,sphericalVideoFallbackSdUrl:l,videoDeliveryResponseResult:m,videoFBID:a.id,videoPlayerShakaConfig:e.videoPlayerShakaConfig},n[2]=e.dashManifestUrlOverride_DO_NOT_USE,n[3]=e.minQualityPreferenceOverrideFromProductSurface,n[4]=e.preferBrowserNativeImplementation,n[5]=e.videoPlayerShakaConfig,n[6]=f,n[7]=g,n[8]=i,n[9]=j,n[10]=o,n[11]=k,n[12]=l,n[13]=m,n[14]=a.audio_user_preferred_language,n[15]=a.can_use_oz,n[16]=a.id,n[17]=a.is_spherical,n[18]=a.min_quality_preference,n[19]=p):p=n[19];e=p;return e}g["default"]=a}),98);
__d("VideoPlayerShakaConfigContextProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.setContext=function(a,b){if(this.$1[a]!==b){var c;this.$1=babelHelpers["extends"]({},this.$1,(c={},c[a]=b,c))}};b.setAllContexts=function(a){this.$1=a};b.getAllContexts=function(){return this.$1};return a}();f["default"]=a}),66);
__d("VideoPlayerShakaConfig",["VideoPlayerContextSensitiveConfigResolver","VideoPlayerShakaConfigContextProvider"],(function(a,b,c,d,e,f,g){var h={};a=function(){function a(a,b,d){this.$1=new(c("VideoPlayerShakaConfigContextProvider"))(),this.$2=b||null,this.$3=new(c("VideoPlayerContextSensitiveConfigResolver"))(d),this.$3.setContexts(a||{}),a&&this.$1.setAllContexts(a)}a.setGlobalOverrideConfig=function(a){h=a};var b=a.prototype;b.setContext=function(a,b){var c=this.$1.getAllContexts();this.$1.setContext(a,b);a=this.$1.getAllContexts();c!==a&&this.$3.setContexts(a)};b.setOverrideConfig=function(a){this.$2=a};b.getBool=function(a,b){a=this.$4(a,b);return typeof a==="boolean"?a:b};b.getNumber=function(a,b){a=this.$4(a,b);return typeof a==="number"?a:b};b.getString=function(a,b){a=this.$4(a,b);return typeof a==="string"?a:b};b.getAllContexts=function(){return this.$1.getAllContexts()};b.$4=function(a,b){if(!!h&&typeof h[a]===typeof b)return h[a];if(typeof this.$3.getValue(a)===typeof b)return this.$3.getValue(a);return!!this.$2&&typeof this.$2[a]===typeof b?this.$2[a]:null};return a}();g["default"]=a}),98);
__d("prepareVideoPlayerImplementations",["ErrorMetadata","VideoPlayerOzImplementationData","VideoPlayerOzWWWConfig","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerShakaConfig","cr:8921","cr:8922","cr:9524","emptyFunction","err","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:8922"))==null?void 0:e.makeNextgendashEngineData;function a(a){var e=a.browserNativeHdUrl,f=a.browserNativeSdUrl,g=a.canUseOz,j=a.dashManifestUrl,k=a.dashManifestUrlOverride_DO_NOT_USE,l=a.dashManifestXmlString,m=a.initialAudioUserPreferredLanguage,n=a.isBroadcast,o=a.isLiveStreaming,p=a.isSpherical,q=a.minQualityPreference,r=a.minQualityPreferenceOverrideFromProductSurface,s=a.nextgendashAvailability,t=a.preferBrowserNativeImplementation,u=a.sphericalVideoFallbackHdUrl,v=a.sphericalVideoFallbackSdUrl,w=a.videoDeliveryResponseResult,x=a.videoFBID;a=a.videoPlayerShakaConfig;var y=[],z=[],A=null,B=null,C=null,D=null,E=[],F=[],G=[],H=[],I=[];if(w!=null)if(w.ok!==!0){var J=c("err")("VideoDeliveryResponse API failed: %s",JSON.stringify(w.errors.map(function(a){try{JSON.stringify(a);return a}catch(b){return String(a)}})));J.name="VideoDeliveryResponseAPIFailed";E.push(J)}else{J=w.value;w=i(F,"dash_manifests","DashManifest",J.dash_manifests,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_xml!=null&&a.manifest_xml!==""?a:null})[0];var K=i(G,"dash_manifest_urls","DashManifestURL",J.dash_manifest_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.manifest_url!=null&&a.manifest_url!==""?a:null})[0],L=i(H,"progressive_urls","ProgressiveURLHD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="HD"},function(a){return a.progressive_url!=null?a:null})[0],M=i(H,"progressive_urls","ProgressiveURLSD",J.progressive_urls,function(a){return((a=a.metadata)==null?void 0:a.quality)==="SD"},function(a){return a.progressive_url!=null?a:null})[0];A=(w=w==null?void 0:w.manifest_xml)!=null?w:null;B=(w=K==null?void 0:K.manifest_url)!=null?w:null;C=(K=L==null?void 0:L.progressive_url)!=null?K:null;D=(w=M==null?void 0:M.progressive_url)!=null?w:null;if(C==null&&D==null&&c("gkx")("8034")){L=i(I,"hls_playlist_urls","HLSPlaylistURL",J.hls_playlist_urls,c("emptyFunction").thatReturnsTrue,function(a){return a.hls_playlist_url!=null?a:null})[0];C=null;D=(K=L==null?void 0:L.hls_playlist_url)!=null?K:null}}else A=l!=null?l:null,B=j!=null?j:null,C=e!=null?e:null,D=f!=null?f:null;p===!0&&(C=u!=null?u:C,D=v!=null?v:D);if(t!==!0){if(h&&b("cr:8921")&&(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null))){M=h({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerShakaConfig"))(),initialAudioUserPreferredLanguage:m,minQualityPreference:q,nextgendashAvailability:s});M instanceof Error?z.push(["VideoPlayerNextgendashImplementation",M]):y.push({Component:b("cr:8921"),data:M,typename:"VideoPlayerNextgendashImplementation"})}if(E.length===0&&(F.length===0||G.length===0||B!=null||A!=null)){w=d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:g,dashManifestUrl:B,dashManifestUrlOverride_DO_NOT_USE:k,dashManifestXmlString:A,experimentationConfig:new(c("VideoPlayerOzWWWConfig"))(a!=null?a:new(c("VideoPlayerShakaConfig"))()),initialAudioUserPreferredLanguage:m,minQualityPreference:q});w instanceof Error?z.push(["VideoPlayerOzImplementation",w]):y.push({Component:b("cr:9524"),data:w,typename:"VideoPlayerOzImplementation"})}}else{J=c("err")("preferBrowserNativeImplementation="+String(t));J.name="VideoImplementationsPreferBrowserNative";h&&b("cr:8921")&&z.push(["VideoPlayerNextgendashImplementation",J]);z.push(["VideoPlayerOzImplementation",J])}if(E.length===0&&(H.length===0||C!=null||D!=null)){L=r!=null?r:q;K=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:C,hdSrcPreferred:c("gkx")("24369")||L==="HD"||L==="UHD",sdSrc:D});K instanceof Error?z.push(["VideoPlayerProgressiveImplementation",K]):y.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:K,typename:"VideoPlayerProgressiveImplementation"})}l=y.length===0;j=[];j.push.apply(j,E);j.push.apply(j,F);j.push.apply(j,G);j.push.apply(j,H);j.push.apply(j,I);j.push.apply(j,z.map(function(a){var b,d=a[0];a=a[1];a=c("getErrorSafe")(a);d=d.replace(/^VideoPlayer/,"").replace(/(Implementation)|(Engine)$/,"")+"Engine";b=c("err").apply(void 0,["Cannot use "+d+" / "+((b=a.messageFormat)!=null?b:a.message)].concat(a.messageFormat!=null?(b=a.messageParams)!=null?b:[]:[]));b.name="VideoPlayerCannotUse"+d+"/"+a.name;return b}));e=null;if(l||c("gkx")("24370")&&j.length>0){f=new Map();for(u=0;u<j.length;++u){v=j[u];M=v.name+": "+((s=v.messageFormat)!=null?s:v.message);f.has(M)||f.set(M,v)}g=Array.from(f.values());B=[];k=[];A=[];for(a=0;a<g.length;++a){m=g[a];B.push(m.name);k.push((w=m.messageFormat)!=null?w:m.message);m.messageFormat!=null&&m.messageParams!=null&&A.push.apply(A,m.messageParams)}e=c("err").apply(void 0,[(l?p===!0?"Cannot play 360 video: ":"Cannot play video: ":p===!0?"Warning for 360 video: ":"Warning: ")+k.join(" ++ ")].concat(A));e.name=B.join("++");e.type=l?"fatal":"warn";e.project="comet_video_player";J=(t=e.metadata)!=null?t:new(c("ErrorMetadata"))();e.metadata=J;x!=null&&J.addEntry("COMET_VIDEO","VIDEO_ID",String(x));J.addEntry("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({isBroadcast:n,isLiveStreaming:o,isSpherical:p}));if(l)throw e}return{implementations:y,warning:e}}function i(a,b,c,d,e,f){e=d.filter(e);var g=e.map(function(a){return a.failure_reason==null?f(a):null}).filter(Boolean);if(e.length===0)a.push(k(b,c,d));else if(g.length===0){e=e.filter(function(a){return a.failure_reason!=null});e.length===0?a.push(l(b,c,d)):a.push.apply(a,e.map(function(a){return a.failure_reason!=null?j(b,c,a.failure_reason,a.metadata):null}).filter(Boolean))}return g}function j(a,b,d,e){try{var f;f=(f=JSON.stringify(e))!=null?f:String(e)}catch(a){f=String(e)}e=c("err").apply(void 0,["VideoDeliveryResponse "+a+" failure for "+b+": "+d.type+"; metadata=%s"+(d.message_format!=null&&d.message_format!==""?"; "+d.message_format:""),f].concat(d.message_params));e.name="VideoDeliveryResponseFailureReason/"+a+"("+b+")/"+d.type;return e}function k(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no matching items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_matching";return d}function l(a,b,d){try{d=(d=JSON.stringify(d))!=null?d:"N/A"}catch(a){d="N/A"}d=c("err")("VideoDeliveryResponse "+a+" failure for "+b+": no succeeded or failed items; all items: %s",d);d.name="VideoDeliveryResponseContractViolation/"+a+"("+b+")/no_success_and_failure";return d}g["default"]=a}),98);
__d("useVideoPlayerImplementations",["FBLogger","gkx","prepareVideoPlayerImplementations","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useEffect;e.useMemo;function a(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if(a){var b,d,e;b=(b=a.messageFormat)!=null?b:a.message;d=a.messageFormat!=null?(d=a.messageParams)!=null?d:[]:[];(e=c("FBLogger")("comet_video_player").catching(a)).warn.apply(e,[b].concat(d))}},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);i(e,f)}var j=c("gkx")("24370")?a:c("useEmptyFunction");function b(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=c("prepareVideoPlayerImplementations")(a),b[0]=a,b[1]=e):e=b[1];a=e;b=a;j(b.warning);return b}g["default"]=b}),98);
__d("useVideoImplementationsRelayImpl",["react","react-compiler-runtime","useVideoImplementationsParamsRelayImpl","useVideoPlayerImplementations"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useDebugValue;function a(a,b){var e=d("react-compiler-runtime").c(4);a=c("useVideoImplementationsParamsRelayImpl")(a,b);b=c("useVideoPlayerImplementations")(a);var f=b.implementations;b=b.warning;var g;e[0]!==f||e[1]!==a||e[2]!==b?(g={implementations:f,params:a,warning:b},e[0]=f,e[1]=a,e[2]=b,e[3]=g):g=e[3];i(g);return f}g["default"]=a}),98);
__d("useVideoImplementationsRelay",["useVideoImplementationsRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsRelayImpl")}),98);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","react","react-compiler-runtime","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);var e;c[0]!==a.audio_availability||c[1]!==a.muted_segments?(e=d("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:a.audio_availability,mutedSegmentsUnsanitized:a.muted_segments==null?[]:a.muted_segments.map(j)}),c[0]=a.audio_availability,c[1]=a.muted_segments,c[2]=e):e=c[2];a=e;return a}function j(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}}g["default"]=a}),98);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","react","react-compiler-runtime","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;var j=1;e=.5;var k=null,l=new Map([["default",j],["quiet",e]]);function a(a){var e,f=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerAudioSettings_video.graphql"),a);e=(e=a.audio_settings)==null?void 0:e.video_volume_setting;var g="DEFAULT";bb0:switch(e){case"DEFAULT":case"QUIET":g=e;break bb0;default:}e=c("AudioSettingsVolumeSetting")[g];if(f[0]!==e){g=(g=l.get(e))!=null?g:j;f[0]=e;f[1]=g}else g=f[1];e=g;a=(g=a.audio_user_preferred_language)!=null?g:k;f[2]!==a||f[3]!==e?(g={audioUserPreferredLanguage:a,preferredVolumeSetting:e},f[2]=a,f[3]=e,f[4]=g):g=f[4];a=g;return a}g["default"]=a}),98);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_background_opacity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_text_size",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","react-compiler-runtime","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i="DEFAULT",j="BLACK",k="WHITE",l="DEFAULT";function a(a){var c,e,f,g,m=d("react-compiler-runtime").c(8);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerCaptionsSettings_video.graphql"),a);c=(c=(c=a.captions_settings)==null?void 0:c.always_show_captions)!=null?c:!1;e=(e=(e=a.captions_settings)==null?void 0:e.captions_background_color)!=null?e:j;f=(f=(f=a.captions_settings)==null?void 0:f.captions_background_opacity)!=null?f:i;g=(g=(g=a.captions_settings)==null?void 0:g.captions_text_color)!=null?g:k;a=(a=(a=a.captions_settings)==null?void 0:a.captions_text_size)!=null?a:l;var n;m[0]!==e||m[1]!==f||m[2]!==g||m[3]!==a?(n={captionsBackgroundColor:e,captionsBackgroundOpacity:f,captionsTextColor:g,captionsTextSize:a},m[0]=e,m[1]=f,m[2]=g,m[3]=a,m[4]=n):n=m[4];m[5]!==c||m[6]!==n?(e={alwaysShowCaptions:c,captionDisplayStyle:n},m[5]=c,m[6]=n,m[7]=e):e=m[7];return e}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadata",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useDebugValue;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),c=a.isVideoBroadcast;a=a.specInlineJson;c=c===!0;var e;b[0]!==c||b[1]!==a?(e={imfExpectedFromEmsg:c,specInlineJson:a},b[0]=c,b[1]=a,b[2]=e):e=b[2];c=e;a=c;b[3]!==a?(e={useVideoPlayerIMFFromVideoMetadata:a},b[3]=a,b[4]=e):e=b[4];i(e);return a}g["default"]=a}),98);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,concreteType:"VideoIMFData",kind:"LinkedField",name:"video_imf_data",plural:!1,selections:[{args:null,documentName:"useVideoPlayerIMFFromVideoMetadataRelay_video",fragmentName:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",fragmentPropName:"video_imf_data",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"spec_inline_json",storageKey:null}],type:"VideoIMFData",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerIMFFromVideoMetadataRelay",["CometRelay","react-compiler-runtime","useVideoPlayerIMFFromVideoMetadata","useVideoPlayerIMFFromVideoMetadataRelay_video.graphql","useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=d("react-compiler-runtime").c(4);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerIMFFromVideoMetadataRelay_video.graphql"),a);var f=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerIMFFromVideoMetadataRelay_video_imf_data.graphql"),a.video_imf_data);f=f==null?void 0:f.spec_inline_json;var g;e[0]!==f||e[1]!==a.id||e[2]!==a.is_video_broadcast?(g={isVideoBroadcast:a.is_video_broadcast,specInlineJson:f,videoID:a.id},e[0]=f,e[1]=a.id,e[2]=a.is_video_broadcast,e[3]=g):g=e[3];return c("useVideoPlayerIMFFromVideoMetadata")(g)}g["default"]=a}),98);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","react-compiler-runtime","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);c=(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0;a=(a=(a=a.broadcast_low_latency_config)==null?void 0:a.ll_latency_tolerance_ms)!=null?a:0;var f;e[0]!==c||e[1]!==a?(f={desiredLatencyMs:c,latencyToleranceMs:a},e[0]=c,e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),98);
__d("useVideoPlayerShakaConfig_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaConfig_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_menu_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbls_tier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_latency_sensitive_broadcast",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"selected_latency_setting",storageKey:null}]}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaConfig",["CometRelay","VideoPlayerConnectionQuality","VideoPlayerOzWWWGlobalConfig","VideoPlayerShakaConfig","oz-player/networks/OzBandwidthEstimator","react","react-compiler-runtime","useSelectedLatencySetting","useVideoPlayerShakaConfig_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a,e){var f=d("react-compiler-runtime").c(17);e=e.adClientToken;var g=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerShakaConfig_video.graphql"),a),i=e!=null,m=g.is_spherical===!0,n=g.is_gaming_video===!0;e=c("useSelectedLatencySetting")((a=g.id)!=null?a:"null",g.selected_latency_setting);var o=e[0];f[0]!==i||f[1]!==n||f[2]!==m||f[3]!==o||f[4]!==g.fbls_tier||f[5]!==g.is_latency_menu_enabled||f[6]!==g.is_latency_sensitive_broadcast||f[7]!==g.is_live_streaming?(a=function(){var a;return new(c("VideoPlayerShakaConfig"))({connection_quality:d("VideoPlayerConnectionQuality").evaluate(l),content_category:n?"gaming":"general",fbls_tier:(a=g.fbls_tier)!=null&&a.startsWith("user")?"user":"general",is_ad:i,is_latency_sensitive_broadcast:g.is_latency_sensitive_broadcast===!0,is_live:g.is_live_streaming===!0,is_spherical:m,latency_level:g.is_latency_menu_enabled===!0?o:"normal",player_format:"inline",servable_via_fmbs:!1,streaming_implementation:"default"})},f[0]=i,f[1]=n,f[2]=m,f[3]=o,f[4]=g.fbls_tier,f[5]=g.is_latency_menu_enabled,f[6]=g.is_latency_sensitive_broadcast,f[7]=g.is_live_streaming,f[8]=a):a=f[8];e=k(a);var p=e[0];f[9]!==i||f[10]!==p?(a=function(){p.setContext("is_ad",i)},e=[p,i],f[9]=i,f[10]=p,f[11]=a,f[12]=e):(a=f[11],e=f[12]);j(a,e);f[13]!==m||f[14]!==p?(a=function(){p.setContext("is_spherical",m)},e=[p,m],f[13]=m,f[14]=p,f[15]=a,f[16]=e):(a=f[15],e=f[16]);j(a,e);return p}function l(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerBuilder_video",selections:[{alias:"video_player_shaka_performance_logger_init2",args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerBuilder_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerBuilder_init",fragmentPropName:"init",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"per_session_sampling_rate",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerBuilder",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql","useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerBuilder_init.graphql");function a(a){var c=d("react-compiler-runtime").c(2);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerBuilder_video.graphql"),a);var e;if(c[0]!==a.video_player_shaka_performance_logger_init2){e=Symbol["for"]("react.early_return_sentinel");bb0:{var f,g=a.video_player_shaka_performance_logger_init2?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init2):null;f=(f=a.video_player_shaka_performance_logger_init2)==null?void 0:f.per_session_sampling_rate;if(g!=null&&f!=null){e=new g({perSessionSampleRate:f});break bb0}}c[0]=a.video_player_shaka_performance_logger_init2;c[1]=e}else e=c[1];return e!==Symbol["for"]("react.early_return_sentinel")?e:null}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"VideoPlayerShakaPerformanceLoggerInit",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",selections:[{alias:null,args:null,concreteType:"VideoPlayerShakaPerformanceLoggerInit",kind:"LinkedField",name:"video_player_shaka_performance_logger_init",plural:!1,selections:[{args:null,documentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_video",fragmentName:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init",fragmentPropName:"init",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_player_shaka_performance_logger_should_sample",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl",["CometRelay","react-compiler-runtime","useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql","useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_init.graphql");function a(a){var c=d("react-compiler-runtime").c(3);a=d("CometRelay").useFragment(i!==void 0?i:i=b("useVideoPlayerShakaPerformanceLoggerRelayImpl_video.graphql"),a);var e;c[0]!==a.video_player_shaka_performance_logger_init||c[1]!==a.video_player_shaka_performance_logger_should_sample?(e=a.video_player_shaka_performance_logger_init?d("CometRelay").ModuleResource.read(a.video_player_shaka_performance_logger_init):null,e!=null&&a.video_player_shaka_performance_logger_should_sample===!0&&e.forceShouldSample(),c[0]=a.video_player_shaka_performance_logger_init,c[1]=a.video_player_shaka_performance_logger_should_sample,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerRelay",["useVideoPlayerShakaPerformanceLoggerRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoPlayerShakaPerformanceLoggerRelayImpl")}),98);
__d("VideoStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({ENCODING:1,DELETED:2,ENCODED:3,UPLOADING:5,OK:6,TOO_LONG:7,ENCODE_FAILED:8,UNPUBLISHED:9,SOFT_DELETED:10,UNDISCOVERABLE:11,UPLOAD_FAILED:13,UPLOADED:14,ORIGINAL_VIDEO_DELETED:15});f["default"]=a}),66);
__d("evaluateVideoPlayerVideoStatusFallbackCover",["fbt","ErrorMetadata","VideoPlayerFallbackCover.react","VideoStatusType","err","getGraphQLEnumSafe","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.disableVideoStatusFallbackIf,d=a.overrideGkForVideoStatusFallback_EXPERIMENTAL,e=a.videoFBID;a=a.videoStatusTypeFromGraphQL;e=k({videoFBID:e,videoStatusTypeFromGraphQL:a});a=null;var f;if(d==null&&!c("gkx")("24384"))a=null,f="disabled_by_gk";else if(d===!1)a=null,f="disabled_by_gk_override";else if((b==null?void 0:b(e))===!0){a=null;f="disable_if:"+e.videoAvailabilityStatus+":"+((d=e.videoStatusTypeFromGraphQL)!=null?d:"null")}else{switch(e.videoAvailabilityStatus){case"unknown":a=null;break;case"ok":a=null;break;case"undiscoverable":a=null;break;case"unpublished":a=null;break;case"processing":b=c("gkx")("24385");a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:b?e.debugError:null,message:h._(/*BTDS*/"This video is being processed..."),showDebugWithoutError:b,showLearnMoreLink:!1});break;case"processing_failed":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"Processing of this video failed.")});break;case"deleted":a=j.jsx(c("VideoPlayerFallbackCover.react"),{debugError:e.debugError,message:h._(/*BTDS*/"This video isn't available right now.")});break;default:e.videoAvailabilityStatus}f=(a==null?"not_needed_for_status:":"fallback_for_status:")+e.videoAvailabilityStatus+":"+String(e.videoStatusTypeFromGraphQL)}return{fallback:a,fallbackDebug:f,videoStatus:e}}function k(a){var b=a.videoFBID;a=a.videoStatusTypeFromGraphQL;var d=[c("getGraphQLEnumSafe")(c("VideoStatusType"),6)].includes(a)?"ok":[c("getGraphQLEnumSafe")(c("VideoStatusType"),9)].includes(a)?"unpublished":[c("getGraphQLEnumSafe")(c("VideoStatusType"),11)].includes(a)?"undiscoverable":[c("getGraphQLEnumSafe")(c("VideoStatusType"),5),c("getGraphQLEnumSafe")(c("VideoStatusType"),14),c("getGraphQLEnumSafe")(c("VideoStatusType"),1),c("getGraphQLEnumSafe")(c("VideoStatusType"),3)].includes(a)?"processing":[c("getGraphQLEnumSafe")(c("VideoStatusType"),13),c("getGraphQLEnumSafe")(c("VideoStatusType"),8),c("getGraphQLEnumSafe")(c("VideoStatusType"),7)].includes(a)?"processing_failed":[c("getGraphQLEnumSafe")(c("VideoStatusType"),10),c("getGraphQLEnumSafe")(c("VideoStatusType"),2)].includes(a)?"deleted":"unknown",e=d==="ok"||d==="unpublished"||d==="undiscoverable"||d==="processing_failed"||d==="deleted"||d==="unknown",f=null;if(d!=="ok"){var g;f=c("err")("Video is now %s due to video_status_type=%s",d,a);g=(g=f.metadata)!=null?g:new(c("ErrorMetadata"))();g.addEntry("COMET_VIDEO","VIDEO_ID",b!=null?b:"");f.metadata=g;f.name="VideoPlayerVideoStatusInfo"}b={debugError:f,isTerminalStatus:e,videoAvailabilityStatus:d,videoStatusTypeFromGraphQL:a};return b}g["default"]=a}),226);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerVideoStatusRelayWithFallbackCover_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_status_type",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerVideoStatusRelayWithFallbackCover",["CometRelay","evaluateVideoPlayerVideoStatusFallbackCover","react","react-compiler-runtime","useInterval","useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDebugValue;function a(a,e,f,g){var i=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoPlayerVideoStatusRelayWithFallbackCover_video.graphql"),a);var k;i[0]!==f||i[1]!==g||i[2]!==a.id||i[3]!==a.video_status_type?(k=c("evaluateVideoPlayerVideoStatusFallbackCover")({disableVideoStatusFallbackIf:f,overrideGkForVideoStatusFallback_EXPERIMENTAL:g,videoFBID:a.id,videoStatusTypeFromGraphQL:a.video_status_type}),i[0]=f,i[1]=g,i[2]=a.id,i[3]=a.video_status_type,i[4]=k):k=i[4];f=k;c("useInterval")(e,f.videoStatus.isTerminalStatus||f.fallback==null?0:1e4);j(f);return f}g["default"]=a}),98);
__d("VideoPlayerRelay.react",["CastingStateHooks","CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","ErrorMetadata","FBLogger","InstreamVideoAdBreaksPlayer.react","JSResourceForInteraction","VideoPlayerErrorBoundary.react","VideoPlayerRelay_video.graphql","VideoPlayerUnsupportedBrowserMessageFallback.react","VideoPlayerXImplRelayWrapper.react","XFBLatencySensitiveTypeUtils.facebook","computeAspectRatio","cr:759","defaultErrorBoundaryFallback","deferredLoadComponent","err","getVideoPlayerAutoplayProps","gkx","lazyLoadComponent","normalizeVideoPlayerLoopCount","react","react-compiler-runtime","requireDeferredForDisplay","useEmptyFunction","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useVideoImplementationsRelay","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerAvailableCaptionsLocalesFromRelay","useVideoPlayerCaptionsSettings","useVideoPlayerIMFFromVideoMetadataRelay","useVideoPlayerLiveLatencyKnobSettings","useVideoPlayerShakaConfig","useVideoPlayerShakaPerformanceLoggerBuilder","useVideoPlayerShakaPerformanceLoggerRelay","useVideoPlayerVideoStatusRelayWithFallbackCover"],(function(a,b,c,d,e,f,g){"use strict";var h=["video"],i=["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"],j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useEffect,n=e.useRef,o=e.useTransition,p=(f=b("cr:759"))!=null?f:c("useEmptyFunction"),q=c("gkx")("24325"),r=c("gkx")("24326"),s=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react").__setRef("VideoPlayerRelay.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("VideoPlayerVideoIsCastingCover.react").__setRef("VideoPlayerRelay.react"));function u(a){var e=d("react-compiler-runtime").c(13),f,g;e[0]!==a?(g=a.video,f=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);a=d("CometRelay").useRefetchableFragment(j!==void 0?j:j=b("VideoPlayerRelay_video.graphql"),g);var i=a[0],k=a[1];g=o();var p=g[1];e[3]!==k?(a=function(){p(function(){k({},{fetchPolicy:"network-only"})})},e[3]=k,e[4]=a):a=e[4];g=a;a=c("useVideoPlayerVideoStatusRelayWithFallbackCover")(i,g,f.disableVideoStatusFallbackIf,f.overrideGkForVideoStatusFallback_EXPERIMENTAL);var q=a.fallback,r=a.fallbackDebug,s=a.videoStatus,t=n(null);e[5]!==r||e[6]!==i||e[7]!==s||e[8]!==q?(g=function(){var a=s,b=t.current;if(q!=null&&(a.videoAvailabilityStatus!==(b==null?void 0:b.videoAvailabilityStatus)||a.videoStatusTypeFromGraphQL!==(b==null?void 0:b.videoStatusTypeFromGraphQL))){t.current=s;c("FBLogger")("comet_video_player").addMetadata("COMET_VIDEO","VIDEO_ID",(a=i.id)!=null?a:"").warn("VideoPlayerRelay rendered the video status fallback: %s",r)}},e[5]=r,e[6]=i,e[7]=s,e[8]=q,e[9]=g):g=e[9];m(g,void 0);if(q!=null)return q;e[10]!==f||e[11]!==i?(a=l.jsx(v,babelHelpers["extends"]({},f,{video:i})),e[10]=f,e[11]=i,e[12]=a):a=e[12];return a}function v(a){var b,e=d("react-compiler-runtime").c(101),f=a.accessToken,g=a.adClientToken,h=a.audioOnly,i=a.autoplayGatingResult,j=a.bufferEndLimit,k=a.bypassUseCometSizeError,m=a.canAutoplay,n=a.children,o=a.disableLoadingIndicator,u=a.externalLogID,v=a.externalLogType,w=a.forceProgressive_EXPERIMENTAL,x=a.graphQLVideoDRMInfo,y=a.initialForceHD,z=a.initialTracePolicy,A=a.loadSequence,B=a.loggingConfig,C=a.loggingToSNAPLAdditionalData,D=a.loggingToVPLAdditionalData,E=a.loopCount,F=a.manifestURL_DO_NOT_USE,G=a.playerFormat,H=a.playerOriginOverride,ba=a.portalingEnabled,ca=a.portalingFromVideoID,da=a.portalingPlaceMetaData,ea=a.portalingRenderPlaceholder,fa=a.poster,ga=a.productAttribution,ha=a.renderVideoPixelsFit,I=a.seoWebCrawlerLookasideUrl,ia=a.seoWebCrawlerVideoTracks,ja=a.source_VPL_LOGGING_HACK,ka=a.startTimestamp,J=a.subOrigin,K=a.video,L=a.volumeSetting;a=a.wrapVideoPixels_EXPERIMENTAL;o=o===void 0?!1:o;w=w===void 0?!1:w;y=y===void 0?!1:y;G=G===void 0?"inline":G;var M=K.id;if(M==null||M===""){var N=c("err")("Cannot play video: Invalid video ID: %s",M===""?"an empty string":String(M));N.name="VideoPlayerInvalidVideoID";N.project="comet_video_player";throw N}N=K.dash_prefetch_experimental;var O=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(K),la=(O==null?void 0:O.find(aa))!=null;if(e[0]!==((b=K.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity)){var P;b=d("XFBLatencySensitiveTypeUtils.facebook").toJSEnum((b=K.latency_sensitive_config)==null?void 0:b.broadcast_latency_sensitivity);e[0]=(P=K.latency_sensitive_config)==null?void 0:P.broadcast_latency_sensitivity;e[1]=b}else b=e[1];P=b;e[2]!==g?(b={adClientToken:g},e[2]=g,e[3]=b):b=e[3];b=c("useVideoPlayerShakaConfig")(K,b);var ma=p(M),na=c("useGraphQLVideoP2PSettings")(K),Q=c("useGraphQLVideoDRMInfo")(K);Q=x!=null?x:Q;x=!!(Q&&Q.fairplayCert!==null);w=w===!0||x||q&&!!K.is_live_streaming||r&&typeof MediaSource==="undefined";x=y?"HD":null;e[4]!==F||e[5]!==w||e[6]!==x||e[7]!==b?(y={dashManifestUrlOverride_DO_NOT_USE:F,minQualityPreferenceOverrideFromProductSurface:x,preferBrowserNativeImplementation:w,videoPlayerShakaConfig:b},e[4]=F,e[5]=w,e[6]=x,e[7]=b,e[8]=y):y=e[8];F=c("useVideoImplementationsRelay")(K,y);w=c("useVideoPlayerCaptionsSettings")(K);x=c("useVideoPlayerAudioSettings")(K);b=c("useVideoPlayerLiveLatencyKnobSettings")(K);y=b.desiredLatencyMs;b=b.latencyToleranceMs;var oa=c("useVideoPlayerAudioAvailabilityInfoRelay")(K),R=c("useGraphQLVideoAutoplayGatingResult")(K),S;e[9]!==i||e[10]!==m||e[11]!==R?(S=c("getVideoPlayerAutoplayProps")(R,m,i),e[9]=i,e[10]=m,e[11]=R,e[12]=S):S=e[12];i=S;m=c("useVideoPlayerShakaPerformanceLoggerRelay")(K);R=c("useVideoPlayerShakaPerformanceLoggerBuilder")(K);S=c("useVideoPlayerIMFFromVideoMetadataRelay")(K);var T;e[13]!==G||e[14]!==J||e[15]!==K?(T=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("InstreamVideoAdBreaksPlayer.react"),{playerFormat:G,subOrigin:J,video:K})}),e[13]=G,e[14]=J,e[15]=K,e[16]=T):T=e[16];T=T;var U=d("CastingStateHooks").useCastingVideoID(),V=d("VideoPlayerUnsupportedBrowserMessageFallback.react").useVideoPlayerUnsupportedBrowserMessageFallback(K.unsupported_browser_message,M);if(V!=null)return V;V=K.permalink_url;var W=K.spherical_video_renderer,X;e[17]!==G||e[18]!==W||e[19]!==J||e[20]!==V?(X=W?l.jsx(d("CometRelay").MatchContainer,{match:W,props:{playerFormat:G,sphericalVideoRenderer:W,subOrigin:J,videoTahoeUrl:V}}):null,e[17]=G,e[18]=W,e[19]=J,e[20]=V,e[21]=X):X=e[21];W=X;V=K.is_spherical;X=K.is_spherical_enabled;var Y=K.permalink_url;if(V===!0&&X!==!0){if(Y==null||Y===""){var Z;X=c("err")("Cannot play video: Empty permalink URL for a spherical video");X.name="VideoPlayerSphericalEmptyPermalinkURL";X.project="comet_video_player";Z=(Z=X.metadata)!=null?Z:new(c("ErrorMetadata"))();Z.addEntry("COMET_VIDEO","VIDEO_ID",M);X.metadata=Z;throw X}e[22]!==Y?(Z=l.jsx(s,{videoTahoeUrl:Y}),e[22]=Y,e[23]=Z):Z=e[23];return Z}if(U!=null&&U===M){e[24]!==K?(X=l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(t,{video:K})}),e[24]=K,e[25]=X):X=e[25];return X}U=(Z=(Y=K.live_playback_instrumentation_configs)==null?void 0:Y.is_client_triggered_trace_enabled)!=null?Z:!1;e[26]!==E||e[27]!==K.is_looping||e[28]!==K.loop_count?(X=c("normalizeVideoPlayerLoopCount")(E,K.is_looping,K.loop_count),e[26]=E,e[27]=K.is_looping,e[28]=K.loop_count,e[29]=X):X=e[29];Y=X;e[30]!==K.height||e[31]!==K.width?(Z=c("computeAspectRatio")(K.width,K.height),e[30]=K.height,e[31]=K.width,e[32]=Z):Z=e[32];E=Z;X=c("gkx")("23009")?K.animated_image_caption:void 0;Z=K.is_podcast_video===!0||h;h=K.pmv_metadata!=null;V=V===!0;I=I!=null?I:K.seo_web_crawler_lookaside_url;O=((O=O==null?void 0:O.length)!=null?O:0)>0;L=L!==void 0?L:x.preferredVolumeSetting;var $;e[33]!==m||e[34]!==f||e[35]!==g||e[36]!==la||e[37]!==oa||e[38]!==x.audioUserPreferredLanguage||e[39]!==P||e[40]!==j||e[41]!==k||e[42]!==w.alwaysShowCaptions||e[43]!==w.captionDisplayStyle||e[44]!==n||e[45]!==y||e[46]!==o||e[47]!==ma||e[48]!==u||e[49]!==v||e[50]!==Q||e[51]!==na||e[52]!==F||e[53]!==N||e[54]!==z||e[55]!==T||e[56]!==U||e[57]!==b||e[58]!==A||e[59]!==B||e[60]!==C||e[61]!==D||e[62]!==Y||e[63]!==G||e[64]!==H||e[65]!==ba||e[66]!==ca||e[67]!==da||e[68]!==ea||e[69]!==fa||e[70]!==ga||e[71]!==ha||e[72]!==ia||e[73]!==ja||e[74]!==ka||e[75]!==J||e[76]!==X||e[77]!==Z||e[78]!==h||e[79]!==V||e[80]!==I||e[81]!==O||e[82]!==L||e[83]!==K.broadcast_id||e[84]!==K.broadcast_status||e[85]!==K.broadcaster_origin||e[86]!==K.captions_url||e[87]!==K.is_live_streaming||e[88]!==K.is_live_trace_enabled||e[89]!==K.is_ncsr||e[90]!==K.is_video_broadcast||e[91]!==M||e[92]!==E||e[93]!==i.autoplayGatingResult||e[94]!==i.autoplaySetting||e[95]!==i.canAutoplay||e[96]!==S||e[97]!==R||e[98]!==W||e[99]!==a?($=l.jsx(c("VideoPlayerXImplRelayWrapper.react"),{VideoPlayerShakaPerformanceLoggerClass:m,accessToken:f,adClientToken:g,alt:X,alwaysShowCaptions:w.alwaysShowCaptions,areCaptionsAutogenerated:la,audioAvailabilityInfo:oa,audioOnly:Z,autoplayGatingResult:i.autoplayGatingResult,autoplaySetting:i.autoplaySetting,broadcastId:K.broadcast_id,broadcastLatencySensitivity:P,broadcastStatus:K.broadcast_status,broadcasterOrigin:K.broadcaster_origin,bufferEndLimit:j,bypassUseCometSizeError:k,canAutoplay:i.canAutoplay,captionDisplayStyle:w.captionDisplayStyle,children:n,desiredLatencyMs:y,disableLoadingIndicator:o,expiredVideoUrlRefreshHandler:ma,externalLogID:u,externalLogType:v,graphQLVideoDRMInfo:Q,graphQLVideoP2PSettings:na,implementations:F,initialRepresentationIds:N,initialTracePolicy:z,instreamVideoAdBreaksPlayer:T,isClientTriggeredTraceEnabled:U,isLiveStreaming:K.is_live_streaming,isLiveTraceEnabled:K.is_live_trace_enabled,isNCSR:K.is_ncsr,isPremiumMusicVideo:h,isSpherical:V,isVideoBroadcast:K.is_video_broadcast,latencyToleranceMs:b,loadSequence:A,loggingConfig:B,loggingToSNAPLAdditionalData:C,loggingToVPLAdditionalData:D,loopCount:Y,playerFormat:G,playerOriginOverride:H,portalingEnabled:ba,portalingFromVideoID:ca,portalingPlaceMetaData:da,portalingRenderPlaceholder:ea,poster:fa,productAttribution:ga,renderVideoPixelsFit:ha,seoWebCrawlerLookasideUrl:I,seoWebCrawlerVideoTracks:ia,sideLoadCaptionsExpected:O,sideLoadCaptionsUrl:K.captions_url,source_VPL_LOGGING_HACK:ja,startTimestamp:ka,subOrigin:J,userPreferenceLang:x.audioUserPreferredLanguage,videoFBID:M,videoPixelsAspectRatio:E,videoPlayerIMFFromVideoMetadata:S,videoPlayerShakaPerformanceLoggerBuilder:R,videoPlayerSpherical:W,volumeSetting:L,wrapVideoPixels_EXPERIMENTAL:a},M),e[33]=m,e[34]=f,e[35]=g,e[36]=la,e[37]=oa,e[38]=x.audioUserPreferredLanguage,e[39]=P,e[40]=j,e[41]=k,e[42]=w.alwaysShowCaptions,e[43]=w.captionDisplayStyle,e[44]=n,e[45]=y,e[46]=o,e[47]=ma,e[48]=u,e[49]=v,e[50]=Q,e[51]=na,e[52]=F,e[53]=N,e[54]=z,e[55]=T,e[56]=U,e[57]=b,e[58]=A,e[59]=B,e[60]=C,e[61]=D,e[62]=Y,e[63]=G,e[64]=H,e[65]=ba,e[66]=ca,e[67]=da,e[68]=ea,e[69]=fa,e[70]=ga,e[71]=ha,e[72]=ia,e[73]=ja,e[74]=ka,e[75]=J,e[76]=X,e[77]=Z,e[78]=h,e[79]=V,e[80]=I,e[81]=O,e[82]=L,e[83]=K.broadcast_id,e[84]=K.broadcast_status,e[85]=K.broadcaster_origin,e[86]=K.captions_url,e[87]=K.is_live_streaming,e[88]=K.is_live_trace_enabled,e[89]=K.is_ncsr,e[90]=K.is_video_broadcast,e[91]=M,e[92]=E,e[93]=i.autoplayGatingResult,e[94]=i.autoplaySetting,e[95]=i.canAutoplay,e[96]=S,e[97]=R,e[98]=W,e[99]=a,e[100]=$):$=e[100];return $}function aa(a){return a.localizedCreationMethod!=null}function a(a){var b=d("react-compiler-runtime").c(9),e,f,g;b[0]!==a?(g=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn,e=a.errorBoundaryFallback,f=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);a=g===void 0?!1:g;b[4]!==f?(g=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:13,children:l.jsx(u,babelHelpers["extends"]({},f))}),b[4]=f,b[5]=g):g=b[5];f=g;if(a)return f;g=e!=null?e:c("defaultErrorBoundaryFallback");b[6]!==f||b[7]!==g?(a=l.jsx(c("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:g,children:f}),b[6]=f,b[7]=g,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("useInstreamAdsStoryPlaybackControl",["InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=a.freezeTokenRef,c=a.organicController,e=a.previousPlaceDescription,f=d("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),g=d("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),h=(i||(i=d("VideoPlayerHooks"))).useEnded(),l=i.useController(),m=d("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext();j(function(){switch(f){case"START":c.pause("commercial_break");k(b,c);break;case"START_AD":var a=c.getCurrentState(),d=a.muted;a=a.volume;l.setMuted(d,"commercial_break");l.setVolume(a);c.pause("commercial_break");k(b,c);break;case"PLAY_NI_VIDEO":c.pause("commercial_break");d=c.getCurrentState();a=d.muted;d=d.volume;l.setMuted(a,"commercial_break");l.setVolume(d);k(b,c);break;case"PLAY_LONGER_AD":c.pause("commercial_break");a=c.getCurrentState();d=a.muted;a=a.volume;l.setMuted(d,"commercial_break");l.setVolume(a);k(b,c);break}switch(e){case"tahoe":k(b,c,function(){c.setMuted(!0,"tahoe_transition_phase_initiated")});l.setMuted(!0,"tahoe_transition_phase_initiated");return;case"watch_and_scroll":k(b,c,function(){c.setMuted(!0,"watch_and_scroll_transition_phase_initiated")});l.setMuted(!0,"watch_and_scroll_transition_phase_initiated");return}},[f,c,l,b,e]);j(function(){if(h){var a;((a=m==null?void 0:m.isAdPod)!=null?a:!1)&&(m==null?void 0:m.adPodIndex)===0?(g.setExtraFields(Object.assign(m||{},{adPodIndex:1})),g.setState("START")):g.setState("END");g.setExtraFields(Object.assign(m||{},{adPlaytime:0,watchTillEnd:h}))}},[h,m,g]);j(function(){var a=function(){l.pause("user_initiated")},b=function(){g.setState("END")};g.setHideAdBehavior({onClose:b,onOpen:a})},[l,g])}function k(a,b,c){if(c)a.current&&(b.unfreeze(a.current),a.current=null),c(),k(a,b);else{a.current=(c=a.current)!=null?c:b.freeze()}}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("object-assign-4.1.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function d(a){if(a===null||a===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if(Object.getOwnPropertyNames(a)[0]==="5")return!1;var b={};for(a=0;a<10;a++)b["_"+String.fromCharCode(a)]=a;a=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if(a.join("")!=="0123456789")return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return Object.keys(Object.assign({},c)).join("")!=="abcdefghijklmnopqrst"?!1:!0}catch(a){return!1}}g.exports=e()?Object.assign:function(e,f){var g,h=d(e),i;for(var j=1;j<arguments.length;j++){g=Object(arguments[j]);for(var k in g)b.call(g,k)&&(h[k]=g[k]);if(a){i=a(g);for(var l=0;l<i.length;l++)c.call(g,i[l])&&(h[i[l]]=g[i[l]])}}return h}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("E2EEBackupSecretRegisterModule",["E2EEBackupCommon","QuickPerformanceLogger","VestaClient","VestaClientError","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235865454,"167");function a(a,b,d){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase,registration_mode:"regular_mode"}});return j(a,b,!1,d)}function b(a,b,d){(h||(h=c("QuickPerformanceLogger"))).markerStart(i);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase,registration_mode:"re-register_mode"}});return j(a,b,!0,d)}async function j(a,b,e,f){try{var g=await a.initRegister({clientId:b.clientId,productUseCase:b.productUseCase},f),j=g.isRegistered,k=g.islandEd25519Pub,l=g.islandEd25519PubSig,m=g.islandRsaPub;g=g.islandRsaPubSig;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"init_register_network_call");if(j&&!e){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ALREADY_REGISTERED"}});h.markerEnd(i,3376);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ALREADY_REGISTERED)}j=await Promise.all([d("VestaClient").validateHsmKey(m,g),d("VestaClient").validateHsmKey(k,l)]);e=j[0];g=j[1];if(!e){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!g){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"verify_island_rsa_key");h.markerPoint(i,"verify_island_ed25519_key");l=b.vestaAccountPin;if(l==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{j=new TextEncoder();e=await d("VestaClient").beginRegister(j.encode(l));g=e.clientState;j=e.r1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_register_vesta_client");l=await a.beginRegister({clientId:b.clientId,productUseCase:b.productUseCase,opaqueR1:j},f);e=l.opaqueChallenge;var n=l.opaqueR2;l=l.opaqueR2Sig;h.markerPoint(i,"begin_register_network_call");j=await d("VestaClient").finishRegister(j,n,l,k,g,b.secret,e,m);n=j.registerPayload;h.markerPoint(i,"finish_register_vesta_client");l=await a.finishRegister({clientId:b.clientId,productUseCase:b.productUseCase,encRegPayload:n},f);k=l.registerSuccess;h.markerPoint(i,"finish_register_network_call");if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}h.markerEnd(i,2)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}});h.markerEnd(i,3);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.registerBackupSecret=a;g.reRegisterBackupSecret=b}),98);
__d("FBIconArrowsCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M99.582 923.359a4.496 4.496 0 0 1-.082-.86 4.485 4.485 0 0 1 1.318-3.181A4.483 4.483 0 0 1 104 918a4.485 4.485 0 0 1 2.886 1.046.75.75 0 1 0 .96-1.151A5.986 5.986 0 0 0 104 916.5a5.983 5.983 0 0 0-4.242 1.757A5.985 5.985 0 0 0 98 922.5c0 .389.037.772.11 1.145a.75.75 0 0 0 1.472-.286zm8.836-1.718a4.485 4.485 0 0 1-1.236 4.041A4.483 4.483 0 0 1 104 927a4.485 4.485 0 0 1-2.884-1.046.75.75 0 1 0-.963 1.15A5.986 5.986 0 0 0 104 928.5a5.983 5.983 0 0 0 4.244-1.756A5.985 5.985 0 0 0 110 922.5c0-.389-.037-.772-.11-1.145a.75.75 0 0 0-1.472.286z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M107 918.5h-1.25a.75.75 0 1 0 0 1.5h2a.75.75 0 0 0 .75-.75v-2a.75.75 0 1 0-1.5 0v1.25zm-6 8h1.25a.75.75 0 1 0 0-1.5h-2a.75.75 0 0 0-.75.75v2a.75.75 0 1 0 1.5 0v-1.25z",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSCreateExtraVirtualDevice",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSCreateDebugToken.nop","LSCreateDerivedKeys.nop","LSCreateEncryptionKeyPair.nop","LSCreateSignatureKeyPair.nop","LSCreateSignatureWithArmadilloKey.nop","LSCreateSignature_v2.nop","LSGetArmadilloPublicKey.nop","LSGetBlobFromString.nop","LSGetOpenEpochKeys","LSGetViewerFBID","LSHandleCreateVirtualDeviceFailure","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSOcmfClientEvolve_v2.nop","LSParseRecoveryCode_v2.nop","LSSymmetricEncryptionCreateEncryptedString.nop","justknobx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(c){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] Beginning execution."),d.i64.eq(a[0],d.i64.cast([0,1]))?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,["50012"].join("")):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}]):d.i64.eq(a[0],d.i64.cast([0,2]))?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,["50013"].join("")):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,1429]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[27]=a[0],a})},function(a){return e[27]?e[28]=!0:e[28]=!1,e[28]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[30]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[30]].join("")),e[29]=d.createArray(),void 0!==void 0?e[31]=(e[29].push(void 0),e[29]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[30],e[29],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(a,c){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,d.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,d.i64.cast([0,20]),void 0,void 0],e[1]=f[0],e[2]=f[1],e[3]=f[2],e[4]=f[3],e[5]=f[4],e[6]=f[5],e[7]=f[6],e[8]=f[7],e[9]=f[8],e[10]=f[9],e[11]=f[10],e[12]=f[11],e[13]=f[12],e[14]=f[13],e[15]=f[14],e[16]=f[15],e[17]=f[16],e[18]=f[17],f):(c=a.item,d.sequence([function(a){return e[32]=c.backupTenancy,e[31]=c.encryptionVersion,e[27]=void 0,d.i64.neq(e[27],void 0)?d.resolve(e[28]=e[27]):d.sequence([function(a){return e[33]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[34]=a[0],a})},function(a){return e[34]?e[43]=(e[33].push(d.i64.cast([0,0])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[35]=a[0],a})},function(a){return e[35]?e[43]=(e[33].push(d.i64.cast([0,2])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[36]=a[0],a})},function(a){return e[36]?e[43]=(e[33].push(d.i64.cast([0,3])),e[33]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[37]=a[0],a})},function(a){return e[37]?e[43]=(e[33].push(d.i64.cast([0,4])),e[33]):0,e[38]=d.createArray(),e[39]=d.i64.of_int32(e[33].length),d.i64.gt(e[39],d.i64.cast([0,0]))?d.loopAsync(e[39],function(a){return e[43]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[33],e[43]).then(function(a){return a=a,e[44]=a[0],e[45]=a[1],a})},function(a){return e[46]=(e[38].push(e[44]),e[38])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[43]=d.createArray(),e[44]=d.i64.of_int32(e[38].length),d.i64.gt(e[44],d.i64.cast([0,0]))?d.loopAsync(e[44],function(a){return e[46]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[38],e[46]).then(function(a){return a=a,e[47]=a[0],e[48]=a[1],a})},function(a){return e[49]=(e[43].push(d.i64.to_string(e[47])),e[43])}])}):d.resolve()},function(a){return e[45]=e[43].join(","),e[40]=e[45]}])},function(a){return e[38].some(function(a){return d.i64.eq(e[31],a)})?e[41]=e[31]:e[41]=void 0,d.i64.neq(e[41],void 0)?e[42]=e[41]:e[42]=void 0,e[28]=e[42]}])},function(a){return d.i64.neq(e[28],void 0)?e[29]=e[28]:e[29]=d.i64.cast([0,0]),d.i64.neq(e[32],void 0)?e[30]=e[32]:e[30]=d.i64.cast([0,1]),a=[c.backupId,c.deviceId,c.mailboxRootKeyBlob,c.ocmfClientStateBlob,void 0,void 0,e[29],e[30],c.epochAuthPublicKeyBlob,c.epochAuthPrivateKeyBlob,c.devicePublicKeyBlob,c.devicePrivateKeyBlob,c.epochStoragePublicKeyBlob,c.epochStoragePrivateKeyBlob,c.obliviousValidationTokenBlob,c.authorityLevel,void 0,void 0],e[1]=a[0],e[2]=a[1],e[3]=a[2],e[4]=a[3],e[5]=a[4],e[6]=a[5],e[7]=a[6],e[8]=a[7],e[9]=a[8],e[10]=a[9],e[11]=a[10],e[12]=a[11],e[13]=a[12],e[14]=a[13],e[15]=a[14],e[16]=a[15],e[17]=a[16],e[18]=a[17]}]))})},function(f){return d.i64.neq(e[1],void 0)?d.sequence([function(f){return d.db.table(174).fetch([[[d.i64.cast([0,1])]]]).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,3])})},function(a){return e[29]="Recovery code not created, will not create extra virtual device",e[29]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ","",e[29]].join("")),e[30]=d.createArray(),void 0!==void 0?e[31]=(e[30].push(void 0),e[30]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",e[29],e[30],d.i64.cast([0,3]))):d.resolve()},function(a){return e[27]=d.i64.cast([0,1])}]):(g=f.item,d.sequence([function(a){return e[31]=g.recoveryCode,e[32]=g.virtualDeviceType,e[33]=g.cloudServiceAccount,e[34]=g.hsmPinNormalizationStatus,d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,1])})},function(a){return d.db.table(168).fetch().next().then(function(b,c){var a=b.done;b=b.value;return a?e[29]=d.i64.cast([0,1]):(c=b.item,e[36]=c.backupTenancy,d.i64.neq(e[36],void 0)?e[35]=e[36]:e[35]=d.i64.cast([0,1]),e[29]=e[35])})},function(f){return d.i64.eq(e[29],d.i64.cast([0,1]))&&e[31]==="1SHADOWTESTINGRECOVERYCODE00000000000000"?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Used."),e[36]="Invalid Recovery Code Used.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[36]].join("")),e[35]=d.createArray(),void 0!==void 0?e[37]=(e[35].push(void 0),e[35]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[36],e[35],d.i64.cast([0,3]))):d.sequence([function(a){return e[35]=d.createArray(),d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[36]=a[0],a})},function(a){return d.nativeOperation(b("LSParseRecoveryCode_v2.nop"),e[31],void 0==null?d.i64.to_string(e[36]):void 0,e[35]).then(function(a){return a=a,e[37]=a[0],e[38]=a[1],a})},function(f){return d.blobs.neq(e[38],void 0)?d.blobs.neq(e[37],void 0)?d.sequence([function(a){return d.storedProcedure(b("LSGetOpenEpochKeys"),!1).then(function(a){return a=a,e[39]=a[0],a})},function(f){return e[39]!==void 0?d.sequence([function(a){return e[106]=c("justknobx")._("1310"),void 0!==void 0?e[106]?d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2866]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!0:e[117]=!1,e[117]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[119]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[119],e[118],d.i64.cast([0,3]))):d.resolve()}]):d.sequence([function(a){return void 0!==void 0?d.storedProcedure(b("LSAppendDataTraceAddon"),void 0,d.i64.cast([0,2867]),d.i64.cast([0,2]),void 0,void 0):d.resolve()},function(a){return d.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!0:e[117]=!1,e[117]&&!0?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),e[119]="LSDataTraceMciTraceLog native op not supported",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBTraceUtils] ","",e[119]].join("")),e[118]=d.createArray(),void 0!==void 0?e[120]=(e[118].push(void 0),e[118]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils",e[119],e[118],d.i64.cast([0,3]))):d.resolve()}]):d.resolve()},function(a){return e[106]?d.resolve():d.sequence([function(a){return d.count(d.db.table(169).fetch()).then(function(a){return e[116]=a})},function(a){return d.i64.gt(e[116],d.i64.cast([0,1]))?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Multiple rows in $epoch_tables."),e[118]="Multiple rows in $epoch_tables.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[118]].join("")),e[117]=d.createArray(),void 0!==void 0?e[119]=(e[117].push(void 0),e[117]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[118],e[117],d.i64.cast([0,3]))):d.resolve()}])},function(a){return d.nativeOperation(b("LSCreateSignatureKeyPair.nop")).then(function(a){return a=a,e[40]=a[0],e[41]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateEncryptionKeyPair.nop")).then(function(a){return a=a,e[42]=a[0],e[43]=a[1],a})},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[40],d.blob("MA=="),e[43]).then(function(a){return a=a,e[44]=a[0],a})},function(a){return e[107]=d.blob(""),e[108]=d.blob(""),e[109]=d.blob(""),d.db.table(168).fetch([[[e[1]]]]).next().then(function(c,f){var a=c.done;c=c.value;return a?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Row with backupid not found in client state table"),e[117]="Row with backupid not found in client state table",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))},function(a){return a=[e[107],e[108],void 0,e[109]],e[45]=a[0],e[46]=a[1],e[47]=a[2],e[48]=a[3],a}]):(f=c.item,a=[f.obliviousValidationTokenBlob,f.mailboxRootKeyBlob,f.deviceId,f.ocmfClientStateBlob],e[45]=a[0],e[46]=a[1],e[47]=a[2],e[48]=a[3])})},function(a){return d.blobs.eq(e[45],e[107])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] oblivious_token is empty!"),e[117]="oblivious_token is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.blobs.eq(e[46],e[108])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] mailbox_root_key is empty!"),e[117]="mailbox_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.blobs.eq(e[48],e[109])?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ocmf_client_state is empty!"),e[117]="ocmf_client_state is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[50]=e[39].get("epoch_anon_id"),e[51]=e[39].get("epoch_root_key"),e[52]=d.createArray(),e[116]=(e[52].push(d.i64.cast([0,32])),e[52]),d.nativeOperation(b("LSBase64Encode.nop"),e[50]).then(function(a){return a=a,e[53]=a[0],a})},function(a){return e[53]!==void 0?d.sequence([function(a){return d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blobs.of_string(["epoch_devices","_",e[53]].join("")),void 0,e[51],e[52]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[116]?e[117]=!1:e[117]=!0,e[117]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish"),e[120]="THIS IS NOT EXPECTED. Found null keys while deriving keys for epoch. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[120]].join("")),e[119]=d.createArray(),void 0!==void 0?e[122]=(e[119].push(void 0),e[119]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[120],e[119],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[118]=e[121]}]):d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[116],d.i64.cast([0,0])).then(function(a){return a=a,e[119]=a[0],e[120]=a[1],a})},function(a){return e[118]=e[119]}])},function(a){return e[54]=e[118]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoEpochUtils] THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish"),e[117]="THIS IS NOT EXPECTED. Failed to base64 encode epoch anon id. Returning empty blobish",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoEpochUtils] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[119]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoEpochUtils",e[117],e[116],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[118]=a[0],a})},function(a){return e[54]=e[118]}])},function(a){return d.nativeOperation(b("LSHmac_v2.nop"),e[54],e[41]).then(function(a){return a=a,e[55]=a[0],a})},function(a){return d.blobs.neq(e[55],void 0)?d.resolve(e[56]=e[55]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] device_epoch_hmac is null!"),e[117]="device_epoch_hmac is null!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[119]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),"").then(function(a){return a=a,e[118]=a[0],a})},function(a){return e[56]=e[118]}])},function(a){return e[57]=e[39].get("epoch_root_key"),d.blobs.neq(e[57],void 0)?d.sequence([function(a){return e[116]=d.createArray(),e[122]=(e[116].push(d.i64.cast([0,18])),e[116]),d.nativeOperation(b("LSCreateDerivedKeys.nop"),d.blob("bWViL2RlYnVnL2ZpbmdlcnByaW50L01FQkVwb2NoUm9vdEtleQ=="),void 0,e[57],e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return e[117]!==void 0?d.sequence([function(a){return e[122]=d.i64.of_int32(e[117].length),d.i64.ge(e[122],d.i64.cast([0,1]))?d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[117],d.i64.cast([0,0])).then(function(a){return a=a,e[124]=a[0],e[125]=a[1],a})},function(a){return e[123]=e[124]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM."),e[125]="CreateDerivedKeys returned an empty list of keys. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[125]].join("")),e[124]=d.createArray(),void 0!==void 0?e[126]=(e[124].push(void 0),e[124]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[125],e[124],d.i64.cast([0,3]))},function(a){return e[123]=void 0}])},function(a){return e[118]=e[123]}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBFingerprint] CreateDerivedKeys returned null. This should never happen; aborting dasm VM."),e[123]="CreateDerivedKeys returned null. This should never happen; aborting dasm VM.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBFingerprint] ","",e[123]].join("")),e[122]=d.createArray(),void 0!==void 0?e[124]=(e[122].push(void 0),e[122]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBFingerprint",e[123],e[122],d.i64.cast([0,3]))},function(a){return e[118]=void 0}])},function(a){return d.blobs.neq(e[118],void 0)?e[119]=!0:e[119]=!1,e[119]?0:(function(a){d.logger(a).mustfix(a)}("LS::assert is failed. Attempting to coerce a null value to nonnull."),d["throw"]("LS::assert is failed. Attempting to coerce a null value to nonnull.")),d.nativeOperation(b("LSBase64Encode.nop"),e[118]).then(function(a){return a=a,e[120]=a[0],a})},function(a){return e[120]!==void 0?e[121]=e[120]:e[121]="encodingfailed",e[58]=e[121]}]):d.resolve(e[58]="null")},function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),e[48]).then(function(a){return a=a,e[59]=a[0],e[60]=a[1],a})},function(a){return d.blobs.neq(void 0,void 0)?d.sequence([function(a){return d.nativeOperation(b("LSOcmfClientEvolve_v2.nop"),void 0).then(function(a){return a=a,e[116]=a[0],e[117]=a[1],a})},function(a){return a=[e[59],e[60],e[116],e[117]],e[61]=a[0],e[62]=a[1],e[63]=a[2],e[64]=a[3],a}]):d.resolve((a=[e[59],e[60],void 0,void 0],e[61]=a[0],e[62]=a[1],e[63]=a[2],e[64]=a[3],a))},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[40]).then(function(a){return a=a,e[65]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6dmlydHVhbF9kZXZpY2VfcHJpdmF0ZV9rZXk="),e[65]==null?"":e[65]).then(function(a){return a=a,e[66]=a[0],a})},function(a){return e[66]!==void 0?e[67]=e[66]:e[67]="",e[67]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_device_private_key is empty!"),e[117]="encrypted_device_private_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[42]).then(function(a){return a=a,e[68]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfc3RvcmFnZV9wcml2YXRlX2tleQ=="),e[68]==null?"":e[68]).then(function(a){return a=a,e[69]=a[0],a})},function(a){return e[69]!==void 0?e[70]=e[69]:e[70]="",e[70]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_storage_private_key is empty!"),e[117]="encrypted_epoch_storage_private_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[61]).then(function(a){return a=a,e[71]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6b2NtZl9jbGllbnRfc3RhdGU="),e[71]==null?"":e[71]).then(function(a){return a=a,e[72]=a[0],a})},function(a){return e[72]!==void 0?e[73]=e[72]:e[73]="",e[73]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_orf_client_state_v1_shape is empty!"),e[117]="encrypted_orf_client_state_v1_shape is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[45]).then(function(a){return a=a,e[74]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6b2JsaXZpb3VzX3ZhbGlkYXRpb25fdG9rZW4="),e[74]==null?"":e[74]).then(function(a){return a=a,e[75]=a[0],a})},function(a){return e[75]!==void 0?e[76]=e[75]:e[76]="",e[76]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_oblivious_validation_token is empty!"),e[117]="encrypted_oblivious_validation_token is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[46]).then(function(a){return a=a,e[77]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6bWFpbGJveF9yb290X2tleQ=="),e[77]==null?"":e[77]).then(function(a){return a=a,e[78]=a[0],a})},function(a){return e[78]!==void 0?e[79]=e[78]:e[79]="",e[79]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_mailbox_root_key is empty!"),e[117]="encrypted_mailbox_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[80]=e[39].get("epoch_anon_id"),d.nativeOperation(b("LSBase64Encode.nop"),e[80]).then(function(a){return a=a,e[81]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfYW5vbl9pZA=="),e[81]==null?"":e[81]).then(function(a){return a=a,e[82]=a[0],a})},function(a){return e[82]!==void 0?e[83]=e[82]:e[83]="",e[83]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_anon_id is empty!"),e[117]="encrypted_epoch_anon_id is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[84]=e[39].get("epoch_root_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[84]).then(function(a){return a=a,e[85]=a[0],a})},function(a){return d.nativeOperation(b("LSSymmetricEncryptionCreateEncryptedString.nop"),e[38],d.blob("dmlydHVhbF9kZXZpY2U6ZXBvY2hfcm9vdF9rZXk="),e[85]==null?"":e[85]).then(function(a){return a=a,e[86]=a[0],a})},function(a){return e[86]!==void 0?e[87]=e[86]:e[87]="",e[87]===""?(function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] encrypted_epoch_root_key is empty!"),e[117]="encrypted_epoch_root_key is empty!",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[117]].join("")),e[116]=d.createArray(),void 0!==void 0?e[118]=(e[116].push(void 0),e[116]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[117],e[116],d.i64.cast([0,3]))):d.resolve()},function(a){return e[88]=new d.Map(),e[88].set("encrypted_device_private_key",e[67]),e[88].set("encrypted_epoch_storage_private_key",e[70]),e[88].set("encrypted_ocmf_client_state",e[73]),e[88].set("encrypted_orf_client_state_v2",void 0),e[88].set("encrypted_oblivious_validation_token_blob",e[76]),e[88].set("encrypted_mailbox_root_key_blob",e[79]),e[88].set("encrypted_epoch_anon_id",e[83]),e[88].set("encrypted_epoch_root_key",e[87]),d.nativeOperation(b("LSBase64Encode.nop"),e[37]).then(function(a){return a=a,e[89]=a[0],a})},function(a){return e[110]=e[89]==null?"":e[89],d.nativeOperation(b("LSBase64Encode.nop"),e[41]).then(function(a){return a=a,e[90]=a[0],a})},function(a){return e[111]=e[90]==null?"":e[90],d.nativeOperation(b("LSBase64Encode.nop"),e[43]).then(function(a){return a=a,e[91]=a[0],a})},function(a){return e[112]=e[91]==null?"":e[91],d.nativeOperation(b("LSBase64Encode.nop"),e[44]==null?d.blob("bnVsbA=="):e[44]).then(function(a){return a=a,e[92]=a[0],a})},function(a){return e[113]=e[92]==null?"":e[92],d.nativeOperation(b("LSBase64Encode.nop"),e[56]).then(function(a){return a=a,e[93]=a[0],a})},function(a){return e[114]=e[93]==null?"":e[93],d.nativeOperation(b("LSBase64Encode.nop"),e[62]).then(function(a){return a=a,e[94]=a[0],a})},function(a){return e[115]=e[94]==null?"":e[94],d.nativeOperation(b("LSGetBlobFromString.nop"),e[31]).then(function(a){return a=a,e[95]=a[0],a})},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"private_key",e[40],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[96]=e[118]}]):d.resolve(e[96]=void 0)},function(a){return d.blobs.neq(e[96],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[96]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[97]=e[116]}]):d.resolve(e[97]=void 0)},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"ocmf_client_state",e[61],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[98]=e[118]}]):d.resolve(e[98]=void 0)},function(a){return d.blobs.neq(e[98],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[98]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[99]=e[116]}]):d.resolve(e[99]=void 0)},function(a){return d.blobs.neq(e[46],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[46],"epoch_storage_private_key",e[42],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[100]=e[118]}]):d.resolve(e[100]=void 0)},function(a){return d.blobs.neq(e[100],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[100]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[101]=e[116]}]):d.resolve(e[101]=void 0)},function(a){return d.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,e[102]=a[0],a})},function(a){return d.nativeOperation(b("LSGetBlobFromString.nop"),d.i64.to_string(e[102])).then(function(a){return a=a,e[103]=a[0],a})},function(a){return d.blobs.neq(e[103],void 0)?d.sequence([function(a){return e[116]=new d.Map(),d.nativeOperation(b("LSCreateDebugToken.nop"),e[103],"recovery_code",e[95],d.i64.cast([0,1]),e[116]).then(function(a){return a=a,e[117]=a[0],a})},function(a){return d.blobs.neq(e[117],void 0)?e[118]=e[117]:e[118]=void 0,e[104]=e[118]}]):d.resolve(e[104]=void 0)},function(a){return d.blobs.neq(e[104],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSBase64Encode.nop"),e[104]).then(function(a){return a=a,e[116]=a[0],a})},function(a){return e[105]=e[116]}]):d.resolve(e[105]=void 0)},function(c){return d.i64.neq(e[47],void 0)?d.sequence([function(a){return e[116]=e[39].get("epoch_id"),d.db.table(168).fetch().next().then(function(b,c){var a=b.done;b=b.value;return a?e[117]=d.i64.cast([0,1]):(c=b.item,e[122]=c.backupTenancy,d.i64.neq(e[122],void 0)?e[121]=e[122]:e[121]=d.i64.cast([0,1]),e[117]=e[121])})},function(a){return d.i64.eq(e[117],d.i64.cast([0,2]))?d.resolve(e[119]=void 0):d.sequence([function(a){return d.nativeOperation(b("LSGetArmadilloPublicKey.nop")).then(function(a){return a=a,e[121]=a[0],a})},function(a){return e[119]=e[121]}])},function(a){return d.blobs.neq(e[119],void 0)?d.sequence([function(a){return d.nativeOperation(b("LSCreateSignatureWithArmadilloKey.nop"),e[41]).then(function(a){return a=a,e[121]=a[0],a})},function(a){return d.blobs.neq(e[121],void 0)?d.resolve(e[122]=e[121]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create labyrinth signature"),e[127]="Failed to create labyrinth signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[127]].join("")),e[126]=d.createArray(),void 0!==void 0?e[128]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[127],e[126],d.i64.cast([0,3]))},function(a){return e[122]=void 0}])},function(a){return d.nativeOperation(b("LSCreateSignature_v2.nop"),e[40],d.blob("Mw=="),e[119]).then(function(a){return a=a,e[123]=a[0],a})},function(a){return d.blobs.neq(e[123],void 0)?d.resolve(e[124]=e[123]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoKeySigningUtils] Failed to create armadillo signature"),e[127]="Failed to create armadillo signature",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoKeySigningUtils] ","",e[127]].join("")),e[126]=d.createArray(),void 0!==void 0?e[128]=(e[126].push(void 0),e[126]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoKeySigningUtils",e[127],e[126],d.i64.cast([0,3]))},function(a){return e[124]=void 0}])},function(a){return d.blobs.neq(e[124],void 0)?(d.blobs.neq(e[122],void 0)?(e[127]=new d.Map(),e[127].set("armadillo_public_key",e[119]),e[127].set("armadillo_key_signature",e[124]),e[127].set("labyrinth_key_signature",e[122]),e[126]=e[127]):e[126]=void 0,e[125]=e[126]):e[125]=void 0,e[120]=e[125]}]):d.resolve(e[120]=void 0)},function(c){return e[120]!==void 0?d.sequence([function(a){return e[121]=e[120].get("armadillo_public_key"),d.nativeOperation(b("LSBase64Encode.nop"),e[121]).then(function(a){return a=a,e[122]=a[0],a})},function(a){return e[123]=e[120].get("armadillo_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[123]).then(function(a){return a=a,e[124]=a[0],a})},function(a){return e[125]=e[120].get("labyrinth_key_signature"),d.nativeOperation(b("LSBase64Encode.nop"),e[125]).then(function(a){return a=a,e[126]=a[0],a})},function(c){return e[127]=new d.Map(),e[127].set("backup_id",e[1]),e[127].set("request_device_id",e[47]),e[127].set("virtual_device_id",e[110]),e[127].set("encrypted_secret_values",e[88]),e[127].set("public_key",e[111]),e[127].set("epoch_storage_pubkey",e[112]),e[127].set("epoch_storage_pubkey_sig",e[113]),e[127].set("device_epoch_hmac",e[114]),e[127].set("epoch_root_key_fingerprint",e[58]),e[127].set("ocmf_rotation_token",e[115]),e[127].set("is_init",!1),e[127].set("epoch_id",e[116]),e[127].set("virtual_device_type",e[32]),e[127].set("action_type",a[0]),e[127].set("private_key_debug_token",e[97]),e[127].set("ocmf_client_state_debug_token",e[99]),e[127].set("epoch_storage_pvtkey_debug_token",e[101]),e[127].set("recovery_code_debug_token",e[105]),e[127].set("trace_id",void 0),e[127].set("cloud_service_account",e[33]),e[127].set("hsm_pin_normalization_status",e[34]),e[127].set("security_question_type",void 0),e[127].set("trusted_contact_id",void 0),e[127].set("armadillo_public_key",e[122]==null?"":e[122]),e[127].set("armadillo_key_signature",e[124]==null?"":e[124]),e[127].set("labyrinth_key_signature",e[126]==null?"":e[126]),e[128]=d.toJSON(e[127]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50004]),e[128],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[129]=a[0],a})}]):(function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] failed to get armadillo key and device signatures"),e[121]=new d.Map(),e[121].set("backup_id",e[1]),e[121].set("request_device_id",e[47]),e[121].set("virtual_device_id",e[110]),e[121].set("encrypted_secret_values",e[88]),e[121].set("public_key",e[111]),e[121].set("epoch_storage_pubkey",e[112]),e[121].set("epoch_storage_pubkey_sig",e[113]),e[121].set("device_epoch_hmac",e[114]),e[121].set("epoch_root_key_fingerprint",e[58]),e[121].set("ocmf_rotation_token",e[115]),e[121].set("is_init",!1),e[121].set("epoch_id",e[116]),e[121].set("virtual_device_type",e[32]),e[121].set("action_type",a[0]),e[121].set("private_key_debug_token",e[97]),e[121].set("ocmf_client_state_debug_token",e[99]),e[121].set("epoch_storage_pvtkey_debug_token",e[101]),e[121].set("recovery_code_debug_token",e[105]),e[121].set("trace_id",void 0),e[121].set("cloud_service_account",e[33]),e[121].set("hsm_pin_normalization_status",e[34]),e[121].set("security_question_type",void 0),e[121].set("trusted_contact_id",void 0),e[122]=d.toJSON(e[121]),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),"encrypted_backups_setup",d.i64.cast([0,50004]),e[122],d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[123]=a[0],a}))}]):d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Epoch keys are unavailable."),e[41]="Epoch keys are unavailable.",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[41]].join("")),e[40]=d.createArray(),void 0!==void 0?e[42]=(e[40].push(void 0),e[40]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[41],e[40],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}])}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Provided"),e[40]="Invalid Recovery Code Provided",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[40]].join("")),e[39]=d.createArray(),void 0!==void 0?e[41]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[40],e[39],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}]):d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] Invalid Recovery Code Provided"),e[40]="Invalid Recovery Code Provided",function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure] ","",e[40]].join("")),e[39]=d.createArray(),void 0!==void 0?e[41]=(e[39].push(void 0),e[39]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateVirtualDeviceV2StoredProcedure",e[40],e[39],d.i64.cast([0,3]))},function(a){return d.storedProcedure(b("LSHandleCreateVirtualDeviceFailure"),e[1],!1,void 0)}])}])},function(a){return e[27]=d.i64.cast([0,0])}]))})},function(a){return e[20]=e[27]}]):d.sequence([function(a){return d.db.table(178).put({pk:d.i64.cast([0,1]),recoveryCodeStatus:d.i64.cast([0,3])})},function(a){return e[27]="Backup is not initalized",e[27]!==void 0?(function(a){d.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ","",e[27]].join("")),e[28]=d.createArray(),void 0!==void 0?e[29]=(e[28].push(void 0),e[28]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",e[27],e[28],d.i64.cast([0,3]))):d.resolve()},function(a){return d.forEach(d.db.table(174).fetch(),function(a){return a["delete"]()})},function(a){return e[20]=d.i64.cast([0,1])}])},function(a){return e[21]=d.i64.of_float(Date.now()),e[22]=d.i64.random(),e[24]="Finishing execution. Execution time: ",e[25]=d.i64.to_string(d.i64.sub(e[21],e[0])),e[26]=" ms",e[23]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure] ",e[23],e[24],e[23],e[25],e[23],e[26]].join("")),d.i64.eq(d.i64.mod_(e[22],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[27]=",",e[28]=d.createArray(),void 0!==void 0?e[29]=(e[28].push(void 0),e[28]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure",[e[24],e[27],e[25],e[27],e[26]].join(""),e[28],d.i64.cast([0,4]))):d.resolve()},function(a){return f[0]=e[20]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsCreateExtraVirtualDeviceStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_generated_recovery_code","secure_encrypted_backups_recovery_code_status","secure_encrypted_backups_epochs"];d=a;g["default"]=d}),98);
__d("LSCreateExtraVirtualDeviceStoredProcedure",["LSCreateExtraVirtualDevice","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateExtraVirtualDevice"),e.actionType,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateRecoveryCode.nop",["CryptoLogger","GF32RecoveryCodes","GaloisField32","LSResult","Promise","UInt8Array"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){while(!0){var b=d("UInt8Array").getBufferWithRandomValuesFromLength(1);b=new Uint8Array(b)[0];if(b<256-256%a)return b%a;continue}return 0}a=function(a,e){a=["2","0"].join("");try{e=[];for(var f=0;f<=33;++f)e.push(i(32));f=d("GF32RecoveryCodes").getEccForCode(d("GaloisField32").asGf32MatExn(e));e=e.concat(f);f=d("GaloisField32").matrixToSymbols(d("GaloisField32").asGf32MatExn(e));e=a+f;return(h||(h=b("Promise"))).resolve(c("LSResult")(e))}catch(a){d("CryptoLogger").captureError(d("CryptoLogger").CryptoLogger("create_recovery_code"),a).mustfix("creating recovery code failed");throw a}};a.__nop_name__="LSCreateRecoveryCode";g["default"]=a}),98);
__d("LSEncryptedBackupsCreateVirtualDeviceActionType",[],(function(a,b,c,d,e,f){a=Object.freeze({INSERT:1,UNIQUE_VD_TYPE_INSERT:2});f["default"]=a}),66);
__d("LSGenerateRecoveryCode",["LSCreateRecoveryCode.nop","LSGetViewerFBID","LSLogMebClientEvent.nop","LSParseRecoveryCode_v2.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsGenerateRecoveryCodeStoredProcedure] Beginning execution."),c.forEach(c.filter(c.db.table(174).fetch(),function(a){return a.recoveryCode==="1SHADOWTESTINGRECOVERYCODE00000000000000"}),function(a){return a["delete"]()})},function(a){return c.db.table(174).fetch([[[c.i64.cast([0,1])]]]).next().then(function(a,e){var f=a.done;a=a.value;return f?c.sequence([function(a){return c.nativeOperation(b("LSCreateRecoveryCode.nop")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.db.table(174).add({pk:c.i64.cast([0,1]),recoveryCode:d[15]})},function(a){return d[1]=d[15]}]):(e=a.item,d[1]=e.recoveryCode)})},function(b){return c.forEach(c.db.table(174).fetch([[[c.i64.cast([0,1])]]]),function(b){var c=b.update;b.item;return c({virtualDeviceType:a[0],cloudServiceAccount:void 0,hsmPinNormalizationStatus:void 0})})},function(a){return d[3]=c.createArray(),c.db.table(172).fetch().next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=void 0:(b=a.item,d[16]=b.encryptionManagementDelegatorId,c.i64.neq(d[16],void 0)?(c.i64.neq(d[16],c.i64.cast([0,0]))?d[17]=c.i64.to_string(d[16]):d[17]=void 0,d[15]=d[17]):d[15]=void 0,d[4]=d[15])})},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[6]=a[0],a})},function(a){return c.nativeOperation(b("LSParseRecoveryCode_v2.nop"),d[1],d[4]==null?c.i64.to_string(d[6]):d[4],d[3]).then(function(a){return a=a,d[7]=a[0],d[8]=a[1],a})},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsGenerateRecoveryCodeStoredProcedure] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsGenerateRecoveryCodeStoredProcedure",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[1],c.i64.cast([0,0]),d[7]],e[0]=a[0],e[1]=a[1],e[2]=a[2],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsGenerateRecoveryCodeStoredProcedure";a.__tables__=["secure_encrypted_backups_generated_recovery_code","encrypted_backups"];e.exports=a}),null);
__d("LSGenerateRecoveryCodeStoredProcedure",["LSGenerateRecoveryCode","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSGenerateRecoveryCode"),e.virtualDeviceType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWEncryptedBackupsInitializeBackupDeferred",["EBSMAPI","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onBackupCreationSuccess,e=a.onFailure,f=a.onStart,g=a.qplEventName,h=g===void 0?d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent:g,i=a.instanceKey;f==null||f();c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_SPROC_START",{instanceKey:i});c("promiseDone")(c("EBSMAPI").initializeBackup({instanceKey:i}),function(a){a.success?(c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_SPROC_END",{instanceKey:i}),c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_END",{instanceKey:i}),b==null||b()):(c("QPLUserFlow").markError(h,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:i}),e())},function(){c("QPLUserFlow").markError(h,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:i}),e()})}g.initializeBackupDeferred=a}),98);
__d("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react",["FocusRegion.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["error","inputSize","isMessenger"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14);if(b[0]!==a){var e=a.error,f=a.inputSize;a.isMessenger;var g=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e;f=f;g=g;b[0]=a;b[1]=e;b[2]=g;b[3]=f}else e=b[1],g=b[2],f=b[3];a=f===void 0?"large":f;b[4]!==g||b[5]!==a?(f=j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({testid:void 0},g,{inputSize:a})),b[4]=g,b[5]=a,b[6]=f):f=b[6];var i;b[7]!==g.focusRegionId||b[8]!==f?(i=j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:g.focusRegionId,children:f}),b[7]=g.focusRegionId,b[8]=f,b[9]=i):i=b[9];b[10]!==e||b[11]!==a||b[12]!==i?(g=j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:e,inputSize:a,children:i}),b[10]=e,b[11]=a,b[12]=i,b[13]=g):g=b[13];return g}g["default"]=a}),98);
__d("MWXIconRefresh",["MWXSvgIcon","SVGIcon","cr:22458","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22458")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessengerCheckmark.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 36 36",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.378 9.169c.597.347.8 1.112.453 1.709l-9 15.5a1.25 1.25 0 0 1-1.965.256l-6.5-6.5a1.25 1.25 0 1 1 1.768-1.768l5.121 5.121a.25.25 0 0 0 .393-.05L24.67 9.621a1.25 1.25 0 0 1 1.709-.453z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWEncryptedBackupsCreateExtraVirtualDeviceDeferred",["FBLogger","I64","LSEncryptedBackupsCreateVirtualDeviceActionType","LSEncryptedBackupsOpStatus","LSEncryptedBackupsRecoveryCodeStatus","LSIntEnum","ReQL","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWEncryptedBackupsCreateExtraVirtualDevice").__setRef("MWEncryptedBackupsCreateExtraVirtualDeviceDeferred");function a(a){var b=a.actionType,e=b===void 0?c("LSEncryptedBackupsCreateVirtualDeviceActionType").INSERT:b,f=a.db,g=a.onFailure,k=a.onSuccess;j.onReady(function(a){c("promiseDone")(a.initializeCreateExtraVirtualDeviceStoredProcedure(f,(h||(h=d("I64"))).of_int32(e)),function(a){a=a[0];if(!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsOpStatus").SUCCESS)))return g();var b=f.tables.secure_encrypted_backups_recovery_code_status.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(f.tables.secure_encrypted_backups_recovery_code_status)),function(a){if(a==null)return;if(a.length!==1)return;a=a[0].recoveryCodeStatus;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsRecoveryCodeStatus").VALID))){b();return k()}else if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsRecoveryCodeStatus").INVALID))){b();return g()}else return})})},function(){c("FBLogger")("labyrinth_web").mustfix("Error while creating extra virtual device.");return g()})})}g.encryptedBackupsCreateExtraVirtualDeviceDeferred=a}),98);
__d("MWEncryptedBackupsGenerateRecoveryCode",["Base64Utils","I64","LSFactory","LSGenerateRecoveryCodeStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.db,e=a.virtualDeviceType;return b.runInTransaction(function(a){return c("LSGenerateRecoveryCodeStoredProcedure")(c("LSFactory")(a),{virtualDeviceType:(h||(h=d("I64"))).of_int32(e)})},"readwrite",void 0,void 0,f.id+":31").then(function(a){var b=a[0],c=a[1];a=a[2];return{recoveryCode:b,sprocResult:c,virtualDeviceId:a!=null?d("Base64Utils").fromArrayBuffer(a):void 0}})}g.encryptedBackupsGenerateRecoveryCode=a}),98);
__d("VestaBackupSecretRegister",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("E2EEBackupSecretRegisterModule").__setRef("VestaBackupSecretRegister"),i=c("requireDeferred")("VestaServerGraphQLRegisterProvider").__setRef("VestaBackupSecretRegister");async function a(a){var b=a.isAlreadyRegistered;b=b===void 0?!1:b;var c=a.environment;a=a.input;var d=await Promise.all([i.load(),h.load()]),e=d[0],f=e.beginRegister,g=e.finishRegister;e=e.initRegister;d=d[1];var j=d.registerBackupSecret;d=d.reRegisterBackupSecret;f=[{beginRegister:f,finishRegister:g,initRegister:e},a,{environment:c}];return b?d.apply(void 0,f):j.apply(void 0,f)}g.vestaBackupSecretRegister=a}),98);
__d("useCreateEncryptedBackup",["CometRelay","FBLogger","LSDataTraceCheckPoint","LSDataTraceType","LSIntEnum","MAWCurrentUser","MAWEncryptedBackupsInitializeBackupDeferred","MAWTraceUtils","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBODSEntityName.enum","MWEncryptedBackupsCreateExtraVirtualDeviceDeferred","MWEncryptedBackupsGenerateRecoveryCode","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","VestaBackupSecretRegister","cr:21222","gkx","promiseDone","requireDeferred","useLabyrinthLogging","useMWEBFlowSourceContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useCreateEncryptedBackup"),k=c("requireDeferred")("VestaDeleteAccount").__setRef("useCreateEncryptedBackup");function a(a){var e=a.backupExists,f=a.onInit,g=a.onLabyrinthError,l=a.onSuccess,m=a.onVestaError,n=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var o=a.startFlow,p=c("useMWEBFlowSourceContext")(),q=d("CometRelay").useRelayEnvironment(),r=async function(a,b,e){try{d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP),[],!1);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_INIT_BACKUP_START");await new Promise(function(b,c){return d("MAWEncryptedBackupsInitializeBackupDeferred").initializeBackupDeferred({db:n,instanceKey:e,onBackupCreationSuccess:function(){return b()},onFailure:function(){return c()},qplEventName:a})});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_INIT_BACKUP_END");c("QPLUserFlow").addPoint(a,"success_backup_initialization",{instanceKey:e});return!0}catch(f){d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],!1,f==null?void 0:f.message),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_INIT_BACKUP_FAILURE"),c("QPLUserFlow").markError(a,"failed_backup_initialization",{instanceKey:e}),c("FBLogger")("labyrinth_web").catching(f).mustfix("[labyrinth][onboarding] Error when initializing backup on device using PIN")}return!1},s=async function(a,b,e){try{d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE),[],!1);await new Promise(function(a,b){return d("MWEncryptedBackupsCreateExtraVirtualDeviceDeferred").encryptedBackupsCreateExtraVirtualDeviceDeferred({db:n,onFailure:b,onSuccess:a})});c("QPLUserFlow").addPoint(a,"success_device_verification",{instanceKey:e});return!0}catch(f){d("MAWTraceUtils").recordCheckpointForTrace(b,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],!1,f==null?void 0:f.message),c("QPLUserFlow").markError(a,"failed_device_verification",{instanceKey:e}),c("FBLogger")("labyrinth_web").catching(f).mustfix("Error when creating extra virtual device with PIN")}return!1};return async function(a,i,t){i===void 0&&(i=d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent);f==null||f();var u=d("MAWTraceUtils").startNewTrace((h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION),d("MAWTraceUtils").CONTEXT_VESTA_REGISTRATION);c("QPLUserFlow").addAnnotations(i,{string:{source:p()}},{instanceKey:t});var v;try{d("MAWTraceUtils").recordCheckpointForTrace(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE),[],!1);o({event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_RECOVERY_CODE_GENERATE_START");c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"SETUP_RECOVERY_CODE_GENERATE_START");var w=await d("MWEncryptedBackupsGenerateRecoveryCode").encryptedBackupsGenerateRecoveryCode({db:n,virtualDeviceType:2}),x=w.recoveryCode;w=w.virtualDeviceId;v=w;if(x==null||w==null){c("FBLogger")("labyrinth_web").mustfix("Cannot setup a PIN Code without a recovery code");d("MAWTraceUtils").recordFailureAndFlushForTraceId(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],"Cannot setup a PIN Code without a recovery code");c("QPLUserFlow").markError(i,"SETUP_RECOVERY_CODE_GENERATE_FAILURE",{instanceKey:t});d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorReason:"ONBOARDING_RECOVERY_CODE_GENERATE_FAILURE"}},errorName:"ONBOARDING_RECOVERY_CODE_GENERATE_FAILURE",event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});g==null||g();return}d("MAWTraceUtils").recordCheckpointForTrace(u,h.ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_CALLING_VESTA_REGISTRATION),[],!1);var y=new TextEncoder();c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_SAP_VESTA_REGISTRATION_START");c("QPLUserFlow").addPoint(i,"SETUP_SAP_VESTA_REGISTRATION_START",{instanceKey:t});await d("VestaBackupSecretRegister").vestaBackupSecretRegister({environment:q,input:{clientId:w,productUseCase:c("gkx")("24066")?"IGD_ENC_BACKUP":"MSGR_ENC_BACKUP",secret:y.encode(x),vestaAccountPin:a}});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_SAP_VESTA_REGISTRATION_END");c("QPLUserFlow").addPoint(i,"SETUP_SAP_VESTA_REGISTRATION_END",{instanceKey:t});d("MAWTraceUtils").recordCheckpointForTrace(u,h.ofNumber(c("LSDataTraceCheckPoint").SAP_VESTA_REGISTRATION_COMPLETION),[],!1);y=e?await s(i,u,t):await r(i,u,t);if(y)d("MAWTraceUtils").recordSuccessAndFlushForTraceId(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_SUCCESS),[]),j.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:n,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}))}),l&&l(),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH}),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{string:{setup_type:"pin_code"}},event:i,instanceKey:t}),b("cr:21222")==null||b("cr:21222").fireAndForget("backend","addDeviceWithPinInWorker",{recoveryCode:x,userId:d("MAWCurrentUser").getID()});else{c("QPLUserFlow").markError(i,"pin_code_create_vd_error",{instanceKey:t});d("MAWTraceUtils").recordCheckpointForTrace(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],!1,"Virtual device creation failure");c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_DELETE_VESTA_ACCOUNT_START");a=await k.load();y=a.vestaDeleteAccount;y({clientId:w,environment:q,productUseCase:"MSGR_ENC_BACKUP",updater:function(a){var b;b=(b=a.getRootField("fbid_based_auth_layer_vesta_delete_account"))==null?void 0:b.getLinkedRecord("vesta_user_info");if(b!=null){(a=a.getRoot())==null||(a=a.getLinkedRecord("viewer"))==null||(a=a.getLinkedRecord("messenger_default_encrypted_backup"))==null||(a=a.getLinkedRecord("vesta_user_info"))==null||a.copyFieldsFrom(b)}}});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,"ONBOARDING_DELETE_VESTA_ACCOUNT_END");d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorReason:"ONBOARDING_VIRTUAL_DEVICE_CREATE_FAILURE"}},errorName:"ONBOARDING_RECOVERY_CODE_GENERATE_FAILURE",event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});d("MAWTraceUtils").recordCheckpointForTrace(u,h.ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),[],!0);g==null||g()}}catch(b){if(v!=null){x=await k.load();a=x.vestaDeleteAccount;a({clientId:v,environment:q,productUseCase:"MSGR_ENC_BACKUP",updater:function(a){var b;b=(b=a.getRootField("fbid_based_auth_layer_vesta_delete_account"))==null?void 0:b.getLinkedRecord("vesta_user_info");if(b!=null){(a=a.getRoot())==null||(a=a.getLinkedRecord("viewer"))==null||(a=a.getLinkedRecord("messenger_default_encrypted_backup"))==null||(a=a.getLinkedRecord("vesta_user_info"))==null||a.copyFieldsFrom(b)}}})}c("QPLUserFlow").markError(i,"pin_code_vesta_error",{instanceKey:t});d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorReason:b.toString()}},errorName:"ONBOARDING_UNKNOWN_FAILURE",event:d("MWChatEncryptedBackupsQPLEvents").onboardingAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_ONBOARDING_AUTH});d("MAWTraceUtils").recordFailureAndFlushForTraceId(u,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_PIN_SETUP_FAILURE),[],b.toString());m==null||m();c("FBLogger")("labyrinth_web").catching(b).mustfix("[labyrinth][onboarding] Error when setting the pin code up")}}}g.default=a}),98);
__d("useMWChatEncryptedBackupsOnPinCodeSetup",["fbt","BaseToasterStateManager","FDSCheckmarkCircleFilled24Icon","FDSIcon.react","MWChatEncryptedBackupsQPLEvents","MWEBPinCodeSetupResult","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","MWXIconRefresh","MWXIconStrict.react","MessengerCheckmark.svg.react","QPLUserFlow","SVGIcon","mwPushToast","react","react-compiler-runtime","useCreateEncryptedBackup"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l=c("BaseToasterStateManager").getInstance();function a(a){var b=d("react-compiler-runtime").c(14),e=a.backupExists,f=a.onFinish,g=a.onStart,h=k(null);b[0]!==g?(a=function(){h.current=m(h),g()},b[0]=g,b[1]=a):a=b[1];var i,j,l;b[2]!==f?(i=function(){f==null||f(d("MWEBPinCodeSetupResult").CodeSetupResult.LABYRINTH_ERROR),h.current=o(h)},j=function(){f==null||f(d("MWEBPinCodeSetupResult").CodeSetupResult.SUCCESS),d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_SET_UP_IN_CURRENT_SESSION),h.current=n(h)},l=function(){f==null||f(d("MWEBPinCodeSetupResult").CodeSetupResult.VESTA_ERROR),h.current=o(h)},b[2]=f,b[3]=i,b[4]=j,b[5]=l):(i=b[3],j=b[4],l=b[5]);var p;b[6]!==e||b[7]!==a||b[8]!==i||b[9]!==j||b[10]!==l?(p={backupExists:e,onInit:a,onLabyrinthError:i,onSuccess:j,onVestaError:l},b[6]=e,b[7]=a,b[8]=i,b[9]=j,b[10]=l,b[11]=p):p=b[11];e=c("useCreateEncryptedBackup")(p);b[12]!==e?(a={onPinCodeSetup:e,showInProgressToast:function(){h.current=m(h)}},b[12]=e,b[13]=a):a=b[13];return a}function m(a){if(a.current!=null)return a.current;a=60*60*24*1e3;c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"pin_code_creation_begin_toast");return d("mwPushToast").mwPushToast({icon:{comet:j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconRefresh"),size:20}),mds:c("MWXIconRefresh").originalComponent},title:h._(/*BTDS*/"Creating your PIN\u2026")},a)}function n(a){p(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"pin_code_creation_success_toast");return d("mwPushToast").mwPushToast({icon:{comet:j.jsx(c("FDSIcon.react"),{icon:c("FDSCheckmarkCircleFilled24Icon")}),mds:d("SVGIcon").svgIcon(c("MessengerCheckmark.svg.react"))},testid:"mw-encrypted-backups-pin-code-created-toast",title:h._(/*BTDS*/"PIN created")})}function o(a){p(a);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"pin_code_creation_failed_toast");return d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"Failed to create PIN. Try again.")})}function p(a){if(a.current==null)return;l.expire(a.current);a.current=null}g["default"]=a}),226);
__d("MWEBOnboardingConfirmPINJewelStep.react",["fbt","MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBConnections4AndroidIcon.react","MWEBPinCodeSize","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconArrowLeft","MWXText.react","promiseDone","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","useMWChatEncryptedBackupsOnPinCodeSetup","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="eb-onboarding-confirm-pin-dialog-step";function a(a){var b=d("react-compiler-runtime").c(63),e=a.enteredPinCode,f=a.isChatTab,g=a.onComplete,i=a.onReturn,l=a.setIsMismatchError,m=a.subtitle;a=a.title;var n=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_CONFIRM_STEP_IMPRESSION"),o;b[0]!==g?(o={backupExists:!1,onStart:g},b[0]=g,b[1]=o):o=b[1];g=c("useMWChatEncryptedBackupsOnPinCodeSetup")(o);var p=g.onPinCodeSetup;b[2]!==i||b[3]!==l?(o=function(){l(!0),i()},b[2]=i,b[3]=l,b[4]=o):o=b[4];b[5]!==e||b[6]!==o?(g={onCodeMismatch:o,previouslyInsertedCode:e},b[5]=e,b[6]=o,b[7]=g):g=b[7];b[8]!==p?(e=function(a){c("promiseDone")(p(a,d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent))},b[8]=p,b[9]=e):e=b[9];b[10]!==g||b[11]!==e?(o={checkPreviouslyInsertedCode:g,focusRegionId:k,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onComplete:e,type:"pin"},b[10]=g,b[11]=e,b[12]=o):o=b[12];g=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(o);e=g[0];o=g[1];g=o.invalidKeyPressedError;o=f?"small":"large";var q;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Back"),b[13]=q):q=b[13];b[14]!==i?(q={align:"start",item:j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconArrowLeft"),label:q,onPress:i,size:32})},b[14]=i,b[15]=q):q=b[15];var r;b[16]!==n?(r=d("xplatToDOMRef").xplatToDOMRef(n),b[16]=n,b[17]=r):r=b[17];n=f?"small":"large";var s;b[18]!==n?(s=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWEBConnections4AndroidIcon.react"),{size:n})}),b[18]=n,b[19]=s):s=b[19];n=f?0:20;var t=f?0:20,u;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x78zum5 x141feeh"},b[20]=u):u=b[20];var v=f?0:20,w=f?0:8,x;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"xpvyfi4 x3ajldb"},b[21]=x):x=b[21];b[22]!==a?(x=j.jsx("div",babelHelpers["extends"]({},x,{children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a})})),b[22]=a,b[23]=x):x=b[23];b[24]!==v||b[25]!==w||b[26]!==x?(a=j.jsx("div",babelHelpers["extends"]({},u,{children:j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:v,paddingTop:w,verticalAlign:"bottom",children:x})})),b[24]=v,b[25]=w,b[26]=x,b[27]=a):a=b[27];b[28]!==n||b[29]!==t||b[30]!==a?(u=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:n,paddingTop:t,children:a}),b[28]=n,b[29]=t,b[30]=a,b[31]=u):u=b[31];v=f?0:16;w=f?0:12;b[32]!==m?(x=j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:m}),b[32]=m,b[33]=x):x=b[33];b[34]!==w||b[35]!==x?(n=j.jsx(c("MWXColumnItem.react"),{paddingVertical:w,children:x}),b[34]=w,b[35]=x,b[36]=n):n=b[36];b[37]!==v||b[38]!==n?(t=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:v,paddingTop:20,children:n}),b[37]=v,b[38]=n,b[39]=t):t=b[39];a=f?12:20;m=f?0:8;w=f?"tiny":"small";b[40]!==e||b[41]!==g||b[42]!==w?(x=j.jsx(c("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react"),babelHelpers["extends"]({error:g,isMessenger:!1},e,{inputSize:w})),b[40]=e,b[41]=g,b[42]=w,b[43]=x):x=b[43];b[44]!==m||b[45]!==x?(v=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:m,children:x}),b[44]=m,b[45]=x,b[46]=v):v=b[46];b[47]!==a||b[48]!==v?(n=j.jsx(c("MWXColumnItem.react"),{paddingTop:a,children:v}),b[47]=a,b[48]=v,b[49]=n):n=b[49];b[50]!==f?(e=f?null:j.jsx(c("MWXColumn.react"),{paddingVertical:20,children:j.jsx(c("MWXColumnItem.react"),{paddingTop:12,children:j.jsx("div",{className:"xx9tyur"})})}),b[50]=f,b[51]=e):e=b[51];b[52]!==r||b[53]!==s||b[54]!==u||b[55]!==t||b[56]!==n||b[57]!==e?(g=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,ref:r,children:[s,u,t,n,e]}),b[52]=r,b[53]=s,b[54]=u,b[55]=t,b[56]=n,b[57]=e,b[58]=g):g=b[58];b[59]!==g||b[60]!==o||b[61]!==q?(w=j.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:o,topItem:q,children:g}),b[59]=g,b[60]=o,b[61]=q,b[62]=w):w=b[62];return w}g["default"]=a}),226);
__d("MWEncryptedBackupsCreateExtraVirtualDevice",["LSCreateExtraVirtualDeviceStoredProcedure","LSFactory"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.runInTransaction(function(a){return c("LSCreateExtraVirtualDeviceStoredProcedure")(c("LSFactory")(a),{actionType:b})},"readwrite",void 0,void 0,f.id+":24")}g.initializeCreateExtraVirtualDeviceStoredProcedure=a}),98);
__d("MWFDSRefresh.svg.react",["cr:21756"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21756")}),98);
__d("VestaDeleteAccountMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23902987852620802"}),null);
__d("VestaDeleteAccountMutation.graphql",["VestaDeleteAccountMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"delete_account_request",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaDeleteAccountMutation",selections:[{alias:null,args:c,concreteType:"VestaDeleteAccountResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_delete_account",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaDeleteAccountMutation",selections:[{alias:null,args:c,concreteType:"VestaDeleteAccountResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_delete_account",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("VestaDeleteAccountMutation_facebookRelayOperation"),metadata:{},name:"VestaDeleteAccountMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaDeleteAccount",["CometRelay","VestaDeleteAccountMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.clientId,e=a.environment,f=a.optimisticUpdater,g=a.productUseCase;a=a.updater;var i=h!==void 0?h:h=b("VestaDeleteAccountMutation.graphql");return d("CometRelay").commitMutation(e,{mutation:i,optimisticUpdater:f,updater:a,variables:{input:{fbid:c,product_use_case:g,vesta_client_api_version:6}}})}g.vestaDeleteAccount=a}),98);
__d("VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9596958053703216"}),null);
__d("VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql",["VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_register_request",variableName:"input"}],concreteType:"VestaBeginRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_register",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_r2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_challenge",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_r2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",selections:c},params:{id:b("VestaServerGraphQLRegisterProviderBeginRegisterMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderBeginRegisterMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9551173398333326"}),null);
__d("VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql",["VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"finish_register_request",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"register_success",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",selections:[{alias:null,args:c,concreteType:"VestaFinishRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_register",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",selections:[{alias:null,args:c,concreteType:"VestaFinishRegisterResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_register",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"hsm_virtual_device",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("VestaServerGraphQLRegisterProviderFinishRegisterMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderFinishRegisterMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10088892487810238"}),null);
__d("VestaServerGraphQLRegisterProviderInitQuery.graphql",["VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_register_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLRegisterProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLRegisterProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLRegisterProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLRegisterProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLRegisterProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql","VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql","VestaServerGraphQLRegisterProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLRegisterProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_register_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLRegisterProviderBeginRegisterMutation.graphql"),g={input:{base64url_encoded_opaque_r1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueR1),fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_register;var e=c==null?void 0:c.base64url_encoded_opaque_r2,f=c==null?void 0:c.base64url_encoded_opaque_challenge;c=c==null?void 0:c.base64url_encoded_opaque_r2_sig;if(e!=null&&f!=null&&c!=null){a({opaqueR2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueChallenge:d("E2EEBackupUtil").decodeBase64Url(f),opaqueR2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLRegisterProviderFinishRegisterMutation.graphql"),variables:{input:{base64url_encoded_enc_reg_payload:d("E2EEBackupUtil").encodeBase64Url(a.encRegPayload),fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}},onCompleted:function(a){a=(a=a.fbid_based_auth_layer_vesta_finish_register)==null?void 0:a.register_success;if(a!=null){c({registerSuccess:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initRegister=a;g.beginRegister=c;g.finishRegister=e}),98);/*FB_PKG_DELIM*/
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("ChatMuteStore",[],(function(a,b,c,d,e,f){"use strict";b={EightHours:288e5,FifteenMinutes:9e5,Indefinitely:-1,OneDay:864e5,OneHour:36e5};c={Both:"bothMuteScope",Call:"callMuteScope",Message:"messageMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("CommunityMessagingEnableState",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:1,DISABLE_REQUESTED:2,DISABLING:3,DISABLED:4,DISABLE_FAILED:5});f["default"]=a}),66);
__d("FBIconArrowLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M100.655 923.405a.75.75 0 0 0-1.06-1.06l-3.125 3.125a.75.75 0 0 0 0 1.06l3.125 3.125a.75.75 0 0 0 1.06-1.06L98.061 926l2.594-2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105 925.25h-7.688a.75.75 0 1 0 0 1.5H105a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconArrowRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.345 928.595a.75.75 0 0 0 1.06 1.06l3.125-3.125a.75.75 0 0 0 0-1.06l-3.125-3.125a.75.75 0 0 0-1.06 1.06l2.594 2.595-2.594 2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M97 926.75h7.688a.75.75 0 1 0 0-1.5H97a.75.75 0 1 0 0 1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconBellNullCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.33 1076.878 2.524-2.525a.5.5 0 0 0-.707-.707l-2.323 2.323a3.606 3.606 0 0 0-1.838-1.322c.006-.048.014-.096.014-.147a1 1 0 0 0-2 0c0 .05.008.099.015.148-1.432.435-2.509 1.801-2.646 3.526l-.04.906c0 .273-.243.607-.502.96-.372.508-.834 1.14-.827 1.963.003.385.175.887.589 1.201l-1.442 1.442a.5.5 0 1 0 .707.707l1.853-1.853h.024l6.605-6.606-.007-.016m.141 6.622c1.115 0 1.526-.895 1.53-1.495.007-.824-.455-1.457-.827-1.965-.258-.353-.502-.686-.503-.981l-.04-.903c-.003-.043-.01-.083-.015-.126l-5.47 5.47h5.325zm-1.92 1h-3.1a.203.203 0 0 0-.138.352c.435.4 1.031.648 1.688.648s1.253-.247 1.687-.648a.204.204 0 0 0-.137-.352"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconGroupFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPushpinFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(c){return a[0]===void 0||a[0]===!0?b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()}):b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSSearchClearTablesStoredProcedure";a.__tables__=["search_queries","server_search_sections","server_search_results","message_search_results"];e.exports=a}),null);
__d("LSClearTablesStoredProcedure",["LSClearTables","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSClearTables"),e.clearMessageResults);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSForceImmediateSync"),e.dbType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticFetchPendingGroupInvite",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("link_hash",a[0]),d[0].set("image_width",a[1]),d[0].set("image_height",a[2]),d[0].set("has_vanity_name",!1),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_pending_group_invite",c.i64.cast([0,434]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(235).put({linkHash:a[0],threadTitle:"",lastThreadActivityMs:c.i64.cast([0,0]),groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:c.i64.cast([0,0]),joinExplainerText:"",numberOfMembers:c.i64.cast([0,0]),isInApprovalQueue:!1,isSubscribed:!1,canJoin:!1,fbGroupDescription:"",communityImageUrl:"",communityImageUrlFallback:"",communityImageUrlExpirationTimestampMs:c.i64.cast([0,0]),linkJoinType:c.i64.cast([0,1]),fbGroupVisibility:c.i64.cast([0,1]),communityId:c.i64.cast([0,0])})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticFetchPendingGroupInviteStoredProcedure";a.__tables__=["group_invitations_pending"];e.exports=a}),null);
__d("LSOptimisticFetchPendingGroupInviteStoredProcedure",["LSOptimisticFetchPendingGroupInvite","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticFetchPendingGroupInvite"),e.linkHash,e.imageWidth,e.imageHeight);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticMarkThreadReadV2"),e.threadKey,e.readWatermarkTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useMAWUnrecoverableDbError",["MAWUnrecoverableDbErrors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("MAWUnrecoverableDbErrors").getError(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("MAWUnrecoverableDbErrors").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);return c}g["default"]=a}),98);
__d("useWAExceededStorageQuota",["MAWUnrecoverableDbErrors","WAExceededStorageQuota","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;var j=b.useState;function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("WAExceededStorageQuota").getExceededStorageQuota(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("WAExceededStorageQuota").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);a[3]!==c?(b=c?new(d("MAWUnrecoverableDbErrors").WAExceededStorageQuotaError)():null,a[3]=c,a[4]=b):b=a[4];f=b;return f}g["default"]=a}),98);
__d("MAWUnrecoverableErrorBoundary.react",["react","react-compiler-runtime","useMAWUnrecoverableDbError","useWAExceededStorageQuota"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.fallback;var f=c("useMAWUnrecoverableDbError")(),g=c("useWAExceededStorageQuota")();f=f!=null?f:g;if(f!=null&&a!=null){b[0]!==f||b[1]!==a?(g=a(f),b[0]=f,b[1]=a,b[2]=g):g=b[2];return g}else return e}g["default"]=a}),98);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("getLSMediaCommunityFolderPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.pictureUrlFallback:a.pictureUrl}g["default"]=a}),98);
__d("MWCMThreadPictureCustomThreadCommunity.react",["BaseView.react","CometHeroHoldTrigger.react","FDSProfilePhoto_EXPERIMENTAL.react","MWXGlimmer.react","getLSMediaCommunityFolderPictureUrl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={base:{height:"x1auzw0x",position:"x10l6tqk",width:"xqu606t",$$css:!0},circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},community:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x13vifvy",$$css:!0},glimmer:{borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",height:"x5yr21d",width:"xh8yej3",$$css:!0},rounded:{borderStartStartRadius:"x1fuqvrd",borderStartEndRadius:"xmvrd30",borderEndEndRadius:"xt2fmn5",borderEndStartRadius:"xkn4fgx",$$css:!0},thread:{backgroundColor:"x1jx94hy",borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",bottom:"x1ey2m1c",boxSizing:"x1afcbsf",insetInlineStart:"x1o0tod",left:null,right:null,marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.community,f=a.photoSize;a=a.threadPictureUrl;var g;b[0]!==e?(g=c("getLSMediaCommunityFolderPictureUrl")(e),b[0]=e,b[1]=g):g=b[1];e=g;b[2]!==f?(g={height:f,width:f},b[2]=f,b[3]=g):g=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=[j.base,j.community],b[4]=f):f=b[4];b[5]!==e?(f=i.jsx(c("BaseView.react"),{xstyle:f,children:e==null?i.jsxs(i.Fragment,{children:[i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmer,j.rounded]}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWCMThreadPictureCustomThreadCommunity",hold:!0})]}):i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"rounded",size:"fill",source:e})}),b[5]=e,b[6]=f):f=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.base,j.thread,j.circle],b[7]=e):e=b[7];b[8]!==a?(e=i.jsx(c("BaseView.react"),{xstyle:e,children:i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"circle",size:"fill",source:a})}),b[8]=a,b[9]=e):e=b[9];b[10]!==g||b[11]!==f||b[12]!==e?(a=i.jsxs(c("BaseView.react"),{role:"img",style:g,children:[f,e]}),b[10]=g,b[11]=f,b[12]=e,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("MWFDSArrowLeft.svg.react",["cr:21539"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21539")}),98);
__d("MWFDSArrowRight.svg.react",["cr:21541"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21541")}),98);
__d("MWFDSBellCross.svg.react",["cr:21563"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21563")}),98);
__d("MWFDSPushpin.svg.react",["cr:21750"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21750")}),98);
__d("MWFacepile.react",["CometHeroHoldTrigger.react","FDSFacepilePhoto.react","MWXGlimmer.react","UNTRANSLATED_STRING_FIXME","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","translatedServerString","useMWFacepileGetContactsToShow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.actualBadge,f=a.ariaHidden,g=a.label,h=a.onlyAuthoratitiveContacts,k=a.photoSize,l=a.threadKey,m=a.threadType;a=a.withAltText;k=k===void 0?32:k;var n=a===void 0?!0:a;a=c("useMWFacepileGetContactsToShow")(l,m,h);if(a.length!==0){b[0]!==g||b[1]!==n?(l=n===!0&&g!=null?c("UNTRANSLATED_STRING_FIXME")(g):void 0,b[0]=g,b[1]=n,b[2]=l):l=b[2];if(b[3]!==a||b[4]!==n){b[6]!==n?(m=function(a){return{alt:n?c("translatedServerString")(a.name):void 0,disabled:!1,source:c("getLSMediaContactProfilePictureUrl")(a)}},b[6]=n,b[7]=m):m=b[7];h=a.map(m);b[3]=a;b[4]=n;b[5]=h}else h=b[5];b[8]!==e||b[9]!==f||b[10]!==a.length||b[11]!==k||b[12]!==l||b[13]!==h?(g=i.jsx(c("FDSFacepilePhoto.react"),{ariaHidden:f,badge:e,label:l,size:k,sources:h,totalItems:a.length}),b[8]=e,b[9]=f,b[10]=a.length,b[11]=k,b[12]=l,b[13]=h,b[14]=g):g=b[14];return g}b[15]!==k?(m={height:k,width:k},b[15]=k,b[16]=m):m=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmer}),f=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWFacepile photo",hold:!0}),b[17]=e,b[18]=f):(e=b[17],f=b[18]);b[19]!==m?(a=i.jsxs("div",{style:m,children:[e,f]}),b[19]=m,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1});c=a;f["default"]=c}),66);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){return k(e,a)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return d("Int64Hooks").useCallbackInt64(f,g)}g.sync=k;g.useSync=a}),98);
__d("MWReQLCMThreadPictureCustomThreadCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.photoSize,g=a.thread;a=a.threadPictureUrl;var i=(h||(h=c("useReStore")))(),k;b[0]!==i.tables.community_folders||b[1]!==g.parentThreadKey?(k=function(){return d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(g.parentThreadKey)},b[0]=i.tables.community_folders,b[1]=g.parentThreadKey,b[2]=k):k=b[2];var l;b[3]!==i||b[4]!==g.parentThreadKey?(l=[i,g.parentThreadKey],b[3]=i,b[4]=g.parentThreadKey,b[5]=l):l=b[5];k=d("ReQLSuspense").useFirst(k,l,f.id+":25");l=k==null?void 0:k.pictureUrl;var m=k==null?void 0:k.pictureUrlExpirationTimestampMs;k=k==null?void 0:k.pictureUrlFallback;var n;b[6]!==l||b[7]!==m||b[8]!==k?(n={pictureUrl:l,pictureUrlExpirationTimestampMs:m,pictureUrlFallback:k},b[6]=l,b[7]=m,b[8]=k,b[9]=n):n=b[9];b[10]!==e||b[11]!==n||b[12]!==a?(l=j.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:n,photoSize:e,threadPictureUrl:a}),b[10]=e,b[11]=n,b[12]=a,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MWReQLFacepile.react",["MWFacepile.react","MWFacepileBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.ariaHidden,f=a.badge,g=a.badgeSize,h=a.borderThemeColor,j=a.label,k=a.onlyAuthoratitiveContacts,l=a.photoSize,m=a.showBadge,n=a.thread;a=a.withAltText;k=k===void 0?!1:k;l=l===void 0?32:l;m=m===void 0?!0:m;a=a===void 0?!0:a;var o;b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==m||b[4]!==n.threadKey?(o=m?f!=null?f:i.jsx(c("MWFacepileBadge.react"),{borderThemeColor:h,size:g,threadKey:n.threadKey}):null,b[0]=f,b[1]=g,b[2]=h,b[3]=m,b[4]=n.threadKey,b[5]=o):o=b[5];f=o;b[6]!==f||b[7]!==e||b[8]!==j||b[9]!==k||b[10]!==l||b[11]!==n.threadKey||b[12]!==n.threadType||b[13]!==a?(g=i.jsx(c("MWFacepile.react"),{actualBadge:f,ariaHidden:e,label:j,onlyAuthoratitiveContacts:k,photoSize:l,threadKey:n.threadKey,threadType:n.threadType,withAltText:a}),b[6]=f,b[7]=e,b[8]=j,b[9]=k,b[10]=l,b[11]=n.threadKey,b[12]=n.threadType,b[13]=a,b[14]=g):g=b[14];return g}g["default"]=a}),98);
__d("MWThreadPictureCustomThread.react",["FDSFacepilePhoto.react","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","react-compiler-runtime","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(40),e=a.badge,g=a.badgeSize,i=a.borderThemeColor,k=a.photoSize,l=a.shape,m=a.showBadge,n=a.thread,o=a.threadPictureUrl;a=a.withAltText;var p=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor(),r;b[0]!==p.tables.contacts||b[1]!==p.tables.participants||b[2]!==n.threadKey?(r=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(n.threadKey),d("ReQL").fromTableAscending(p.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(d("MWPGetThreadTitle").amountToFetchForTitle)},b[0]=p.tables.contacts,b[1]=p.tables.participants,b[2]=n.threadKey,b[3]=r):r=b[3];var s;b[4]!==p||b[5]!==n.threadKey?(s=[p,n.threadKey],b[4]=p,b[5]=n.threadKey,b[6]=s):s=b[6];r=d("ReQLSuspense").useArray(r,s,f.id+":39");var t,u,v,w;if(b[7]!==q||b[8]!==e||b[9]!==g||b[10]!==i||b[11]!==r||b[12]!==k||b[13]!==l||b[14]!==m||b[15]!==n.threadKey||b[16]!==n.threadType||b[17]!==a){s=d("MWPGetThreadTitle").computeThreadTitle(void 0,n.threadType,r.slice(0,d("MWPGetThreadTitle").amountToFetchForTitle),q);var x;b[24]!==e||b[25]!==g||b[26]!==i||b[27]!==m||b[28]!==n.threadKey?(x=m===!0?e!=null?e:j.jsx(c("MWFacepileBadge.react"),{borderThemeColor:i,size:g,threadKey:n.threadKey}):null,b[24]=e,b[25]=g,b[26]=i,b[27]=m,b[28]=n.threadKey,b[29]=x):x=b[29];x=x;t=c("FDSFacepilePhoto.react");x=x;u=a===!0&&s!=null?c("translatedServerString")(s):void 0;v=l;w=k;s=a===!0&&s!=null?c("translatedServerString")(s):void 0;b[7]=q;b[8]=e;b[9]=g;b[10]=i;b[11]=r;b[12]=k;b[13]=l;b[14]=m;b[15]=n.threadKey;b[16]=n.threadType;b[17]=a;b[18]=t;b[19]=s;b[20]=x;b[21]=u;b[22]=v;b[23]=w}else t=b[18],s=b[19],x=b[20],u=b[21],v=b[22],w=b[23];b[30]!==s||b[31]!==o?(q=[{alt:s,disabled:!1,source:o}],b[30]=s,b[31]=o,b[32]=q):q=b[32];b[33]!==t||b[34]!==x||b[35]!==u||b[36]!==v||b[37]!==w||b[38]!==q?(e=j.jsx(t,{badge:x,label:u,shape:v,size:w,sources:q,totalItems:1}),b[33]=t,b[34]=x,b[35]=u,b[36]=v,b[37]=w,b[38]=q,b[39]=e):e=b[39];return e}g["default"]=a}),98);
__d("MWThreadPicture.react",["MWReQLCMThreadPictureCustomThreadCommunity.react","MWReQLFacepile.react","MWThreadPictureCustomThread.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","mwCMIsAnyCMThread","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(4),e=a.withCommunityPicture;if(e===!0){b[0]!==a?(e=j.jsx(c("MWReQLCMThreadPictureCustomThreadCommunity.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(e=j.jsx(c("MWThreadPictureCustomThread.react"),babelHelpers["extends"]({},a)),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=d("react-compiler-runtime").c(27),e=a.ariaHidden,g=a.badge,i=a.badgeSize,m=a.onlyAuthoratitiveContacts,n=a.photoSize,o=a.showBadge,p=a.showFacepiles,q=a.threadKey,r=a.threadTitle,s=a.withAltText;a=a.withCommunityPicture;m=m===void 0?!1:m;o=o===void 0?!0:o;p=p===void 0?!1:p;s=s===void 0?!0:s;a=a===void 0?!1:a;var t=(h||(h=c("useReStore")))(),u;b[0]!==t.tables.threads||b[1]!==q?(u=function(){return d("ReQL").fromTableAscending(t.tables.threads,["parentThreadKey","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadName","threadType"]).getKeyRange(q)},b[0]=t.tables.threads,b[1]=q,b[2]=u):u=b[2];var v;b[3]!==t||b[4]!==q?(v=[t,q],b[3]=t,b[4]=q,b[5]=v):v=b[5];u=d("ReQLSuspense").useFirst(u,v,f.id+":62");if(u==null)return null;v=c("mwCMIsAnyCMThread")(u.threadType);o=o&&!v;b[6]!==u?(v=c("getLSMediaThreadPictureUrl")(u),b[6]=u,b[7]=v):v=b[7];v=v;if(v!=null&&p!==!0){b[8]!==g||b[9]!==i||b[10]!==n||b[11]!==o||b[12]!==u||b[13]!==v||b[14]!==s||b[15]!==a?(p=j.jsx(l,{badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,photoSize:n,showBadge:o,thread:u,threadPictureUrl:v,withAltText:s,withCommunityPicture:a}),b[8]=g,b[9]=i,b[10]=n,b[11]=o,b[12]=u,b[13]=v,b[14]=s,b[15]=a,b[16]=p):p=b[16];return p}v=r!=null?r:u.threadName;b[17]!==e||b[18]!==g||b[19]!==i||b[20]!==m||b[21]!==n||b[22]!==o||b[23]!==v||b[24]!==u||b[25]!==s?(a=j.jsx(c("MWReQLFacepile.react"),{ariaHidden:e,badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,label:v,onlyAuthoratitiveContacts:m,photoSize:n,showBadge:o,thread:u,withAltText:s}),b[17]=e,b[18]=g,b[19]=i,b[20]=m,b[21]=n,b[22]=o,b[23]=v,b[24]=u,b[25]=s,b[26]=a):a=b[26];return a}g["default"]=a}),98);
__d("MWXButtonGroup.react",["cr:20121","cr:227","cr:5028","cr:6106","cr:8931","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["icon","loading","type"],i=["icon","loading"],j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(41),f=a.align,g=a.direction,j=a.expanding,l=a.paddingHorizontal,m=a.primary,n=a.secondary;g=g===void 0?"backward":g;j=j===void 0?!1:j;l=l===void 0?0:l;a=b("cr:20121")("primary",a.primary.disabled);if(b("cr:6106")!=null&&b("cr:8931")!=null){var o,p,q,r;e[0]!==m?(q=m.icon,o=m.loading,r=m.type,p=babelHelpers.objectWithoutPropertiesLoose(m,h),e[0]=m,e[1]=o,e[2]=p,e[3]=q,e[4]=r):(o=e[1],p=e[2],q=e[3],r=e[4]);r=r==="destructive"?"fdsOverride_negative":r;var s=l===10?8:l,t=f!=null?f:"end",u;e[5]!==o||e[6]!==a?(u=o===!0?a!=null?a:k.jsx(b("cr:8931"),{color:c("gkx")("13045")?"dark":"disabled_DEPRECATED",size:16}):void 0,e[5]=o,e[6]=a,e[7]=u):u=e[7];q=(o=q)==null?void 0:o.component;e[8]!==p||e[9]!==u||e[10]!==q||e[11]!==r?(o=babelHelpers["extends"]({},p,{addOnPrimary:u,icon:q,type:r}),e[8]=p,e[9]=u,e[10]=q,e[11]=r,e[12]=o):o=e[12];if(e[13]!==n){u=n!=null?babelHelpers["extends"]({},n,{icon:(p=n.icon)==null?void 0:p.component,reduceEmphasis:!0,type:"secondary"}):null;e[13]=n;e[14]=u}else u=e[14];e[15]!==g||e[16]!==j||e[17]!==s||e[18]!==t||e[19]!==o||e[20]!==u?(q=k.jsx(b("cr:6106"),{align:t,direction:g,expanding:j,paddingHorizontal:s,primary:o,secondary:u}),e[15]=g,e[16]=j,e[17]=s,e[18]=t,e[19]=o,e[20]=u,e[21]=q):q=e[21];return q}if(b("cr:227")!=null&&b("cr:5028")!=null){e[22]!==m?(r=m.icon,p=m.loading,j=babelHelpers.objectWithoutPropertiesLoose(m,i),e[22]=m,e[23]=p,e[24]=j,e[25]=r):(p=e[23],j=e[24],r=e[25]);e[26]!==p||e[27]!==a?(s=p===!0?a!=null?a:k.jsx(b("cr:5028"),{color:"grey",size:24}):void 0,e[26]=p,e[27]=a,e[28]=s):s=e[28];o=(t=r)==null?void 0:t.originalComponent;e[29]!==j||e[30]!==s||e[31]!==o?(u=babelHelpers["extends"]({},j,{addOnStart:s,icon:o}),e[29]=j,e[30]=s,e[31]=o,e[32]=u):u=e[32];if(e[33]!==n){m=n!=null?babelHelpers["extends"]({},n,{icon:(q=n.icon)==null?void 0:q.originalComponent}):null;e[33]=n;e[34]=m}else m=e[34];e[35]!==f||e[36]!==g||e[37]!==l||e[38]!==u||e[39]!==m?(p=k.jsx(b("cr:227"),{align:f,direction:g,paddingHorizontal:l,primary:u,secondary:m}),e[35]=f,e[36]=g,e[37]=l,e[38]=u,e[39]=m,e[40]=p):p=e[40];return p}return null}g["default"]=a}),98);
__d("MWXCardedDialogLoadingState.react",["cr:9908","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9908")}),98);
__d("MWXIconBellCross",["MWXSvgIcon","SVGIcon","cr:22224","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22224")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:22450","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22450")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXScrollableAreaStyles",["MDSScrollableAreaStyles"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSScrollableAreaStyles")}),98);
__d("MWXTheme.react",["cr:7379","cr:7380","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["displayMode"],i,j=i||d("react");function a(a){var c=a.displayMode;a=babelHelpers.objectWithoutPropertiesLoose(a,h);if(b("cr:7380")!=null)return j.jsx(b("cr:7380"),babelHelpers["extends"]({displayMode:c},a));return b("cr:7379")!=null?j.jsx(b("cr:7379"),babelHelpers["extends"]({theme:c},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingCommunityChatsPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,PAUSED_BY_SOFT_ACTION:2,PAUSED_BY_ADMINLESS_STANDALONE_COMMUNITY:3,DEPRECATED:4});f["default"]=a}),66);
__d("MessengerDesktopDeeplinkEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856945");b=d("FalcoLoggerInternal").create("messenger_desktop_deeplink_event",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPresenceInfo",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__fb_messenger_desktop_presence_info";function a(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();return JSON.parse((a=a==null?void 0:a.getItem(i))!=null?a:"null")}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a==null){c("FBLogger")("desktop_messenger_deeplink_presence","local_storage_not_found").warn("Messenger Desktop Presence Token cannot be created if local storage doesn't exist");return null}var b={lastActiveTimestamp:Date.now()};a=h.setItemGuarded(a,i,JSON.stringify(b));a!=null&&c("FBLogger")("desktop_messenger_deeplink_presence","create_presence_info_error").warn(a.toString());return b}g.getPresenceInfo=a;g.createPresenceInfo=b}),98);
__d("MessengerDesktopLocalServerRequest",["ConstUriUtils","MessengerDesktopPresenceInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3;a=function(){function a(a,b){var c=this;this.$1=function(){c.request.status===200&&d("MessengerDesktopPresenceInfo").createPresenceInfo()};b="http://localhost:"+b+a;this.uri=(a=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.toString())!=null?a:b;this.request=new XMLHttpRequest();this.request.timeout=h;this.request.onloadend=this.$1}var b=a.prototype;b.setOnLoadEndHandler=function(a){var b=this;this.request.onloadend=function(){b.$1(),a(b.request.status)};return this};b.setErrorHandler=function(a){var b=this;this.request.onerror=function(){b.request.status===500&&d("MessengerDesktopPresenceInfo").createPresenceInfo(),a(b.request.status)};return this};b.setTimeoutHandler=function(a){this.request.ontimeout=a;return this};b.send=function(){this.request.open("GET",this.uri),this.request.send()};return a}();g["default"]=a}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744027");b=d("FalcoLoggerInternal").create("messenger_desktop_promo",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1,is_mcom_redirect:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerDesktopDeepLinkUtils",["fbt","MessengerDesktopDeeplinkEventFalcoEvent","MessengerDesktopLocalServerRequest","MessengerDesktopPresenceInfo","MessengerDesktopPromoEventLogger","Promise","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","gkx","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(j||d("react")).useCallback;var k="messenger",l=3103,m=1e3*60*60*24*28,n="https://www.messenger.com/desktop/";function a(a){return k+"://room?joinurl="+a}function e(a){return new(i||(i=b("Promise")))(function(b){new(c("MessengerDesktopLocalServerRequest"))("/ping",a).setOnLoadEndHandler(function(a){return b(a)}).setTimeoutHandler(function(a){return b(!1)}).setErrorHandler(function(a){return b(!1)}).send()})}function f(){var a=d("MessengerDesktopPresenceInfo").getPresenceInfo();return a==null?!1:Date.now()-a.lastActiveTimestamp<=m}function o(){var a=c("gkx")("23666"),b=c("gkx")("23667");if(b){b=c("gkx")("23668");return a||b}else return a}function p(){return c("gkx")("23669")}function q(){if(c("gkx")("23670")||!o())return!1;switch(s()){case"Windows":return!1;case"Mac":return c("gkx")("23671");default:return!1}}var r={openMessengerForDesktop:h._(/*BTDS*/"Open Messenger for Desktop"),openMessengerForMac:h._(/*BTDS*/"Open Messenger for Mac"),openMessengerForWindows:h._(/*BTDS*/"Open Messenger for Windows"),tryMessengerForDesktop:h._(/*BTDS*/"Try Messenger for Desktop"),tryMessengerForMac:h._(/*BTDS*/"Try Messenger for Mac"),tryMessengerForWindows:h._(/*BTDS*/"Try Messenger for Windows")};function s(){if(c("UserAgent").isPlatform("Windows"))return"Windows";else if(c("UserAgent").isPlatform("Mac OS X"))return"Mac";return"Desktop"}function t(a){return(a=c("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:a}).setDomain("www.messenger.com"))==null||(a=a.setProtocol("https"))==null?void 0:a.toString()}function u(a){return(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri(a).setDomain("messenger.com"))==null||(a=a.setProtocol("https"))==null?void 0:a.toString()}function v(){var a=o()?"open":"try",b=s();return r[a+"MessengerFor"+b]}function w(a){var b;return o()?(b=u(a))!=null?b:n:(b=t(a.funnel_session_id))!=null?b:n}function x(a,b){var e=d("react-compiler-runtime").c(9),f;e[0]!==a||e[1]!==b?(f={onImpressionStart:function(){d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b})}},e[0]=a,e[1]=b,e[2]=f):f=e[2];f=c("useSinglePartialViewImpression")(f);var g;e[3]!==a||e[4]!==b?(g=function(){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b})},e[3]=a,e[4]=b,e[5]=g):g=e[5];g=g;var h;e[6]!==g||e[7]!==f?(h=[g,f],e[6]=g,e[7]=f,e[8]=h):h=e[8];return h}function y(a,b){var e=d("react-compiler-runtime").c(10),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=o(),e[0]=f):f=e[0];var g=f;e[1]!==a||e[2]!==b?(f={onImpressionStart:function(){if(!g){d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b});return}c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:a,mobile_app_source:"unknown"}})}},e[1]=a,e[2]=b,e[3]=f):f=e[3];f=c("useSinglePartialViewImpression")(f);var h;e[4]!==a||e[5]!==b?(h=function(){if(!g){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b});return}c("MessengerDesktopDeeplinkEventFalcoEvent").log(function(){return{event:"open_messenger_app_link_click",eventLocation:"browser",eventType:"thread",funnelSessionId:a,mobile_app_source:"unknown"}})},e[4]=a,e[5]=b,e[6]=h):h=e[6];h=h;var i;e[7]!==h||e[8]!==f?(i=[h,f],e[7]=h,e[8]=f,e[9]=i):i=e[9];return i}g.PORT=l;g.getRoomDeepLink=a;g.isMessengerDesktopRunning=e;g.isMessengerDesktopProbablyInstalled=f;g.isMessengerDesktopDeeplinkEligible=o;g.isMessengerDesktopPromoEligible=p;g.isMessengerDesktopDeeplinkEnabled=q;g.getDownloadURI=t;g.getDeeplinkButtonLabel=v;g.getDeeplinkButtonURI=w;g.useMessengerDesktopPromoEventLogger=x;g.useMessengerDesktopPromoOrDeeplinkEventLogger=y}),226);
__d("MessengerMuteUtils",["fbt","ChatMuteStore","DateStrings","I64","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){if(a<=0){if(a===d("ChatMuteStore").ChatMuteOptions.Indefinitely)return h._(/*BTDS*/"Off indefinitely");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._(/*BTDS*/"Off until {time} tomorrow",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._(/*BTDS*/"Off until {time}",[h._param("time",c("formatDate")(a,"g:ia"))]):h._(/*BTDS*/"Off until {time} {weekday name}",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._(/*BTDS*/"Chat notifications");function b(a,b){if(a==null)return b===!0?h._(/*BTDS*/"Mute this sidechat?"):h._(/*BTDS*/"Mute conversation");switch(a.type){case"messageMuteScope":return h._(/*BTDS*/"Mute message notifications");case"callMuteScope":return h._(/*BTDS*/"Mute call notifications");case"bothMuteScope":return h._(/*BTDS*/"Mute message and call notifications")}}function e(a){var b=a.muteCallsExpireTimeMs;a=a.muteExpireTimeMs;var c=Math.min((i||(i=d("I64"))).to_float(a),i.to_float(b));a=Math.max(i.to_float(a),i.to_float(b));return c===-1?-1:a}g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.muteDialogTitle=b;g.calcMuteUntilMs=e}),226);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=d("react-compiler-runtime").c(10),g=a.entrypoint;a=a.query;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),j=(k||(k=c("useReStore")))();e[0]!==j||e[1]!==(i==null?void 0:i.viewer.backup_state)?(a=function(){return(i==null?void 0:i.viewer.backup_state)==null?d("ReQL").fromTableAscending(j.tables.secure_encrypted_backups_client_state).filter(l):d("ReQL").empty()},e[0]=j,e[1]=i==null?void 0:i.viewer.backup_state,e[2]=a):a=e[2];var m=i==null?void 0:i.viewer.backup_state,n;e[3]!==j||e[4]!==m?(n=[j,m],e[3]=j,e[4]=m,e[5]=n):n=e[5];m=d("ReQLSuspense").useArray(a,n,f.id+":57");a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();n=a.shouldHideEBFlow;a=c("useMAWHasUserVisibleErrors")();n=n||a;if(!c("isMWEBEntrypointEnabled")(g))return 0;e[6]!==m||e[7]!==n||e[8]!==i?(a=(i==null?void 0:i.viewer.backup_state)!=null?i.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:m,hasArmadilloError:n,xfb_backup:i==null?void 0:i.xfb_backup}),e[6]=m,e[7]=n,e[8]=i,e[9]=a):a=e[9];return a}function l(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("react-compiler-runtime").c(13),e=a.threadKey,g=a.threadName,j=a.threadType,k=d("MWPActor.react").useActor(),l=(i||(i=c("useReStore")))();b[0]!==l.tables.contacts||b[1]!==l.tables.participants||b[2]!==e?(a=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(l.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(e),d("ReQL").fromTableAscending(l.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},b[0]=l.tables.contacts,b[1]=l.tables.participants,b[2]=e,b[3]=a):a=b[3];var m;b[4]!==l||b[5]!==e?(m=[l,e],b[4]=l,b[5]=e,b[6]=m):m=b[6];var n=d("ReQLSuspense").useArray(a,m,f.id+":37");b[7]!==k||b[8]!==n||b[9]!==g||b[10]!==j?(a=function(){var a=g;if(a!=null)return h._(/*BTDS*/"Conversation titled {name of conversation}",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,j,n,k))!=null?a:"";return h._(/*BTDS*/"Conversation with {participant list}",[h._param("participant list",a)])},m=[g,j,n,k],b[7]=k,b[8]=n,b[9]=g,b[10]=j,b[11]=a,b[12]=m):(a=b[11],m=b[12]);return d("Int64Hooks").useMemoInt64(a,m)}g["default"]=a}),226);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b=c("getRequestConstUri")();b=c("isMessengerDotComURI")(b)||c("isFacebookMessengerInboxURI")(b);a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRouteParams").useRouteParams();b=b.focus_target;if(b!=null){b=Number(b);if(a[0]!==b){var e;e=(e=c("MWInboxFocusTarget").cast(b))!=null?e:0;a[0]=b;a[1]=e}else e=a[1];return e}return 0}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,i);var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}function i(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["FBLogger","I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","cr:2580","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a,e){var g,j=d("react-compiler-runtime").c(5),k=(h||(h=c("useReStore")))(),l=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Tried to get a thread key when there was none");var m=c("MessengerWebUXLogger").useInteractionLogger();j[0]!==k||j[1]!==a||j[2]!==m||j[3]!==l?(g=function(){m==null||m({eventName:"mark_thread_as_read"}),c("promiseDone")(k.runInTransaction(async function(e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(l));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:l,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:l})}},"readwrite",void 0,void 0,f.id+":54"))},j[0]=k,j[1]=a,j[2]=m,j[3]=l,j[4]=g):g=j[4];return g}g.default=a}),98);
__d("useMWXButtonSpinner",["fbt","FDSProgressRing.react","MWXSpinner.react","MWXTheme.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react");function k(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=c("MWXTheme.react")!=null?j.jsx(c("MWXTheme.react"),{displayMode:"dark",children:a}):null,b[0]=a,b[1]=e):e=b[1];return e}function a(a,b,e){var f=d("react-compiler-runtime").c(8);e=e===36;e=c("FDSProgressRing.react")!=null&&e?20:16;if(b===!0){f[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Loading..."),f[0]=b):b=f[0];f[1]!==e?(b=j.jsx(c("FDSProgressRing.react"),{"aria-label":b,color:"disabled",duration:2,size:e,type:"estimated"}),f[1]=e,f[2]=b):b=f[2];return b}b=c("gkx")("13045")&&a!=="secondary"?k:j.Fragment;f[3]!==e?(a=j.jsx(c("MWXSpinner.react"),{color:"dark",size:e}),f[3]=e,f[4]=a):a=f[4];f[5]!==b||f[6]!==a?(e=j.jsx(b,{children:a}),f[5]=b,f[6]=a,f[7]=e):e=f[7];return e}g["default"]=a}),226);
__d("useOpenThreadAfterJoin",["I64","MWLSThreadDisplayContext","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWChatOpenTabForGroup","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMWChatOpenTabForGroup")("jewel"),e=b[0],f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("useAsyncReStore")(),h=c("useMWNavigation")();a[0]!==g||a[1]!==f||a[2]!==h||a[3]!==e?(b=function(a){if(f==="ChatTab"){e(a);return}c("promiseDone")(g,function(b){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(a))),function(b){b!=null&&h.openInbox({clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(a),threadType:b.threadType},"deepLink")})})},a[0]=g,a[1]=f,a[2]=h,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("usePublicChatShortlinkCallback",["ConstUriUtils","I64","JSResourceForInteraction","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");b.useCallback;var l=b.useEffect,m=b.useRef,n=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("usePublicChatShortlinkCallback");function o(a){a=d("ConstUriUtils").getUri(a);if(a!=null&&a.isSubdomainOfDomain("m.me")){var b;a=a==null||(b=a.getPath())==null?void 0:b.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}function a(a){var b=d("react-compiler-runtime").c(6),e=a.onSuccess,g=m(!1),k=m(),p=m(),q=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(n);var r=a[0],s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return function(){k.current==null||k.current(),p.current==null||p.current()}},s=[],b[0]=a,b[1]=s):(a=b[0],s=b[1]);l(a,s);b[2]!==q||b[3]!==e||b[4]!==r?(a=function(a){var b=o(a);b!=null&&(c("promiseDone")(q.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:b})},"readwrite",void 0,void 0,f.id+":85")),k.current=d("ReQL").fromTableAscending(q.tables.group_invitations_pending).getKeyRange(b).subscribe(function(a,c){if(c.operation!=="delete"){var f=c.value;if(f!=null&&f.isSubscribed&&(f==null?void 0:f.threadId)!=null){e==null||e((i||(i=d("I64"))).to_string(f.threadId));return}else if((f==null?void 0:f.linkJoinType)!=null&&(i||(i=d("I64"))).equal(f==null?void 0:f.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(6))&&(f==null?void 0:f.threadId)!=null){e==null||e((i||(i=d("I64"))).to_string(f==null?void 0:f.threadId));return}(f==null?void 0:f.threadTitle.length)>0&&!g.current&&(g.current=!0,r({linkHash:b,onClick:function(){Boolean(f.needsAdminApprovalForNewParticipant)||(p.current=d("ReQL").fromTableAscending(q.tables.threads).subscribe(function(a,c){c.operation!=="delete"&&(c.value.threadInviteLink!=null&&o(c.value.threadInviteLink)===b&&(e==null||e((i||(i=d("I64"))).to_string(c.value.threadKey)),p.current==null||p.current()))}))}},function(){g.current=!1}),k.current==null||k.current())}}))},b[2]=q,b[3]=e,b[4]=r,b[5]=a):a=b[5];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDSTextConfig",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}};b={disabledButton:{color:"x1x80s81",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0}};d={blueLink:{color:"x15k1xyk",$$css:!0},disabled:{color:"xc7hbz8",$$css:!0},highlight:{color:"x16uf79r",$$css:!0},negative:{color:"x1unwjcu",$$css:!0},positive:{color:"xxmynsg",$$css:!0},primary:{color:"xw2npq5",$$css:!0},primaryOnMedia:{color:"x8w7gz1",$$css:!0},secondary:{color:"xhgddhk",$$css:!0},secondaryOnMedia:{color:"xzutexd",$$css:!0},tertiary:{color:"xerl464",$$css:!0},white:{color:"xnba3h0",$$css:!0}};var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={"default":function(a){switch(a){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(a){switch(a){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}};e=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[h.segoe,i.segoe];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[h.apple,c("UserAgent").isEngine("Gecko")?i.sfGecko:i.sfWebkit]:[h["default"],i["default"]]}();f=e[0];e=e[1];var j={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}},k=c("gkx")("5751");b={colors:{blueLink:k?d.blueLink:a.blueLink,disabled:k?d.disabled:a.disabled,disabledButton:b.disabledButton,highlight:k?d.highlight:a.highlight,negative:k?d.negative:a.negative,positive:k?d.positive:a.positive,primary:k?d.primary:a.primary,primaryButton:b.primaryButton,primaryDeemphasizedButton:b.primaryDeemphasizedButton,primaryOnMedia:k?d.primaryOnMedia:void 0,secondary:k?d.secondary:a.secondary,secondaryButton:b.secondaryButton,secondaryOnMedia:k?d.secondaryOnMedia:a.secondaryOnMedia,tertiary:k?d.tertiary:a.tertiary,white:k?d.white:a.white},defaultFontFamily:f,offsets:e,styles:{body1:{lineHeight:24,style:j.body1},body2:{lineHeight:20,style:j.body2},body3:{lineHeight:19.9995,style:j.body3},body4:{lineHeight:16,style:j.body4},bodyLink1:{lineHeight:24,style:j.bodyLink1},bodyLink2:{lineHeight:20,style:j.bodyLink2},bodyLink3:{lineHeight:19.9995,style:j.bodyLink3},bodyLink4:{lineHeight:16,style:j.bodyLink4},button1:{lineHeight:20,style:j.button1},button2:{lineHeight:19.9995,style:j.button2},entityHeaderHeadline1:{lineHeight:38,style:j.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:j.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:j.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:j.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:j.entityHeaderMeta3},headline3:{lineHeight:20,style:j.headline3},headline4:{lineHeight:19.9995,style:j.headline4},headlineEmphasized1:{lineHeight:28,style:j.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:j.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:j.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:j.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:j.headlineEmphasized5},meta1:{lineHeight:16,style:j.meta1},meta2:{lineHeight:16,style:j.meta2},meta3:{lineHeight:16,style:j.meta3},meta4:{lineHeight:15,style:j.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:j.body2ForDenseMode},body3:{lineHeight:20,style:j.body3ForDenseMode},body4:{lineHeight:16,style:j.body4ForDenseMode},bodyLink2:{lineHeight:20,style:j.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:j.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:j.bodyLink4ForDenseMode},button1:{lineHeight:18,style:j.button1ForDenseMode},button2:{lineHeight:18,style:j.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:j.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:j.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:j.headline3ForDenseMode},headline4:{lineHeight:20,style:j.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:j.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:j.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:j.meta1ForDenseMode},meta2:{lineHeight:14,style:j.meta2ForDenseMode},meta3:{lineHeight:14,style:j.meta3ForDenseMode},meta4:{lineHeight:15,style:j.meta4ForDenseMode}}};k=b;g["default"]=k}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(a,b,c,d,e,f,g){"use strict";function a(){}e=(d=b("cr:2099"))!=null?d:{useTranslationKeyForTextParent:a};var h=e.useTranslationKeyForTextParent;function c(){return h()}g["default"]=c}),98);
__d("MDSTextImpl.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","JSResourceForInteraction","MDSTextConfig","react","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo;e=c("JSResourceForInteraction")("MDSTooltipImpl.react").__setRef("MDSTextImpl.react");var l=d("BaseText.react").createBaseTextComponent(c("MDSTextConfig"),e),m={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},n={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function o(a,b){return b?(b=n[a])!=null?b:a:a}var p=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];function a(a){var b=a.ref,e=a.align;e=e===void 0?"auto":e;var f=a.children,g=a.color,h=a.dir;h=h===void 0?"auto":h;var n=a.id,q=a.isPrimaryHeading;q=q===void 0?!1:q;var r=a.isSemanticHeading;r=r===void 0?!1:r;var s=a.numberOfLines,t=a.showTruncationTooltip;t=t===void 0?!0:t;var u=a.testid;u=a.truncationTooltip;var v=a.type;a=k(function(){return p.includes(v)?"secondary":"primary"},[v]);g=o(g!=null?g:a,v==="button1"||v==="button2");a=c("useXPlatReactTranslationKeyForTextParent")();var w=d("BaseTextContext").useBaseTextContext(),x=j(c("CometDensityModeContext"));x=x[0];w=(w==null?void 0:w.nested)===!0;e=i.jsx(l,{alignment:e!=null?e:void 0,colorName:g,dir:w?void 0:h,id:n,isDenseModeEnabled:x,lines:s||0,ref:d("xplatToDOMRef").xplatToDOMRef(b),styleName:v,testid:void 0,truncationTooltip:t?{tooltip:u!=null?u:f}:void 0,xstyle:m.text,children:f},a);return r||q?i.jsx(c("BaseHeading.react"),{isPrimaryHeading:q,xstyle:m.heading,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";a.displayName="MDSText";g["default"]=a}),98);
__d("MDSText.react",["MDSTextImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=j.jsx(c("MDSTextImpl.react"),babelHelpers["extends"]({ref:f},e)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSButtonImpl.react",["BaseStyledButton.react","BaseTheme.react","CometContainerPressableContext","FDSIcon.react","MDSText.react","emptyFunction","gkx","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["addOnStart","disabled","icon","isContainerTarget","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"],j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useEffect,n=b.useRef,o={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"x1f3278h",$$css:!0},secondaryDeemphasized_DEPRECATED:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x1fgtraw",$$css:!0}},p={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},q={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},r={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function s(a){switch(a){case"secondary":return r;case"destructive":case"primary":default:return q}}function t(a,b){var c=b.disabled;b=b.reduceEmphasis;a=s(a);return(c?a[":disabled"]:null)||(b?a[":deemphasized"]:null)||a}function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=a.addOnStart,e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.isContainerTarget,j=g===void 0?!1:g;g=a.label;var q=a.labelIsHidden;q=q===void 0?!1:q;var r=a.linkProps,s=a.onFocusIn,u=a.onFocusOut,v=a.onHoverIn,w=a.onHoverOut,x=a.onPress,y=a.onPressIn,z=a.onPressOut,A=a.padding;A=A===void 0?"normal":A;var B=a.reduceEmphasis;B=B===void 0?!1:B;var C=a.size;C=C===void 0?32:C;var D=a.suppressHydrationWarning;D=D===void 0?!1:D;var E=a.testid;E=a.type;E=E===void 0?"primary":E;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var F=t(E,{disabled:e,reduceEmphasis:B}),G=F.iconColor;F=F.textColor;var H=n(null),I=n(null),J=l(c("CometContainerPressableContext"));m(function(){j&&J&&J.onMount({onContextMenu:c("emptyFunction"),onPress:function(a){a=H.current;a&&a.click()},target:r==null?void 0:r.target,url:r==null?void 0:r.url},I)},[J,j,r==null?void 0:r.url,r==null?void 0:r.target]);return k.jsx(c("BaseTheme.react"),{config:c("gkx")("5751")?void 0:p,style:{width:"100%"},children:k.jsx(c("BaseStyledButton.react"),babelHelpers["extends"]({},a,{addOnStart:d,"aria-label":(d=a["aria-label"])!=null?d:g,content:q?null:k.jsx(c("MDSText.react"),{color:F,numberOfLines:1,type:"button2",children:g}),contentXstyle:[C===28&&o.sizeSmall,C===32&&o.sizeMedium,C===36&&o.sizeLarge],disabled:e,icon:f==null?null:k.jsx(c("FDSIcon.react"),{color:G,icon:f,size:24}),linkProps:r,onFocusIn:s,onFocusOut:u,onHoverIn:v,onHoverOut:w,onPress:x,onPressIn:y,onPressOut:z,padding:A,ref:c("mergeRefs")(H,b),suppressHydrationWarning:D,testid:void 0,xstyle:[E==="primary"&&o.primary,E==="secondary"&&o.secondary,E==="destructive"&&o.destructive,E==="secondary"&&B?c("gkx")("5751")?o.secondaryDeemphasized:o.secondaryDeemphasized_DEPRECATED:null,E==="primary"&&B&&o.primaryDeemphasized,e&&o.disabled]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSButton.react",["MDSButtonImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=j.jsx(c("MDSButtonImpl.react"),babelHelpers["extends"]({ref:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"],i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;var l={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(43),e,f,g,i,p,q,r,s,u,v,w,x;b[0]!==a?(i=a.ref,p=a.align,e=a.children,q=a.expanding,r=a.hasDividers,s=a.paddingHorizontal,f=a.paddingTop,u=a.paddingVertical,v=a.spacing,w=a.verticalAlign,x=a.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=p,b[6]=q,b[7]=r,b[8]=s,b[9]=u,b[10]=v,b[11]=w,b[12]=x):(e=b[1],f=b[2],g=b[3],i=b[4],p=b[5],q=b[6],r=b[7],s=b[8],u=b[9],v=b[10],w=b[11],x=b[12]);a=p===void 0?null:p;p=q===void 0?!1:q;q=r===void 0?!1:r;r=s===void 0?null:s;s=u===void 0?0:u;u=v===void 0?null:v;v=w===void 0?"top":w;w=k(c("MDSColumnContext"));var y;b[13]!==a||b[14]!==q||b[15]!==r||b[16]!==u?(y={align:a,hasDividers:q,paddingHorizontal:r,spacing:u},b[13]=a,b[14]=q,b[15]=r,b[16]=u,b[17]=y):y=b[17];a=y;q=a;b[18]!==p?(r=p===!0&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],b[18]=p,b[19]=r):r=b[19];u=n[s];y=f!=null&&m[f];b[20]!==r||b[21]!==u||b[22]!==y||b[23]!==x?(a=[l.root,r,u,y,x],b[20]=r,b[21]=u,b[22]=y,b[23]=x,b[24]=a):a=b[24];s=v!=="top"&&o[v];b[25]!==s?(f=[l.inner,s],b[25]=s,b[26]=f):f=b[26];b[27]!==e?(r=t(e),b[27]=e,b[28]=r):r=b[28];b[29]!==q||b[30]!==r?(u=j.jsx(c("MDSColumnContext").Provider,{value:q,children:r}),b[29]=q,b[30]=r,b[31]=u):u=b[31];b[32]!==f||b[33]!==u?(y=j.jsx(c("BaseView.react"),{xstyle:f,children:u}),b[32]=f,b[33]=u,b[34]=y):y=b[34];b[35]!==g||b[36]!==i||b[37]!==a||b[38]!==y?(x=j.jsx(c("BaseView.react"),babelHelpers["extends"]({},g,{ref:i,xstyle:a,children:y})),b[35]=g,b[36]=i,b[37]=a,b[38]=y,b[39]=x):x=b[39];v=x;if(w!=null){s=p!=null?p:void 0;b[40]!==v||b[41]!==s?(e=j.jsx(c("MDSColumnItem.react"),{expanding:s,children:v}),b[40]=v,b[41]=s,b[42]=e):e=b[42];return e}return v}e=a;var p={isFirst:!0,isLast:!1},q={isFirst:!1,isLast:!0},r={isFirst:!0,isLast:!0},s={isFirst:!1,isLast:!1};function t(a){return j.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?r:e?p:d?q:s;return j.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=e}),98);
__d("MDSPressable.react",["CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["overlayRadius","ref"],i,j=i||d("react"),k={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};function l(a){switch(a){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return void 0}}function a(a){var b=d("react-compiler-runtime").c(10),e,f,g;b[0]!==a?(f=a.overlayRadius,g=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);b[4]!==f?(a=l(f),b[4]=f,b[5]=a):a=b[5];b[6]!==e||b[7]!==g||b[8]!==a?(f=j.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayFocusVisibleStyle:k.hover,overlayHoveredStyle:k.hover,overlayRadius:a,ref:g},e)),b[6]=e,b[7]=g,b[8]=a,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9685249484907022"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:c},params:{id:b("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,d,e){return new(i||(i=b("Promise")))(function(f,g){var i;b("cr:1012418").commitMutation(a,{mutation:h!==void 0?h:h=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b,c,d,e,h=a==null||(b=a.create_video_meetup_link)==null||(b=b.meetup_link)==null?void 0:b.is_audio_only,i=a==null||(c=a.create_video_meetup_link)==null||(c=c.meetup_link)==null?void 0:c.link_url,j=a==null||(d=a.create_video_meetup_link)==null||(d=d.meetup_link)==null?void 0:d.link_hash;a=a==null||(e=a.create_video_meetup_link)==null||(e=e.meetup_link)==null?void 0:e.id;return i!=null&&j!=null&&h!=null?f({isAudioOnly:h,linkHash:j,linkId:a,linkUrl:i}):g({error:"Failed to create linkurl."})},onError:function(a){g(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{availability_settings_options:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?{join_permission:d==null?void 0:d.joinPermission,visibility_mode:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}:void 0,chat_mode:(i=d==null?void 0:d.chatMode)!=null?i:null,is_audio_only:(i=d==null?void 0:d.isAudioOnly)!=null?i:null,is_live_enabled:(i=d==null?void 0:d.isLiveEnabled)!=null?i:null,is_room_join_requestable:(i=d==null?void 0:d.joinRequestable)!=null?i:null,link_surface:(i=d==null?void 0:d.linkSurface)!=null?i:c("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(i=d==null?void 0:d.revocationBehavior)!=null?i:null,should_allow_anonymous_guests:(i=d==null?void 0:d.allowAnonymousGuests)!=null?i:!0,supports_pages:(i=d==null?void 0:d.supportsPages)!=null?i:!1,supports_profile_plus:(i=d==null?void 0:d.supportsProfilePlus)!=null?i:!1,visibility_mode:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?void 0:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}}}})})}g["default"]=a}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;a=d("ConstUriUtils").getUri(a);var c=a==null?void 0:a.getDomain();a=a==null||(b=a.stripTrailingSlash())==null?void 0:b.getPath();if(a==null)return null;if(c==="msngr.com")return a.substring(1);var e=/^\/v(id)?\//;if(c==="m.me"&&e.test(a))return a.replace(e,"");c=/^\/groupcall\/LINK:/;return c.test(a)?a.replace(c,""):null}g.getRoomsLinkHash=a}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(d("Random").uint32()+1)}g.generateZenonClientSessionID=a}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonOpeningAnotherCallError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonConferenceNameMutationFailedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonIncompleteControllerParamsError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonUnsupportedThreadTypeError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonCannotAcceptInviteError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="ZenonInviteNotFoundError",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}babelHelpers.inheritsLoose(a,b);return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){function a(){var a;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(a=b.call.apply(b,[this].concat(d))||this,a.name="ZenonUninitializedError",babelHelpers.assertThisInitialized(a))||babelHelpers.assertThisInitialized(a)}babelHelpers.inheritsLoose(a,b);return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=6,j=36,k=2176782336;function a(){var a="";for(var b=0;b<h;b++){var c=Math.floor(d("Random").random()*k).toString(j);while(c.length<i)c="0"+c;a+=c}return a}g["default"]=a}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","gkx","nullthrows","randomZenonNonce"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var e=a.callInviteModel;a=a.callWindowController;var f=e.getCurrentInvite();if(f===null)throw new(d("ZenonCallWindowErrors").InviteNotFoundError)();if(f.type!=="ringing"||f.context.type!=="thread")throw new(d("ZenonCallWindowErrors").CannotAcceptInviteError)();var g=c("randomZenonNonce")(),h=f.context.thread;a=a.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},hideE2eeAttributions:b,isE2eeMandated:f.isE2eeMandated,joinContext:{thread:h!=null?h:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g,representedID:f.receiverUserId});b=a[0];h=a[1];e.accept(g,{isPopupBlocked:b===null});await h}async function b(a,b,e,f,g,h){h===void 0&&(h={allowAnonymousGuests:!c("gkx")("20836")});if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();j(g,e,f).setEvent("meetup_attempt_create_meetup").log();try{a=await c("MessengerCreateVideoMeetupLinkMutation")(b,h,g);b=a.linkUrl;if(b!=null){j(g,e,f).setEvent("meetup_create_success").setVideoCallLinkURLRaw(b).log();return b}else j(g,e,f).setEvent("meetup_create_failed").log();return b}catch(a){j(g,e,f).setEvent("meetup_create_failed").log();j(g,e,f).setEvent("error").setErrorType("LinkCreationError "+a.name).setErrorDetails(a.description).log();throw a}}async function e(a){var b=a.actorID,e=a.callback_users,f=a.context,g=a.forceSkipChildLobby;g=g===void 0?!1:g;var j=a.funnelSessionID;j=j===void 0?null:j;var k=a.hasVideo;k=k===void 0?!0:k;var l=a.linkUrl,m=a.referrerContext;m=m===void 0?null:m;var n=a.skipLinkUrlRewrite;n=n===void 0?!1:n;var o=a.startCallImmediately;o=o===void 0?!1:o;a=a.trigger;if(f===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var p=f.callWindowController;f=f.incomingRingSDK;var q=c("randomZenonNonce")(),r=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),s=l;if(!n){n=(n=d("ConstUriUtils").getUri(l))==null?void 0:n.getQueryParam("funnel_session_id");l=h(l);s=i(l,o?q:null,e,n!=null?String(n):j,g,m,b,a,k)}if(s==null)return Promise.reject("An invalid URI was provided");l=p.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:r},joinContext:{linkUrl:s,type:"link"},mediaType:"video",nonce:q,representedID:d("ZenonActorHooks").ZenonActor.getID()});o=l[0];e=l[1];f.startCallIntent(q,{callTrigger:a!=null?a:"meetup_join",isE2eeMandated:!1,isPopupBlocked:o===null,isVideo:k,peerID:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:r});await e}async function f(a,b){var e=b.existingCall,f=b.extra,g=b.hideE2eeAttributions,h=b.invitees,i=b.isE2eeMandated,j=b.mediaType,k=b.representedID,l=b.thread;b=b.trigger;if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var m=a.callWindowController;a=a.incomingRingSDK;var n=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),o=c("randomZenonNonce")();m=m.initCall({context:{existingCall:e,intent:"start or join",invitees:h,signalingID:n},extra:f,hideE2eeAttributions:g,isE2eeMandated:i,joinContext:{thread:l,type:"thread"},mediaType:j,nonce:o,representedID:k!=null?k:d("ZenonActorHooks").ZenonActor.getID()});e=m[0];h=m[1];a.startCallIntent(o,{callTrigger:b,isE2eeMandated:i!=null?i:!1,isPopupBlocked:e===null,isVideo:j==="video",peerID:l.type===1?l.id:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:n});await h}function h(a){var b=d("RoomsLinkUtils").getRoomsLinkHash(a);b==null&&c("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return b}function i(a,b,d,e,f,g,h,i,j){if(a==null)return"";a={call_context:"LINK:"+a,call_trigger:i!=null?i:"",has_video:j,users_to_ring:d!=null?d:[]};b!=null&&(a.nonce=b);e!=null&&(a.funnel_session_id=e);f===!0&&(a.auto_join=!0);g!=null&&(a.referrer_context=g);h!=null&&(a.av=h);return c("nullthrows")(c("XGroupCallControllerRouteBuilder").buildUri(a).getQualifiedUri()).toString()}function j(a,b,d){return new(c("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(b).setComponent(d)}g.acceptCall=a;g.createMeetup=b;g.joinMeetup=e;g.startCall=f}),98);
__d("useZenonCallInvite",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c;b[0]!==a?(c=function(){return a?a.getCurrentInvite():null},b[0]=a,b[1]=c):c=b[1];c=j(c);var e=c[0],f=c[1],g;b[2]!==a?(c=function(){if(a){var b=a.addListener("callInvite",f);return function(){b.remove()}}else f(null)},g=[a],b[2]=a,b[3]=c,b[4]=g):(c=b[3],g=b[4]);i(c,g);return e}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","react-compiler-runtime","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");j.useCallback;var k=j.useContext,l=j.useDebugValue,m=j.useEffect,n=6e4;function a(a){function b(b){var c=d("react-compiler-runtime").c(3),e=k(a),f;c[0]!==e||c[1]!==b?(f=function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(e,b)},c[0]=e,c[1]=b,c[2]=f):f=c[2];return f}return b}function e(a){function b(){var b=k(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);l(b);return b}return b}function f(a,b){return function(e,f,g){function h(){var h=d("react-compiler-runtime").c(6),i=k(a),j=e(),l=f(),m=g(),n=b(),o;h[0]!==i||h[1]!==j||h[2]!==l||h[3]!==m||h[4]!==n?(o=function(a){if(!c("gkx")("24231"))return;var b=a.existingCall,d=a.thread;if(!i||!i.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))m(a);else bb8:switch(d.type){case 1:c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[d.id]})));break bb8;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break bb8;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?j(a,function(b){c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:b})))}):c("gkx")("13856")?l(a,function(){c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[]})))}):c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[]})));break bb8;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},h[0]=i,h[1]=j,h[2]=l,h[3]=m,h[4]=n,h[5]=o):o=h[5];return o}return h}}function o(a,b){function c(){var c=d("react-compiler-runtime").c(4),e=k(a),f=b(),g,h;c[0]!==e||c[1]!==f?(g=function(){if(e&&f&&f.type==="ringing"){var a=window.setTimeout(function(){e.callInviteModel.decline("NoAnswerTimeout")},n);return function(){window.clearTimeout(a)}}},h=[e,f],c[0]=e,c[1]=f,c[2]=g,c[3]=h):(g=c[2],h=c[3]);m(g,h)}return c}function p(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a){var e=a.existingCall,g=a.extra,i=a.hideE2eeAttributions,j=a.invitees,k=a.isE2eeMandated,l=a.mediaType,m=a.representedID,n=a.thread;a=a.trigger;return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve():d("ZenonPreCallHookBuilderHelper").startCall(f,{existingCall:e,extra:g,hideE2eeAttributions:i,invitees:j,isE2eeMandated:k,mediaType:l,representedID:m,thread:n,trigger:a})},e[0]=f,e[1]=g):g=e[1];return g}return e}function q(a){function e(){var e=d("react-compiler-runtime").c(3),f=k(a),g=d("CometRelay").useRelayEnvironment(),i;e[0]!==f||e[1]!==g?(i=function(a,e,i,j){return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(f,g,a,e,i,j)},e[0]=f,e[1]=g,e[2]=i):i=e[2];return i}return e}function r(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a,e){e=e===void 0?{}:e;if(!c("gkx")("24231"))return(h||(h=b("Promise"))).resolve();e=e!=null?e:{};var g=e.actorID,i=e.callbackUsers,j=e.mediaType,k=e.referrerContext,l=e.startCallImmediately;e=e.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:i,context:f,forceSkipChildLobby:!1,hasVideo:j!=null?j==="video":!0,linkUrl:a,referrerContext:k,startCallImmediately:l,trigger:e})},e[0]=f,e[1]=g):g=e[1];return g}return e}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=o;g.createStartCallCallbackHook=p;g.createCreateMeetupCallbackHook=q;g.createJoinMeetupCallbackHook=r}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";e=(a=d("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(b=c("RTWebPreCallContext"));f=a.createCallInviteHook(b);d=a.createNoAnswerTimeoutHook(b,f);c=a.createStartCallCallbackHook(b);var h=a.createCreateMeetupCallbackHook(b),i=a.createJoinMeetupCallbackHook(b);a=a.createInviteAndStartCallCallbackHookFactory(b,c);g.useAcceptCallCallback=e;g.useCallInvite=f;g.useNoAnswerTimeout=d;g.useStartCallCallback=c;g.useCreateMeetupCallback=h;g.useJoinMeetupCallback=i;g.createInviteAndStartCallCallbackHook=a}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("ZenonProductConnectFunnel",["FBLogger","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){return Math.trunc((h||(h=c("performanceNow")))())};a=function(){function a(){this.$6=null,this.$7=null,this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$8=new Map(),this.$9=new Map()}var b=a.prototype;b.$10=function(a){var b=this.$8.get(a);if(b!=null)return b;b={acceptedTs:this.$3,connectedTs:null,connectingTs:null,contactingTs:null,endCallTs:null,permissionsReceivedTs:this.$5,permissionsRequestTs:this.$4,ringingTs:this.$2,triggeredTs:this.$1};var c={cameraPermission:this.$6,microphonePermission:this.$7};this.clearPreJoinTimings();this.$8.set(a,b);this.$9.set(a,c);return b};b.$11=function(a,b){var d;a=a==null||(d=a.getLogIdentifiers())==null?void 0:d.clientSessionID;if(a==null){c("FBLogger")("rtc_www").warn("ProductConnectFunnel: could not record UI event due to missing signaling ID");return}a=this.$10(a);if(a[b]!=null)return;a[b]=i()};b.getTimings=function(a){return this.$8.get(a)};b.getPreJoinTimings=function(){return{acceptedTs:this.$3,ringingTs:this.$2,triggeredTs:this.$1}};b.clearPreJoinTimings=function(){this.$3=null,this.$2=null,this.$1=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null};b.setPreJoinTimings=function(a){this.$3=a.acceptedTs,this.$2=a.ringingTs,this.$1=a.triggeredTs};b.getAnnotations=function(a){return this.$9.get(a)};b.remove=function(a){this.clearPreJoinTimings(),this.$8["delete"](a),this.$9["delete"](a)};b.setUITriggered=function(){var a;(a=this.$1)!=null?a:this.$1=i()};b.setUIPermissionsRequest=function(){var a=this;if(this.$4!=null)return;this.$4=i();c("promiseDone")(navigator.permissions.query({name:"microphone"}).then(function(b){a.$7=b.state}));c("promiseDone")(navigator.permissions.query({name:"camera"}).then(function(b){a.$6=b.state}))};b.setUIPermissionsReceived=function(){var a;(a=this.$5)!=null?a:this.$5=i()};b.setUIAccepted=function(){var a;(a=this.$3)!=null?a:this.$3=i()};b.setUIConnected=function(a){this.$11(a,"connectedTs")};b.setUIConnecting=function(a){this.$11(a,"connectingTs")};b.setUIRinging=function(){var a;(a=this.$2)!=null?a:this.$2=i()};b.setUIContacting=function(a){this.$11(a,"contactingTs")};b.setUIEnded=function(a){this.$11(a,"endCallTs")};return a}();b=new a();g["default"]=b}),98);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);
__d("useGroupCallBlockedUserWarningInterstitial",["I64","JSResourceForInteraction","MAWMiActMappingTableAPI","Promise","ReQL","WAJids","nullthrows","react","react-compiler-runtime","useBlockedUserInterstitial","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;var l=function(a,c,e){return c===!0?a.runInTransaction(function(a){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,d("WAJids").unsafeCoerceToChatJid(e+"@g.us"))},"readonly",void 0,void 0,f.id+":41"):(i||(i=b("Promise"))).resolve((j||(j=d("I64"))).of_string(e))};function m(a,b,e){return d("useBlockedUserInterstitial").getBlockedUserQuery(a,b,c("nullthrows")(e)).then(function(a){return a==null?[]:d("ReQL").toArrayAsync(a).then(function(a){return a})})}function a(){var a=d("react-compiler-runtime").c(6),b=(h||(h=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWReceivedGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),a[0]=e):e=a[0];e=c("useMWXLazyDialog")(e);var f=e[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),a[1]=e):e=a[1];e=c("useMWXLazyDialog")(e);var g=e[0];a[2]!==b||a[3]!==g||a[4]!==f?(e=function(a){var d=a.callType,e=a.isE2eeMandated,h=a.onContinue,i=a.threadID,j=a.threadType;l(b,e,i).then(function(a){return a==null?h():m(b,a,c("nullthrows")(j)).then(function(b){if(b.length===0)return h();d==="start"?g({blockedUsers:b,onContinue:h,threadKey:a}):f({blockedUsers:b,onContinue:h,threadKey:a})})})},a[2]=b,a[3]=g,a[4]=f,a[5]=e):e=a[5];return e}g.fetchThreadKeyFromID=l;g.getBlockedUsers=m;g.useGroupCallBlockedUserWarningInterstitial=a}),98);/*FB_PKG_DELIM*/
__d("E2EEMessagingLinkContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=e({inThread:!1,isSecure:!1});function a(a){var b=d("react-compiler-runtime").c(6),c=a.children,e=a.inThread;a=a.isSecure;var f;b[0]!==e||b[1]!==a?(f={inThread:e,isSecure:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];e=f;a=e;b[3]!==c||b[4]!==a?(f=i.jsx(k.Provider,{value:a,children:c}),b[3]=c,b[4]=a,b[5]=f):f=b[5];return f}function b(){return j(k)}g.E2EEMessagingLinkContext=k;g.E2EEMessagingLinkProvider=a;g.useE2EEMessagingLink=b}),98);
__d("FBIconDots3HorizontalOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMessagePointQuery"),e.threadKey,e.messageId,e.threadType,e.numContextMessages);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWEBRestoreDialogWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23945042468436790"}),null);
__d("MWEBRestoreDialogWrapperQuery$Parameters",["MWEBRestoreDialogWrapperQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEBRestoreDialogWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWEBRestoreDialogWrapperQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MAWEncryptedBackupsRestoreDialog.entrypoint",["JSResourceForInteraction","MWEBRestoreDialogWrapperQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWEBRestoreDialogWrapperQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWEBRestoreDialogWrapper.react").__setRef("MAWEncryptedBackupsRestoreDialog.entrypoint")};g["default"]=a}),98);
__d("MAWWasmFeatureSupport",["Promise","react","react-compiler-runtime","wasm-feature-detect"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");var j=c.useEffect,k=c.useState,l=null;function a(){var a=d("react-compiler-runtime").c(2),c=k(l),e=c[0],f=c[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){(h||(h=b("Promise"))).all([d("wasm-feature-detect").bulkMemory(),d("wasm-feature-detect").bigInt(),d("wasm-feature-detect").referenceTypes()]).then(function(a){var b=a[0],c=a[1];a=a[2];f({bigInt:c,bulkMemory:b,referenceTypes:a});l={bigInt:c,bulkMemory:b,referenceTypes:a}})},g=[f],a[0]=c,a[1]=g):(c=a[0],g=a[1]);j(c,g);return e}g.useWasmFeatureSupport=a}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9783648461697001"}),null);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch",PINNED_MESSAGES:"pinned_messages",BUMP_MESSAGES:"bump_messages",SIDEBAR_SETTINGS_PRIVACY_MENU:"sidebar_settings_privacy_menu"});c=a;f["default"]=c}),66);
__d("MWEBUpsellDismissedEnum.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NOT_DISMISSED:0,UPSELLS_DISMISSED:1,ALL_DISMISSED:2});f.MWEBUpsellDismissedStateEnum=a}),66);
__d("MWEBVestaUserInfoContext.react",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");e=b.createContext;var i=b.useContext,j=e(null);function k(){var a=i(j);if(a==null)throw c("FBLogger")("messenger_web").mustfixThrow("useMWEBVestaUserInfo must be used inside MWEBVestaUserInfoContext");return a}function a(){var a=k(),b=a.attemptsRemaining;a=a.loginTimeoutRemainingSecs;return b===0||a!=null&&a>0}g.MWEBVestaUserInfoContext=j;g.useMWEBVestaUserInfo=k;g.useMWEBIsCooldownOrLockOutState=a}),98);
__d("MWEBVirtualDevicesContext.react",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(null);function a(){var a=i(j);if(a==null)throw c("unrecoverableViolation")("useEBVirtualDevices must be used inside MWEBVirtualDevicesContext","messenger_web_product");return a}g.MWEBVirtualDevicesContext=j;g.useMWEBVirtualDevices=a}),98);
__d("MWEncryptedBackupsDeferLocalStorageUpsell",["$InternalEnum","FBLogger","MWEncryptedBackupsSharedState","ReQL","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["SOFTBLOCK_JEWEL_AND_CHAT_TAB","QP_JEWEL","QP_WITH_PIN_JEWEL","PERSISTENT_BANNER_JEWEL"]);b=-1;var j=12*60*60*1e3,k=24*60*60*1e3,l=72*60*60*1e3;function m(a){switch(a){case i.SOFTBLOCK_JEWEL_AND_CHAT_TAB:return{countdownInMS:k,impressionsCountKey:"mw_encrypted_backups_soft_block_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_soft_block_last_impression_time_key",maxImpressionLimit:5};case i.QP_JEWEL:return{countdownInMS:j,impressionsCountKey:"mw_encrypted_backups_qp_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_jewel_last_impression_time_key",maxImpressionLimit:1};case i.QP_WITH_PIN_JEWEL:return{countdownInMS:j,impressionsCountKey:"mw_encrypted_backups_qp_with_pin_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_qp_with_pin_jewel_last_impression_time_key",maxImpressionLimit:1};case i.PERSISTENT_BANNER_JEWEL:return{countdownInMS:l,impressionsCountKey:"mw_encrypted_backups_banner_jewel_impressions_count_key",lastImpressionTimeKey:"mw_encrypted_backups_banner_jewel_last_impression_time_key",maxImpressionLimit:1}}}function a(a){var b=a.db,e=a.upsellType;a=m(e);var f=a.impressionsCountKey;a=a.lastImpressionTimeKey;c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:b,stateKey:a,stateValue:Date.now().toString()}).then(async function(){var a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.experiences_shared_state));a=(a=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:b,sharedStateTable:a,stateKey:f}))!=null?a:"0";await d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:b,stateKey:f,stateValue:(+a+1).toString()})}),function(){},function(){var a="[Encrypted Backups] Failed to defer EB upsell "+e;c("FBLogger")("labyrinth_web").mustfix(a)})}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=m(a);a=a.lastImpressionTimeKey;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null||b.removeItem(a)}}function f(a){var b=a.db,c=a.sharedStateTable;a=a.upsellType;a=m(a);a=a.impressionsCountKey;return(b=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:b,sharedStateTable:c,stateKey:a}))!=null?b:"0"}g.MWEncryptedBackupsDeferableUpsellType=i;g.INFINITE_IMPRESSIONS_LIMIT=b;g.getLocalStorageKeys=m;g.updateUpsellEntry=a;g.deleteEntry=e;g.getUpsellImpressions=f}),98);
__d("MWEncryptedBackupsRetrieveQplLoggingAnnotations",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","Promise","ReQL","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("MWEBUseLocalStorage").__setRef("MWEncryptedBackupsRetrieveQplLoggingAnnotations"),l=c("gkx")("609");function a(a){var e=a.db,f=a.onFetch,g=a.upsellType;c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.experiences_shared_state)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.secure_encrypted_backups_client_state))]),function(a){var b=a[0];a=a[1];var j=a[0],m=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),n=d("MWEncryptedBackupsSharedState").getEntryValueFromSharedState({db:e,sharedStateTable:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY}),o=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:e,sharedStateTable:b,stateKey:"auto_restored"});k.onReady(function(a){var k=a.mwEBGetIsLocalStorageEntryValuePresent;a=a.mwEBGetLocalStorageEntryValue;a=a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE);var p=k(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);k=k(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);var q=n!=null,r=g&&d("MWEncryptedBackupsDeferLocalStorageUpsell").getUpsellImpressions({db:e,sharedStateTable:b,upsellType:g}),s=j!=null&&(h||(h=d("I64"))).equal(j.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE));f({ebsmWiped:a!=null?a:"false",firstUpsellTime:m,hasEbKeysLocally:o?"false":s.toString(),hasEBSM:l.toString(),hasPDB:"false",hasUserOnboardedBefore:q.toString(),hasUserRestoredBefore:p.toString(),hasUserRestoredBeforeTemp:k.toString(),impressionsCount:r!=null?r:"0"})})},function(){c("FBLogger")("labyrinth_web").mustfix("[Encrypted Backups] Failed to fetch QPL annotations from Shared State")})}g.encryptedBackupsRetrieveQplLoggingAnnotations=a}),98);
__d("MWEncryptedBackupsThreadListQPWrapper.react",["$InternalEnum","MWThreadListConsts","gkx","react","react-compiler-runtime","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=b("$InternalEnum").Mirrored(["JEWEL","THREAD_LIST","CHAT_TAB"]);function a(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.testid;a=a.trigger;var g=c("gkx")("23433");g=g||a===j.JEWEL;a=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay);var h=!c("gkx")("24056");b[0]!==a||b[1]!==g?(h={0:{className:"x1n2onr6 x1vjfegm"},1:{className:"x1n2onr6 x1vjfegm x1lliihq xqtp20y x6ikm8r x10wlt62 xnalus7"}}[!!(!a&&!g&&h)<<0],b[0]=a,b[1]=g,b[2]=h):h=b[2];b[3]!==e||b[4]!==h||b[5]!==f?(a=i.jsx("div",babelHelpers["extends"]({},h,{"data-testid":void 0,children:e})),b[3]=e,b[4]=h,b[5]=f,b[6]=a):a=b[6];return a}g.MWEncryptedBackupsQPTrigger=j;g.MWEncryptedBackupsThreadListQPWrapper=a}),98);
__d("MWFDSDots3Horizontal.svg.react",["cr:21631"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21631")}),98);
__d("useGroupThreadViewParams",["getGroupThreadViewParams","react-compiler-runtime","useCometRouterState","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b=c("useTopMostRouteCometEntityKey")(),e=c("useCometRouterState")(),f;a[0]!==b||a[1]!==e?(f=c("getGroupThreadViewParams")(b,e),a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("useMWInboxURIState",["CometRouteParams","CometRouteURL","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","MessengerURIConstants","ReQL","ReQLSuspense","gkx","isArmadillo","mwCMIsAnyCMThread","react-compiler-runtime","useCurrentRoute","useGroupThreadViewParams","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e="Compose";var j="PayFriendPicker",k="PayThread",l="SecureThread",m="Thread";e={Compose:e};j={PayFriendPicker:j,PayThread:k};k={SecureThread:l,Thread:m};var n=babelHelpers["extends"]({},e,j,k);l="Null";m="Payment";e="People";j="Search";k="SearchMessages";var o="SeeAllGroups",p="SeeAllPages",q="SeeAllPeople",r="SeeAllUnread",s="TeamworkSeeAllAnnouncementGroups",t="Recent",u="UnsupportedThread";l={Null:l,Payment:m,People:e,Search:j,SearchMessages:k,SeeAllGroups:o,SeeAllPages:p,SeeAllPeople:q,SeeAllUnread:r,TeamworkSeeAllAnnouncementGroups:s};m={Recent:t};e={UnsupportedThread:u};var v=babelHelpers["extends"]({},l,m,e),w={type:v.Null},x="/?$";function y(a){a=a.match(new RegExp(c("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));if(a!=null)return decodeURIComponent(a[1])}var z=c("CurrentEnvironment").instagramdotcom?c("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:c("CurrentEnvironment").facebookdotcom?c("MessengerURIConstants").FACEBOOK_PREFIX:"";function A(a){a=new URL(a.url,window.location.origin);var b=a.pathname;a=a.searchParams;var e=new RegExp("^"+(z+"(/|$)"));if(c("CurrentEnvironment").facebookdotcom&&!e.test(b))throw c("FBLogger")("messenger_web").mustfixThrow("MWInboxURIState.NonMessengerState wrong CurrentEnvironment pattern for %s",z);b=b.replace(e,"/");e=a==null?void 0:a.get("fbid");a=a==null?void 0:a.get("id");if(b.match(new RegExp("^"+c("MessengerURIConstants").PEOPLE_PATH))!=null)return{type:v.People};if(b.match(new RegExp("^"+c("MessengerURIConstants").PAYMENT_PATH))!=null)return{type:v.Payment};if(b.match(new RegExp("^"+c("MessengerURIConstants").SEARCH_PATH))!=null)return{type:v.Search};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_GROUP_VIEW))!=null)return{type:v.SeeAllGroups};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_CHAT_VIEW))!=null)return{type:v.SeeAllPeople};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_UNREAD_VIEW))!=null)return{type:v.SeeAllUnread};if(b.match(new RegExp("^"+c("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW))!=null)return{type:v.TeamworkSeeAllAnnouncementGroups};if(b==="/read/"&&e!=null)return{type:v.Recent,uriStateDetails:{fbid:(i||(i=d("I64"))).of_string(e),type:n.Thread}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").COMPOSE_SUBPATH+x)))!=null)return{type:v.Recent,uriStateDetails:{initialTogglePosition:"E2EEToggleOff",type:n.Compose}};if(b.match(new RegExp("^"+(c("MessengerURIConstants").PAYMENT_PATH+c("MessengerURIConstants").PAYMENT_PAY_PATH)))!=null)return{type:v.Recent,uriStateDetails:{fbid:void 0,type:a!=null?n.PayThread:n.PayFriendPicker}};e=C(y(b));return e!=null?{type:v.Recent,uriStateDetails:{fbid:e,type:n.Thread}}:w}var B=c("gkx")("23433")||c("gkx")("22839");function a(a){return new URL(a,window.location.origin).pathname.split("/")}function C(a){try{return a!=null?(i||(i=d("I64"))).of_string_opt(a):void 0}catch(a){return void 0}}function b(a){var b=d("react-compiler-runtime").c(40),e=(h||(h=c("useReStore")))(),g=c("useCurrentRoute")(),j=d("CometRouteURL").useRouteURLPath(),k=c("useGroupThreadViewParams")(),l;b[0]!==a?(l=C(a),b[0]=a,b[1]=l):l=b[1];var m=l;a=d("CometRouteParams").useRouteParams();l=(l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(m!=null?m:(i||(i=d("I64"))).min_int)},[e,m],f.id+":317"))==null?void 0:l.threadType;var o;b[2]!==l?(o=l!=null?c("mwCMIsAnyCMThread")(l):!1,b[2]=l,b[3]=o):o=b[3];o=o;var p;b[4]!==l?(p=l!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannelWithNoAccessibility(l):!1,b[4]=l,b[5]=p):p=b[5];p=p;if(k!=null){var q;b[6]!==k.threadKey?(q=(i||(i=d("I64"))).of_string(k.threadKey),b[6]=k.threadKey,b[7]=q):q=b[7];b[8]!==q?(k={type:v.Recent,uriStateDetails:{fbid:q,type:n.Thread}},b[8]=q,b[9]=k):k=b[9];return k}if(g==null)return w;if(!j.startsWith(z)&&!j.startsWith(c("MessengerURIConstants").GROUPS_PATH))throw c("FBLogger")("messenger_web").mustfixThrow("MWInboxURIState.NonMessengerState wrong groups path %s",j);q=a.initial_e2ee_toggle_position==="1"||a.initial_e2ee_toggle_position===1||a.initial_e2ee_toggle_position===!0?"E2EEToggleOn":"E2EEToggleOff";k=g.url;if(b[10]!==e.tables.threads||b[11]!==q||b[12]!==p||b[13]!==o||b[14]!==g||b[15]!==m||b[16]!==l){j=Symbol["for"]("react.early_return_sentinel");bb0:{a=k.substring(z.length);a=(k=d("ConstUriUtils").getUriOrThrow(a))==null?void 0:k.getPath().split("/");if(m!=null){if(a.length===4&&a[0]===""&&a[1]==="e2ee"&&a[2]==="t"&&c("isArmadillo")()){b[18]!==m?(k={type:v.Recent,uriStateDetails:{fbid:m,type:n.SecureThread}},b[18]=m,b[19]=k):k=b[19];j=k;break bb0}if(l!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(l)){b[20]!==g?(k=A(g),b[20]=g,b[21]=k):k=b[21];j=k;break bb0}if(o&&!B){j=w;break bb0}if(p){b[22]!==m?(k={fbid:m,type:v.UnsupportedThread},b[22]=m,b[23]=k):k=b[23];j=k;break bb0}b[24]!==m?(k={type:v.Recent,uriStateDetails:{fbid:m,type:n.Thread}},b[24]=m,b[25]=k):k=b[25];j=k;break bb0}if(a==null){b[26]!==g?(k=A(g),b[26]=g,b[27]=k):k=b[27];j=k;break bb0}switch(a.length){case 2:if(a[1]==="new"){b[28]!==q?(k={type:v.Recent,uriStateDetails:{initialTogglePosition:q,type:n.Compose}},b[28]=q,b[29]=k):k=b[29];j=k;break bb0}b[30]!==g?(k=A(g),b[30]=g,b[31]=k):k=b[31];j=k;break bb0;case 3:if(a[1]!=="t"){b[32]!==g?(k=A(g),b[32]=g,b[33]=k):k=b[33];j=k;break bb0}if(a[2]===""){b[34]!==g?(k=A(g),b[34]=g,b[35]=k):k=b[35];j=k;break bb0}k=C(a[2]);a=k!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(k),f.id+":432"):null;if(k!=null&&a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a==null?void 0:a.threadType)){b[36]!==k?(a={type:v.Recent,uriStateDetails:{fbid:k,type:n.Thread}},b[36]=k,b[37]=a):a=b[37];j=a;break bb0}j=w;break bb0;case 0:case 1:default:b[38]!==g?(k=A(g),b[38]=g,b[39]=k):k=b[39];j=k;break bb0}}b[10]=e.tables.threads;b[11]=q;b[12]=p;b[13]=o;b[14]=g;b[15]=m;b[16]=l;b[17]=j}else j=b[17];if(j!==Symbol["for"]("react.early_return_sentinel"))return j}g.MWInboxURIStateDetailsType=n;g.MWInboxURIStateTag=v;g.getRouteTokens=a;g.useMWInboxURIState=b}),98);
__d("MWInboxProvider.react",["react","react-compiler-runtime","useMWInboxURIState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.threadKey;a=d("useMWInboxURIState").useMWInboxURIState(a);var e;b[0]!==c||b[1]!==a?(e=i.jsx(j.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.MWInboxProviderContext=j;g.MWInboxProvider=a}),98);
__d("MWLogInboxFiltersInteraction",["ExecutionEnvironment","ifRequireable","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(30610001,"3003");function a(a){if((h||(h=c("ExecutionEnvironment"))).isInBrowser){var b=j();b==null||b.cancelTrace(a,!0)}}function b(){if((h||(h=c("ExecutionEnvironment"))).isInBrowser){var a=j();a==null||a.forceCompleteTrace()}}function j(){if((h||(h=c("ExecutionEnvironment"))).isInBrowser)return c("ifRequireable")("InteractionTracing",function(a){return Array.from(a.getPendingInteractions()).find(function(a){var b=a.getTrace()||{};b=b.tracePolicy;b=b===void 0?"":b;if(((a=a.getTrace())==null?void 0:a.qplEvent)===i&&(b.includes("comet.jewel.messenger.")||b.includes("comet.messenger.inbox.")))return!0})})}g.logInboxFiltersNavigationCancel=a;g.logInboxFiltersNavigationComplete=b;g.getInboxFiltersNavigationTrace=j}),98);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(9),e=(i||(i=c("useReStore")))(),g;b[0]!==e||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId).map(function(a){var b=l(e,a);return{attachment:a,attachmentCTAs:b}})},b[0]=e,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var h;b[4]!==e||b[5]!==a?(h=[a,e],b[4]=e,b[5]=a,b[6]=h):h=b[6];g=d("ReQLSuspense").useArray(g,h,f.id+":41").toSorted(k);var m=(h=g[0])==null?void 0:h.attachment;h=d("ReQLSuspense").useArray(function(){return m==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.attachment_items).getKeyRange(m.attachmentFbid).map(function(a){var b=l(e,a);return{attachmentItem:a,attachmentItemCTAs:b}})},[m,e],f.id+":60").reduce(j,[[],[]]);var n=h[0];h=h[1];var o=[];g.map(function(a){o.push(a.attachment)});if(n.length>0)h=h;else{g=(g=g[0])==null?void 0:g.attachmentCTAs;var p;b[7]!==g?(p=g?[g]:[],b[7]=g,b[8]=p):p=b[8];h=p}return{attachmentCTAs:h,attachmentItems:n,attachments:o}}function j(a,b){var c=b.attachmentItem;b=b.attachmentItemCTAs;a[0].push(c);a[1].push(b);return a}function k(a,b){return(h||(h=d("I64"))).compare(a.attachment.attachmentIndex,b.attachment.attachmentIndex)}function l(a,b){var c={},e=b.attachmentCta1Id,g=b.attachmentCta2Id,h=b.attachmentCta3Id;b=b.defaultCtaId;c.defaultCta=b!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b),f.id+":113"):void 0;c.attachmentCta1=e!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(e),f.id+":121"):void 0;c.attachmentCta2=g!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(g),f.id+":129"):void 0;c.attachmentCta3=h!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(h),f.id+":137"):void 0;return c}g.useAttachmentDataLS=a}),98);
__d("fetchOpenMissingMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e){var g;g=(h||(h=d("I64"))).to_int32((g=b.syncGroup)!=null?g:(h||(h=d("I64"))).neg_one);if(g!==-1&&g===95){c("FBLogger")("messenger_web").mustfix("fetchMissingMessage: incorrect call to MPQ with secure mailbox");return}await a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b.threadKey,threadType:b.threadType})},"readwrite",void 0,void 0,f.id+":38")}g.default=a}),98);
__d("MpsMessageToLoadResponse",["MpsMessageToBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=[],e=[],f=[],g=[],h=[];for(a of a){var i;i=(i=d("MpsMessageToBridge").mpsFullMessagetoBridge(a))!=null?i:{};var j=i.supplementals;i=i.topLevel;j==null||j.forEach(function(a){a.kind==="bridgeEditHistoryMsg"?b.push(a.value):a.kind==="bridgeReactionAction"?c.push(a.value):a.kind==="bridgeMsgsStartCountdown"?f.push.apply(f,a.value.msgs):a.kind==="bridgeMedia"?h.push(a.value):a.kind==="bridgeReceiverFetchInfo"&&g.push(a.value)});(i==null?void 0:i.kind)==="bridgeMsg"&&e.push(i.value)}return{editMsgHistory:b,expiringCountdown:f,medias:h,msgs:e,polls:[],reactions:c,receiverFetchInfoPayloads:g,xmas:[]}}g.messageToLoadMsgsResponse=a}),98);
__d("fetchSecureMissingMessage",["MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWMpsGating","MAWPutMessagesToDB","MpsMessageToLoadResponse","MpsOverBridge","MpsTypes","WAJids","WAStanzaUtils","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWBridgeIssuePointQueryHandler").__setRef("fetchSecureMissingMessage");async function a(a,b,c,e,g,j,k){b=await d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,k);var l=b.chatJid;if(d("MAWMpsGating").isFullMpsEnabled()){k=await d("MpsOverBridge").mps().loadMessage({config:{strategy:"local-first"},debug:{purpose:"fetchSecureMissingMessageFullMps"},messageId:d("MpsTypes").toMessageId(c),threadId:d("MpsTypes").toThreadId(l)});if(k.value!=null){b=babelHelpers.extends({},d("MpsMessageToLoadResponse").messageToLoadMsgsResponse([k.value]),{hasMoreAfter:!1,hasMoreBefore:!1});await d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(a,b,g)}return}k=await i({config:{admin:!0,editMsgHistory:!1,media:!0,polls:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:c});await d("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(a,k,g);if(k.msgs.length>0||!e)return;if(d("MAWMpsGating").isMpsPointQueryEnabled()){await d("MpsOverBridge").mps().copMps.loadMsgIntoMaw({config:{shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"full-fetch"},debug:{purpose:"fetchSecureMissingMessageM3"},messageId:d("MpsTypes").toMessageId(c),threadId:d("MpsTypes").toThreadId(l)});return}var m=await h.load();return a.runInTransaction(async function(a){await m.call(a,{jid:l,messageId:c,taskSource:j,threadId:d("WAJids").threadIdForChatJid(l)})},"readwrite",void 0,void 0,f.id+":120")}async function i(a){var b=a.config;a=a.externalId;return babelHelpers.extends({},await d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)}))}g.default=a}),98);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return c("justknobx")._("2598");case c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return c("justknobx")._("2599");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return c("justknobx")._("2600");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return c("justknobx")._("2601");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return c("justknobx")._("2602");case c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return c("justknobx")._("2603");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return c("justknobx")._("2604");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return c("justknobx")._("2768");case c("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return c("justknobx")._("2841");case c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES:return c("justknobx")._("2937");case c("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES:return c("justknobx")._("3682");case c("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU:return c("justknobx")._("4788");case c("MWEBEntrypointsKillswitch.enum").DYI:case c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case c("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}g["default"]=a}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:a,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[a]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBBackupState",["CometRelay","isMWEBEntrypointEnabled","react-compiler-runtime","useMWEBBackupStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(2);a=a.entrypoint;var f,g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h!==void 0?h:h=b("useMWEBBackupStateQuery.graphql"),g={},e[0]=f,e[1]=g):(f=e[0],g=e[1]);e=d("CometRelay").useClientQuery(f,g);return!c("isMWEBEntrypointEnabled")(a)||(e==null?void 0:e.viewer)==null?0:(f=e.viewer.backup_state)!=null?f:1}g["default"]=a}),98);
__d("useGetOriginalMsgFromBumpMsg",["FBLogger","LSMEBTaskCreationSource","LSMessagingThreadTypeUtil","MAWFetchExternalIdUsingCache","MAWStateContext.react","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchOpenMissingMessage","fetchSecureMissingMessage","isMWBumpMessage","promiseDone","react","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useContext;function a(a,b,e){var g=d("react-compiler-runtime").c(14),i;g[0]!==a?(i=c("isMWBumpMessage")(a),g[0]=a,g[1]=i):i=g[1];var k=i,l=(h||(h=c("useReStore")))(),m=j(d("MAWStateContext.react").MAWDispatchContext);g[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={entrypoint:c("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES},g[2]=a):a=g[2];i=c("useMWEBBackupState")(a);g[3]!==l.tables.threads||g[4]!==e?(a=function(){return e!=null?d("ReQL").fromTableAscending(l.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(e):d("ReQL").empty()},g[3]=l.tables.threads,g[4]=e,g[5]=a):a=g[5];var n;g[6]!==l||g[7]!==e?(n=[l,e],g[6]=l,g[7]=e,g[8]=n):n=g[8];var o=d("ReQLSuspense").useFirst(a,n,f.id+":44");g[9]!==l.tables.messages||g[10]!==k||g[11]!==b?(a=function(){return b!=null&&k?d("ReQL").fromTableDescending(l.tables.messages.index("messageId")).getKeyRange(b):d("ReQL").empty()},n=[l.tables.messages,b,k],g[9]=l.tables.messages,g[10]=k,g[11]=b,g[12]=a,g[13]=n):(a=g[12],n=g[13]);g=d("ReQLSuspense").useFirst(a,n,f.id+":56");if(g==null&&o!=null&&b!=null&&k)if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(o.threadType)){var p=i===3;c("promiseDone")(d("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(b).then(function(a){a!=null?c("promiseDone")(c("fetchSecureMissingMessage")(l,o.threadKey,a,p,m,c("LSMEBTaskCreationSource").EB_POINT_QUERY_BUMP_MESSAGES,"MAWFetchBumpMessage")):c("FBLogger")("mw_bump_message").warn("[useGetOriginalMsgFromBumpMsg] failed fetch external id, invalid msgId %s",b)}))}else c("promiseDone")(c("fetchOpenMissingMessage")(l,o,b));return g}g["default"]=a}),98);
__d("useAttachmentData",["react-compiler-runtime","useAttachmentDataLS","useGetOriginalMsgFromBumpMsg"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("react-compiler-runtime").c(4);var e=c("useGetOriginalMsgFromBumpMsg")(a.replyType,a.replySourceId,a.threadKey);e=e!=null?e:a;a=d("useAttachmentDataLS").useAttachmentDataLS(e);e=a.attachmentCTAs;var f=a.attachmentItems;a=a.attachments;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={attachmentCTAs:e,attachmentItems:f,attachments:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}g.useAttachmentData=a}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","react-compiler-runtime","useAttachmentData","useAttachmentDataLS","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.createContext,n=l.useContext,o=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function a(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.isSecureMessage;a=a.message;a=d("useAttachmentData").useAttachmentData(a,e);b[0]!==a||b[1]!==c?(e=k.jsx(o.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=e):e=b[2];return e}function b(a){var b=d("react-compiler-runtime").c(3),c=a.attachmentData;a=a.children;var e;b[0]!==c||b[1]!==a?(e=k.jsx(o.Provider,{value:c,children:a}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function e(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.message;a=d("useAttachmentDataLS").useAttachmentDataLS(a);var e;b[0]!==a||b[1]!==c?(e=k.jsx(o.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=e):e=b[2];return e}function p(a){var b=n(o).attachments;a=q(a);if(b.length===0&&a.length>0){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB");return a}return b}function q(a){var b=d("react-compiler-runtime").c(7),e=(h||(h=c("useReStore")))(),g=a==null?void 0:a.messageId,i=a==null?void 0:a.threadKey,j;b[0]!==e||b[1]!==g||b[2]!==i?(a=function(){return g!=null&&i!=null?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(i,g):d("ReQL").empty()},j=[e,g,i],b[0]=e,b[1]=g,b[2]=i,b[3]=a,b[4]=j):(a=b[3],j=b[4]);a=d("ReQLSuspense").useArray(a,j,f.id+":104");b[5]!==a?(j=a.toSorted(r),b[5]=a,b[6]=j):j=b[6];return j}function r(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}function s(a){var b=(i||(i=d("I64"))).to_int32(a.attachmentIndex);b=(b=n(o).attachmentCTAs[b])!=null?b:{};a=t(a);if((b==null?void 0:b.defaultCta)==null&&(a==null?void 0:a.defaultCta)!=null||(b==null?void 0:b.attachmentCta1)==null&&(a==null?void 0:a.attachmentCta1)!=null){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB");return a}return b}function t(a){var b=(h||(h=c("useReStore")))(),d={};d.defaultCta=u(b,a==null?void 0:a.defaultCtaId);d.attachmentCta1=u(b,a==null?void 0:a.attachmentCta1Id);d.attachmentCta2=u(b,a==null?void 0:a.attachmentCta2Id);d.attachmentCta3=u(b,a==null?void 0:a.attachmentCta3Id);return d}function u(a,b){var c=d("react-compiler-runtime").c(4),e,g;c[0]!==b||c[1]!==a?(e=function(){return b!=null?d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b):d("ReQL").empty()},g=[a,b],c[0]=b,c[1]=a,c[2]=e,c[3]=g):(e=c[2],g=c[3]);return d("ReQLSuspense").useFirst(e,g,f.id+":158")}function v(a){var b;b=(b=n(o).attachmentItems)!=null?b:[];a=w(a);if(b.length===0&&a.length>0){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB");return a}return b}function w(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),g;b[0]!==a.attachmentFbid||b[1]!==e.tables.attachment_items?(g=function(){var b=a.attachmentFbid;return d("ReQL").fromTableAscending(e.tables.attachment_items).getKeyRange(b)},b[0]=a.attachmentFbid,b[1]=e.tables.attachment_items,b[2]=g):g=b[2];var i;b[3]!==a||b[4]!==e?(i=[a,e],b[3]=a,b[4]=e,b[5]=i):i=b[5];return d("ReQLSuspense").useArray(g,i,f.id+":188")}g.MWPAttachmentDataContext=o;g.MWPAttachmentDataContextProvider=a;g.MWPAttachmentDataContextProviderMAW=b;g.MWPAttachmentDataContextProviderLS=e;g.useMWPGetAttachments=p;g.useMWPGetAttachmentCTAs=s;g.useMWPGetAttachmentItems=v}),98);
__d("MWXCard.react",["cr:11336","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(2),e;c[0]!==a?(e=i.jsx(b("cr:11336"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}g["default"]=a}),98);
__d("MWXIconChevronLeft",["MWXSvgIcon","SVGIcon","cr:22266","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22266")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:22268","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22268")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["objectFit","src"],i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(15),e,f,g;c[0]!==a?(e=a.objectFit,g=a.src,f=babelHelpers.objectWithoutPropertiesLoose(a,h),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);if(b("cr:6682")!=null){c[4]!==e||c[5]!==f||c[6]!==g?(a=j.jsx(b("cr:6682"),babelHelpers["extends"]({objectFit:e,src:g},f)),c[4]=e,c[5]=f,c[6]=g,c[7]=a):a=c[7];return a}if(typeof g==="string"){c[8]!==e||c[9]!==f||c[10]!==g?(a=b("cr:2838")!=null?j.jsx(b("cr:2838"),babelHelpers["extends"]({objectFit:e,src:g},f)):null,c[8]=e,c[9]=f,c[10]=g,c[11]=a):a=c[11];return a}else{c[12]!==f||c[13]!==g?(e=b("cr:1261")!=null?j.jsx(b("cr:1261"),babelHelpers["extends"]({src:g},f)):null,c[12]=f,c[13]=g,c[14]=e):e=c[14];return e}}g["default"]=a}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:269","cr:820","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","encryptedLink"],i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(15),e,f,g;c[0]!==a?(f=a.ref,e=a.encryptedLink,g=babelHelpers.objectWithoutPropertiesLoose(a,h),c[0]=a,c[1]=e,c[2]=f,c[3]=g):(e=c[1],f=c[2],g=c[3]);a=d("E2EEMessagingLinkContext.react").useE2EEMessagingLink();a=a.isSecure;var i;c[4]!==e||c[5]!==a?(i=a||e===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{},c[4]=e,c[5]=a,c[6]=i):i=c[6];e=i;if(b("cr:269")){c[7]!==e||c[8]!==f||c[9]!==g?(a=j.jsx(b("cr:269"),babelHelpers["extends"]({},g,e,{ref:f})),c[7]=e,c[8]=f,c[9]=g,c[10]=a):a=c[10];return a}if(b("cr:820")){c[11]!==e||c[12]!==f||c[13]!==g?(i=j.jsx(b("cr:820"),babelHelpers["extends"]({},g,e,{ref:f})),c[11]=e,c[12]=f,c[13]=g,c[14]=i):i=c[14];return i}return null}g["default"]=a}),98);
__d("MWXQPCard.react",["MWXIconStrict.react","MWXImage.react","cr:10403","cr:2832","cr:6676","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["addOnPrimary","addOnSecondary","icon","ref","xstyle"],i,j,k=j||d("react"),l={fdsRoot:{boxShadow:"xnw9j1v",$$css:!0},fdsRootMargin:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",$$css:!0},mdsRootMargin:{marginTop:"xw7yly9",marginInlineEnd:"x1ys307a",marginBottom:"x1yztbdb",marginInlineStart:"xyqm7xq",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(39),f,g,j,m,n,o;e[0]!==a?(f=a.addOnPrimary,g=a.addOnSecondary,j=a.icon,n=a.ref,o=a.xstyle,m=babelHelpers.objectWithoutPropertiesLoose(a,h),e[0]=a,e[1]=f,e[2]=g,e[3]=j,e[4]=m,e[5]=n,e[6]=o):(f=e[1],g=e[2],j=e[3],m=e[4],n=e[5],o=e[6]);var p;if(j!=null)bb0:switch(j.type){case"image":e[7]!==j.props?(a=k.jsx(c("MWXImage.react"),babelHelpers["extends"]({},j.props)),e[7]=j.props,e[8]=a):a=e[8];p=a;break bb0;case"icon":e[9]!==j.props?(a=k.jsx(c("MWXIconStrict.react"),babelHelpers["extends"]({},j.props)),e[9]=j.props,e[10]=a):a=e[10];p=a;break bb0;default:}if(b("cr:2832")!=null){e[11]!==o?(j=(i||(i=c("stylex"))).props(l.mdsRootMargin,o),e[11]=o,e[12]=j):j=e[12];if(e[13]!==f){a=f&&{disabled:f.disabled,icon:(a=f.icon)==null?void 0:a.originalComponent,label:f.label,linkProps:f.linkProps,onPress:f.onPress,reduceEmphasis:f.reduceEmphasis,type:f.type};e[13]=f;e[14]=a}else a=e[14];var q;e[15]!==g?(q=g&&{disabled:g.disabled,label:g.label,linkProps:g.linkProps,onPress:g.onPress,reduceEmphasis:g.reduceEmphasis},e[15]=g,e[16]=q):q=e[16];var r;e[17]!==p||e[18]!==m||e[19]!==a||e[20]!==q?(r=k.jsx(b("cr:2832"),babelHelpers["extends"]({},m,{headlineNumberOfLines:2,icon:p,primaryCallToAction:a,secondaryCallToAction:q})),e[17]=p,e[18]=m,e[19]=a,e[20]=q,e[21]=r):r=e[21];e[22]!==n||e[23]!==j||e[24]!==r?(a=k.jsx("div",babelHelpers["extends"]({},j,{ref:n,children:r})),e[22]=n,e[23]=j,e[24]=r,e[25]=a):a=e[25];return a}else if(b("cr:10403")!=null&&b("cr:6676")!=null){e[26]!==o?(q=(i||(i=c("stylex"))).props(l.fdsRoot,l.fdsRootMargin,o),e[26]=o,e[27]=q):q=e[27];e[28]!==f||e[29]!==g?(j=f&&k.jsx(b("cr:6676"),{align:"justify",expanding:!0,paddingHorizontal:12,primary:f,secondary:g}),e[28]=f,e[29]=g,e[30]=j):j=e[30];e[31]!==p||e[32]!==m||e[33]!==j?(r=k.jsx(b("cr:10403"),babelHelpers["extends"]({},m,{addOnPrimary:j,icon:p,level:4,type:"primary"})),e[31]=p,e[32]=m,e[33]=j,e[34]=r):r=e[34];e[35]!==n||e[36]!==q||e[37]!==r?(a=k.jsx("div",babelHelpers["extends"]({},q,{ref:n,children:r})),e[35]=n,e[36]=q,e[37]=r,e[38]=a):a=e[38];return a}return null}g["default"]=a}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"],j,k=j||d("react");function l(a){return a===10?12:a}function m(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function n(a){return a===10?12:a}function a(a){var c=d("react-compiler-runtime").c(35),e,f;c[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);if(b("cr:2667")!=null){var g,j,o,p,q,r;if(c[3]!==e){a=e;g=a.paddingHorizontal;j=a.paddingTop;o=a.paddingVertical;p=a.spacing;q=a.spacingHorizontal;r=a.spacingVertical;a=babelHelpers.objectWithoutPropertiesLoose(a,i);c[3]=e;c[4]=a;c[5]=g;c[6]=j;c[7]=o;c[8]=p;c[9]=q;c[10]=r}else a=c[4],g=c[5],j=c[6],o=c[7],p=c[8],q=c[9],r=c[10];var s;c[11]!==g?(s=l(g),c[11]=g,c[12]=s):s=c[12];c[13]!==j?(g=m(j),c[13]=j,c[14]=g):g=c[14];c[15]!==o?(j=m(o),c[15]=o,c[16]=j):j=c[16];c[17]!==p?(o=n(p),c[17]=p,c[18]=o):o=c[18];c[19]!==q?(p=n(q),c[19]=q,c[20]=p):p=c[20];c[21]!==r?(q=n(r),c[21]=r,c[22]=q):q=c[22];c[23]!==a||c[24]!==f||c[25]!==s||c[26]!==g||c[27]!==j||c[28]!==o||c[29]!==p||c[30]!==q?(r=k.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:s,paddingTop:g,paddingVertical:j,ref:f,spacing:o,spacingHorizontal:p,spacingVertical:q},a)),c[23]=a,c[24]=f,c[25]=s,c[26]=g,c[27]=j,c[28]=o,c[29]=p,c[30]=q,c[31]=r):r=c[31];return r}if(b("cr:2922")!=null){c[32]!==e||c[33]!==f?(a=k.jsx(b("cr:2922"),babelHelpers["extends"]({},e,{ref:f})),c[32]=e,c[33]=f,c[34]=a):a=c[34];return a}return null}g["default"]=a}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(9),e,f;c[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),c[0]=a,c[1]=e,c[2]=f):(e=c[1],f=c[2]);if(b("cr:3083")!=null){c[3]!==e||c[4]!==f?(a=j.jsx(b("cr:3083"),babelHelpers["extends"]({},e,{ref:f})),c[3]=e,c[4]=f,c[5]=a):a=c[5];return a}if(b("cr:3084")!=null){c[6]!==e||c[7]!==f?(a=j.jsx(b("cr:3084"),babelHelpers["extends"]({},e,{ref:f})),c[6]=e,c[7]=f,c[8]=a):a=c[8];return a}return null}g["default"]=a}),98);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("23433");function a(){var a=i?h("414274"):h("1745665");return a}g["default"]=a}),98);
__d("useHasRestoreInterstitialSoftblockBeenDismissed",["MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=a.backupState;a=a.isCooldownOrLockOutState;var g=(h||(h=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return e===4?d("ReQL").fromTableAscending(g.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED).map(i):d("ReQL").empty()},[e,g],f.id+":34"))!=null?b:!1;var j=e===4&&b===!1&&d("MWEncryptedBackupsSharedState").getEntryPresentInLocalStorage({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED})!=null;return b===!0||j===!0||a}function i(a){a=a.stateValue;return a!=null}g["default"]=a}),98);
__d("useLabyrinthLogging",["EncryptedBackupsSupportedPlatformUtils","MWEBODSCategory","MWEBODSEntityKey.enum","MWEncryptedBackupsDeviceRegistrationId","ODS","QPLEvent","QPLUserFlow","QuickPerformanceLogger","WebSession","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(7),b=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform(),e;a[0]!==b?(e=function(a){var f=a.additionalAnnotations,g=a.event,e=a.instanceKey,j=a.odsEntityName;a=a.source;e=e===void 0?0:e;if(!(h||(h=c("QuickPerformanceLogger"))).isMarkerOn(g,e)){j&&(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),j,c("MWEBODSEntityKey.enum").START);j=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();j={deviceRegistrationId:j,platform:b,sessionTabId:d("WebSession").getId(),source:a!=null?a:void 0};c("QPLUserFlow").start(g,{annotations:{string:babelHelpers["extends"]({},f,j)},instanceKey:e})}},a[0]=b,a[1]=e):e=a[1];e=e;var f;a[2]!==b?(f=function(a){var e=a.additionalAnnotations,f=a.event,g=a.marker;a=a.odsEntityName;if(!c("QPLUserFlow").getActiveFlowIDs().includes((j||(j=d("QPLEvent"))).getMarkerId(f))){a&&(i||(i=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,c("MWEBODSEntityKey.enum").START);a={platform:b,sessionTabId:d("WebSession").getId()};c("QPLUserFlow").start(f,{annotations:{string:babelHelpers["extends"]({},e,a)}})}c("QPLUserFlow").addPoint(f,g)},a[2]=b,a[3]=f):f=a[3];f=f;var g;a[4]!==f||a[5]!==e?(g={addMarkerAndStartFlowIfNotActive:f,startFlow:e},a[4]=f,a[5]=e,a[6]=g):g=a[6];return g}g.useLabyrinthLoggingFlow=a}),98);
__d("useMAWHasUserVisibleErrors",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.user_visible_errors?(e=function(){return d("ReQL").fromTableDescending(b.tables.user_visible_errors).filter(i)},a[0]=b.tables.user_visible_errors,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":24");return a!=null}function i(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMAWUnsupportedBrowserNUX",["MAWIsIDBOperational","MAWWasmFeatureSupport","WebStorage","gkx","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(3),b=d("MAWIsIDBOperational").useIsIDBOperational(),e=d("MAWWasmFeatureSupport").useWasmFeatureSupport();e=e==null||e.bigInt&&e.bulkMemory&&e.referenceTypes;b=!b||!e||(h||(h=c("WebStorage"))).getLocalStorage()==null;e=c("gkx")("1778")||b;var f;a[0]!==b||a[1]!==e?(f={shouldHideEBFlow:b,shouldShowQP:e},a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g.useMAWUnsupportedBrowserNUX=a}),98);
__d("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse",selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],type:"VestaGetUserInfoResponse",abstractKey:null};e.exports=a}),null);
__d("useMWChatEncryptedBackupsVestaUserInfo",["CometRelay","react-compiler-runtime","useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c,e,f=d("react-compiler-runtime").c(4);a=a.vestaGetUserInfoResponse$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWChatEncryptedBackupsVestaUserInfo_vestaGetUserInfoResponse.graphql"),a);c=(c=a==null?void 0:a.attempts_remaining)!=null?c:null;e=(e=a==null?void 0:a.is_registered)!=null?e:null;a=(a=a==null?void 0:a.login_timeout_remaining_secs)!=null?a:null;var g;f[0]!==c||f[1]!==e||f[2]!==a?(g={attemptsRemaining:c,isRegistered:e,loginTimeoutRemainingSecs:a},f[0]=c,f[1]=e,f[2]=a,f[3]=g):g=f[3];return g}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometTahoeCustomVideoAreaContext",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=i.createContext({customVideoAreaHidden:!0,setCustomVideoAreaHidden:c("emptyFunction")});function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(!0),e=c[0];c=c[1];b[0]!==e?(c={customVideoAreaHidden:e,setCustomVideoAreaHidden:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.CometTahoeCustomVideoAreaContext=k;g.CometTahoeCustomVideoAreaContextProvider=a}),98);
__d("CometTahoeSidePaneContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={rightRailExpanded:!1,rightRailHidden:!1,setRightRailExpanded:function(){},setRightRailHidden:function(){}};c=a.createContext(b);g["default"]=c}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","react-compiler-runtime","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState,n=44,o={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.height,g=a.initialBottomRowAddOn,i=a.isBackgroundVisible,p=a.isVisible,q=a.xstyle;a=g===void 0?null:g;g=m(0);var r=g[0],s=g[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){s(a.height)},b[0]=g):g=b[0];var t=c("useResizeObserver")(g),u=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(a);g=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var v=g.release,w=g.reserve,x=f!=null?f:n;b[1]!==x||b[2]!==i||b[3]!==p||b[4]!==v||b[5]!==w?(a=function(){if(Boolean(p)||Boolean(i)){var a=w({location:"bottom",size:x});return function(){v(a)}}},g=[p,i,w,v,x],b[1]=x,b[2]=i,b[3]=p,b[4]=v,b[5]=w,b[6]=a,b[7]=g):(a=b[6],g=b[7]);l(a,g);var y=i===!1||p===!1,z=i===!0||p===!0;b[8]!==u||b[9]!==r||b[10]!==t||b[11]!==e||b[12]!==x||b[13]!==y||b[14]!==z||b[15]!==p||b[16]!==q?(f=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:b,children:k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h"},4:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},2:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h xg01cxk x47corl xlshs6z"},6:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np xg01cxk x47corl xlshs6z"},1:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x1hc1fzr"},5:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x1hc1fzr"},3:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x47corl xlshs6z x1hc1fzr"},7:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x47corl xlshs6z x1hc1fzr"}}[!!(u==null)<<2|!!(p===!1)<<1|!!(p===!0)<<0],{"data-testid":void 0,children:[k.jsx("div",{className:(h||(h=c("stylex")))(o.backgroundGradient,y&&o.hidden,z&&o.visible,q),style:{height:x+r}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:y,children:u==null?e:k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},{children:e})),k.jsx(c("CometErrorBoundary.react"),{children:k.jsx("div",{ref:t,children:u})})]})})]}))})}}),b[8]=u,b[9]=r,b[10]=t,b[11]=e,b[12]=x,b[13]=y,b[14]=z,b[15]=p,b[16]=q,b[17]=f):f=b[17];return f}g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.isVisible,g=a.noPaddingEnd;a=a.noPaddingStart;f=f===void 0?!0:f;g=g===void 0?!1:g;a=a===void 0?!1:a;var h=j(c("VideoControlsContainerFocusedContext"));f=f||h;h=j(c("VideoPlayerControlsHiddenContext"));var k;b[0]!==f||b[1]!==g||b[2]!==a?(k={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1fmh03i x47corl"},4:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1fmh03i x47corl"},2:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1fmh03i x47corl"},6:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1hc1fzr"},5:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1hc1fzr"},3:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1hc1fzr"},7:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1hc1fzr"}}[!!g<<2|!!a<<1|!!f<<0],b[0]=f,b[1]=g,b[2]=a,b[3]=k):k=b[3];g=h||!f;b[4]!==e||b[5]!==g?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:g,children:e}),b[4]=e,b[5]=g,b[6]=a):a=b[6];b[7]!==k||b[8]!==a?(h=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),b[7]=k,b[8]=a,b[9]=h):h=b[9];return h}function b(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.isVisible;a=a===void 0?!0:a;var f=j(c("VideoControlsContainerFocusedContext"));a=a||f;f=j(c("VideoPlayerControlsHiddenContext"));var g;b[0]!==a?(g={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1hc1fzr"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];f=f||!a;b[2]!==e||b[3]!==f?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});g["default"]=b}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.onPress,f=a.playbackIcon,g=a.showTooltip;a=a.useOutlineIcons;g=g===void 0?!0:g;var j,l;bb0:switch(f){case"pause":var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Pause"),b[0]=m):m=b[0];j=m;b[1]!==a?(m=a===!0?d("fbicon")._(i("497677"),20):d("fbicon")._(i("497675"),20),b[1]=a,b[2]=m):m=b[2];l=m;break bb0;case"replay":b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Replay"),b[3]=m):m=b[3];j=m;b[4]!==a?(m=a===!0?d("fbicon")._(i("534222"),20):d("fbicon")._(i("534219"),20),b[4]=a,b[5]=m):m=b[5];l=m;break bb0;case"play":b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Play"),b[6]=m):m=b[6];j=m;b[7]!==a?(m=a===!0?d("fbicon")._(i("484866"),20):d("fbicon")._(i("484863"),20),b[7]=a,b[8]=m):m=b[8];l=m;break bb0;default:throw c("unrecoverableViolation")("The playback icon is unsupported "+f,"comet_video_player")}a=g?j:null;b[9]!==l||b[10]!==j||b[11]!==e||b[12]!==a?(m=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:j,onPress:e,tooltip:a}),b[9]=l,b[10]=j,b[11]=e,b[12]=a,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","react-compiler-runtime","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(14),e=a.isNPC,f=a.showTooltip,g=a.unmuteOnPlay;a=a.useOutlineIcons;var h=e===void 0?!1:e;e=f===void 0?!0:f;var m=g===void 0?!1:g;b[0]!==h?(f=function(){h&&c("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},g=[h],b[0]=h,b[1]=f,b[2]=g):(f=b[1],g=b[2]);k(f,g);f=c("useVideoPlayerControllerSubscription")(l);var n=f.showPauseButton;g=f.showReplayButton;var o=(i||(i=d("VideoPlayerHooks"))).useController(),p=c("useMinifiedProductAttribution")();b[3]!==o||b[4]!==h||b[5]!==p||b[6]!==n||b[7]!==m?(f=function(){h&&c("VideoHomeTypedLiteLogger").log({attribution_id_v2:p,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),n?o.pause("user_initiated"):(m&&o.setMuted(!1,"user_initiated"),o.play("user_initiated"))},b[3]=o,b[4]=h,b[5]=p,b[6]=n,b[7]=m,b[8]=f):f=b[8];f=c("useFeedClickEventHandler")(f);g=n?"pause":g?"replay":"play";var q;b[9]!==f||b[10]!==g||b[11]!==e||b[12]!==a?(q=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:592,children:j.jsx(c("VideoPlayerPlaybackControlBase.react"),{onPress:f,playbackIcon:g,showTooltip:e,useOutlineIcons:a})}),b[9]=f,b[10]=g,b[11]=e,b[12]=a,b[13]=q):q=b[13];return q}function l(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}}g["default"]=a}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="";a=a;isNaN(a)?a=0:a<0&&(a*=-1,b="-");var c=Math.floor(a/d("DateConsts").SEC_PER_HOUR),e=Math.floor((a-c*d("DateConsts").SEC_PER_HOUR)/d("DateConsts").SEC_PER_MIN);a=Math.round(a-c*d("DateConsts").SEC_PER_HOUR-e*d("DateConsts").SEC_PER_MIN);a===d("DateConsts").SEC_PER_MIN&&(a=0,e++);e===d("DateConsts").MIN_PER_HOUR&&(e=0,c++);a=("0"+a).slice(-2);if(c===0)return""+b+e+":"+a;else{e=("0"+e).slice(-2);return""+b+c+":"+e+":"+a}}g["default"]=a}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.currentTime;a=a.duration;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb"},g={className:"x1s688f x15hfatp"},b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h;b[2]!==e?(h=c("getFormattedTimestamp")(e),b[2]=e,b[3]=h):h=b[3];b[4]!==h?(e=i.jsx("span",babelHelpers["extends"]({},g,{children:h})),b[4]=h,b[5]=e):e=b[5];b[6]!==a?(g=a!=null&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:" / "}),i.jsx("span",{children:c("getFormattedTimestamp")(a)})]}),b[6]=a,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(h=i.jsxs("div",babelHelpers["extends"]({},f,{children:[e,g]})),b[8]=e,b[9]=g,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");j.useCallback;var k=j.useContext,l=10,m=10;function a(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;var c=Math.min(b.getPlayheadPosition()+l,a);c===a?(b.setIsLiveRewindActive(!1),b.seek(a)):b.seek(c);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function b(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;a=Math.max(b.getPlayheadPosition()-m,a);b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function e(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;b.seek(a);b.play("user_initiated");b.setIsLiveRewindActive(!1);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function f(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function n(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.play("user_initiated"),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function o(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.pause("user_initiated"),b.setIsLiveRewindActive(!0),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function p(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);b.play("user_initiated");e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function q(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(a){var c,d=b.getCurrentState().seekableRanges;c=(c=d==null?void 0:d.start(0))!=null?c:0;d=d!=null?(d=d.end(d.length()-1))!=null?d:0:0;c=Math.min(c+a,d);b.scrubEnd(c);c===d?b.setIsLiveRewindActive(!1):b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function r(){return c("useVideoPlayerControllerSubscription")(s)}function s(a){return(a=(a=a.getCurrentState().seekableRanges)==null?void 0:a.start(0))!=null?a:0}g.useLiveRewindForward=a;g.useLiveRewindBack=b;g.useLiveRewindLive=e;g.useLiveRewindStart=f;g.useLiveRewindPlay=n;g.useLiveRewindPause=o;g.useLiveRewindReplay=p;g.useLiveRewindScrub=q;g.useLiveRewindSeekableStartTime=r}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");b=a;var k=function(a,b){return a-b.duration};function l(){var a=d("react-compiler-runtime").c(2),b=d("useLiveRewindUtils").useLiveRewindSeekableStartTime(),e=(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200),f=i.useCurrentTimeThrottled(1e3,k),g=i.useIsLiveRewindActive();g=g?f:e-b;a[0]!==g?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:g,duration:null}),a[0]=g,a[1]=f):f=a[1];return f}function m(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useDuration(),e=i.useCurrentTimeThrottled(200),f;a[0]!==e||a[1]!==b?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:e,duration:b}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function a(){var a=d("react-compiler-runtime").c(2),b=(i||(i=d("VideoPlayerHooks"))).useIsLive();if(b){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(l,{}),a[0]=b):b=a[0];return b}else{a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(m,{}),a[1]=b):b=a[1];return b}}e=b;g["default"]=e}),98);
__d("VideoPlayerPointerDrag",["react","react-compiler-runtime","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=d("react-compiler-runtime").c(5),b=j(null),e=j(null),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a,c){b.current=c.getBoundingClientRect(),e.current=c},a[0]=f):f=a[0];f=c("useResizeObserver")(f);var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return function(){var a=e.current;a?b.current=a.getBoundingClientRect():b.current=null}},a[1]=g):g=a[1];g=c("useStable")(g);var h;a[2]!==g||a[3]!==f?(h={invalidateRootRect:g,rootRectRef:b,rootSizeRefCallback:f},a[2]=g,a[3]=f,a[4]=h):h=a[4];return h}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null||a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null||a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null||a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null||a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null||a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null||a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null||a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b.current||c[1]!==a?(e=function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},c[0]=b.current,c[1]=a,c[2]=e):e=c[2];var f;c[3]!==b||c[4]!==a?(f=[a,b],c[3]=b,c[4]=a,c[5]=f):f=c[5];i(e,f)}function r(a,b,e){var f=d("react-compiler-runtime").c(13),g=k(n),h=g[0],j=g[1];f[0]!==a||f[1]!==b?(g=function(){return p(j,a,b)},f[0]=a,f[1]=b,f[2]=g):g=f[2];g=c("useStable")(g);var l=g.destroy,m=g.onMouseDown;g=g.onTouchStart;var o,q;f[3]!==l?(o=function(){return l},q=[l],f[3]=l,f[4]=o,f[5]=q):(o=f[4],q=f[5]);i(o,q);f[6]!==m||f[7]!==g||f[8]!==(e==null?void 0:e.hasTouchEvents)?(o={onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:m,onTouchStart:(e==null?void 0:e.hasTouchEvents)===!0?g:void 0},f[6]=m,f[7]=g,f[8]=e==null?void 0:e.hasTouchEvents,f[9]=o):o=f[9];f[10]!==h||f[11]!==o?(q={dragState:h,rootProps:o},f[10]=h,f[11]=o,f[12]=q):q=f[12];return q}function e(a,b){var c=d("react-compiler-runtime").c(7),e=j(a),f=j(null),g,h;c[0]!==a?(g=function(){e.current=a},h=[a],c[0]=a,c[1]=g,c[2]=h):(g=c[1],h=c[2]);i(g,h);g=r(e,f,b);h=g.dragState;f=g.rootProps;q(h,e);b=h.dragState==="dragging";c[3]!==h||c[4]!==f||c[5]!==b?(g={dragState:h,isDragging:b,rootProps:f},c[3]=h,c[4]=f,c[5]=b,c[6]=g):g=c[6];return g}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.isVisible;var c;b[0]!==a?(c={0:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya x1s85apg xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm"},1:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm x1lliihq"}}[!!a<<0],b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0})),b[2]=c,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.bufferedRatio,f=a.isLive,g=a.isLiveRewindActive,i=a.isNubVisible,l=a.playedRatio,m=a.timelineBackgroundXStyle,n=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;var o;b[0]!==m?(o=(h||(h=c("stylex"))).props(k.timelineBackground,m),b[0]=m,b[1]=o):o=b[1];m=!f&&k.timelineBufferedBackground;var p;b[2]!==m||b[3]!==n?(p=(h||(h=c("stylex")))(k.timelineBuffered,m,n),b[2]=m,b[3]=n,b[4]=p):p=b[4];m=(100*e).toFixed(5)+"%";b[5]!==m?(n={width:m},b[5]=m,b[6]=n):n=b[6];b[7]!==p||b[8]!==n?(e=j.jsx("div",babelHelpers["extends"]({className:p},c("CometVisualCompletionAttributes").IGNORE,{style:n})),b[7]=p,b[8]=n,b[9]=e):e=b[9];m=f&&!g&&k.liveTimePlayed;p=f&&g&&k.liveRewindTimePlayed;b[10]!==m||b[11]!==p||b[12]!==a?(n=(h||(h=c("stylex")))(k.timelinePlayed,m,p,a),b[10]=m,b[11]=p,b[12]=a,b[13]=n):n=b[13];f=(100*l).toFixed(5)+"%";b[14]!==f?(g={width:f},b[14]=f,b[15]=g):g=b[15];b[16]!==i?(m=j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:i}),b[16]=i,b[17]=m):m=b[17];b[18]!==g||b[19]!==m||b[20]!==n?(p=j.jsx("div",babelHelpers["extends"]({className:n},c("CometVisualCompletionAttributes").IGNORE,{style:g,children:m})),b[18]=g,b[19]=m,b[20]=n,b[21]=p):p=b[21];b[22]!==o||b[23]!==p||b[24]!==e?(a=j.jsxs("div",babelHelpers["extends"]({},o,{children:[e,p]})),b[22]=o,b[23]=p,b[24]=e,b[25]=a):a=b[25];return a}g["default"]=a}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=d("react-compiler-runtime").c(41),e=a.bufferEnd,f=a.currentTime,g=a.duration,h=a.onScrubCancel,l=a.onScrubEnd,m=a.onScrubStart;a=a.supportsTouch;var n=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),o=n.invalidateRootRect,p=n.rootRectRef;n=n.rootSizeRefCallback;var q=j(0),r=q[0],s=q[1];q=j(!1);var t=q[0],u=q[1],v=c("usePrevious")(f),w;b[0]!==f||b[1]!==v?(q=function(){f!==v&&u(!1)},w=[f,v],b[0]=f,b[1]=v,b[2]=q,b[3]=w):(q=b[2],w=b[3]);i(q,w);b[4]!==h?(q=function(a){h()},b[4]=h,b[5]=q):q=b[5];b[6]!==g||b[7]!==h||b[8]!==l||b[9]!==p?(w=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a){h();return}s(a.ratioX);a=a.ratioX*g;l(a)},b[6]=g,b[7]=h,b[8]=l,b[9]=p,b[10]=w):w=b[10];var x;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){u(!0)},b[11]=x):x=b[11];var y;b[12]!==p?(y=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX)},b[12]=p,b[13]=y):y=b[13];var z;b[14]!==o||b[15]!==m||b[16]!==p?(z=function(a){o();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX);m()},b[14]=o,b[15]=m,b[16]=p,b[17]=z):z=b[17];b[18]!==q||b[19]!==w||b[20]!==y||b[21]!==z?(x={onDragCancel:q,onDragEnd:w,onDragEndSync:x,onDragMove:y,onDragStart:z},b[18]=q,b[19]=w,b[20]=y,b[21]=z,b[22]=x):x=b[22];q=a===!0;b[23]!==q?(w={hasTouchEvents:q},b[23]=q,b[24]=w):w=b[24];y=d("VideoPlayerPointerDrag").usePointerDrag(x,w);z=y.isDragging;a=y.rootProps;b[25]!==e||b[26]!==g?(q=k(g,e),b[25]=e,b[26]=g,b[27]=q):q=b[27];x=q;b[28]!==f||b[29]!==g?(w=k(g,f),b[28]=f,b[29]=g,b[30]=w):w=b[30];y=w;b[31]!==x||b[32]!==y||b[33]!==o||b[34]!==z||b[35]!==t||b[36]!==r||b[37]!==a||b[38]!==p||b[39]!==n?(e={bufferedRatio:x,currentPlayedRatio:y,invalidateRootRect:o,isDragging:z,isWaitingForSeek:t,pointerOffsetRatio:r,rootProps:a,rootRectRef:p,rootSizeRefCallback:n},b[31]=x,b[32]=y,b[33]=o,b[34]=z,b[35]=t,b[36]=r,b[37]=a,b[38]=p,b[39]=n,b[40]=e):e=b[40];return e}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","react","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useState;function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.disableKeyCommands,g=a.duration,i=a.hideNub;i=i===void 0?!1:i;var n=a.isLive,o=a.isLiveRewindActive,p=a.keyLeftDescription,q=a.keyRightDescription,r=a.onScrubCancel,s=a.onScrubEnd,t=a.onScrubStart,u=a.onUserInteraction,v=a.playFromBeginningImpl,w=a.renderScrubber,x=a.renderTooltip,y=a.skipBackwardImpl,z=a.skipForwardImpl,A=a.skipToEndImpl,B=a.supportsTouch,C=a.timelineBackgroundXStyle,D=a.timelineBufferedXStyle,E=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var F=m(!1),G=F[0],H=F[1];F=m(0);var I=F[0],J=F[1];F=m(null);var K=F[0],L=F[1];F=c("useVideoPlayerScrubberState")({bufferEnd:b,currentTime:e,duration:g,onScrubCancel:r,onScrubEnd:s,onScrubStart:t,supportsTouch:B});b=F.bufferedRatio;r=F.currentPlayedRatio;var M=F.invalidateRootRect;s=F.isDragging;t=F.isWaitingForSeek;B=F.pointerOffsetRatio;var N=F.rootProps,O=F.rootRectRef;F=F.rootSizeRefCallback;var P=k(function(){H(!0)},[]),Q=k(function(){H(!1)},[]),R=k(function(a){M();if(O.current!=null){var b=O.current.left,c=O.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(g)&&g>0?g*d:null;J(a.clientX-b);L(c)}},[g,M,O]),S=G||s;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",S,u);S=G||s||t;u=s||t?B:n&&!o?1:r;s=l(function(){return f===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:q,handler:z},{command:{key:c("CometKeys").LEFT},description:p,handler:y},{command:{key:c("CometKeys").HOME},description:h._(/*BTDS*/"Play from beginning"),handler:v},{command:{key:c("CometKeys").END},description:h._(/*BTDS*/"Skip to end"),handler:A}]},[f,q,z,p,y,v,A]);t={bufferedRatio:b,duration:g,hoveringPositionSec:K,isHovering:G,isLive:n,isLiveRewindActive:o,isNubVisible:!i&&S,playedRatio:u,timelineBackgroundXStyle:C,timelineBufferedXStyle:D,timelinePlayedXStyle:E};return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,children:j.jsxs("div",babelHelpers["extends"]({},N,{"aria-label":h._(/*BTDS*/"Change Position"),"aria-orientation":"horizontal","aria-valuemax":g,"aria-valuemin":"0","aria-valuenow":e,className:{0:"x1ypdohk x1y1aw1k xyri2b xwib8y2 x1c1uobl x1n2onr6 x87ps6o xh8yej3",1:"x1ypdohk xyri2b x1c1uobl x1n2onr6 x87ps6o xh8yej3 x18d9i69 xexx8yu"}[!!a<<0],"data-testid":void 0,onMouseEnter:P,onMouseLeave:Q,onMouseMove:R,ref:F,role:"slider",tabIndex:0,children:[w!=null?w(t):j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},t)),x!=null&&K!=null&&G&&j.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:I},children:x(K)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerScrubber.react",["fbt","VideoPlayerHooks","VideoPlayerScrubberBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;function l(){return(j||(j=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=d("react-compiler-runtime").c(48),e=a.onUserInteraction,f=a.renderScrubber;a=a.renderTooltip;var g=l(),i=(j||(j=d("VideoPlayerHooks"))).useDuration(),m=j.useController(),n=j.useBufferEnd(),o=j.useIsLive(),p=j.useIsLiveRewindActive(),q=d("useLiveRewindUtils").useLiveRewindScrub(),r=d("useLiveRewindUtils").useLiveRewindForward(),s=d("useLiveRewindUtils").useLiveRewindBack(),t=d("useLiveRewindUtils").useLiveRewindStart(),u=d("useLiveRewindUtils").useLiveRewindLive(),v=d("useLiveRewindUtils").useLiveRewindSeekableStartTime();o&&(i=i-v,i,g=g-v);b[0]!==m||b[1]!==i||b[2]!==o||b[3]!==r?(v=function(){if(o)r();else{var a=m.getPlayheadPosition()+5;a>=i?m.seek(i-.01):m.seek(a)}},b[0]=m,b[1]=i,b[2]=o,b[3]=r,b[4]=v):v=b[4];i;v=v;var w;b[5]!==o?(w=o?h._(/*BTDS*/"Fast forward 10 seconds"):h._(/*BTDS*/"Fast forward 5 seconds"),b[5]=o,b[6]=w):w=b[6];w=w;var x;b[7]!==m||b[8]!==o||b[9]!==s?(x=function(){if(o)s();else{var a=m.getPlayheadPosition()-5;a<0?m.seek(0):m.seek(a)}},b[7]=m,b[8]=o,b[9]=s,b[10]=x):x=b[10];x=x;var y;b[11]!==o?(y=o?h._(/*BTDS*/"Rewind 10 seconds"):h._(/*BTDS*/"Rewind 5 seconds"),b[11]=o,b[12]=y):y=b[12];y=y;var z;b[13]!==m||b[14]!==o||b[15]!==t?(z=function(){o?t():m.seek(0)},b[13]=m,b[14]=o,b[15]=t,b[16]=z):z=b[16];z=z;var A;b[17]!==m||b[18]!==i||b[19]!==o||b[20]!==u?(A=function(){o?u():m.seek(i-.01)},b[17]=m,b[18]=i,b[19]=o,b[20]=u,b[21]=A):A=b[21];i;A=A;var B;b[22]!==m?(B=function(){m.scrubEnd(null)},b[22]=m,b[23]=B):B=b[23];B=B;var C;b[24]!==m?(C=function(){m.scrubBegin()},b[24]=m,b[25]=C):C=b[25];C=C;var D;b[26]!==m||b[27]!==o||b[28]!==q?(D=function(a){!o?m.scrubEnd(a):q(a)},b[26]=m,b[27]=o,b[28]=q,b[29]=D):D=b[29];D=D;var E;b[30]!==n||b[31]!==g||b[32]!==i||b[33]!==o||b[34]!==p||b[35]!==A||b[36]!==y||b[37]!==w||b[38]!==e||b[39]!==z||b[40]!==f||b[41]!==a||b[42]!==B||b[43]!==D||b[44]!==C||b[45]!==x||b[46]!==v?(E=k.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:n,currentTime:g,duration:i,isLive:o,isLiveRewindActive:p,keyLeftDescription:y,keyRightDescription:w,onScrubCancel:B,onScrubEnd:D,onScrubStart:C,onUserInteraction:e,playFromBeginningImpl:z,renderScrubber:f,renderTooltip:a,skipBackwardImpl:x,skipForwardImpl:v,skipToEndImpl:A}),b[30]=n,b[31]=g,b[32]=i,b[33]=o,b[34]=p,b[35]=A,b[36]=y,b[37]=w,b[38]=e,b[39]=z,b[40]=f,b[41]=a,b[42]=B,b[43]=D,b[44]=C,b[45]=x,b[46]=v,b[47]=E):E=b[47];return E}g["default"]=a}),226);
__d("VideoPlayerScrubberPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberPreview_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_preview_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberChapterPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberDefaultPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberPreview.react",["CometRelay","VideoPlayerScrubberPreview_video.graphql","VideoPlayerTimeIndicator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.timestampSec;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberPreview_video.graphql"),a);if(a==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:f}),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_preview_renderer;var i;e[2]!==f||e[3]!==a?(i={timestampSec:f,video:a},e[2]=f,e[3]=a,e[4]=i):i=e[4];e[5]!==g||e[6]!==i?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:i}),e[5]=g,e[6]=i,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("VideoPlayerVolumeControlBase.react",["fbt","ix","FocusWithinHandler.react","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState,m=.33,n=.66;function a(a){var b=d("react-compiler-runtime").c(18),e=a.audioAvailabilityUI,f=a.isMuted,g=a.onMouseEnter,j=a.onMouseLeave,o=a.onSetMuted,p=a.onUserInteraction,q=a.renderVolumeSlider,r=a.useOutlineIcons;a=a.volume;r=r===void 0?!1:r;var s=!f&&a>0,t;b[0]!==e||b[1]!==s||b[2]!==r||b[3]!==a?(e!=null&&e.shouldShowNullIcon?t=r?d("fbicon")._(i("944795"),20):d("fbicon")._(i("944792"),20):s?a<=m?t=r?d("fbicon")._(i("1146252"),20):d("fbicon")._(i("1104387"),20):a<=n?t=r?d("fbicon")._(i("1104392"),20):d("fbicon")._(i("1104390"),20):t=r?d("fbicon")._(i("564393"),20):d("fbicon")._(i("564390"),20):t=r?d("fbicon")._(i("564399"),20):d("fbicon")._(i("564396"),20),b[0]=e,b[1]=s,b[2]=r,b[3]=a,b[4]=t):t=b[4];s=l(!1);var u=s[0],v=s[1];b[5]!==f?(r=f?h._(/*BTDS*/"Unmute"):h._(/*BTDS*/"Mute"),b[5]=f,b[6]=r):r=b[6];var w=r;b[7]!==e||b[8]!==t||b[9]!==f||b[10]!==u||b[11]!==w||b[12]!==g||b[13]!==j||b[14]!==o||b[15]!==p||b[16]!==q?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsxs("div",babelHelpers["extends"]({className:"x1ypdohk x1rg5ohu xhsvlbd xyamay9 x1icxu4v x10b6aqq x25sj25 x1n2onr6"},{onMouseEnter:g,onMouseLeave:j,children:[e!=null&&e.shouldDisableVolumeControl?null:k.jsx("div",babelHelpers["extends"]({className:"xk7dvq3 x9f619 x1o0tod x1yrsyyn x1icxu4v x10b6aqq x25sj25 x10l6tqk xh8yej3"},{children:q({focusVisible:b,onVisibilityChange:v})})),k.jsx(c("VideoPlayerControlIcon.react"),{icon:t,label:w,onPress:function(){e&&e.onVolumeControlPress(),e!=null&&e.shouldDisableVolumeControl||o(!f,"user_initiated"),p&&p({name:"video_mute_button",type:"happened"})},tooltip:e!=null?e.tooltipContent:null,tooltipAlign:"end",tooltipImpl:e!=null?e.tooltipImpl:null,tooltipOffsetY:u?-80:0})]}))}}),b[7]=e,b[8]=t,b[9]=f,b[10]=u,b[11]=w,b[12]=g,b[13]=j,b[14]=o,b[15]=p,b[16]=q,b[17]=a):a=b[17];return a}g["default"]=a}),226);
__d("VideoPlayerVolumeSliderBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o={root:{cursor:"x1ypdohk",height:"xng8ra",opacity:"xg01cxk",pointerEvents:"x47corl",position:"x1n2onr6",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x1td3qas",zIndex:"x1ja2u2z",$$css:!0},rootVisible:{opacity:"x1hc1fzr",pointerEvents:"x67bb7w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(59),e=a.isHovering,f=a.isMuted,g=a.onChangeVolumeDown,j=a.onChangeVolumeUp,p=a.onSetMuted,q=a.onSetVolume,r=a.onUserInteraction,s=a.onVisibilityChange,t=a.volume;a=d("VideoPlayerPointerDrag").usePointerDragResizeObserver();var u=a.invalidateRootRect,v=a.rootRectRef;a=a.rootSizeRefCallback;var w=m(t),x=m(f),y=f?0:t,z=n(y),A=z[0],B=z[1];b[0]!==f||b[1]!==p||b[2]!==q||b[3]!==v?(z=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,v.current);if(!a)return;a=Math.max(0,Math.min(1,1-a.ratioY));B(a);q(a);f&&p(!1,"user_initiated")},b[0]=f,b[1]=p,b[2]=q,b[3]=v,b[4]=z):z=b[4];var C=z;b[5]!==p||b[6]!==q?(z=function(a){B(w.current),q(w.current),p(x.current,"user_initiated")},b[5]=p,b[6]=q,b[7]=z):z=b[7];var D,E;b[8]!==C?(D=function(a){C(a)},E=function(a){C(a)},b[8]=C,b[9]=D,b[10]=E):(D=b[9],E=b[10]);var F;b[11]!==u||b[12]!==f||b[13]!==C||b[14]!==t||b[15]!==y?(F=function(a){u(),w.current=t,x.current=f,B(y),C(a)},b[11]=u,b[12]=f,b[13]=C,b[14]=t,b[15]=y,b[16]=F):F=b[16];var G;b[17]!==z||b[18]!==D||b[19]!==E||b[20]!==F?(G={onDragCancel:z,onDragEnd:D,onDragMove:E,onDragStart:F},b[17]=z,b[18]=D,b[19]=E,b[20]=F,b[21]=G):G=b[21];z=d("VideoPlayerPointerDrag").usePointerDrag(G);D=z.isDragging;E=z.rootProps;F=D?A:y;var H=e||D,I=m(H);b[22]!==H||b[23]!==s?(G=function(){I.current!==H&&(s&&s(H)),I.current=H},z=[s,H],b[22]=H,b[23]=s,b[24]=G,b[25]=z):(G=b[24],z=b[25]);l(G,z);A=H;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_volume_slider",A,r);b[26]===Symbol["for"]("react.memo_cache_sentinel")?(e={key:c("CometKeys").UP},D=h._(/*BTDS*/"Increase volume"),b[26]=e,b[27]=D):(e=b[26],D=b[27]);b[28]!==j?(G={command:e,description:D,handler:function(){j()}},b[28]=j,b[29]=G):G=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").DOWN},A=h._(/*BTDS*/"Decrease volume"),b[30]=z,b[31]=A):(z=b[30],A=b[31]);b[32]!==g?(r={command:z,description:A,handler:function(){g()}},b[32]=g,b[33]=r):r=b[33];b[34]!==G||b[35]!==r?(e=[G,r],b[34]=G,b[35]=r,b[36]=e):e=b[36];D=e;z=D;b[37]===Symbol["for"]("react.memo_cache_sentinel")?(A=h._(/*BTDS*/"Change volume"),b[37]=A):A=b[37];G=H&&o.rootVisible;b[38]!==G?(r=(i||(i=c("stylex")))(o.root,G),b[38]=G,b[39]=r):r=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x18fn2jl xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c xng8ra xi5uv41 x10l6tqk x1xc55vz"},D="x1spa7qu xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c x10l6tqk xh8yej3",b[40]=e,b[41]=D):(e=b[40],D=b[41]);G=F*100+"%";b[42]!==G?(F={height:G},b[42]=G,b[43]=F):F=b[43];b[44]===Symbol["for"]("react.memo_cache_sentinel")?(G={className:"x1c7jfne x1f4buv5 x1n2onr6"},b[44]=G):G=b[44];b[45]!==H?(G=k.jsx("div",babelHelpers["extends"]({},G,{children:k.jsx(c("VideoPlayerSliderNub.react"),{isVisible:H})})),b[45]=H,b[46]=G):G=b[46];b[47]!==F||b[48]!==G?(e=k.jsx("div",babelHelpers["extends"]({},e,{children:k.jsx("div",{className:D,style:F,children:G})})),b[47]=F,b[48]=G,b[49]=e):e=b[49];b[50]!==E||b[51]!==a||b[52]!==r||b[53]!==e||b[54]!==t?(D=k.jsx("div",babelHelpers["extends"]({},E,{"aria-label":A,"aria-orientation":"vertical","aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":t,className:r,ref:a,role:"slider",tabIndex:0,children:e})),b[50]=E,b[51]=a,b[52]=r,b[53]=e,b[54]=t,b[55]=D):D=b[55];b[56]!==z||b[57]!==D?(F=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:z,children:D}),b[56]=z,b[57]=D,b[58]=F):F=b[58];return F}g["default"]=a}),226);
__d("VideoPlayerVolumeSlider.react",["VideoPlayerHooks","VideoPlayerVolumeSliderBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(20),e=a.isHovering,f=a.onUserInteraction;a=a.onVisibilityChange;var g=(i||(i=d("VideoPlayerHooks"))).useController(),h=i.useMuted(),k=i.useVolume(),l;b[0]!==g?(l=function(a){g.setVolume(a)},b[0]=g,b[1]=l):l=b[1];l=l;var m;b[2]!==g?(m=function(a,b){g.setMuted(a,b)},b[2]=g,b[3]=m):m=b[3];m=m;var n;b[4]!==g?(n=function(a){var b=g.getCurrentState();a=Math.max(0,Math.min(1,b.volume+a));g.setVolume(a);a===0?g.setMuted(!0,"user_initiated"):b.muted&&g.setMuted(!1,"user_initiated")},b[4]=g,b[5]=n):n=b[5];var o=n;b[6]!==o?(n=function(){o(.05)},b[6]=o,b[7]=n):n=b[7];n=n;var p;b[8]!==o?(p=function(){o(-.05)},b[8]=o,b[9]=p):p=b[9];p=p;var q;b[10]!==p||b[11]!==n||b[12]!==e||b[13]!==h||b[14]!==f||b[15]!==a||b[16]!==m||b[17]!==l||b[18]!==k?(q=j.jsx(c("VideoPlayerVolumeSliderBase.react"),{isHovering:e,isMuted:h,onChangeVolumeDown:p,onChangeVolumeUp:n,onSetMuted:m,onSetVolume:l,onUserInteraction:f,onVisibilityChange:a,volume:k}),b[10]=p,b[11]=n,b[12]=e,b[13]=h,b[14]=f,b[15]=a,b[16]=m,b[17]=l,b[18]=k,b[19]=q):q=b[19];return q}g["default"]=a}),98);
__d("VideoPlayerVolumeControl.react",["VideoPlayerHooks","VideoPlayerVolumeControlBase.react","VideoPlayerVolumeSlider.react","cr:1826284","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useState,l=(f=b("cr:1826284"))!=null?f:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(15),e=a.onUserInteraction;a=a.useOutlineIcons;a=a===void 0?!1:a;var f=k(!1),g=f[0],h=f[1],m=(i||(i=d("VideoPlayerHooks"))).useController();f=i.useMuted();var n=i.useVolume(),o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){h(!0)},b[0]=o):o=b[0];o=o;var p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){h(!1)},b[1]=p):p=b[1];p=p;var q;b[2]!==m?(q=function(a,b){m.setMuted(a,b)},b[2]=m,b[3]=q):q=b[3];q=q;var r=!f&&n>0;r=l({canPlayerProduceSound:r,isHovering:g})||null;var s;b[4]!==g||b[5]!==e?(s=function(a){var b=a.focusVisible;a=a.onVisibilityChange;return j.jsx(c("VideoPlayerVolumeSlider.react"),{isHovering:g||b,onUserInteraction:e,onVisibilityChange:a})},b[4]=g,b[5]=e,b[6]=s):s=b[6];b[7]!==r||b[8]!==f||b[9]!==e||b[10]!==q||b[11]!==s||b[12]!==a||b[13]!==n?(o=j.jsx(c("VideoPlayerVolumeControlBase.react"),{audioAvailabilityUI:r,isMuted:f,onMouseEnter:o,onMouseLeave:p,onSetMuted:q,onUserInteraction:e,renderVolumeSlider:s,useOutlineIcons:a,volume:n}),b[7]=r,b[8]=f,b[9]=e,b[10]=q,b[11]=s,b[12]=a,b[13]=n,b[14]=o):o=b[14];return o}g["default"]=a}),98);
__d("useVideoPlayerVolumeControlAudioAvailabilityUI",["fbt","CometTooltipImpl.react","VideoPlayerControlsHiddenContext","clearTimeout","emptyFunction","react","setTimeout","useAudioAvailabilityAtPlayhead","usePrevious","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=3e3;function a(a){var b=a.canPlayerProduceSound,d=a.isHovering;a=c("useAudioAvailabilityAtPlayhead")();var e=a.isSilentAtPlayhead;a=a.volumeControlState;var g=null;switch(a){case"VOLUME_SILENT":g=h._(/*BTDS*/"Video has no sound");break;case"VOLUME_COPYRIGHT_FULL":g=h._(/*BTDS*/"Muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_SILENCED":g=h._(/*BTDS*/"Partially muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED":break;case"VOLUME_DEFAULT":break;default:a}var i=c("usePrevious")(e),p=n(!1),q=p[0],r=p[1],s=m(c("emptyFunction")),t=m(!1);p=n(!1);var u=p[0],v=p[1],w=c("useStable")(function(){return function(a){t.current=a,v(a),s.current(a),a||r(!1)}}),x=k(c("VideoPlayerControlsHiddenContext"));l(function(){x?w(!1):g==null?w(!1):d||q?w(!0):e!==i&&e&&b&&w(!0)},[g,b,x,d,q,e,i,w]);l(function(){if(u){var a=c("setTimeout")(function(){w(!1)},o);return function(){c("clearTimeout")(a)}}},[u,w]);p=c("useStable")(function(){return function(){r(function(a){return!a})}});var y=c("useStable")(function(){function a(a){var b=n(!1),d=b[0],e=b[1];l(function(){s.current=e;return function(){s.current=c("emptyFunction")}},[e]);l(function(){a.isVisible||w(!1)},[a.isVisible]);return j.jsx(c("CometTooltipImpl.react"),babelHelpers["extends"]({},a,{isVisible:d}))}a.displayName=a.name+" [from "+f.id+"]";return a}),z=a==="VOLUME_COPYRIGHT_FULL"||a==="VOLUME_SILENT",A=b?e:z;return g==null?null:{onVolumeControlPress:p,shouldDisableVolumeControl:z,shouldShowNullIcon:A,tooltipContent:g,tooltipImpl:y,volumeControlState:a}}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometNotificationsDropdownMenuButton_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownMenuButton_actor",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},action:"THROW",path:"name"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometNotificationsDropdownMenuButton_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsDropdownMenuButton_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{kind:"ClientExtension",selections:[{alias:"id_for_entrypoint",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsDropdownMenuContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9698914406880921"}),null);
__d("CometNotificationsDropdownMenuContainerQuery$Parameters",["CometNotificationsDropdownMenuContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometNotificationsDropdownMenuContainerQuery_facebookRelayOperation"),metadata:{},name:"CometNotificationsDropdownMenuContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometNotificationsDropdownMenuContainer.entrypoint",["CometNotificationsDropdownMenuContainerQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c={encoded_notif_id:a.encodedNotifId,environment:a.environment,notif_type:a.notifType,scale:d("WebPixelRatio").get()};return{extraProps:{menuID:a.menuID,queryID:a.queryId},queries:{dropdownQueryRef:{parameters:b("CometNotificationsDropdownMenuContainerQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("CometNotificationsDropdownMenuContainer.react").__setRef("CometNotificationsDropdownMenuContainer.entrypoint")};e=a;g["default"]=e}),98);
__d("FDSListCellHoverActions.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),c=a.children,e=a.hidden;a=a.showNear;var f;b[0]!==e||b[1]!==a?(f={0:{className:"x78zum5 x67bb7w x10l6tqk xwa60dl x1cb1t30 x9olu1o"},2:{className:"x78zum5 x67bb7w x10l6tqk xwa60dl x1cb1t30 x11dcrhx"},1:{className:"x78zum5 x67bb7w x10l6tqk xwa60dl x1cb1t30 x9olu1o x11adwwt x1qvwoe0 x1vzd84k xjm9jq1 x6ikm8r x10wlt62 x1i1rx1s"},3:{className:"x78zum5 x67bb7w x10l6tqk xwa60dl x1cb1t30 x11dcrhx x11adwwt x1qvwoe0 x1vzd84k xjm9jq1 x6ikm8r x10wlt62 x1i1rx1s"}}[!!(a===!0)<<1|!!e<<0],b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==c?(e=Array.isArray(c)?c.filter(k).map(j):c,b[3]=c,b[4]=e):e=b[4];b[5]!==f||b[6]!==e?(a=i.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[5]=f,b[6]=e,b[7]=a):a=b[7];return a}function j(a,b){return i.createElement("div",babelHelpers["extends"]({className:"x13fj5qh"},{key:b}),a)}j.displayName=j.name+" [from "+f.id+"]";function k(a){return a!=null}g["default"]=a}),98);
__d("FDSListCellHoverButton.react",["fbt","ix","FDSCircleButton.react","FDSDeferredPopoverTrigger.react","FDSEntryPointPopoverTrigger.react","FDSLazyPopoverTrigger.react","FocusWithinHandler.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=["popoverProps"],k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useState;function a(a){var b=a.label,e=a.menuID,f=a.onFocusChange,g=a.onHoverChange,k=a.onMenuStateChange,o=a.onPress,p=a.size,q=a.testid,r=n(!1),s=r[0],t=r[1];r=m(function(a){k!=null&&k(a),t(a)},[k]);var u=m(function(a,j,k,m,n){return l.jsx("div",{ref:a,children:l.jsx(c("FocusWithinHandler.react"),{onFocusChange:f,children:function(a){return l.jsx("div",babelHelpers["extends"]({},{0:{},1:{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10xjkym"}}[!!!a<<0],{children:l.jsx(c("FDSCircleButton.react"),{"aria-controls":e,"aria-expanded":s,color_DEPRECATED:"secondary",icon:d("fbicon")._(i("484387"),20),label:b!=null?b:h._(/*BTDS*/"Menu"),onHoverIn:function(a){k&&k(a),g&&g(!0)},onHoverOut:function(){m&&m(),g&&g(!1)},onPress:function(){o&&o(),j()},onPressIn:n,size:p!=null?p:36,testid:void 0,type_DEPRECATED:"overlay"})}))}})})},[f,b,g,o,q,p]);q={align:"middle",fallback:a.popoverFallback,onVisibilityChange:r,popoverProps:a.popoverProps,position:"below"};if(a.popoverTriggerType==="lazy")return l.jsx(c("FDSLazyPopoverTrigger.react"),babelHelpers["extends"]({},q,{popoverResource:a.popoverResource,children:function(a,b){return u(a,b)}}));if(a.popoverTriggerType==="entryPoint"){r=q.popoverProps;var v=babelHelpers.objectWithoutPropertiesLoose(q,j);return l.jsx(c("FDSEntryPointPopoverTrigger.react"),babelHelpers["extends"]({},v,{entryPointParams:a.entryPointParams,otherProps:r,popoverEntryPoint:a.popoverEntryPoint,preloadTrigger:"button_aggressive",children:function(a,b,c,d,e,f){return u(a,b,d,e,f)}}))}return l.jsx(c("FDSDeferredPopoverTrigger.react"),babelHelpers["extends"]({},q,{popoverResource:a.popoverResource,children:function(a,b){return u(a,b)}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometNotificationsDropdownMenuButton.react",["fbt","CometNotificationsDropdownMenuButton_actor.graphql","CometNotificationsDropdownMenuButton_notification.graphql","CometNotificationsDropdownMenuContainer.entrypoint","CometRelay","FDSListCellHoverActions.react","FDSListCellHoverButton.react","react","react-compiler-runtime","requireDeferred","useNotificationsEnvironmentFromContext"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useId,n=c("requireDeferred")("OpenOptionsMenuFalcoEvent").__setRef("CometNotificationsDropdownMenuButton.react");function a(a){var e=d("react-compiler-runtime").c(24),f=a.actor$key,g=a.hidden,k=a.notification$key,o=a.onFocusChange,p=a.onHoverChange,q=a.onMenuStateChange,r=a.queryId,s=a.userId;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometNotificationsDropdownMenuButton_actor.graphql"),f);var t=d("CometRelay").useFragment(j!==void 0?j:j=b("CometNotificationsDropdownMenuButton_notification.graphql"),k);e[0]!==(t==null?void 0:t.notif_id)||e[1]!==(t==null?void 0:t.notif_type)||e[2]!==s?(f=function(){n.onReady(function(a){a=a.log;return a(function(){return{notification_data:{alert_id:t==null?void 0:t.notif_id,logger_context:"www_tab",notif_type:t==null?void 0:t.notif_type,user_id:s},ref:"www_tab"}})})},e[0]=t==null?void 0:t.notif_id,e[1]=t==null?void 0:t.notif_type,e[2]=s,e[3]=f):f=e[3];k=f;f=m();var u=c("useNotificationsEnvironmentFromContext")(),v=t==null?void 0:t.id_for_entrypoint,w=t==null?void 0:t.notif_type,x;e[4]!==u||e[5]!==f||e[6]!==r||e[7]!==v||e[8]!==w?(x={encodedNotifId:v,environment:u,menuID:f,notifType:w,queryId:r},e[4]=u,e[5]=f,e[6]=r,e[7]=v,e[8]=w,e[9]=x):x=e[9];e[10]!==(a==null?void 0:a.name)?(u=h._(/*BTDS*/"Manage {entity name} notification settings",[h._param("entity name",a==null?void 0:a.name)]),e[10]=a==null?void 0:a.name,e[11]=u):u=e[11];e[12]===Symbol["for"]("react.memo_cache_sentinel")?(r={},e[12]=r):r=e[12];e[13]!==k||e[14]!==f||e[15]!==o||e[16]!==p||e[17]!==q||e[18]!==x||e[19]!==u?(v=l.jsx(c("FDSListCellHoverButton.react"),{entryPointParams:x,label:u,menuID:f,onFocusChange:o,onHoverChange:p,onMenuStateChange:q,onPress:k,popoverEntryPoint:c("CometNotificationsDropdownMenuContainer.entrypoint"),popoverProps:r,popoverTriggerType:"entryPoint",popoverType:"menu"}),e[13]=k,e[14]=f,e[15]=o,e[16]=p,e[17]=q,e[18]=x,e[19]=u,e[20]=v):v=e[20];e[21]!==g||e[22]!==v?(w=l.jsx(c("FDSListCellHoverActions.react"),{hidden:g,children:v}),e[21]=g,e[22]=v,e[23]=w):w=e[23];return w}g["default"]=a}),226);
__d("CometNotificationsListItemAttachment_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"isToast"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItemAttachment_notification",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemFriendRequestAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"FriendRequestNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineCTAAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"InlineCTACometNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemPageInviteAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"PageInviteNotifAttachment",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemQuickPromotionAttachment_notifAttachments",fragmentPropName:"notifAttachments",kind:"ModuleImport"}],type:"QuickPromotionNotifAttachment",abstractKey:null},{condition:"isToast",kind:"Condition",passingValue:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"CometNotificationsListItemAttachment_notification",fragmentName:"CometNotificationsListItemInlineSurveyAttachment_attachment",fragmentPropName:"attachment",kind:"ModuleImport"}],type:"InlineSurveyNotifAttachment",abstractKey:null}]}],storageKey:null}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsListItemAttachment.react",["CometErrorBoundary.react","CometNotificationsListItemAttachment_notification.graphql","CometRelay","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("requireDeferred")("NotifCtaImpressionFalcoEvent").__setRef("CometNotificationsListItemAttachment.react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.date,f=a.notification,g=a.notificationId;a=a.onPress;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(l,{date:e,notification:f,notificationId:g,onPress:a})}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}function l(a){var c=d("react-compiler-runtime").c(8),e=a.date,f=a.notification,g=a.notificationId,i=a.onPress;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometNotificationsListItemAttachment_notification.graphql"),f);c[0]!==g?(f=function(a){k.onReady(function(b){b=b.log;b(function(){return{cta_type:a,notif_id:g}})})},c[0]=g,c[1]=f):f=c[1];var l=f;f=a.notif_attachments;if(f==null)return null;c[2]!==f||c[3]!==e||c[4]!==g||c[5]!==l||c[6]!==i?(a=f.map(function(a,b){return j.jsx(d("CometRelay").MatchContainer,{match:a,props:{date:e,notifAttachments:a,notificationId:g,onImpression:l,onPress:i}},b)}).filter(Boolean),c[2]=f,c[3]=e,c[4]=g,c[5]=l,c[6]=i,c[7]=a):a=c[7];f=a;return f.length===0?null:f}g["default"]=a}),98);
__d("CometNotificationsListItemSeenContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(function(){});g["default"]=b}),98);
__d("CometNotificationsListItemSnippet_ufiIconsAndCounts.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsListItemSnippet_ufiIconsAndCounts",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"short_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBUfiIconsAndCounts",kind:"LinkedField",name:"ufi_icons_and_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi_counts",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ufi_icon_name",storageKey:null}],storageKey:null}],type:"NotificationContextInfo",abstractKey:null};e.exports=a}),null);
__d("FBNucleusCommentOutline16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M8 .5a7.5 7.5 0 0 1 6.638 10.994.341.341 0 0 0-.041.236l.534 2.193a1 1 0 0 1-1.208 1.208l-2.193-.534a.341.341 0 0 0-.236.04A7.5 7.5 0 1 1 8 .5zM14 8a6 6 0 1 0-3.206 5.311 1.838 1.838 0 0 1 1.29-.171l1.395.34-.34-1.395a1.836 1.836 0 0 1 .172-1.29A5.97 5.97 0 0 0 14 8z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusLikeOutline16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M7.75.5A1.75 1.75 0 0 0 6 2.25v.196a5.23 5.23 0 0 1-.662 2.546l-.737 1.323a4.751 4.751 0 0 0-.098.185H2.25A1.75 1.75 0 0 0 .5 8.25v5c0 .966.784 1.75 1.75 1.75h9.02a3.25 3.25 0 0 0 3.164-2.506l.968-4.114A2.75 2.75 0 0 0 12.725 5H10.5V3.25A2.75 2.75 0 0 0 7.75.5zM4 13.5H2.25a.25.25 0 0 1-.25-.25v-5A.25.25 0 0 1 2.25 8H4v5.5zm1.5 0V8.628c0-.554.142-1.099.411-1.583l.738-1.322A6.73 6.73 0 0 0 7.5 2.446V2.25A.25.25 0 0 1 7.75 2C8.44 2 9 2.56 9 3.25v2c0 .69.56 1.25 1.25 1.25h2.475a1.25 1.25 0 0 1 1.217 1.536l-.968 4.115A1.75 1.75 0 0 1 11.27 13.5H5.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusReactionCountsOutline24Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13.801 5.366c0-.386.313-.698.698-.698.674 0 1.22.547 1.22 1.22v1.747c0 .056.046.101.102.101h1.795c.992 0 1.723.928 1.492 1.892l-.457 1.905a2.301 2.301 0 0 1-2.238 1.764h-2.995a.575.575 0 0 1-.575-.575V9.238c0-.417.097-.828.284-1.2l.285-.572a3.68 3.68 0 0 0 .39-1.65v-.45zM10.867 8.5a.767.767 0 0 0-.767.767v3.26c0 .424.343.767.767.767h.767a.384.384 0 0 0 .383-.383V8.884a.384.384 0 0 0-.383-.384h-.767z"}),i.jsx("path",{d:"M5.501 9.5a9 9 0 1 1 18 0 9 9 0 0 1-18 0zm9-7a7 7 0 1 0 0 14 7 7 0 0 0 0-14z"}),i.jsx("path",{d:"M3.59 9.017a1 1 0 0 1 .227 1.396 7 7 0 0 0 9.77 9.772 1 1 0 0 1 1.169 1.622A9 9 0 0 1 2.195 9.243a1 1 0 0 1 1.395-.226z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=24;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBNucleusShareOutline16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M8.429 2.082A.25.25 0 0 0 8 2.257v2.991a.75.75 0 0 1-.75.75c-1.733 0-3.15.832-4.157 2.132-.89 1.149-1.444 2.653-1.567 4.21.557-.676 1.19-1.214 1.963-1.602 1.039-.522 2.262-.74 3.761-.74a.75.75 0 0 1 .75.75v3.003a.25.25 0 0 0 .43.174l5.602-5.75a.25.25 0 0 0 0-.35L8.43 2.083l.537-.523-.537.523zM6.5 2.257C6.5.687 8.407-.09 9.503 1.035l5.603 5.743a1.75 1.75 0 0 1 0 2.444l-5.603 5.75c-1.095 1.125-3.003.349-3.003-1.221v-2.23c-.98.062-1.727.25-2.338.557-.75.377-1.36.965-1.95 1.86-.329.498-.897.602-1.32.493C.466 14.32 0 13.936 0 13.304v-.306c0-2.088.672-4.19 1.907-5.786C3.01 5.786 4.577 4.754 6.5 4.54V2.257z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometNotificationsListItemSnippet.react",["CometNotificationsListItemSnippet_ufiIconsAndCounts.graphql","CometNotificationsTimestamp.react","CometRelay","FBNucleusCommentOutline16Icon.react","FBNucleusLikeOutline16Icon.react","FBNucleusPlayOutline16Icon.react","FBNucleusReactionCountsOutline24Icon.react","FBNucleusShareOutline16Icon.react","FDSIcon.react","FDSText.react","isStringNullOrEmpty","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=Object.freeze({COMMENT:"COMMENT",LIKE:"LIKE",PLAY:"PLAY",REACTION:"REACTION",SHARE:"SHARE"}),l=h!==void 0?h:h=b("CometNotificationsListItemSnippet_ufiIconsAndCounts.graphql");function m(a){var b;if(a==null)return null;b=(b=c("qex")._("3239"))!=null?b:!1;switch(a){case k.REACTION:return b?c("FBNucleusReactionCountsOutline24Icon.react"):c("FBNucleusLikeOutline16Icon.react");case k.LIKE:return c("FBNucleusLikeOutline16Icon.react");case k.COMMENT:return c("FBNucleusCommentOutline16Icon.react");case k.SHARE:return c("FBNucleusShareOutline16Icon.react");case k.PLAY:return c("FBNucleusPlayOutline16Icon.react");default:return null}}function n(a){var b=d("react-compiler-runtime").c(11),e=a.ufiCount;a=a.ufiIcon;var f;b[0]!==a?(f=m(a),b[0]=a,b[1]=f):f=b[1];a=f;if(a==null||e==null||e<1)return null;f=(f=c("qex")._("3240"))!=null?f:!1;if(!f)return null;var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x3nfvp2 xvg3j5b"},g={className:"x1hw6won"},b[2]=f,b[3]=g):(f=b[2],g=b[3]);b[4]!==a?(g=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(c("FDSIcon.react"),{color:"placeholder",icon:a,size:16})})),b[4]=a,b[5]=g):g=b[5];b[6]!==e?(a=j.jsx(c("FDSText.react"),{color:"placeholder",type:"body4",children:e}),b[6]=e,b[7]=a):a=b[7];b[8]!==g||b[9]!==a?(e=j.jsxs("div",babelHelpers["extends"]({},f,{children:[g,a]})),b[8]=g,b[9]=a,b[10]=e):e=b[10];return e}function o(a){var b=d("react-compiler-runtime").c(4),e=a.seenAndRead,f=a.showBoldSnippets;a=a.snippet;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=f?e?j.jsx(c("FDSText.react"),{color:"secondary",testid:void 0,type:"body4",children:a}):j.jsx(c("FDSText.react"),{color:"highlight",testid:void 0,type:"bodyLink4",children:a}):a,b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];e=g;return e}function a(a){var b=d("react-compiler-runtime").c(25),e=a.contextInfo,f=a.date,g=a.seenAndRead;a=a.showBoldSnippets;e=d("CometRelay").useFragment(l,e);var h=e.short_text;e=e.ufi_icons_and_counts;h=h==null?void 0:h.text;var i;b[0]!==f||b[1]!==g?(i=j.jsx(c("CometNotificationsTimestamp.react"),{date:f,format:"minimized",seenAndRead:g}),b[0]=f,b[1]=g,b[2]=i):i=b[2];f=i;i=e.length<1;var k;b[3]!==g||b[4]!==a||b[5]!==h?(k=c("isStringNullOrEmpty")(h)?null:j.jsx(o,{seenAndRead:g,showBoldSnippets:a,snippet:h}),b[3]=g,b[4]=a,b[5]=h,b[6]=k):k=b[6];g=k;if(i){b[7]!==g||b[8]!==h?(a=!c("isStringNullOrEmpty")(h)&&j.jsxs(j.Fragment,{children:[j.jsx("span",babelHelpers["extends"]({"aria-hidden":"true"},{className:"x2fvf9 xdwrcjd"},{children:"\xb7"})),g]}),b[7]=g,b[8]=h,b[9]=a):a=b[9];b[10]!==f||b[11]!==a?(k=j.jsxs(j.Fragment,{children:[f,a]}),b[10]=f,b[11]=a,b[12]=k):k=b[12];return k}b[13]!==e?(i=e.map(p),b[13]=e,b[14]=i):i=b[14];h=i;if(h.length<1)return f;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x3nfvp2 xvg3j5b"},k={className:"x6s0dn4 x3nfvp2 xvg3j5b"},b[15]=a,b[16]=k):(a=b[15],k=b[16]);b[17]!==f?(e=j.jsx("span",babelHelpers["extends"]({},k,{children:f})),b[17]=f,b[18]=e):e=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x3nfvp2 xvg3j5b"},b[19]=i):i=b[19];k=h!=null?h:g;b[20]!==k?(f=j.jsx("div",babelHelpers["extends"]({},i,{children:k})),b[20]=k,b[21]=f):f=b[21];b[22]!==e||b[23]!==f?(h=j.jsxs("div",babelHelpers["extends"]({},a,{children:[e,f]})),b[22]=e,b[23]=f,b[24]=h):h=b[24];return h}function p(a,b){return j.jsx(n,{ufiCount:a==null?void 0:a.ufi_counts,ufiIcon:a==null?void 0:a.ufi_icon_name},b)}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsListItem_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_actor",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_actor"}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometNotificationsListItem_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"hideIcon"},{defaultValue:!1,kind:"LocalArgument",name:"isToast"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometNotificationsListItem_notification",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometNotificationsDropdownMenuButton_notification"},{args:[{kind:"Variable",name:"isToast",variableName:"isToast"}],kind:"FragmentSpread",name:"CometNotificationsListItemAttachment_notification"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"notif_attachments",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StructuredSurveySession",kind:"LinkedField",name:"inline_survey",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"InlineSurveyNotifAttachment",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:56},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:56}],concreteType:"Image",kind:"LinkedField",name:"notif_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometNotificationURL_notification"},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null},{alias:"creation_time",args:null,concreteType:"CreationTimeWithRelativeText",kind:"LinkedField",name:"creation_time_with_relative_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null}],storageKey:null},{condition:"hideIcon",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"GlyphIconData",kind:"LinkedField",name:"icon_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"glyph_icon_url",storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{condition:"isToast",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"NotificationContextInfo",kind:"LinkedField",name:"context_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsListItemSnippet_ufiIconsAndCounts"}],storageKey:null}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("cometNotificationsListItemIcon",["ix","ImageIconSource","getReactionSVGSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i={alarm_clock:h("377559"),app_facebook:h("958818"),app_facebook_avatars_face:h("394258"),app_facebook_reels:h("157566"),app_instagram:h("958820"),app_messenger:h("958823"),app_pages:h("958824"),app_rooms:h("1395467"),"app-business-suite":h("268798"),"app-horizon":h("382687"),"app-oculus":h("20924"),"app-threads":h("396852"),arrows_left_right:h("2004500"),arrows_up_down:h("958826"),badge_heart:h("958827"),ballot_box:h("175937"),bar_chart:h("958828"),bookmark:h("958830"),breaking_news:h("958831"),briefcase:h("958832"),cake:h("958833"),calendar:h("958835"),camcorder_live:h("958836"),"camcorder-cross":h("305625"),card:h("1289629"),caution_triangle:h("958837"),"caution-triangle":h("958837"),"checkmark-circle":h("353184"),circle_3:h("958838"),"circle-heart-ribbon":h("12810"),comment:h("958852"),comment_star:h("958851"),coupon:h("372864"),"default":h("958829"),"desktop-mobile":h("1964681"),diamond:h("380351"),"diamond-rise":h("110482"),direct:h("958854"),friend_add:h("958857"),friends:h("958858"),fundraiser:h("958859"),games:h("958821"),"gift-box":h("255360"),group:h("958860"),headphones:h("2007797"),heart_lock:h("1250959"),high_five_hands:h("958861"),instagram_reels:h("1951540"),link:h("421159"),marketplace:h("894424"),"messages-spotlight":h("150623"),monetization:h("339655"),music:h("232925"),"news-feed":h("1250960"),notif_messages_question_live:h("1495236"),"notif-audio-wave-square":h("265477"),"notif-circle-blue-fb-pay":h("290477"),"notif-hex-star":h("340390"),"notif-megaphone-slider":h("110071"),"notif-messenger-breaking-news":h("396950"),"notif-meta":h("184314"),"notif-mp-megaphone":h("427558"),"notif-note":h("286102"),"notif-star-tip":h("1970274"),"notif-unlink":h("389964"),pencil:h("958866"),pencil_checkmark:h("958865"),"phone-cross":h("305627"),photo:h("958867"),pin:h("958868"),play_circle:h("958869"),poke:h("958870"),politics:h("958871"),polls:h("958872"),posts:h("958873"),profile_circle:h("958874"),"profile-professional":h("352978"),relationship:h("958875"),safety_check:h("958876"),send:h("402864"),share:h("958877"),shield:h("958878"),shops:h("1686153"),spark_ar:h("1079479"),stop:h("353186"),stories:h("1819883"),tag:h("958882"),"tag-star":h("276484"),topics:h("958883"),trending:h("152296"),trophy_star:h("158332"),volunteer:h("1185872"),watch_tv:h("958885"),water:h("958886")};function j(a){return new(c("ImageIconSource"))(i[a]||i["default"],28,28)}function a(a,b,e,f){if(b!=null){var g=d("getReactionSVGSource").getReactionSVGSource(b);if(g!=null)return new(c("ImageIconSource"))(g,28,28);else if(b===17&&e!=null)return new(c("ImageIconSource"))(e,28,28)}return a!=null?f===!0&&a==="app_messenger"?j("send"):j(a):null}g["default"]=a}),98);
__d("getCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"getCometNotificationURL_notification"};e.exports=a}),null);
__d("isAccountsCenterURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="accountscenter"}g["default"]=a}),98);
__d("isAppsURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="apps"}g["default"]=a}),98);
__d("isDevelopersURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="developers"}g["default"]=a}),98);
__d("isFacebookFamilyCenterURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isFacebookURI")(a)&&a.getSubdomain()==="familycenter"}g["default"]=a}),98);
__d("getCometNotificationURL",["CometRelay","ConstUriUtils","absoluteToRelative","getCometNotificationURL_notification.graphql","isAccountsCenterURI","isAppsURI","isBusinessURI","isDevelopersURI","isFacebookFamilyCenterURI"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("CometRelay").readInlineData(h!==void 0?h:h=b("getCometNotificationURL_notification.graphql"),a);a=a==null?void 0:a.url;if(a==null)return null;var e=d("ConstUriUtils").getUri(a);if(e==null)return a;if(window.location.hostname.startsWith("www.facebook.com")||c("isBusinessURI")(e)||c("isDevelopersURI")(e)||c("isAccountsCenterURI")(e)||c("isAppsURI")(e)||c("isFacebookFamilyCenterURI")(e))return a;else return c("absoluteToRelative")(a)}g["default"]=a}),98);
__d("useCometNotificationURL_notification.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometNotificationURL_notification",selections:[{kind:"InlineDataFragmentSpread",name:"getCometNotificationURL_notification",selections:[{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'}],args:null,argumentDefinitions:[]}],type:"Notification",abstractKey:null};e.exports=a}),null);
__d("useCometNotificationURL",["CometRelay","getCometNotificationURL","react-compiler-runtime","useCometNotificationURL_notification.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(2);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useCometNotificationURL_notification.graphql"),a);var f;e[0]!==a?(f=c("getCometNotificationURL")(a),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("CometNotificationsUpdateSeenStateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9077759465660685"}),null);
__d("CometNotificationsUpdateSeenStateMutation.graphql",["CometNotificationsUpdateSeenStateMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{kind:"Variable",name:"data",variableName:"input"}],e={alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:d,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[e,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometNotificationsUpdateSeenStateMutation",selections:[{alias:null,args:d,concreteType:"NotificationsUpdateSeenOrReadResponsePayload",kind:"LinkedField",name:"notifications_update_seen_or_read",plural:!1,selections:[e,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometNotificationsUpdateSeenStateMutation_facebookRelayOperation"),metadata:{},name:"CometNotificationsUpdateSeenStateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometNotificationsUpdateSeenStateMutation",["CometNotificationsThinClientConnectionHandler","CometNotificationsUpdateSeenStateMutation.graphql","CometRelay","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometNotificationsUpdateSeenStateMutation.graphql"),j=function(a){return a.get(d("relay-runtime").VIEWER_ID)},k=function(a){return a.getValue("notifications_unseen_count",{environment:"MAIN_SURFACE"})},l=function(a){a=j(a);if(a==null)return;a=d("CometNotificationsThinClientConnectionHandler").getConnection(a,"CometNotificationsList_notifications_page");if(a==null)return;a=a.getLinkedRecords("edges");if(a==null||a.length===0)return;var b=[];a.forEach(function(a){if(a==null)return;a=a.getLinkedRecord("node");if(a==null)return;var c=a.getType();if(c!=="NotifPageNotificationRow"&&c!=="NotifPageCachedNotificationRow")return;c=a.getLinkedRecord("notif");if(c==null)return;b.push(c)});return b};function a(a,b){a=l(a);if(a==null||a.length===0)return;var c=a.findIndex(function(a){return a.getValue("id")===b});if(c<0)return;a[c]!=null&&a[c].setValue("SEEN_BUT_UNREAD","seen_state")}function c(a,b){a=l(a);if(a==null||a.length===0)return;var c=a.findIndex(function(a){return a.getValue("id")===b});if(c<0)return;a[c]!=null&&a[c].setValue("SEEN_AND_READ","seen_state")}var m=function(a,b){a=l(a);if(a==null||a.length===0)return;a.forEach(function(a){return b(a)})};function e(a){var b=function(a){if(a==null)return;a.getValue("seen_state")==="UNSEEN_AND_UNREAD"&&a.setValue("SEEN_BUT_UNREAD","seen_state")};m(a,b)}function f(a){var b=function(a){if(a==null)return;(a.getValue("seen_state")==="UNSEEN_AND_UNREAD"||a.getValue("seen_state")==="SEEN_BUT_UNREAD")&&a.setValue("SEEN_AND_READ","seen_state")};m(a,b)}function n(a){a=j(a);if(a==null)return;var b=k(a);if(b==null)return;b=+b-1;a.setValue(Math.max(0,b),"notifications_unseen_count",{environment:"MAIN_SURFACE"})}function o(a){a=j(a);if(a==null)return;a.setValue(0,"notifications_unseen_count",{environment:"MAIN_SURFACE"})}function p(a,b,c){var e=c.mutationLogger(),f=e.logOnError,g=e.logOnSuccess;return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:function(){g(),c.onSuccess&&c.onSuccess()},onError:function(a){f(a),c.onError&&c.onError(a)},optimisticUpdater:c.updater,variables:b})}g.updateSingleNotifSeenState=a;g.updateSingleNotifReadState=c;g.updateMultiNotifSeenState=e;g.updateMultiNotifReadState=f;g.lowerBadgeCountByOne=n;g.clearBadgeCount=o;g.CometNotificationsUpdateSeenStateMutation=p;g.mutation=i}),98);
__d("useGetCancellableSeenStateCallback",["CometRelay","CometThrottle","createCancelableFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.accessibilityString,e=a.mutationLogger,f=a.notifId,g=a.queryEnvironment,h=a.queryID,j=a.receivedNotificationIdsRef,k=a.seenState,l=a.timestamp,m=a.triggerAccessibilityAlert,n=a.updater,o=a.updateType,p=d("CometRelay").useRelayEnvironment();return i(function(){var a=c("createCancelableFunction")(function(){return n({accessibilityString:b,environment:p,mutationLogger:e,notifId:f,queryEnvironment:g,queryID:h,receivedNotificationIdsRef:j,seenState:k,timestamp:l,triggerAccessibilityAlert:m,updateType:o})}),d=!1,i=c("CometThrottle")(function(){d=!1,a()},1e3,{leading:!0}),q=function(){d=!0,i()};q.dispose=function(){d&&a(),a.cancel()};return q},[n,b,p,e,f,g,h,j,k,l,m,o])}g["default"]=a}),98);
__d("useHandleUpdateSingleNotifReadState",["CometNotificationsUpdateSeenStateMutation","react-compiler-runtime","recoverableViolation","useGetCancellableSeenStateCallback"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.environment,e=a.mutationLogger,f=a.notifId,g=a.queryEnvironment,h=a.queryID,i=a.seenState;a=a.updateType;if(f==null||e==null||i==null||a==null)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(b,{environment:g,input:{environment:g,is_comet:!0,last_notif_sync_time:0,notif_ids:[f],query_id:h,source:"unknown",update_type:a}},{mutationLogger:function(){return e(i)},onError:function(a){c("recoverableViolation")("Update read state (single) mutation failed with an error: ","Notifications",{error:a})},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateSingleNotifReadState(a,f)}})}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=babelHelpers["extends"]({},a,{updater:h}),b[0]=a,b[1]=e):e=b[1];return c("useGetCancellableSeenStateCallback")(e)}g["default"]=a}),98);
__d("useNotificationsImpressionLogger",["gkx","react","react-compiler-runtime","requireDeferred","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("requireDeferred")("NotifImpressionEventsFalcoEvent").__setRef("useNotificationsImpressionLogger");function a(a){var b=d("react-compiler-runtime").c(9),e=a.actorId,f=a.loggerContext,g=a.notifId,h=a.trackingData;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(a=function(a){a=a.visibleDuration;var b={notification_data:{duration:String(a),logger_context:f,notif_id:g,user_id:e},ref:"www_tab",tracking:JSON.stringify(h)};i.onReady(function(a){a=a.log;return a(function(){return b})})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a):a=b[4];a=a;var j;b[5]!==a?(j={onImpressionEnd:a},b[5]=a,b[6]=j):j=b[6];a=c("usePartialViewImpression")(j);b[7]!==a?(j=[a,null],b[7]=a,b[8]=j):j=b[8];return j}g["default"]=a}),98);
__d("useScrollToNotif",["CometRouteMatch","XCometNotificationsControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(a){var b,e=d("react-compiler-runtime").c(5),f=(b=d("CometRouteMatch")).useCurrentRouteMatcher(b.MatchFunctions.urlMatchFunction);b=b.useHostedRouteMatcher(b.MatchFunctions.urlMatchFunction);var g;e[0]!==b||e[1]!==a?(g=a!=null?b(a):!1,e[0]=b,e[1]=a,e[2]=g):g=e[2];b=g;a=f(c("XCometNotificationsControllerRouteBuilder").buildURL({}).toString());g=i(b&&!a);e[3]!==b?(f=[b,g],e[3]=b,e[4]=f):f=e[4];return f}g.useScrollToNotif=a}),98);
__d("CometNotificationsListItem.react",["fbt","CometBoldedEntityRenderer","CometEmojiTransform","CometEmoticonTransform","CometFocusTableContext","CometListCellStrict_DEPRECATED.react","CometNotificationsDropdownMenuButton.react","CometNotificationsListItemAttachment.react","CometNotificationsListItemSeenContext","CometNotificationsListItemSnippet.react","CometNotificationsListItem_actor.graphql","CometNotificationsListItem_notification.graphql","CometNotificationsMutationLogger","CometNotificationsTimestamp.react","CometPassiveGetRouterStateContext","CometPressable.react","CometProductAttribution","CometRelay","CometTextWithEntitiesRelay.react","FDSBadge.react","FDSIcon.react","FocusWithinHandler.react","MWFacebookUserWithoutMessengerAccess","ODS","cometNotificationsListItemIcon","gkx","mergeRefs","qex","react","requireDeferred","scrollIntoView","useCometNotificationURL","useHandleUpdateSingleNotifReadState","useMenuButtonVisibilityState","useNotificationsEnvironmentFromContext","useNotificationsImpressionLogger","useScrollToNotif","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=k||(k=d("react"));e=k;var n=e.useCallback,o=e.useContext,aa=e.useLayoutEffect,p=e.useMemo,ba=e.useRef,ca=e.useState,da=c("requireDeferred")("NotifClickEventsFalcoEvent").__setRef("CometNotificationsListItem.react"),ea={pressable:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",paddingInlineStart:"x135b78x",width:"xw4jnvo",$$css:!0}},fa={"*":[c("CometBoldedEntityRenderer")]},ga=[c("CometEmoticonTransform")(),c("CometEmojiTransform")()],ha=i!==void 0?i:i=b("CometNotificationsListItem_actor.graphql"),ia=j!==void 0?j:j=b("CometNotificationsListItem_notification.graphql");function a(a){var b=a.actor,e=a.hideMenuButton,f=e===void 0?!1:e;e=a.isFromPageNotification;var g=a.isNotificationsRoute,i=g===void 0?!1:g;g=a.isToast;var j=g===void 0?!1:g;g=a.loggerContext;var k=g===void 0?"www_tab":g;g=a.notification;var q=a.onClick,r=a.onClose,s=a.preventLocalNavigation,t=a.queryID,u=a.replace,v=a.routeTarget,w=a.shouldOpenInBlankTarget,x=a.shouldPrefetch;x=x===void 0?!1:x;var y=a.showSelectedState,ja=y===void 0?!1:y,z=a.trackingData,A=d("CometRelay").useFragment(ha,b),B=d("CometRelay").useFragment(ia,g);y=c("useCometNotificationURL")(B);a=Object.freeze({SEEN_AND_READ:"SEEN_AND_READ",UNSEEN_AND_UNREAD:"UNSEEN_AND_UNREAD"});b=B.body;g=B.cache_timestamp;var C=B.context_info,D=B.creation_time,E=B.id,ka=B.notif_attachments,F=B.notif_id,G=B.notif_image,H=B.notif_type,I=B.seen_state,J=B.tracking,K=ba(null),L=A==null?void 0:A.id,M=e!=null?e:!1;e=ca({cacheTimeStamp:g!=null?g:0,seenState:I!=null?I:a.UNSEEN_AND_UNREAD});var N=e[0];e=e[1];var O=babelHelpers["extends"]({navigation_source:"notifications_click"},H!=null?{notif_type:H}:null),P=p(function(){return z!=null?z:{notif_tracking:J}},[J,z]),la={onNavigate_DEPRECATED_FIXME:r,passthroughProps:{initialTracePolicy:"comet.notifications",notification_id:F!=null?F:void 0,notificationTracking:P,notificationType:H,ref:"notification"},prefetchQueriesOnHover:x,preventLocalNavigation:s!=null?s:!1,productAttribution:{tap_point:"via_notification"},replace:u!=null?u:void 0,routeTarget:M?"content":v!=null?v:void 0,target:w===!0?"_blank":void 0,traceParams:O,url:y!=null?y:void 0};r=d("useScrollToNotif").useScrollToNotif(y);var ma=r[0],Q=r[1],R=Q.current;x=o(c("CometFocusTableContext"));var S=x.FocusCell;s=x.FocusRow;var na=s!=null?s:m.Fragment;aa(function(){K.current!=null&&R&&(c("scrollIntoView")(K.current,{behavior:"auto",verticalAlign:"center"}),Q.current=!1)},[R,Q]);u=c("useNotificationsEnvironmentFromContext")();var T=c("useHandleUpdateSingleNotifReadState")({accessibilityString:h._(/*BTDS*/"Notification was marked read."),mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAsReadStart,notifId:E,queryEnvironment:u,queryID:t,seenState:I,timestamp:null,updateType:"MARK_READ"}),U=o(c("CometPassiveGetRouterStateContext")),oa=n(function(){E!=null&&L!=null&&(q&&q(),da.onReady(function(a){a=a.log;return a(function(){return{navigation_chain_minified:d("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(U),notification_data:{alert_id:F!=null?F:"",logger_context:k!=null?k:"",to_user:L},ref:i?"notifications_route":"www_tab",tracking:JSON.stringify(z)}})}),T())},[L,T,i,k,F,E,q,U,z]),V=b;v=D==null?void 0:D.timestamp;w=G==null?void 0:G.uri;O=c("useMenuButtonVisibilityState")();var pa=O[0];y=O[1];var W=y.setListItemHovered,qa=y.setMenuBtnFocused,ra=y.setMenuBtnHovered,sa=y.setMenuOpened,ta=n(function(){W(!1)},[W]),ua=n(function(){W(!0)},[W]);r=c("useNotificationsImpressionLogger")({actorId:L,loggerContext:k,notifId:F,trackingData:P});var X=r[0],va=r[1],wa=o(c("CometNotificationsListItemSeenContext")),Y=c("useVisibilityObserver")({onVisible:function(){wa(E)}}),xa=p(function(){if(k==="www_tab"||k==="beeper")return c("mergeRefs")(X,K,Y);else return K},[Y,k,X]);x=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess();if(E==null||V==null||w==null||I==null||v==null)return null;s=new Date(v*1e3);b=(u=c("gkx")("6307"))!=null?u:!1;var Z;!b?Z=I===a.SEEN_AND_READ:typeof g==="number"&&N.cacheTimeStamp<g?(Z=I===a.SEEN_AND_READ,e({cacheTimeStamp:g,seenState:I!=null?I:a.UNSEEN_AND_UNREAD})):Z=N.seenState===a.SEEN_AND_READ;G=(D=B.icon_data)==null?void 0:D.reaction_type;y=(O=B.icon_data)==null?void 0:O.glyph_name;r=(P=B.icon_data)==null?void 0:P.glyph_icon_url;v=c("cometNotificationsListItemIcon")(y,G,r,x);u=v!=null?{backgroundColor:"transparent",icon:m.jsx(c("FDSIcon.react"),{color:"white",icon:v}),size:28,type:"activityBadge"}:null;G===17&&(u.overflow="visible");e=(b=c("qex")._("570"))!=null?b:!1;var ya={addOn:u,shape:"circle",size:56,source:{uri:w},type:"profile-photo"},za={component:m.jsx(c("CometNotificationsListItemAttachment.react"),{date:s,notification:B,notificationId:(g=B.notif_id)!=null?g:"",onPress:function(){H==="friend"&&(l||(l=d("ODS"))).bumpEntityKey(217,"obc.www.all","notif.comet.click.is.toast."+(j?"true":"false")),T()}}),type:"override-column"};I=B==null?void 0:B.is_hidden;if(I===!0)return null;var $=ka.find(function(a){return a.inline_survey!=null})!=null,Aa=C!=null?m.jsx(c("CometNotificationsListItemSnippet.react"),{contextInfo:C,date:s,seenAndRead:Z,showBoldSnippets:e}):m.jsx(c("CometNotificationsTimestamp.react"),{date:s,format:"minimized",seenAndRead:Z});return m.jsx(c("FocusWithinHandler.react"),{children:function(a,b){a=H!=="friend"&&H!=="page_invite"&&!$?m.jsx(c("CometNotificationsDropdownMenuButton.react"),{actor$key:A,hidden:f||M||!(a&&b)&&!pa,notification$key:B,onFocusChange:qa,onHoverChange:ra,onMenuStateChange:sa,queryId:t,userId:L}):null;return m.jsx(na,{children:m.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{onMouseEnter:ua,onMouseLeave:ta,ref:xa,role:"listitem",children:[va,m.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnBottom:za,addOnEnd:{addOn:Z?m.jsx("div",{className:"x1kpxq89 xsmyaan"}):m.jsx(c("CometPressable.react"),{expanding:!0,onPress:T,overlayDisabled:!0,role:"button",testid:void 0,xstyle:ea.pressable,children:m.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Mark as read"),color:"blue",isProfileBadge:!0,size:12})}),type:"body"},addOnEndVerticalAlign:$?"top":"center",addOnStart:ya,body:m.jsxs(m.Fragment,{children:[Z?null:m.jsx("div",babelHelpers["extends"]({className:"xzpqnlu x179tack x10l6tqk xdnwjd9"},{children:h._(/*BTDS*/"Unread")})),m.jsx(c("CometTextWithEntitiesRelay.react"),{renderers:fa,textWithEntities:V,transforms:ga})]}),bodyColor:Z?"secondary":"primary",bodyLineLimit:3,linkProps:la,meta:Aa,metaLineLimit:1,onPress:oa,role:"none",selected:ma&&ja,testid:void 0}),S?m.jsx(S,{"aria-label":h._(/*BTDS*/"Options for this notification"),children:a}):a]}))})}})}a.displayName=a.name+" [from "+f.id+"]";e=m.memo(a);g["default"]=e}),226);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["CometRow.react","CometRowItem.react","MDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={actionButtonGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xsdox4t",marginTop:"x1rdy4ex",width:"x1useyqa",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1qjc9v5 xlhe6ec x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xf30bs1 x1qughib x14vqqas xbmvrgn xod5an3 x1diwwjn x2lwn1j xeuugli x6ikm8r x10wlt62 x1iorvi4 x11lfxj5 x135b78x x1l90r2v x1n2onr6 x1ja2u2z"},a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("CometRow.react"),{verticalAlign:"center",children:[e,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xz62fqu x16ldp7u"},{children:[i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.textGlimmer}),i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.textGlimmer})]}))})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.actionButtonGlimmer})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs("div",babelHelpers["extends"]({},b,{children:[e,i.jsxs(c("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[f,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.actionButtonGlimmer})})]})]})),a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("FBGroupChatInviteState",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCEPTED:1,ACTIVE:2,DECLINED_BY_RECEIVER:3,IGNORED_BY_RECEIVER:4,DELETED_BY_SENDER:5,DISCARDED:6});f["default"]=a}),66);
__d("FBIconStoriesArchiveFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103 920.75a.5.5 0 0 0-1 0v2.75a.5.5 0 0 0 .146.354l1.1 1.1a.5.5 0 1 0 .708-.708l-.954-.953v-2.543zm-1.823-3.103c-.146.033-.29.07-.432.114a.5.5 0 1 0 .29.957c.12-.036.24-.068.363-.096a.5.5 0 0 0-.221-.975zm7.015 7.755a5.999 5.999 0 0 0-2.965-7.248.5.5 0 1 0-.455.89 5 5 0 0 1 2.471 6.042.5.5 0 1 0 .949.316zm-10.075 2.195a5.983 5.983 0 0 0 4.383 1.903c1.687 0 3.263-.7 4.39-1.91a.5.5 0 0 0-.731-.682 4.983 4.983 0 0 1-3.66 1.592 4.984 4.984 0 0 1-3.651-1.586.5.5 0 0 0-.73.683zm-1.202-6.292a6.017 6.017 0 0 0-.122 4.051.5.5 0 1 0 .95-.308 5.018 5.018 0 0 1 .102-3.377.5.5 0 1 0-.93-.366zm1.657-2.34a5.8 5.8 0 0 0-.318.296.5.5 0 0 0 .711.703c.08-.08.167-.161.264-.245a.5.5 0 0 0-.657-.755z",transform:"translate(353.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105.709 918.41a.5.5 0 1 0-.574-.82l-.922.646a.5.5 0 0 0-.123.696l.646.923a.5.5 0 0 0 .819-.574l-.359-.513.513-.358z",transform:"translate(353.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSComposeFilled16Icon",["cr:14785"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14785")}),98);
__d("FDSComposeFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("507170"),16);b=a;g["default"]=b}),98);
__d("FDSMessagesFilled24Icon",["cr:13843"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13843")}),98);
__d("FDSMessagesFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("542884"),24);b=a;g["default"]=b}),98);
__d("FDSResizeFreeFilled20Icon",["cr:15603"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15603")}),98);
__d("GroupFeatureType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ARTICLES","AUTO_INVITES","CHATS","CHILDHOOD_VACCINES","CLIMATE_PLEDGE","COMMUNITY_GIVING","COMMUNITY_MESSAGING","EVENTS","FANTASY_LEAGUE","FILES","FUNDRAISER_CHALLENGE","GAME_LINKS","GIF","GROUP_AFFILIATION","GUIDES","HORIZON_WORLDS","LIVE","LOOKING_FOR_PLAYERS","MARKETPLACE_JOBS","PLAYER_INFO","POLL","PRODUCT_TAGGING","QN_A","RAISE_MONEY","REEL","REPUTATION_SYSTEM","REQUEST_OR_OFFER_HELP","ROOMS","SELLING","SELL_SOMETHING","SETTING","SUPPORTER_STICKERS","TOPIC_CHANNELS","USER_SIGNAL","WELCOME_POST"]);c=a;f["default"]=c}),66);
__d("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9311215579001270"}),null);
__d("MWCMCasaOffboardingNuxDialogQuery$Parameters",["MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMCasaOffboardingNuxDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("XFBGroupFeatureTypeUtils.facebook",["$InternalEnumUtils","GroupFeatureType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("GroupFeatureType"));b=d("$InternalEnumUtils").createFromJSEnum(c("GroupFeatureType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("GroupsCometCMOffboardingDialog.entrypoint",["JSResourceForInteraction","MWCMCasaOffboardingNuxDialogQuery$Parameters","XFBGroupFeatureTypeUtils.facebook"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b;a=a.groupID;return{queries:{queryReference:{parameters:c("MWCMCasaOffboardingNuxDialogQuery$Parameters"),variables:{communityMessagingFeatureType:(b=d("XFBGroupFeatureTypeUtils.facebook").fromJSEnum("COMMUNITY_MESSAGING"))!=null?b:"COMMUNITY_MESSAGING",groupID:a}}}}},root:c("JSResourceForInteraction")("MWCMCasaOffboardingNuxDialog.react").__setRef("GroupsCometCMOffboardingDialog.entrypoint")};g["default"]=a}),98);
__d("LSThreadsRangesQueryStoredProcedure",["LSSynchronousPromise","LSThreadsRangesQuery","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadsRangesQuery"),e.parentThreadKey,e.isLoadingBefore,e.isLoadingAfter,e.minThreadKey,e.maxThreadKey,e.maxLastActivityTimestampMs,e.minLastActivityTimestampMs,e.additionalPagesToFetch,e.shouldSkipE2eeThreadsRanges);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);a=d("LSThreadBitOffset").has(105,a);if(b&&c)return a;else return!1}g.isGroupInviteThread=a}),98);
__d("MAWPreloadSecureMessagesRangeDataSource",["MAWMessageRangeDataSourceV2"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MAWMessageRangeDataSourceV2")}),98);
__d("MAWPreloadSecureMessages",["I64","LSAuthorityLevel","LSIntEnum","LSResult","MAWMessagesDirection","MAWPreloadSecureMessagesRangeDataSource","MWV2OnAuthoritativeThreadInsert","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=async function(a,b,e,f,g){if(!(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return Promise.resolve();var j=c("MAWPreloadSecureMessagesRangeDataSource")(a),k;g=await new Promise(function(a,c){k=j.getOrCreateMessageRangeCoveringCursor({externalId:null,messageId:null,threadKey:b,timestampMs:(h||(h=d("I64"))).max_int},void 0,e).subscribe({complete:a,error:c,next:function(b){a(b)}})});(a=k)==null||a.unsubscribe();if(g&&d("MAWMessagesDirection").isFirstPageRange(g.range,"desc"))return j.extendRange(g.range,{maxExternalId:null,minExternalId:null},"desc",f,e)},k=async function(a,b){b=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.threads).getKeyRange(b));if(b==null)return null;if((h||(h=d("I64"))).equal(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return b;var e=b.clientThreadKey;return e!=null?new Promise(function(b){d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(e),a,function(a){return b(a)})}):null};a=async function(a,b,c,d){b=await k(a,b);return b==null?Promise.resolve():j(a,b.threadKey,c,d,b.authorityLevel)};g.preloadSecureMessages=j;g.preloadSecureMessagesByThreadKey=a}),98);
__d("MWAddOnCircleContainer.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},disabled:{backgroundColor:"x1281ex9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),c=a.ariaHidden,e=a.children,f=a.disabled;a=a.size;c=c===void 0?!1:c;f=f===void 0?!1:f;f=f&&j.disabled;var g;b[0]!==a?(g=[{height:a,width:a}],b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==g?(a=[j.container,f,g],b[2]=f,b[3]=g,b[4]=a):a=b[4];b[5]!==c||b[6]!==e||b[7]!==a?(f=i.jsx(d("react-strict-dom").html.div,{"aria-hidden":c,style:a,children:e}),b[5]=c,b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("MWFDSDisappearingMessage.svg.react",["cr:21626"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21626")}),98);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","FDSCircleButton.react","FDSResizeFreeFilled20Icon","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onClose,f=a.testid;a=a.url;var g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"See all in Messenger"),b[0]=i):i=b[0];i=i;var k;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"See all messages"),b[1]=k):k=b[1];k=k;g=g?k:i;b[2]!==a?(k={url:a},b[2]=a,b[3]=k):k=b[3];b[4]!==g||b[5]!==e||b[6]!==k||b[7]!==f?(i=j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:c("FDSResizeFreeFilled20Icon"),label:g,linkProps:k,onPress:e,size:32,testid:void 0,type_DEPRECATED:"deemphasized"}),b[4]=g,b[5]=e,b[6]=k,b[7]=f,b[8]=i):i=b[8];b[9]!==g||b[10]!==i?(a=j.jsx(c("FDSTooltip.react"),{align:"end",tooltip:g,children:i}),b[9]=g,b[10]=i,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.isUnread,f=a.text;a=a.type;a=a==="missedCall";if(!e){b[0]!==f?(e=i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,showTruncationTooltip:!1,type:"body4",children:f}),b[0]=f,b[1]=e):e=b[1];return e}else if(c("CurrentEnvironment").facebookdotcom){e=a?"negative":"primary";var g;b[2]!==e||b[3]!==f?(g=i.jsx(c("MWXText.react"),{color:e,numberOfLines:1,showTruncationTooltip:!1,type:"bodyLink4",children:f}),b[2]=e,b[3]=f,b[4]=g):g=b[4];return g}e=a?"negative":"primary";b[5]!==e||b[6]!==f?(g=i.jsx(c("MWXText.react"),{color:e,numberOfLines:1,type:"entityHeaderMeta3",children:f}),b[5]=e,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MWPThreadsForThreadList",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){if(c!=null){a=d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),e).getKeyRange(b).bounds({gt:d("ReQL").key((h||(h=d("I64"))).zero)});e=c.minLastActivityTimestampMs;b=c.maxLastActivityTimestampMs;c=!(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).zero)&&!(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).one)?e:void 0;e=!(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)&&!(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).one)?b:void 0;if(c!=null)if(e!=null)return a.bounds({gte:d("ReQL").key(c),lte:d("ReQL").key(e)});else return a.bounds({gte:d("ReQL").key(c)});else if(e!=null)return a.bounds({lte:d("ReQL").key(e)});return a}return d("ReQL").empty()}g.createIterable=a}),98);
__d("MWQuickPromotionThreadlistBannerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9854142191300291"}),null);
__d("MWThreadListEmptyContainer.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useEnsureViewerContactExistAndUpdated"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadListEmptyContainer.react"));function a(a){var b=d("react-compiler-runtime").c(3),e=a.filter;a=a.parentThreadKey;c("useEnsureViewerContactExistAndUpdated")();var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListEmptyContainer",children:i.jsx(j,{filter:e,parentThreadKey:a})}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("MWXIconDisappearingMessage",["MWXSvgIcon","SVGIcon","cr:22294","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22294")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWThreadListLastMessageGlimmer.react",["Int64Hooks","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReadyWithoutValidator","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(6),e;b[0]!==a?(e=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&a.snippet==null,b[0]=a,b[1]=e):e=b[1];var f=e;e=j(f);var g=e[0],h=e[1],k=a==null?void 0:a.threadKey;b[2]!==f||b[3]!==k?(e=function(){if(k==null)return;if(f===!1){h(!1);return}var a=!1;c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("MAWMiActOnActThreadReadyWithoutValidator").waitForACTThreadReadyWithoutValidator(b.tables,k,"useShouldShowGlimmerForThread").then(function(){a||h(!1)})}));return function(){a=!0}},a=[k,f],b[2]=f,b[3]=k,b[4]=e,b[5]=a):(e=b[4],a=b[5]);d("Int64Hooks").useEffectInt64(e,a);return g}g["default"]=a}),98);
__d("MWThreadListLastMessage.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometHeroHoldTrigger.react","CometScreenReaderText.react","FDSRelativeTimestamp.react","I64","MAWCurrentUser","MAWStrings","MWJewelThreadSnippet.react","MWMessageDeliverySentTimestamp","MWVerticalRhythm","MWXGlimmer.react","MWXIconDisappearingMessage","MWXIconStrict.react","MWXText.react","isArmadilloUI","justknobx","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","useMWIsStaleCall","useMWThreadListLastMessageGlimmer.react","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={bodyGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1l36t39",$$css:!0},bodyGlimmerSecond:{width:"xktia5q",$$css:!0},disappearingMessageVisualIndicator:{paddingInlineEnd:"x14vy60q",$$css:!0},followUpsCTA:{paddingInlineStart:"xyiysdx",$$css:!0},root:{alignItems:"x6s0dn4",color:"xi81zsa",display:"x78zum5",minHeight:"x1hshjfz",$$css:!0},subtext:{paddingInlineStart:"xyiysdx",whiteSpace:"xuxw1ft",$$css:!0},threadSnippet:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",maxWidth:"x193iq5w",paddingInlineEnd:"x14vy60q",$$css:!0},zeroMinWidth:{minWidth:"xeuugli",$$css:!0}};function m(a){var b=d("react-compiler-runtime").c(41),e=a.hasOngoingCall,f=a.isUnread,g=a.lastMessageCtaType,i=a.lastMessageTimestamp,m=a.showDisappearingMessageVisualIndicator,n=a.showFollowUpReminder,o=a.showSnippetText,p=a.showTimestamp,q=a.snippet;a=a.thread;n=n===void 0?!1:n;var r=c("useMWThreadListLastMessageGlimmer.react")(a),s=c("useMWIsStaleCall")(a==null?void 0:a.threadType,e,a==null?void 0:a.ongoingCallTimestampMs),t=c("useServerTime")();if(r===!0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsxs(k.Fragment,{children:[k.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[l.bodyGlimmer,l.bodyGlimmerSecond]}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListLastMessage",hold:!0})]}),b[0]=r):r=b[0];return r}r=g==="xma_rtc_missed_audio"||g==="xma_rtc_missed_group_audio";g=g==="xma_rtc_missed_video"||g==="xma_rtc_missed_group_video";r=r||g;g=o===!0&&!c("mwIsThreadDisabled")(a==null?void 0:a.takedownState)&&(a==null?void 0:a.snippetText)!=null;o=(a==null?void 0:a.snippetSenderContactId)==null?null:(j||(j=d("I64"))).to_string(a.snippetSenderContactId)===d("MAWCurrentUser").getID();var u=g?null:l.zeroMinWidth,v;b[1]!==u?(v=[l.threadSnippet,u],b[1]=u,b[2]=v):v=b[2];b[3]!==f?(u=f&&c("justknobx")._("5026")&&k.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Unread message:")}),b[3]=f,b[4]=u):u=b[4];var w;b[5]!==r||b[6]!==f||b[7]!==q?(w=r&&f?d("MAWStrings").MAW_MISSED_CALL_STRING():q,b[5]=r,b[6]=f,b[7]=q,b[8]=w):w=b[8];q=r?"missedCall":void 0;b[9]!==f||b[10]!==w||b[11]!==q?(r=k.jsx(c("MWJewelThreadSnippet.react"),{isUnread:f,text:w,type:q}),b[9]=f,b[10]=w,b[11]=q,b[12]=r):r=b[12];b[13]!==v||b[14]!==u||b[15]!==r?(f=k.jsxs(d("react-strict-dom").html.span,{style:v,children:[u,r]}),b[13]=v,b[14]=u,b[15]=r,b[16]=f):f=b[16];b[17]!==g||b[18]!==(a==null?void 0:a.snippetText)?(w=g===!0&&k.jsxs(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:[k.jsx(d("react-strict-dom").html.span,{children:"\xb7"}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:l.subtext,children:a==null?void 0:a.snippetText})]}),b[17]=g,b[18]=a==null?void 0:a.snippetText,b[19]=w):w=b[19];b[20]!==m||b[21]!==p?(q=m===!0&&k.jsxs(k.Fragment,{children:[k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("BaseMiddot.react"),{})}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:[l.subtext,p?l.disappearingMessageVisualIndicator:void 0],children:k.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconDisappearingMessage"),size:12})})]}),b[20]=m,b[21]=p,b[22]=q):q=b[22];b[23]!==o||b[24]!==i||b[25]!==t||b[26]!==n||b[27]!==p||b[28]!==(a==null?void 0:a.takedownState)?(v=p&&!c("mwIsThreadDisabled")(a==null?void 0:a.takedownState)&&i!=null&&i>0&&k.jsxs(k.Fragment,{children:[k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("BaseMiddot.react"),{})}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:l.subtext,children:n&&o===!0?k.jsx(c("MWXText.react"),{color:"highlight",numberOfLines:1,type:"body4",children:k.jsx(d("react-strict-dom").html.span,{children:d("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp((j||(j=d("I64"))).of_float(i),t).toString()})}):k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("FDSRelativeTimestamp.react"),{date:new Date(i),format:"minimized"})})}),n&&o===!1&&k.jsxs(k.Fragment,{children:[k.jsx(d("react-strict-dom").html.span,{style:l.followUpsCTA,children:k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("BaseMiddot.react"),{})})}),k.jsx(d("react-strict-dom").html.span,{style:l.subtext,children:k.jsxs(c("MWXText.react"),{color:"highlight",numberOfLines:1,type:"body4",children:[h._(/*BTDS*/"Reply"),"?"]})})]})]}),b[23]=o,b[24]=i,b[25]=t,b[26]=n,b[27]=p,b[28]=a==null?void 0:a.takedownState,b[29]=v):v=b[29];b[30]!==q||b[31]!==v||b[32]!==f||b[33]!==w?(u=k.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:l.root,children:[f,w,q,v]}),b[30]=q,b[31]=v,b[32]=f,b[33]=w,b[34]=u):u=b[34];b[35]!==e||b[36]!==s?(r=e&&!s?k.jsxs(k.Fragment,{children:[c("isArmadilloUI")()?k.jsx(c("MWVerticalRhythm"),{height:5}):null,k.jsx(c("MWXText.react"),{align:"start",color:"positive",numberOfLines:1,type:"body4",children:h._(/*BTDS*/"Ongoing call")})]}):null,b[35]=e,b[36]=s,b[37]=r):r=b[37];b[38]!==u||b[39]!==r?(g=k.jsxs(k.Fragment,{children:[u,r]}),b[38]=u,b[39]=r,b[40]=g):g=b[40];return g}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{fallback:n,children:k.jsx(m,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}function n(){return k.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:l.root})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("getMWLSThreadEventTimeSnippetForDisplay",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return""}}function k(a){a=a.split(":");var b=a.slice(0,2).join(":");a=a[2].slice(2,5);return b+a}function a(a,b){var c=Date.now();a=a!=null?(i||(i=d("I64"))).to_float(a):0;b=b!=null?(i||(i=d("I64"))).to_float(b):a*2;var e=new Date(a),f=a-6048e5,g=a-864e5,l=c<=f;g=c<=a&&c>=g;f=c<=a&&c>=f&&!g;a=c>=a&&c<=b;c=e.toDateString();b=k(e.toLocaleTimeString());c=c.split(" ");e=e.getDay();var m=new Date();m=m.getDate();if(l)return h._(/*BTDS*/"Event {month} {day} at {time}",[h._param("month",c[2]),h._param("day",c[1]),h._param("time",b)]).toString();if(f)return h._(/*BTDS*/"Event {day of week} at {time}",[h._param("day of week",j(e)),h._param("time",b)]).toString();if(g)return m!==e?h._(/*BTDS*/"Event tomorrow at {time}",[h._param("time",b)]).toString():h._(/*BTDS*/"Event today at {time}",[h._param("time",b)]).toString();return a?h._(/*BTDS*/"Event happening now").toString():h._(/*BTDS*/"Event has passed").toString()}g["default"]=a}),226);
__d("MWThreadSnippetForDisplay.react",["fbt","CometTextWithEntities.react","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatTextTransform","MWGroupBlockingProtectionUtils","ReStoreVaulting","ThreadStatus","cr:4217","getMWLSThreadEventTimeSnippetForDisplay","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){return null}var l=(b=b("cr:4217"))!=null?b:a;function e(a){var b=d("react-compiler-runtime").c(8),e=a.snippetRaw;a=a.thread;var f=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),g=l(a),h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);if(b[0]!==g||b[1]!==e){var i;i=e==null?null:g!=null?g:((i=d("ReStoreVaulting").maybeUnvault(e))!=null?i:e).replace(/\uDB80\uDC00/,"(Y)");b[0]=g;b[1]=e;b[2]=i}else i=b[2];g=i;e=d("MWGroupBlockingProtectionUtils").useMWGetSnippetForBlockingProtection(a.threadKey,a.threadType);h=(i=d("useStringWithSubstitutions").useStringWithSubstitutions(h?g:null,a.threadKey))!=null?i:g;if(h==null)return null;i=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));if(!f&&!i&&a.eventStartTimestampMs!=null){b[3]!==a.eventEndTimestampMs||b[4]!==a.eventStartTimestampMs?(g=c("getMWLSThreadEventTimeSnippetForDisplay")(a.eventStartTimestampMs,a.eventEndTimestampMs),b[3]=a.eventEndTimestampMs,b[4]=a.eventStartTimestampMs,b[5]=g):g=b[5];return g}if(e!=null)return e;b[6]!==h?(f=k.jsx(c("CometTextWithEntities.react"),{text:h,transforms:d("MWChatTextTransform").textTransforms}),b[6]=h,b[7]=f):f=b[7];return f}var m=k.memo(e);function f(a){var b=d("react-compiler-runtime").c(9),c=a.isDraftMessage,e=a.snippetRaw;a=a.thread;c=c===void 0?!1:c;var f;b[0]!==c?(f=c&&k.jsxs("span",{style:{color:"#1763CF"},children:[h._(/*BTDS*/"Draft:")," "]}),b[0]=c,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(c=["threadKey","threadType","threadStatus","eventStartTimestampMs","eventEndTimestampMs"],b[2]=c):c=b[2];a=d("Int64Hooks").usePickInt64(a,c);b[3]!==e||b[4]!==a?(c=k.jsx(m,{snippetRaw:e,thread:a}),b[3]=e,b[4]=a,b[5]=c):c=b[5];b[6]!==f||b[7]!==c?(e=k.jsxs(k.Fragment,{children:[f,c]}),b[6]=f,b[7]=c,b[8]=e):e=b[8];return e}g["default"]=f}),226);
__d("MWXIconCheckmark",["MWXSvgIcon","SVGIcon","cr:22262","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22262")),c("gkx")("23219"));g["default"]=a}),98);
__d("getMAWLocalizedMsgsCountSnippet",["fbt","MWThreadListConsts"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return a>=d("MWThreadListConsts").SNIPPET_MAX_NEWEST_INCOMING_MESSAGES_COUNT?h._(/*BTDS*/"9+ new messages"):h._(/*BTDS*/"{unseen_count} new messages",[h._param("unseen_count",a)])}g["default"]=a}),226);
__d("loadLSThreadsForTheFirstTime",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(h||(h=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:h.max_int,maxThreadKey:h.max_int,minLastActivityTimestampMs:h.max_int,minThreadKey:h.max_int,parentThreadKey:b,shouldSkipE2eeThreadsRanges:!1})}g["default"]=a}),98);
__d("loadMoreLSThreads",["I64","LSFactory","LSThreadsRangesQueryStoredProcedure","Promise","ReQL","loadLSThreadsForTheFirstTime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,e)})).then(function(f){if(f!=null)if(!f.isLoadingBefore&&f.hasMoreBefore)return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(i||(i=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:f.maxLastActivityTimestampMs,maxThreadKey:f.maxThreadKey,minLastActivityTimestampMs:f.minLastActivityTimestampMs,minThreadKey:f.minThreadKey,parentThreadKey:e,shouldSkipE2eeThreadsRanges:!1});else return(h||(h=b("Promise"))).resolve();else return c("loadLSThreadsForTheFirstTime")(a,e)})}g["default"]=a}),98);
__d("useGetSnippetFromLS",["I64","LSAuthorityLevel","LSIntEnum","MAWStrings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(9),e=(j||(j=c("useReStore")))(),g;b[0]!==e.tables.messages||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrderAuthority")).bounds({gte:[a.threadKey,(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),(i||(i=d("I64"))).zero],lt:[a.threadKey,h.ofNumber(c("LSAuthorityLevel").OPTIMISTIC),i.max_int]})},b[0]=e.tables.messages,b[1]=a.threadKey,b[2]=g):g=b[2];var k;b[3]!==e||b[4]!==a.threadKey?(k=[e,a.threadKey],b[3]=e,b[4]=a.threadKey,b[5]=k):k=b[5];g=d("ReQLSuspense").useFirst(g,k,f.id+":30");b[6]!==g||b[7]!==a.snippet?(k=g!=null?{shouldHideTimestamp:!0,snippet:d("MAWStrings").MAW_OPTIMISTIC_SNIPPET().toString()}:{shouldHideTimestamp:!1,snippet:a.snippet},b[6]=g,b[7]=a.snippet,b[8]=k):k=b[8];return k}g["default"]=a}),98);
__d("useGroupsCometCMOffboardingEntryPointDialog",["FDSCardedDialogLoadingStateLegacy.react","GroupsCometCMOffboardingDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx(c("FDSCardedDialogLoadingStateLegacy.react"),{onClose:a,withCloseButton:!0})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(2);a=a.groupID;var e;b[0]!==a?(e={groupID:a},b[0]=a,b[1]=e):e=b[1];return c("useCometEntryPointDialog")(c("GroupsCometCMOffboardingDialog.entrypoint"),e,void 0,j)}g["default"]=a}),98);
__d("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2",["Base64Utils","I64","LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect;b.useMemo;var m=b.useState;function a(a){var b=d("react-compiler-runtime").c(16),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.offlineDevicesCountInitialValue;a=a.vestaClientIDInitialValue;var g=(h||(h=c("useReStore")))(),i;b[2]!==g.tables.encrypted_backups_virtual_devices?(i=function(){return d("ReQL").fromTableAscending(g.tables.encrypted_backups_virtual_devices)},b[2]=g.tables.encrypted_backups_virtual_devices,b[3]=i):i=b[3];var j;b[4]!==g?(j=[g],b[4]=g,b[5]=j):j=b[5];var k=d("ReQLSuspense").useArray(i,j,f.id+":52");bb0:{if(a!=null){i=a;break bb0}if(b[6]!==k){j=k.filter(q);a=j[0];j=a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0;b[6]=k;b[7]=j}else j=b[7];i=j}a=i;bb1:{if(e!=null){j=e;break bb1}b[8]!==k?(i=k.filter(p),b[8]=k,b[9]=i):i=b[9];j=i.length}e=j;i=m(a);j=i[0];var r=i[1];a=m(e);i=a[0];var s=a[1];b[10]!==k?(e=function(){if(k.length===0)return;var a=k.filter(o);a=a[0];var b=k.filter(n);r(a!=null?d("Base64Utils").fromArrayBuffer(a.virtualDeviceId):void 0);s(b.length)},a=[k],b[10]=k,b[11]=e,b[12]=a):(e=b[11],a=b[12]);l(e,a);b[13]!==i||b[14]!==j?(e={offlineDevicesCount:i,vestaClientID:j},b[13]=i,b[14]=j,b[15]=e):e=b[15];return e}function n(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}function o(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))}function p(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(1))}function q(a){return(i||(i=d("I64"))).equal(a.virtualDeviceType,(j||(j=d("LSIntEnum"))).ofNumber(2))}g["default"]=a}),98);
__d("useMWPMarkSeen",["Int64Hooks","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWPMarkSeenDeferred").__setRef("useMWPMarkSeen");function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){return{load:async function(){var b=await h.load();return function(c){return b.markSeen(a,c)}}}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useMemoInt64(c,e)}g.default=a}),98);
__d("useMWPWatchFolderFocusChanges",["react","react-compiler-runtime","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(6),f=i(!1),g;e[0]!==a||e[1]!==b?(g=function(){if(!f.current)return;b.current&&a!=null&&a();f.current=!1},e[0]=a,e[1]=b,e[2]=g):g=e[2];g=g;var h;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){f.current||(f.current=!0)},e[3]=h):h=e[3];h=h;var j;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(j={},e[4]=j):j=e[4];c("useGlobalEventListener")("focus",g,j);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={},e[5]=g):g=e[5];c("useGlobalEventListener")("blur",h,g)}g["default"]=a}),98);
__d("usePrefetchCutoverDependencies",["Int64Hooks","MWEnsureCutoverOpenThreadExists","MWV2EnsureThatChatTabExists","Promise","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(6),f=c.clientThreadKey,g=c.threadKey,j=c.threadType,k;e[0]!==f||e[1]!==a||e[2]!==g||e[3]!==j?(c=function(){return a.then(function(a){return(h||(h=b("Promise"))).all([d("MWEnsureCutoverOpenThreadExists").ensureCutoverOpenThreadExists(a,g),d("MWV2EnsureThatChatTabExists").ensureThatChatTabExists(a,g,j,f,"usePrefetchCutoverDependencies")]).then(i)})},k=[a,g,j,f],e[0]=f,e[1]=a,e[2]=g,e[3]=j,e[4]=c,e[5]=k):(c=e[4],k=e[5]);return d("Int64Hooks").useCallbackInt64(c,k)}function i(){}g["default"]=a}),98);
__d("useMWPreloadThread",["Int64Hooks","InteractionTracingMetrics","JSResourceForInteraction","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","MAWPreloadSecureMessages","MAWStateContext.react","MWLSThreadDisplayContext","ReQL","gkx","justknobx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useCometPreloader","usePrefetchCutoverDependencies"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext,l=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWPreloadThread"),m=c("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("useMWPreloadThread");function a(a,b){var e=d("react-compiler-runtime").c(17),f=k(d("MAWStateContext.react").MAWDispatchContext),g=c("useAsyncReStore")(),h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=c("usePrefetchCutoverDependencies")(g,a),p;e[0]!==h?(p=h!=="Inbox"&&c("justknobx")._("761"),e[0]=h,e[1]=p):p=e[1];var s=p,t=a.threadKey;e[2]!==g||e[3]!==f||e[4]!==b||e[5]!==s||e[6]!==a.authorityLevel||e[7]!==t?(h=function(){if(s){var e=c("gkx")("16508");e===!0?m.preload():l.preload()}if(b){c("InteractionTracingMetrics").currentInteractionLogger().forEach(q);e=c("justknobx")._("2575");var h=c("gkx")("14315")?8:c("justknobx")._("2038"),i=s?h:e;c("promiseDone")(g.then(function(b){return d("MAWPreloadSecureMessages").preloadSecureMessages(b,t,f,i,a.authorityLevel)}).then(o))}},p=[g,b,s,f,t,a.authorityLevel],e[2]=g,e[3]=f,e[4]=b,e[5]=s,e[6]=a.authorityLevel,e[7]=t,e[8]=h,e[9]=p):(h=e[8],p=e[9]);h=d("Int64Hooks").useCallbackInt64(h,p);var u;e[10]!==g||e[11]!==b||e[12]!==j||e[13]!==s||e[14]!==t?(p=function(){var a=!1;return function(){if(a===!0)return;a=!0;s&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(n);b?c("promiseDone")(j()):c("promiseDone")(g.then(function(a){return r(a,t)}))}},u=[s,b,j,g,t],e[10]=g,e[11]=b,e[12]=j,e[13]=s,e[14]=t,e[15]=p,e[16]=u):(p=e[15],u=e[16]);e=d("Int64Hooks").useMemoInt64(p,u);return c("useCometPreloader")("button",e,h)}function n(){var a=c("gkx")("16508");a===!0?m.preload():l.preload()}function o(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(p)}function p(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")}function q(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")}function r(a,b){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)).then(function(e){if(e!=null&&e.minMessageId===e.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:b})})},"readwrite",void 0,void 0,f.id+":166")}g["default"]=a}),98);
__d("useNewestMessageOrReactionTs",["I64","Int64Hooks","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(18),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.messages||b[1]!==a?(g=function(){return d("ReQL").fromTableDescending(e.tables.messages).getKeyRange(a)},b[0]=e.tables.messages,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];var k=d("ReQLSuspense").useFirst(g,j,f.id+":23");b[6]!==e.tables.reactions||b[7]!==a?(g=function(){return d("ReQL").fromTableDescending(e.tables.reactions).getKeyRange(a)},b[6]=e.tables.reactions,b[7]=a,b[8]=g):g=b[8];b[9]!==e||b[10]!==a?(j=[e,a],b[9]=e,b[10]=a,b[11]=j):j=b[11];var l=d("ReQLSuspense").useFirst(g,j,f.id+":29");b[12]!==(k==null?void 0:k.timestampMs)||b[13]!==(l==null?void 0:l.timestampMs)?(g=function(){var a;return(h||(h=d("I64"))).max((a=k==null?void 0:k.timestampMs)!=null?a:(h||(h=d("I64"))).zero,(a=l==null?void 0:l.timestampMs)!=null?a:(h||(h=d("I64"))).zero)},b[12]=k==null?void 0:k.timestampMs,b[13]=l==null?void 0:l.timestampMs,b[14]=g):g=b[14];j=k==null?void 0:k.timestampMs;var m=l==null?void 0:l.timestampMs,n;b[15]!==j||b[16]!==m?(n=[j,m],b[15]=j,b[16]=m,b[17]=n):n=b[17];return d("Int64Hooks").useMemoInt64(g,n)}g["default"]=a}),98);
__d("useMWThreadSnippetForDisplay",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWAdminMsg","MAWAdminMsgCTA","MAWLocalizationType","MAWODSProxy","MAWThreadCutover","MWDraftMessages.react","MWPIsThreadUnread","WAOdsEnums","cr:11405","getMAWLocalizedMsgsCountSnippet","gkx","react","react-compiler-runtime","useGetSnippetFromLS","useNewestMessageOrReactionTs"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a,b,c){return 0}var k=(f=b("cr:11405"))!=null?f:a;function e(a,b){var e=d("react-compiler-runtime").c(16);b=b===void 0?!0:b;b=l(a,b);var f=b.isDraft,g=b.isOpenThreadSnippet,h=b.lastMessageCtaType,i=b.shouldHideTimestamp,k=b.snippet;e[0]!==a.threadType?(b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),e[0]=a.threadType,e[1]=b):b=e[1];var n=b;e[2]!==g||e[3]!==n||e[4]!==k?(b=function(){k===""&&n?(c("FBLogger")("messenger_web").mustfix("[MS5] Snippet is %s","empty"),d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"snippet_is_empty"})):k==null&&n?(c("FBLogger")("messenger_web").mustfix("[MS5] Snippet is %s","null"),d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"snippet_is_null"})):n&&(k===m||k===o)?s(k===o):g!=null&&g&&(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"open_thread_snippet"}),c("FBLogger")("messenger_web").info("[MS5] Open thread snippet used for secure thread"),(k==null||k==="")&&c("FBLogger")("messenger_web").mustfix("[MS5] Open thread snippet cannot be empty or null"))},e[2]=g,e[3]=n,e[4]=k,e[5]=b):b=e[5];var p;e[6]!==g||e[7]!==n||e[8]!==k||e[9]!==a.threadKey?(p=[k,n,a.threadKey,g],e[6]=g,e[7]=n,e[8]=k,e[9]=a.threadKey,e[10]=p):p=e[10];j(b,p);e[11]!==f||e[12]!==h||e[13]!==i||e[14]!==k?(a={isDraft:f,lastMessageCtaType:h,shouldHideTimestamp:i,snippet:k},e[11]=f,e[12]=h,e[13]=i,e[14]=k,e[15]=a):a=e[15];return a}function l(a,b){var e=d("react-compiler-runtime").c(32),f=d("MWDraftMessages.react").useMWGetDraft(),g=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey),h=c("useGetSnippetFromLS")(a),l;e[0]!==a.threadType?(l=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),e[0]=a.threadType,e[1]=l):l=e[1];var m=l,n=d("MAWThreadCutover").useCutoverOpenThread(a.threadKey);l=n==null?void 0:n.threadKey;var o=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(l);l=(l=c("useNewestMessageOrReactionTs")(a.threadKey))!=null?l:(i||(i=d("I64"))).zero;var p=k(a.threadKey,a.threadType,a.lastReadWatermarkTimestampMs);l=l;if(c("gkx")("10552")){var s=m&&(a.snippet===""||a.snippet==null);l=s?(i||(i=d("I64"))).zero:a.lastActivityTimestampMs}e[2]!==o||e[3]!==m||e[4]!==n||e[5]!==a.lastActivityTimestampMs?(s=function(){m&&!o&&n!=null&&(i||(i=d("I64"))).gt(n.lastActivityTimestampMs,a.lastActivityTimestampMs)&&d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"thread_not_bumped_on_open_activity"})},e[2]=o,e[3]=m,e[4]=n,e[5]=a.lastActivityTimestampMs,e[6]=s):s=e[6];var t;e[7]!==o||e[8]!==m||e[9]!==n||e[10]!==a.lastActivityTimestampMs||e[11]!==a.threadKey?(t=[m,o,n,a.lastActivityTimestampMs,a.threadKey],e[7]=o,e[8]=m,e[9]=n,e[10]=a.lastActivityTimestampMs,e[11]=a.threadKey,e[12]=t):t=e[12];j(s,t);s=!1;if(m&&!o&&n!=null&&(i||(i=d("I64"))).gt(n.lastActivityTimestampMs,l)){t=n.snippet;l=n.lastMessageCtaType;var u;e[13]!==l||e[14]!==t?(u={isDraft:!1,isOpenThreadSnippet:!0,lastMessageCtaType:l,shouldHideTimestamp:!1,snippet:t},e[13]=l,e[14]=t,e[15]=u):u=e[15];return u}m&&(s=h.shouldHideTimestamp);t=m?h.snippet:a.snippet;l=a.lastMessageCtaType;e[16]!==l||e[17]!==p?(u=r(p,l),e[16]=l,e[17]=p,e[18]=u):u=e[18];h=u;if(h)return h;e[19]!==f||e[20]!==a.threadKey?(u=f==null?void 0:f(a.threadKey),e[19]=f,e[20]=a.threadKey,e[21]=u):u=e[21];h=u;if(!g&&p===0&&!b&&h!=null&&h!==""&&c("gkx")("16420")){e[22]!==h||e[23]!==l||e[24]!==s?(f={isDraft:!0,lastMessageCtaType:l,shouldHideTimestamp:s,snippet:h},e[22]=h,e[23]=l,e[24]=s,e[25]=f):f=e[25];return f}if(m&&(t===""||t==null)){e[26]!==o?(u=q(o),e[26]=o,e[27]=u):u=e[27];return u}e[28]!==l||e[29]!==s||e[30]!==t?(g={isDraft:!1,lastMessageCtaType:l,shouldHideTimestamp:s,snippet:t},e[28]=l,e[29]=s,e[30]=t,e[31]=g):g=e[31];return g}var m=d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),n=d("MAWAdminMsgCTA").getCtaTypeByAdminType(d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),o=d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE),p=d("MAWAdminMsgCTA").getCtaTypeByAdminType(d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE);function q(a){var b;a?(a=o,b=p):(a=m,b=n);return{isDraft:!1,lastMessageCtaType:b,shouldHideTimestamp:!1,snippet:a}}function r(a,b){if(a<=1)return null;a=c("getMAWLocalizedMsgsCountSnippet")(a).toString();return{isDraft:!1,lastMessageCtaType:b,shouldHideTimestamp:!1,snippet:a}}function s(a){a?(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"default_dual_thread_cutover_snippet"}),c("FBLogger")("messenger_web").info("Default dual thread cutover snippet used for secure thread")):d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_TC_MS5_OPEN_SNIPPET,key:"default_e2ee_thread_snippet"})}g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownOnboardingUpsellQuery.graphql",["CometMessagingJewelDropdownOnboardingUpsellQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"CometMessagingJewelDropdownOnboardingUpsellQuery",fragmentName:"MWEBJewelNewUserOnboardingVariantChooser_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},c={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_upsells_dismissed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_softblock_hardblock_dismissed",storageKey:null}]};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownOnboardingUpsellQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_onboarding_softblocks",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBJewelWebOnlyOnboardingVariantChooser_viewer"}],storageKey:null},a,c],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelDropdownOnboardingUpsellQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_onboarding_softblocks",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]}],storageKey:null},a,c],storageKey:null}]},params:{id:b("CometMessagingJewelDropdownOnboardingUpsellQuery_facebookRelayOperation"),metadata:{},name:"CometMessagingJewelDropdownOnboardingUpsellQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWEBJewelWebOnlyOnboardingVariantChooser_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBJewelWebOnlyOnboardingVariantChooser_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{args:null,kind:"FragmentSpread",name:"useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEBOnboardingDismissOnboardingUpsellsInRelay",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.upsellsToDismiss;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] A viewer record does not exist when dismissing softblocks.");return}switch(e){case"softblocks":a.setValue(!0,"is_eb_onboarding_softblock_hardblock_dismissed");break;case"all":a.setValue(!0,"is_eb_onboarding_upsells_dismissed");break}})}g.dismissOnboardingUpsellsInRelayStore=a}),98);
__d("mwEBDismissPostDecisionUpsells.react",["MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=["softblock","jewel_softblock"],f=Array.from(c("MWChatEncryptedBackupsQPLSource.enum").members());return(h||(h=b("Promise"))).all([].concat(e.map(function(b){return d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:a,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":"+b,stateValue:"true"})}),f.map(function(b){return d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:a,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":"+b,stateValue:"dismissed"})})))}g["default"]=a}),98);
__d("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23995441010092445"}),null);
__d("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation.graphql",["useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation",selections:[{alias:null,args:null,concreteType:"XFBMwEbHardblockReleaseOptOutResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_hardblock_release_opt_out",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBJewelWebOnlyOnboardingVariantChooser_viewer"},{args:null,kind:"FragmentSpread",name:"MWEBNewUserOnboardingVariantInterstitialDialogChooser_viewer"},{args:null,kind:"FragmentSpread",name:"MWEBWebOnlyOnboardingThreadListQP_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation",selections:[{alias:null,args:null,concreteType:"XFBMwEbHardblockReleaseOptOutResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_hardblock_release_opt_out",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_onboarding_softblock_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"encrypted_backups_new_user_onboarding_blocking_upsell_variant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation_facebookRelayOperation"),metadata:{},name:"useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation",operationKind:"mutation",text:null}};e.exports=a}),null);
__d("useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useMWEBDismissUpsellsOptOutEBHardblockRelease",["CometRelay","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsRetrieveQplLoggingAnnotations","QPLUserFlow","RelayHooks","mwEBDismissPostDecisionUpsells.react","promiseDone","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation.graphql","useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useEffect,l=e.useRef;function a(a){var e=d("react-compiler-runtime").c(20),f=a.onboardingType,g=a.source;a=a.viewer$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWEBDismissUpsellsOptOutEBHardblockRelease_viewer.graphql"),a);var j=d("RelayHooks").useRelayEnvironment(),o=c("useAsyncReStore")(),p=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),q=p.startFlow;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=i!==void 0?i:i=b("useMWEBDismissUpsellsOptOutEBHardblockReleaseMutation.graphql"),e[0]=p):p=e[0];p=d("RelayHooks").useMutation(p);var r=p[0],s=l(!1);p=(a==null?void 0:a.has_seen_eb_onboarding_final_hardblock)===!0;a=(a==null?void 0:a.hardblock_impression_log_has_run)===!0;var t=p&&!a;e[1]!==o||e[2]!==j||e[3]!==f||e[4]!==r||e[5]!==t||e[6]!==g||e[7]!==q?(a=function(){t&&s.current!==!0&&(s.current=!0,c("promiseDone")(o,function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:a,onFetch:function(a){var b=a.firstUpsellTime;a=a.hasUserOnboardedBefore;q({additionalAnnotations:{eb_session_identifier:b,has_user_onboarded_before:a,is_hardblock:"false",onboarding_type:f},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:g});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_HARDBLOCK_RELEASE")}})}),d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:j,upsellsToDismiss:"all"}),r({onCompleted:function(){c("promiseDone")(o,n),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{has_opted_out:!0},string:{setup_type:"device_only"}},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})},onError:m,variables:{}}))},e[1]=o,e[2]=j,e[3]=f,e[4]=r,e[5]=t,e[6]=g,e[7]=q,e[8]=a):a=e[8];var u;e[9]!==o||e[10]!==j||e[11]!==f||e[12]!==r||e[13]!==p||e[14]!==t||e[15]!==g||e[16]!==q?(u=[p,r,j,o,q,f,t,g],e[9]=o,e[10]=j,e[11]=f,e[12]=r,e[13]=p,e[14]=t,e[15]=g,e[16]=q,e[17]=u):u=e[17];k(a,u);e[18]!==t?(p={shouldGetHardblockReleasedThisBrowsingSession:t},e[18]=t,e[19]=p):p=e[19];return p}function m(a){d("MWChatEncryptedBackupsLogging").endFailure({errorName:a.message,event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent})}function n(a){return c("mwEBDismissPostDecisionUpsells.react")(a)}g["default"]=a}),98);
__d("MWEBJewelWebOnlyOnboardingVariantChooser.react",["CometRelay","FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBJewelWebOnlyOnboardingVariantChooser_viewer.graphql","MWEBOnboardingDismissOnboardingUpsellsInRelay","ReQL","ReQLSuspense","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useMWEBDismissUpsellsOptOutEBHardblockRelease","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBJewelWebOnlyOnboardingSoftblock.react").__setRef("MWEBJewelWebOnlyOnboardingVariantChooser.react")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBJewelWebOnlyOnboardingHardblock.react").__setRef("MWEBJewelWebOnlyOnboardingVariantChooser.react"));function a(a){var e,g=d("react-compiler-runtime").c(8),j=a.children,o=a.dismissJewelSoftblock;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBJewelWebOnlyOnboardingVariantChooser_viewer.graphql"),a);var p=(i||(i=c("useReStore")))(),q=d("CometRelay").useRelayEnvironment();e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.tables.encrypted_backups).map(n)},[p],f.id+":57"))!=null?e:!0;var r;g[0]!==a?(r={onboardingType:"WEB_ONLY_ONBOARDING",source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK,viewer$key:a},g[0]=a,g[1]=r):r=g[1];r=c("useMWEBDismissUpsellsOptOutEBHardblockRelease")(r);r=r.shouldGetHardblockReleasedThisBrowsingSession;if(!e||r)return j;switch(a==null?void 0:a.encrypted_backups_onboarding_softblock_variant){case"ONBOARDING_SOFTBLOCK_1":g[2]!==o||g[3]!==q?(e=k.jsx(l,{dismissJewelSoftblock:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:q,upsellsToDismiss:"softblocks"}),o()}}),g[2]=o,g[3]=q,g[4]=e):e=g[4];return e;case"ONBOARDING_HARDBLOCK_1":g[5]!==o||g[6]!==q?(r=k.jsx(m,{dismissJewelSoftblock:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:q,upsellsToDismiss:"softblocks"}),o()}}),g[5]=o,g[6]=q,g[7]=r):r=g[7];return r;default:c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] Invalid jewel onboarding variant detected");o();return j}}function n(a){var b=a.backupId;a=a.isUserOptedOut;return a===!0||b!=null?!1:!0}g["default"]=a}),98);
__d("CometMessagingJewelDropdownOnboardingUpsell.react",["fbt","BaseMultiStepContainer.react","CometErrorBoundary.react","CometMessagingJewelDropdownContent.react","CometMessagingJewelDropdownOnboardingUpsellQuery.graphql","CometRelay","CometTopNavListDropdown.react","MWEBJewelWebOnlyOnboardingVariantChooser.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWLogInteraction","cr:20044","react","react-compiler-runtime","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useState;function a(a){var e=d("react-compiler-runtime").c(13),f=a.props;a=a.queries;var g=f.onClose,j=a.ebUpsellContainerQueryRef;f=a.jewelUpsellQueryRef;var m=a.mwInboxTrayContainerQuery;a=d("MWLogInteraction").getPopoverTrace();a==null||a.addAnnotation("PopoverEntrypoint","CometMessagingJewelDropdownRestoreUpsell");a=c("useTopMostRouteCometEntityKey")();var n=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("CometMessagingJewelDropdownOnboardingUpsellQuery.graphql"),f);f=l(!0);var o=f[0],p=f[1];f=(a==null?void 0:a.entity_type)==="home"&&a.section==="community";a=d("MWEncryptedBackupsSharedState").useEBSharedStateEntryBoolean(c("MWEncryptedBackupsLocalStorageEntryEnum").EB_POST_DECISION_WEB_ONLY_ONBOARDING+":jewel_softblock");var q=a[0],r=a[1];a=l(q||n.viewer.is_eb_onboarding_upsells_dismissed===!0);var s=a[0];e[0]!==r?(q=function(){r()},e[0]=r,e[1]=q):q=e[1];var t=q;if(f)return null;a=!o||n.viewer.is_eb_onboarding_upsells_dismissed===!0||n.viewer.is_eb_onboarding_softblock_hardblock_dismissed===!0;var u=!a&&n.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null,v=!a&&n.viewer.if_viewer_can_see_messenger_eb_onboarding_softblocks!=null;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Messenger"),e[2]=q):q=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1cvmir6"},e[3]=f):f=e[3];e[4]!==j||e[5]!==s||e[6]!==m||e[7]!==g||e[8]!==t||e[9]!==n||e[10]!==u||e[11]!==v?(o=k.jsx(c("CometTopNavListDropdown.react"),{label:q,name:"MWJewelDropdown",children:k.jsx("div",babelHelpers["extends"]({},f,{children:k.jsx(c("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){var e=k.jsx(c("CometMessagingJewelDropdownContent.react"),{ebUpsellContainerQueryRef:j,mwInboxTrayContainerQuery:m,onClose:g,pushPage:a});return b("cr:20044")!=null?s?e:k.jsx(b("cr:20044"),{onClose:g,onSkip:t}):u?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:k.jsx(d("CometRelay").MatchContainer,{match:n.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{children:e,dismissJewelSoftblock:function(){return p(!1)}}})}):v?k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return e},children:k.jsx(c("MWEBJewelWebOnlyOnboardingVariantChooser.react"),{dismissJewelSoftblock:function(){return p(!1)},viewer:n.viewer.if_viewer_can_see_messenger_eb_onboarding_softblocks,children:e})}):e}})}))}),e[4]=j,e[5]=s,e[6]=m,e[7]=g,e[8]=t,e[9]=n,e[10]=u,e[11]=v,e[12]=o):o=e[12];return o}g["default"]=a}),226);
__d("FBIconKeyFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.25 927.25a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m7.744-9.5h-1.587a.257.257 0 0 0-.18.074l-3.677 3.678a3.5 3.5 0 1 0 2.2 3.248c0-.521-.117-1.015-.322-1.46l.822-.793v-.747h.75l.751-.751-.001-1.249h1l.5-.5v-1.244a.256.256 0 0 0-.256-.256",transform:"translate(352 156.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107.407 917.5h1.587c.26 0 .476.197.503.45l.003.056v1.244a.25.25 0 0 1-.048.147l-.025.03-.5.5a.25.25 0 0 1-.138.07l-.039.003H108l.001.998a.25.25 0 0 1-.047.147l-.026.03-.751.752a.25.25 0 0 1-.138.07L107 922h-.5v.497a.25.25 0 0 1-.05.15l-.026.03-.698.673c.18.443.274.916.274 1.4a3.75 3.75 0 1 1-2.684-3.594l.171.055 3.564-3.564a.508.508 0 0 1 .29-.143l.067-.004h1.586-1.587zm1.587.5h-1.589l-3.678 3.679a.25.25 0 0 1-.27.055 3.25 3.25 0 1 0 2.043 3.016c0-.471-.103-.93-.299-1.355a.25.25 0 0 1 .024-.25l.03-.034.745-.72v-.641a.25.25 0 0 1 .205-.246l.045-.004h.646l.605-.605-.001-1.145a.25.25 0 0 1 .205-.246l.045-.004h.896l.354-.354v-1.14l-.002-.004-.004-.002zm-7.744 6a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5zm0 .5a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5zm5.75-3h-.104l-.073.073.177-.073z",transform:"translate(352 156.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWEBConnections7AndroidIcon.react",["ix","CometImageFromIXValue.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.alt,f=a.ref;a=a.xstyle;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h("398889"),b[0]=g):g=b[0];g=g;b[1]!==e||b[2]!==f||b[3]!==a?(g=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("MWEBOnboardingAdvancedOptionsDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBOnboardingAdvancedOptionsDialog.react").__setRef("MWEBOnboardingAdvancedOptionsDialog.entrypoint")};g["default"]=a}),98);
__d("MWEncryptedBackupsOnboardingType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["WEB_ONLY_ONBOARDING","NEW_USER_ONBOARDING"]);c=a;f["default"]=c}),66);
__d("XFBMWEncryptedBackupsOnboardingTypeUtils.facebook",["$InternalEnumUtils","MWEncryptedBackupsOnboardingType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("MWEncryptedBackupsOnboardingType"));b=d("$InternalEnumUtils").createFromJSEnum(c("MWEncryptedBackupsOnboardingType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("useMWEBOnboardingLogHardblockImpressionMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9765904026860567"}),null);
__d("useMWEBOnboardingLogHardblockImpressionMutation.graphql",["useMWEBOnboardingLogHardblockImpressionMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"XFBMwEbLogHardblockImpressionResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_log_hardblock_impression",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"currently_on_final_hardblock",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWEBOnboardingLogHardblockImpressionMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWEBOnboardingLogHardblockImpressionMutation",selections:c},params:{id:b("useMWEBOnboardingLogHardblockImpressionMutation_facebookRelayOperation"),metadata:{},name:"useMWEBOnboardingLogHardblockImpressionMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBOnboardingLogHardblockImpressionMutationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"hardblock_impression_log_has_run",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBOnboardingLogHardblockImpressionMutationQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBOnboardingLogHardblockImpressionMutationQuery",selections:[a]},params:{cacheID:"0ebe464d456f7e1cff7f2d3ecf5b0358",id:null,metadata:{},name:"useMWEBOnboardingLogHardblockImpressionMutationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBOnboardingLogHardblockImpressionMutation",["CometRelay","FBLogger","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","XFBMWEncryptedBackupsOnboardingTypeUtils.facebook","react","react-compiler-runtime","useMWEBOnboardingLogHardblockImpressionMutation.graphql","useMWEBOnboardingLogHardblockImpressionMutationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(8),f=d("CometRelay").useRelayEnvironment(),g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h!==void 0?h:h=b("useMWEBOnboardingLogHardblockImpressionMutation.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useMutation(g);var j=g[0],n;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=i!==void 0?i:i=b("useMWEBOnboardingLogHardblockImpressionMutationQuery.graphql"),n={},e[1]=g,e[2]=n):(g=e[1],n=e[2]);g=d("CometRelay").useClientQuery(g,n);var o=g.viewer;e[3]!==j||e[4]!==f||e[5]!==a||e[6]!==o.hardblock_impression_log_has_run?(n=function(){if(o.hardblock_impression_log_has_run===!0)return;var b=d("XFBMWEncryptedBackupsOnboardingTypeUtils.facebook").fromJSEnum(a);if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] Invalid onboarding type for hardblock impression logging");return}d("CometRelay").commitLocalUpdate(f,m);j({onCompleted:l,onError:k,variables:{input:{onboarding_type:b}}})},e[3]=j,e[4]=f,e[5]=a,e[6]=o.hardblock_impression_log_has_run,e[7]=n):n=e[7];return n}function k(a){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] Failed to log onboarding hardblock impression on web due to error: %s",a.message)}function l(a){((a=a.xfb_mw_eb_log_hardblock_impression)==null?void 0:a.currently_on_final_hardblock)===!0&&c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,{bool:{is_final_hardblock:!0}})}function m(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][upsells] A viewer record does not exist when updating Relay state hardblock_impression_log_has_run.");return}a.setValue(!0,"hardblock_impression_log_has_run")}g["default"]=a}),98);
__d("MWEBJewelBaseOnboardingHardblock.react",["BaseMultiStepContainer.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContextProvider.react","MWEBOnboardingAdvancedOptionsDialog.entrypoint","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXColumn.react","QPLUserFlow","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","requireDeferredForDisplay","useLabyrinthLogging","useMWEBOnboardingLogHardblockImpressionMutation","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWEBOnboardingInsertPINJewelStep.react").__setRef("MWEBJewelBaseOnboardingHardblock.react")),m=c("deferredLoadComponent")(c("requireDeferred")("MWEBOnboardingConfirmPINJewelStep.react").__setRef("MWEBJewelBaseOnboardingHardblock.react"));function a(a){var b=d("react-compiler-runtime").c(16),e=a.confirmPinSubtitle,f=a.confirmPinTitle,g=a.dismissJewelSoftblock,i=a.insertPinSubtitle,n=a.insertPinTitle,o=a.onboardingType,p=d("CometRelay").useRelayEnvironment();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWEBOnboardingAdvancedOptionsDialog.entrypoint"),a);var q=a[0],r=(h||(h=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var s=a.startFlow,t=c("useMWEBOnboardingLogHardblockImpressionMutation")(o);b[1]!==t||b[2]!==r||b[3]!==o||b[4]!==s?(a={onVisible:function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:r,onFetch:function(a){var b=a.firstUpsellTime;a=a.hasUserOnboardedBefore;s({additionalAnnotations:{eb_session_identifier:b,has_user_onboarded_before:a,is_hardblock:"true",onboarding_type:o},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_INSERT_STEP_IMPRESSION")}}),t()}},b[1]=t,b[2]=r,b[3]=o,b[4]=s,b[5]=a):a=b[5];var u=c("useVisibilityObserver")(a);a=k(c("MWJewelPopoverDialogContext.react"));var v=a.setIsOpenForDialog;b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==p||b[10]!==i||b[11]!==n||b[12]!==u||b[13]!==v||b[14]!==q?(a=j.jsx(c("CometTopNavListDropdownCard.react"),{useFullHeight:!0,useMaxHeight:!0,children:j.jsx(c("MWXColumn.react"),{expanding:!0,children:j.jsx(c("MWEBFlowSourceContextProvider.react"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK,children:j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(c("BaseMultiStepContainer.react"),{expanding:!0,children:function(a){return j.jsx(c("MWXColumn.react"),{align:"center",expanding:!0,ref:u,children:j.jsx(l,{dismissJewelSoftblock:g,isChatTab:!1,isSoftblock:!1,onAdvancedOptions:function(){v(!0),q({source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_HARDBLOCK})},onNext:function(b){var c=b.enteredPinCode,h=b.setIsMismatchError;a(function(a){a=a.onReturn;return j.jsx(m,{enteredPinCode:c,isChatTab:!1,onComplete:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:p,upsellsToDismiss:"all"}),g()},onReturn:a,setIsMismatchError:h,subtitle:e,title:f})})},subtitle:i,title:n})})}})})})})}),b[6]=e,b[7]=f,b[8]=g,b[9]=p,b[10]=i,b[11]=n,b[12]=u,b[13]=v,b[14]=q,b[15]=a):a=b[15];return a}g["default"]=a}),98);
__d("useMWEBJewelOnboardingSteps",["MWEBOnboardingAdvancedOptionsDialog.entrypoint","MWJewelPopoverDialogContext.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext,k=c("deferredLoadComponent")(c("requireDeferred")("MWEBOnboardingInsertPINJewelStep.react").__setRef("useMWEBJewelOnboardingSteps")),l=c("deferredLoadComponent")(c("requireDeferred")("MWEBOnboardingConfirmPINJewelStep.react").__setRef("useMWEBJewelOnboardingSteps"));function a(a){var b=d("react-compiler-runtime").c(15),e=a.confirmPinSubtitle,f=a.confirmPinTitle,g=a.insertPinSubtitle,h=a.insertPinTitle,m=a.isSoftblock,n=a.onComplete,o=a.source;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWEBOnboardingAdvancedOptionsDialog.entrypoint"),a);var p=a[0];a=j(c("MWJewelPopoverDialogContext.react"));var q=a.setIsOpenForDialog;b[1]!==e||b[2]!==f||b[3]!==n?(a=function(a){var b=a.enteredPinCode,c=a.pushPage,d=a.setIsMismatchError;c(function(a){a=a.onReturn;return i.jsx(l,{enteredPinCode:b,isChatTab:!1,onComplete:n,onReturn:a,setIsMismatchError:d,subtitle:e,title:f})})},b[1]=e,b[2]=f,b[3]=n,b[4]=a):a=b[4];var r=a;b[5]!==g||b[6]!==h||b[7]!==m||b[8]!==r||b[9]!==q||b[10]!==p||b[11]!==o?(a=function(a){return a(function(b){b=b.onReturn;return i.jsx(k,{isChatTab:!1,isSoftblock:m,onAdvancedOptions:function(){q(!0),p({source:o})},onNext:function(b){var c=b.enteredPinCode;b=b.setIsMismatchError;return r({enteredPinCode:c,pushPage:a,setIsMismatchError:b})},onReturn:b,subtitle:g,title:h})})},b[5]=g,b[6]=h,b[7]=m,b[8]=r,b[9]=q,b[10]=p,b[11]=o,b[12]=a):a=b[12];a=a;var s;b[13]!==a?(s={pushPinCodeCreateStep:a},b[13]=a,b[14]=s):s=b[14];return s}g["default"]=a}),98);
__d("MWEBJewelBaseOnboardingSoftblock.react",["fbt","BaseMultiStepContainer.react","CometRelay","CometTopNavListDropdownCard.react","CometTransientDialogProvider.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBFlowSourceContextProvider.react","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXLink.react","MWXText.react","QPLUserFlow","gkx","react","react-compiler-runtime","useLabyrinthLogging","useMWEBJewelOnboardingSteps","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(28),e=a.children,f=a.confirmPinSubtitle,g=a.confirmPinTitle,j=a.dismissJewelSoftblock,m=a.insertPinSubtitle,n=a.insertPinTitle,o=a.onboardingType,p=a.source,q=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==q?(a=function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:q,upsellsToDismiss:"all"}),j()},b[0]=j,b[1]=q,b[2]=a):a=b[2];var r;b[3]!==f||b[4]!==g||b[5]!==m||b[6]!==n||b[7]!==p||b[8]!==a?(r={confirmPinSubtitle:f,confirmPinTitle:g,insertPinSubtitle:m,insertPinTitle:n,isSoftblock:!0,onComplete:a,source:p},b[3]=f,b[4]=g,b[5]=m,b[6]=n,b[7]=p,b[8]=a,b[9]=r):r=b[9];f=c("useMWEBJewelOnboardingSteps")(r);var s=f.pushPinCodeCreateStep,t=(i||(i=c("useReStore")))();g=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var u=g.startFlow;b[10]!==t||b[11]!==o||b[12]!==p||b[13]!==u?(m={onVisible:function(){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:t,onFetch:function(a){var b=a.firstUpsellTime;a=a.hasUserOnboardedBefore;u({additionalAnnotations:{eb_session_identifier:b,has_user_onboarded_before:a,is_hardblock:"false",onboarding_type:o},event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:p});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_USER_EDUCATION_STEP_IMPRESSION")}})}},b[10]=t,b[11]=o,b[12]=p,b[13]=u,b[14]=m):m=b[14];n=c("useVisibilityObserver")(m);b[15]!==j||b[16]!==p?(a=function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_SKIP_CLICK"),d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"SOFTBLOCK_SKIP",event:d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,source:p}),j()},b[15]=j,b[16]=p,b[17]=a):a=b[17];var v=a;b[18]!==e||b[19]!==v||b[20]!==s?(r=k.jsx(c("CometTransientDialogProvider.react"),{children:k.jsx(c("BaseMultiStepContainer.react"),{expanding:!0,children:function(a){return k.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{size:"large",topItem:{align:"end",item:k.jsx(c("MWXText.react"),{color:"highlight",type:"button2",children:k.jsx(c("MWXLink.react"),{color_DEPRECATED:l?"primary":"highlight",display_DEPRECATED:"block",onClick:v,rel:"noreferrer",testid:void 0,children:h._(/*BTDS*/"Skip")})})},children:k.jsxs(c("MWXColumn.react"),{children:[k.jsx(c("MWXColumnItem.react"),{children:e}),k.jsx(c("MWXColumn.react"),{paddingVertical:16,children:k.jsx(c("MWXColumnItem.react"),{align:"stretch",paddingTop:4,verticalAlign:"bottom",children:k.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Create PIN"),onPress:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_CREATE_PIN_CLICK"),s(a)},testid:void 0,type:"primary"})})})]})})}})}),b[18]=e,b[19]=v,b[20]=s,b[21]=r):r=b[21];b[22]!==p||b[23]!==r?(f=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:p,children:r}),b[22]=p,b[23]=r,b[24]=f):f=b[24];b[25]!==n||b[26]!==f?(g=k.jsx(c("CometTopNavListDropdownCard.react"),{useFullHeight:!0,useMaxHeight:!0,children:k.jsx(c("MWXColumn.react"),{expanding:!0,paddingHorizontal:16,paddingVertical:0,ref:n,children:f})}),b[25]=n,b[26]=f,b[27]=g):g=b[27];return g}g["default"]=a}),226);
__d("MWEBJewelWebOnlyOnboardingHardblock.react",["fbt","MWEBJewelBaseOnboardingHardblock.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.dismissJewelSoftblock;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"You\u2019ll now use a PIN to access your chat history on Facebook and Messenger."),f=h._(/*BTDS*/"Confirm your PIN"),b[0]=e,b[1]=f):(e=b[0],f=b[1]);var g,i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"You\u2019ll now use a PIN to access your chat history on Facebook and Messenger."),i=h._(/*BTDS*/"Create a PIN to access your chat history"),b[2]=g,b[3]=i):(g=b[2],i=b[3]);b[4]!==a?(e=j.jsx(c("MWEBJewelBaseOnboardingHardblock.react"),{confirmPinSubtitle:e,confirmPinTitle:f,dismissJewelSoftblock:a,insertPinSubtitle:g,insertPinTitle:i,onboardingType:"WEB_ONLY_ONBOARDING"}),b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),226);
__d("MWEBOnboardingUserEducationContentLayout.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(23),e=a.containerDialogHasOwnHeaderSpacing,f=a.content,g=a.icon,h=a.isDialog;a=a.title;e=e===void 0?!1:e;var l=h&&!e&&!j?24:0;e=h&&!e?8:0;var m;b[0]!==g||b[1]!==e?(m=i.jsx(c("MWXColumnItem.react"),{paddingTop:e,children:g}),b[0]=g,b[1]=e,b[2]=m):m=b[2];b[3]!==l||b[4]!==m?(g=i.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:l,children:m}),b[3]=l,b[4]=m,b[5]=g):g=b[5];e=h?16:void 0;l=h?void 0:20;m=h?void 0:4;b[6]!==a?(h=i.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a}),b[6]=a,b[7]=h):h=b[7];b[8]!==m||b[9]!==h?(a=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:4,paddingTop:m,children:h}),b[8]=m,b[9]=h,b[10]=a):a=b[10];b[11]!==a||b[12]!==e||b[13]!==l?(m=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:20,paddingTop:e,paddingVertical:l,children:a}),b[11]=a,b[12]=e,b[13]=l,b[14]=m):m=b[14];b[15]!==f?(h=f.map(k),b[15]=f,b[16]=h):h=b[16];b[17]!==h?(a=i.jsx(c("MWXColumnItem.react"),{align:"start",children:i.jsx(c("MWXColumn.react"),{align:"start",paddingVertical:16,spacing:8,children:h})}),b[17]=h,b[18]=a):a=b[18];b[19]!==m||b[20]!==a||b[21]!==g?(e=i.jsxs(i.Fragment,{children:[g,m,a]}),b[19]=m,b[20]=a,b[21]=g,b[22]=e):e=b[22];return e}function k(a,b){return i.jsx(c("MWXColumnItem.react"),{align:"start",children:a},b)}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconKey",["MWXSvgIcon","SVGIcon","cr:22374","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22374")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWEBWebOnlyOnboardingUserEducationContent.react",["fbt","MWEBOnboardingUserEducationContentLayout.react","MWXIconForListCell.react","MWXIconKey","MWXIconLock","MWXListCell.react","MWXTextPairing.react","cr:2060","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(20);a=a.isDialog;var f=a?"large":"medium",g;e[0]!==f?(g=j.jsx(c("MWXIconForListCell.react"),{hasBackground:!1,icon:c("MWXIconLock"),size:f}),e[0]=f,e[1]=g):g=e[1];e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Messages and calls will be secured with end-to-end encryption."),e[2]=f):f=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWXTextPairing.react"),{body:f,bodyColor:"secondary",headline:h._(/*BTDS*/"An extra layer of protection"),headlineColor:"primary",level:4}),e[3]=f):f=e[3];e[4]!==g?(f=j.jsx(c("MWXListCell.react"),{addOnStart:g,addOnStartVerticalAlign:"top",content:f},"1"),e[4]=g,e[5]=f):f=e[5];g=a?"large":"medium";var i;e[6]!==g?(i=j.jsx(c("MWXIconForListCell.react"),{hasBackground:!1,icon:c("MWXIconKey"),size:g}),e[6]=g,e[7]=i):i=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"You\u2019ll need a PIN to access your chat history moving forward."),e[8]=g):g=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWXTextPairing.react"),{body:g,bodyColor:"secondary",headline:h._(/*BTDS*/"Access to chat history is changing"),headlineColor:"primary",level:4}),e[9]=g):g=e[9];e[10]!==i?(g=j.jsx(c("MWXListCell.react"),{addOnStart:i,addOnStartVerticalAlign:"top",content:g},"2"),e[10]=i,e[11]=g):g=e[11];e[12]!==g||e[13]!==f?(i=[f,g],e[12]=g,e[13]=f,e[14]=i):i=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(b("cr:2060"),{}),e[15]=g):g=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Messaging is getting a security upgrade"),e[16]=f):f=e[16];e[17]!==a||e[18]!==i?(g=j.jsx(c("MWEBOnboardingUserEducationContentLayout.react"),{content:i,icon:g,isDialog:a,title:f}),e[17]=a,e[18]=i,e[19]=g):g=e[19];return g}g["default"]=a}),226);
__d("useMWEBDeferWebOnlyOnboardingUpsellMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9570702476351051"}),null);
__d("useMWEBDeferWebOnlyOnboardingUpsellMutation.graphql",["useMWEBDeferWebOnlyOnboardingUpsellMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XFBMwEbDeferOnboardingSoftblockResponsePayload",kind:"LinkedField",name:"xfb_mw_eb_defer_onboarding_softblock",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"defer_upsell_until",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBDeferWebOnlyOnboardingUpsellMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBDeferWebOnlyOnboardingUpsellMutation",selections:a},params:{id:b("useMWEBDeferWebOnlyOnboardingUpsellMutation_facebookRelayOperation"),metadata:{},name:"useMWEBDeferWebOnlyOnboardingUpsellMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBDeferWebOnlyOnboardingUpsellMutation",["CometRelay","FBLogger","MWEBOnboardingDismissOnboardingUpsellsInRelay","MWEncryptedBackupsLocalStorageEntryEnum","promiseDone","react-compiler-runtime","requireDeferred","useMWEBDeferWebOnlyOnboardingUpsellMutation.graphql","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWEBDeferWebOnlyOnboardingUpsellMutation");function a(){var a=d("react-compiler-runtime").c(5),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h!==void 0?h:h=b("useMWEBDeferWebOnlyOnboardingUpsellMutation.graphql"),a[0]=e):e=a[0];e=d("CometRelay").useMutation(e);var f=e[0],g=(i||(i=c("useReStore")))(),l=d("CometRelay").useRelayEnvironment();a[1]!==f||a[2]!==g||a[3]!==l?(e={deferUpsell:function(){d("MWEBOnboardingDismissOnboardingUpsellsInRelay").dismissOnboardingUpsellsInRelayStore({environment:l,upsellsToDismiss:"softblocks"});return f({onCompleted:function(a){var b=(a=a.xfb_mw_eb_defer_onboarding_softblock)==null?void 0:a.defer_upsell_until;if(b==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] Failed to store Onboarding softblock defer time locally. Mutation did not return a valid time");return}j.onReady(function(a){a=a.upsertEBSharedStateEntry;c("promiseDone")(a({db:g,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").EB_ONBOARDING_DEFER_UPSELL_UNTIL_TIME,stateValue:b.toString()}))})},onError:k,variables:{}})}},a[1]=f,a[2]=g,a[3]=l,a[4]=e):e=a[4];return e}function k(a){a="[labyrinth][onboarding] Failed to defer Onboarding softblock due to: "+a.message;c("FBLogger")("labyrinth_web").mustfix(a)}g["default"]=a}),98);
__d("MWEBJewelWebOnlyOnboardingSoftblock.react",["fbt","MWChatEncryptedBackupsQPLSource.enum","MWEBJewelBaseOnboardingSoftblock.react","MWEBWebOnlyOnboardingUserEducationContent.react","react","react-compiler-runtime","useMWEBDeferWebOnlyOnboardingUpsellMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(10),e=a.dismissJewelSoftblock;a=c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_ONBOARDING_SOFTBLOCK;var f=c("useMWEBDeferWebOnlyOnboardingUpsellMutation")(),g=f.deferUpsell;b[0]!==g||b[1]!==e?(f=function(){g(),e()},b[0]=g,b[1]=e,b[2]=f):f=b[2];f=f;var i,k;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Your PIN lets you restore chat history."),k=h._(/*BTDS*/"Confirm your PIN"),b[3]=i,b[4]=k):(i=b[3],k=b[4]);var l,m;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Your PIN lets you restore chat history."),m=h._(/*BTDS*/"Create your PIN"),b[5]=l,b[6]=m):(l=b[5],m=b[6]);var n;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx(c("MWEBWebOnlyOnboardingUserEducationContent.react"),{isDialog:!1}),b[7]=n):n=b[7];b[8]!==f?(i=j.jsx(c("MWEBJewelBaseOnboardingSoftblock.react"),{confirmPinSubtitle:i,confirmPinTitle:k,dismissJewelSoftblock:f,insertPinSubtitle:l,insertPinTitle:m,onboardingType:"WEB_ONLY_ONBOARDING",source:a,children:n}),b[8]=f,b[9]=i):i=b[9];return i}g["default"]=a}),226);
__d("MWEBOnboardingInsertPINJewelStep.react",["fbt","FocusRegion.react","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsUpsellJewelChatTabLayout.react","MWEBConnections4AndroidIcon.react","MWEBPinCodeSize","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconArrowLeft","MWXLink.react","MWXText.react","focusScopeQueries","gkx","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState,l="eb-onboarding-insert-pin-dialog-step";function a(a){var b=d("react-compiler-runtime").c(63),e=a.dismissJewelSoftblock,f=a.isChatTab,g=a.isSoftblock,i=a.onAdvancedOptions,m=a.onNext,n=a.onReturn,o=a.subtitle;a=a.title;var p=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_INSERT_STEP_IMPRESSION"),q=k(!1),r=q[0],s=q[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){s(!1)},b[0]=q):q=b[0];b[1]!==m?(q={clearInputOnComplete:!0,focusRegionId:l,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:q,onComplete:function(a){m({enteredPinCode:a,setIsMismatchError:s})},type:"pin"},b[1]=m,b[2]=q):q=b[2];q=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(q);var t=q[0];q=q[1];q=q.invalidKeyPressedError;var u;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"More Options"),b[3]=u):u=b[3];b[4]!==i?(u=j.jsx(c("MWXText.react"),{color:"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{onClick:i,rel:"noreferrer",testid:void 0,children:u})}),b[4]=i,b[5]=u):u=b[5];i=u;u=f?i:null;var v=f?"small":"large",w;b[6]!==n?(w=n!=null?{align:"start",item:j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconArrowLeft"),label:h._(/*BTDS*/"Back"),onPress:n,size:32})}:void 0,b[6]=n,b[7]=w):w=b[7];b[8]!==g||b[9]!==p?(n=g?d("xplatToDOMRef").xplatToDOMRef(p):void 0,b[8]=g,b[9]=p,b[10]=n):n=b[10];p=f?"small":"large";var x;b[11]!==p?(x=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWEBConnections4AndroidIcon.react"),{size:p})}),b[11]=p,b[12]=x):x=b[12];p=f?0:20;var y=f?0:20,z,A;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x78zum5 x141feeh"},A={className:"xpvyfi4 x3ajldb"},b[13]=z,b[14]=A):(z=b[13],A=b[14]);var B=f?0:20,C=f?0:8,D;b[15]!==a?(D=j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:a}),b[15]=a,b[16]=D):D=b[16];b[17]!==B||b[18]!==C||b[19]!==D?(a=j.jsx("div",babelHelpers["extends"]({},z,{children:j.jsx("div",babelHelpers["extends"]({},A,{children:j.jsx(c("MWXColumnItem.react"),{expanding:!0,paddingHorizontal:B,paddingTop:C,verticalAlign:"bottom",children:D})}))})),b[17]=B,b[18]=C,b[19]=D,b[20]=a):a=b[20];b[21]!==p||b[22]!==y||b[23]!==a?(z=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:p,paddingTop:y,children:a}),b[21]=p,b[22]=y,b[23]=a,b[24]=z):z=b[24];A=f?0:16;B=f?0:12;b[25]!==o?(C=j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:o}),b[25]=o,b[26]=C):C=b[26];b[27]!==B||b[28]!==C?(D=j.jsx(c("MWXColumnItem.react"),{paddingVertical:B,children:C}),b[27]=B,b[28]=C,b[29]=D):D=b[29];b[30]!==A||b[31]!==D?(p=j.jsx(c("MWXColumnItem.react"),{paddingHorizontal:A,paddingTop:20,children:D}),b[30]=A,b[31]=D,b[32]=p):p=b[32];y=f?16:20;b[33]!==q||b[34]!==r?(a=q!=null?q:r?h._(/*BTDS*/"That PIN doesn't match. Please try again."):void 0,b[33]=q,b[34]=r,b[35]=a):a=b[35];o=f?"tiny":"small";B=f?"tiny":"small";b[36]!==t||b[37]!==B?(C=j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:l,children:j.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({testid:void 0},t,{inputSize:B}))}),b[36]=t,b[37]=B,b[38]=C):C=b[38];b[39]!==a||b[40]!==o||b[41]!==C?(A=j.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:a,inputSize:o,children:C}),b[39]=a,b[40]=o,b[41]=C,b[42]=A):A=b[42];b[43]!==y||b[44]!==A?(D=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:y,children:A}),b[43]=y,b[44]=A,b[45]=D):D=b[45];b[46]!==e||b[47]!==f||b[48]!==g||b[49]!==i?(q=f?null:j.jsxs(c("MWXColumn.react"),{paddingVertical:20,children:[j.jsx(c("MWXColumnItem.react"),{paddingTop:12,children:i}),!g&&c("gkx")("14609")&&e!=null&&j.jsx(c("MWXColumnItem.react"),{paddingTop:12,children:j.jsx(c("MWXText.react"),{color:"highlight",type:"button2",children:j.jsx(c("MWXLink.react"),{onClick:function(){e()},rel:"noreferrer",testid:void 0,children:h._(/*BTDS*/"[Debug] Skip")})})})]}),b[46]=e,b[47]=f,b[48]=g,b[49]=i,b[50]=q):q=b[50];b[51]!==x||b[52]!==z||b[53]!==p||b[54]!==D||b[55]!==q||b[56]!==n?(r=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,ref:n,children:[x,z,p,D,q]}),b[51]=x,b[52]=z,b[53]=p,b[54]=D,b[55]=q,b[56]=n,b[57]=r):r=b[57];b[58]!==r||b[59]!==u||b[60]!==v||b[61]!==w?(t=j.jsx(c("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react"),{bottomItem:u,size:v,topItem:w,children:r}),b[58]=r,b[59]=u,b[60]=v,b[61]=w,b[62]=t):t=b[62];return t}g["default"]=a}),226);
__d("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24072518349012251"}),null);
__d("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery.graphql",["MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_onboarding_upsells",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_onboarding_final_hardblock",storageKey:null},{args:null,documentName:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",fragmentName:"MWEBWebOnlyOnboardingThreadListQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_onboarding_upsells_dismissed",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",selections:[a]},params:{id:b("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery_facebookRelayOperation"),metadata:{},name:"MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWEncryptedBackupsQPPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23433"),k={actionButtonGlimmerComet:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},actionButtonGlimmerMsgr:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x10w6t97",$$css:!0},logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",width:"xvy4d1p",$$css:!0},root:{backgroundColor:"xlhe6ec",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderInlineEndStyle:"x18b5jzi",borderInlineEndWidth:"x10w94by",borderInlineStartStyle:"x1t7ytsu",borderInlineStartWidth:"x14e42zd",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",zIndex:"x1ja2u2z",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={0:{className:"xlhe6ec x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x972fbf xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x x1ja2u2z x14vqqas xbmvrgn xod5an3 x1diwwjn x1l90r2v xyamay9"},1:{className:"xlhe6ec x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x972fbf xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x x1ja2u2z xw7yly9 x1ys307a x1yztbdb xyqm7xq x2lwn1j xsag5q8 xz9dl7a"}}[!!j<<0],a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",babelHelpers["extends"]({className:"xj192qx xwib8y2"},{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})}))})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsxs(c("MWXColumn.react"),{spacing:8,style:k.root,children:[e,f,i.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j?k.actionButtonGlimmerMsgr:k.actionButtonGlimmerComet})})})]})})),a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapper.react",["CometPlaceholder.react","CometRelay","MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery.graphql","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsQPPlaceholder.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useState;function a(a){var e=d("react-compiler-runtime").c(11),g=a.children;a=a.source;var j=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWEBWebOnlyOnboardingThreadListQPLazyLoadedWrapperQuery.graphql"),{});j=j.viewer;var n=j.if_viewer_can_see_messenger_eb_onboarding_upsells;j=j.is_eb_onboarding_upsells_dismissed;var o=(i||(i=c("useReStore")))(),p=l(!1),q=p[0],r=p[1];e[0]!==o.tables.experiences_shared_state?(p=function(){return d("ReQL").fromTableAscending(o.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").EB_ONBOARDING_QP_DISMISSED).map(m)},e[0]=o.tables.experiences_shared_state,e[1]=p):p=e[1];var s;e[2]!==o?(s=[o],e[2]=o,e[3]=s):s=e[3];p=d("ReQLSuspense").useFirst(p,s,f.id+":60");s=(n==null?void 0:n.has_seen_eb_onboarding_final_hardblock)===!0;if(q||p===!0||n==null||j===!0||s)return g;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=k.jsx(c("MWEncryptedBackupsQPPlaceholder.react"),{}),e[4]=q):q=e[4];p=q;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){r(!0)},e[5]=j):j=e[5];e[6]!==a?(s={onDismissQP:j,source:a},e[6]=a,e[7]=s):s=e[7];e[8]!==n||e[9]!==s?(g=k.jsx(c("CometPlaceholder.react"),{fallback:p,name:"MWEBWebOnboardingThreadListQPLazyLoadedWrapper",children:k.jsx(d("CometRelay").MatchContainer,{match:n,props:s})}),e[8]=n,e[9]=s,e[10]=g):g=e[10];return g}function m(a){return a!=null}g["default"]=a}),98);
__d("MWFDSKey.svg.react",["cr:21689"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21689")}),98);/*FB_PKG_DELIM*/
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1885117")}),98);
__d("CastingChromecastSession",["Promise","err","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d){var e=this;this.$3=null;this.$4=[];this.$5=[];this.$6=[];this.$7=[];this.$8=[];this.$9=[];this.$10=[];this.$11=[];this.$12=function(a,b){if(a===e.$2){var d=e.$4.slice();d.forEach(function(a){a(b)})}else e.$6.slice().forEach(function(b){b(c("err")("Namespace does not match. Expected "+e.$2+" but received "+a),"CastingChromecastSession._onMessageReceived")})};this.$1=a;this.$2=b;this.$3=d;d.addMessageListener(this.$2,this.$12)}var d=a.prototype;d.destroy=function(){var a=this.$3;a!=null&&(a.status!=null&&a.status!=="disconnected"&&c("recoverableViolation")("Destroying receiver session that is not disconnected. Status, "+a.status,"comet_cast_sender"),a.removeMessageListener(this.$2,this.$12));this.$3=null};d.isCasting=function(){return this.$3!=null};d.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"};d.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"};d.disconnect=function(){var a=this;this.$5.slice().forEach(function(a){a()});return new(h||(h=b("Promise")))(function(b,c){a.$3!=null?a.$3.stop(b,c):b()})["catch"](function(b){if(a.$3!=null&&a.$3.status!=="stopped"){a.$6.slice().forEach(function(a){a(b,"CastingChromecastSession.disconnect")});throw b}})["finally"](function(){var b=a.$3;a.$3=null;b&&b.removeMessageListener(a.$2,a.$12);a.$7.slice().forEach(function(a){a()})})};d.getVolume=function(){var a=this.$13();return a?a.level:null};d.getFriendlyName=function(){return this.$14()};d.setVolume=function(a){var d=this,e=this.$3;return new(h||(h=b("Promise")))(function(b,d){if(e==null){d(c("err")("Cannot set volume without a session"));return}e.setReceiverVolumeLevel(a,b,d)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.setVolume")});throw a})};d.isMuted=function(){var a=this.$13();return a?a.muted:null};d.mute=function(){return this.$15(!0)};d.unmute=function(){return this.$15(!1)};d.sendMessage=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The message can not be sent without a session"));return}f.sendMessage(d.$2,a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.sendMessage")});throw a})};d.$13=function(){var a;a=(a=this.$3)==null||(a=a.receiver)==null?void 0:a.volume;return a==null?null:a};d.$14=function(){var a;return((a=this.$3)==null?void 0:a.receiver.friendlyName)||null};d.$15=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The muted state can not be set without a session"));return}f.setReceiverMuted(a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession._setIsMuted")});throw a})};d.onMessage=function(a){var b=this.$4;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnecting=function(a){var b=this.$5;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onError=function(a){var b=this.$6;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnected=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoading=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoaded=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPlaying=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPaused=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a!=null&&typeof a==="object"&&typeof a.code==="string"&&a.code===b}function b(a){return a!=null&&typeof a==="object"&&typeof a.code==="string"?c("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:a.code})):c("getErrorSafe")(a)}function d(a,b){a.metadata==null&&(a.metadata=new(c("ErrorMetadata"))());var d=a.metadata;b=b==null?void 0:b.videoID;b!=null&&d.addEntries(["COMET_VIDEO","VIDEO_ID",b]);return a}g.isChromecastError=a;g.getCastingErrorSafe=b;g.appendCastingMetadataToExpandedError=d}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843753");b=d("FalcoLoggerInternal").create("connected_tv_logging",a);e=b;g["default"]=e}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=a,this.$2=b,this.$4=!1,this.$3=!1,this.$5=new Set()}var e=a.prototype;e.init=function(){if(this.$6!=null)return(i||(i=b("Promise"))).reject(c("err")("Scanner can only be initialized once."));this.$6=this.$16();return this.$6};e.ready=function(){return this.$6==null?(i||(i=b("Promise"))).reject(c("err")("Scanner should be initialized.")):this.$6};e.hasSupport=function(){return this.$3};e.hasFoundReceiver=function(){return this.$4};e.getSession=function(){var a=this;if(!this.$4)return(i||(i=b("Promise"))).reject(c("err")("No receivers found"));this.$13.slice().forEach(function(a){a()});return this.$17().then(function(b){var c=a.$18(b);a.$5.add(c);a.$14.slice().forEach(function(a){a(c)});return c})["catch"](function(b){a.$10.slice().forEach(function(a){a()});a.$11.slice().forEach(function(a){a()});throw b})};e.$16=function(){var a=this;this.$3=!0;return this.$19().then(function(b){return a.$20()}).then(function(b){a.$9.slice().forEach(function(a){a()})}).then(function(b){return a.$21()})["catch"](function(b){!d("CastingErrorUtils").isChromecastError(b,"not_supported")&&!d("CastingErrorUtils").isChromecastError(b,"extension_not_available")&&!d("CastingErrorUtils").isChromecastError(b,"extension_no_casting_script")&&a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._init")});throw b})};e.$21=function(){var a=this,d=this.$1;if(d==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var e=function(b){var c=a.$18(b);a.$14.slice().forEach(function(a){a(c)})},f=function(b){c("promiseDone")(c("CastingChromecastAPIWrapper").getIsAvailable(b).then(function(b){a.$4=b,a.$15.slice().forEach(function(b){b({foundReceiver:a.$4})})}))};return c("CastingChromecastAPIWrapper").initialize({appID:d,receiverListener:f,sessionListener:e}).then(function(){})["catch"](function(b){a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._initializeApi")});throw b})};e.$19=function(){var a=this;return this.$1!=null?(i||(i=b("Promise"))).resolve():c("CastingChromecastAPIWrapper").getDefaultAppID().then(function(b){a.$1=b})};e.$17=function(){var a=this.$1;if(a==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var d=(h||(h=c("performanceAbsoluteNow")))();c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}});return c("CastingChromecastAPIWrapper").getSession(a).then(function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d)}});return a})["catch"](function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d),session_failure_code:typeof a.code==="string"?a.code:null,session_failure_description:a.description}});throw a})};e.$18=function(a){var b=this,d=new(c("CastingChromecastSession"))(this.$1||"",this.$2||"",a),e=d.onDisconnecting(function(){b.$12.slice().forEach(function(a){a()})}),f=d.onError(function(a,c){b.$8.slice().forEach(function(b){b(a,c)})}),g=d.onDisconnected(function(){b.$11.slice().forEach(function(a){a()}),b.$5["delete"](d),e.remove(),f.remove(),g.remove()});return d};e.$20=function(){var a=this;return c("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(b){a.$7.slice().forEach(function(a){a(b)})},onStop:function(){a.$5.forEach(function(a){return a.disconnect()})}})};e.onCast=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onError=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onInit=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionCancelled=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnecting=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionRequested=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingState",[],(function(a,b,c,d,e,f){"use strict";function a(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function b(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function c(){return{type:"photo"}}function d(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}f.initialCastingState=a;f.initialVideoChannelExperienceState=b;f.initialPhotoExperienceState=c;f.initialPhotoAlbumExperienceState=d}),66);
__d("TV2PhotoAlbumReportedState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumReportedState"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumReportedState")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumReportedState:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"media_state",js:"media_state",typ:m("MediaState")}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:d([{json:"photo_state",js:"photo_state",typ:c(void 0,m("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:c(void 0,m("VideoMediaState"))}],"any"),PhotoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:m("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:m("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};e.exports={TV2PhotoAlbumReportedStateToJson:b,toTV2PhotoAlbumReportedState:a}}),null);
__d("TV2UniqueIDs",["guid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b;b=(b=h.get(a))!=null?b:0;h.set(a,b+1);return""+a+b.toString(36)}function a(){return i("id_tv2_vcr_")}function b(){return i("id_tv2_veqe_")}function d(){return i("id_tv2_toast_")}function e(){return i("id_tv2_rvr_")}function f(){return c("guid")()}g.makeTV2VideoCastRequestID=a;g.makeTV2VideoExperienceQueueEntryID=b;g.makeTV2ToastID=d;g.makeTV2RelatedVideosRequestID=e;g.makeTV2ChainingSessionID=f}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(a,b,c,d,e,f){"use strict";function b(b){try{b=new RegExp("\\b"+b+"=([^&]*)");b=b.exec(a.location.search);return!b||b[1]==null?null:b[1]}catch(a){return null}}f["default"]=b}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return c("getTV2QueryStringCheatcodeValue")(a)==="1"}catch(a){return!1}}g["default"]=a}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("debugging")}g["default"]=a}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===null?"null":a===""?"empty string":Array.isArray(a)?"array":typeof a==="object"?"object with keys: "+JSON.stringify(Object.keys(a).sort()):typeof a}function i(a,b,d){if(typeof a!=="string"||a===""){var e=c("err")("Message parse error: %s expected JSON string, got %s",d,h(a));throw e}try{e=JSON.parse(a);return b(e,d)}catch(b){if("messageFormat"in b&&typeof b.messageFormat==="string"&&"messageParams"in b&&Array.isArray(b.messageParams))throw b;else{a=c("err")("Message parse error: %s expected JSON string, got error: %s",d,b.message);throw a}}}function j(a,b){if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function b(a,b){if(a==null)return null;if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function k(a,b){if(!Array.isArray(a)){b=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw b}return a}function e(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.map(function(a){return m(a,b)})}function l(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.filter(Boolean).map(function(a){return m(a,b)})}function m(a,b){if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected non-empty string, got %s",b,h(a));throw b}return a}function n(a,b){if(a==null)return null;if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected optional non-empty string, got %s",b,h(a));throw b}return a}function o(a,b){if(a==null)return null;if(typeof a!=="string"){b=c("err")("Message parse error: %s expected optional string, got %s",b,h(a));throw b}return a}function p(a,b){if(a==null)return null;if(!(typeof a==="number"&&Number.isFinite(a)||typeof a==="string"&&a!=="")){b=c("err")("Message parse error: %s expected optional non-empty string or number, got %s",b,h(a));throw b}return a}function q(a,b){if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected finite number, got %s",b,h(a));throw b}return a}function f(a,b){if(a==null)return null;if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected optional finite number, got %s",b,h(a));throw b}return a}function r(a,b){return a==="true"||a===!0}function s(a,b,c){c===void 0&&(c=!1);return a==null?c:a===!0}function t(a,b){if(typeof a!=="boolean"){b=c("err")("Parse error: %s expected boolean, got %s",b,h(a));throw b}return a}function u(a,b){a=a!=null?j(a,b):null;if(a==null)return null;var c=m(a.uri,b+".uri"),d=q(a.width,b+".width");a=q(a.height,b+".height");return{height:a,uri:c,width:d}}function v(a,b){a=a!=null?j(a,b):null;if(a==null)return null;a=j(a.image,b+".image");a=m(a.uri,b+".image.uri");return{uri:a}}function w(a,b){if(a==null)return null;a=k(a,b);return a.map(function(a,b){return m(a,"["+b+"]")})}function x(a,b){return i(a,function(b,a){b=k(b,a);return b.map(function(b,c){c=a+"."+c;return z(j(b,c),c)})},b)}function y(a,b){return i(a,function(b,a){return z(j(b,a),a)},b)}function z(b,e){var f=m(b.access_token,e+".access_token"),g=String(p(b.app_id,e+".app_id")),h=o(b.app_version,e+".app_version"),i=u(b.background_image,e+".background_image"),j=n(b.channel_token,e+".channel_token"),k=n(b.channel_session_id,e+".channel_session_id"),q=o(b.end_cursor,e+".end_cursor")||null,r=s(b.from_next_video_query,e+".from_next_video_query"),t=s(b.is_ad,e+".is_ad"),x=w(b.dash_prefetched_representation_ids,e+".dash_prefetched_representation_ids"),y=n(b.entry_point,e+".entry_point"),z=n(b.player_origin===""?null:b.player_origin,e+".player_origin"),A=n(b.player_suborigin===""?null:b.player_suborigin,e+".player_suborigin"),B=v(b.preferred_thumbnail,e+".preferred_thumbnail"),C=n(b.video_channel_id,e+".video_channel_id"),D=m(b.root_video_id,e+".root_video_id"),E=c("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(a.location.search):null;E=E&&E[1]?E[1]:m(b.video_id,e+".video_id");b=b.tracking_codes!=null?l(b.tracking_codes,e+".tracking_codes"):null;return{accessToken:f,appID:g,appVersion:h,backgroundImage:i,chainingEnabled:!1,channelSessionID:k,channelToken:j,dashPrefetchedRepresentationIDs:x,endCursor:q,entryPoint:y,fromNextVideoQuery:r,isAd:t,playerOrigin:z,playerSuborigin:A,preferredThumbnail:B,rootVideoID:D,startTimestamp:0,trackingCodes:b,videoCastRequestID:d("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:C,videoID:E}}function A(a,b){a=j(a,b);b=m(a.type,b+".type");switch(b){case"version_response":return a;case"version_launch_response":return a;case"experience_state":return a;case"command_result":return a;case"duration_change":return a;case"status_update":return a;case"experience_status_update":return a}b=c("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",h(a));throw b}function B(a){return i(a,A,".")}function C(a){a=B(a);switch(a.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return a}a=c("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",h(a));throw a}function D(a){return d("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(a)}g.parseJSONString=i;g.parseObject=j;g.parseOptionalObject=b;g.parseArray=k;g.parseStringArray=e;g.parseTrackingCodes=l;g.parseNonEmptyString=m;g.parseOptionalNonEmptyString=n;g.parseOptionalString=o;g.parseNumber=q;g.parseOptionalNumber=f;g.parseOptionalStringishBoolean=r;g.parseOptionalBoolean=s;g.parseBoolean=t;g.parseVideoCastingPayloadBackgroundImage=u;g.parseVideoCastingPayloadPreferredThumbnail=v;g.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=x;g.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=y;g.parseVideoCastingPayloadAsTV2VideoCastRequest=z;g.parseTV2CommsFBAppOutboundMessageFromJSON=B;g.parseCastingReceiverResponseMessageFromJSON=C;g.parseCastingReceiverPhotoAlbumReportedState=D}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},d={defaultValue:null,kind:"LocalArgument",name:"requestID"},e=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:1614120985559993},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:e},params:{id:b("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchCtvCastPayloadQuery.graphql");function a(a){var b=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:b,mediaParameters:"{}",requestID:c("guid")()}).toPromise().then(function(a){if(a!=null&&a.ctv_cast_payload!=null&&typeof a.ctv_cast_payload==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}function e(a){var b=a.albumID,e=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:e,mediaParameters:JSON.stringify({album_id:b}),requestID:c("guid")()}).toPromise().then(function(a){if(typeof (a==null?void 0:a.ctv_cast_payload)==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g.fetchPhotoCastPayload=a;g.fetchAlbumCastPayload=e}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},e={defaultValue:null,kind:"LocalArgument",name:"videoID"},f=[{kind:"Variable",name:"id",variableName:"videoID"}],g={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchVideoCastPayload",["CometRelay","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchVideoCastPayloadQuery.graphql");function a(a){var b=a.castSessionID,e=a.environment,f=a.playerOrigin,g=a.playerSubOrigin;a=a.videoID;return d("CometRelay").fetchQuery(e,i,{castSessionID:b,playerOrigin:f,playerSubOrigin:g,videoID:a}).toPromise().then(function(a){if(a==null||a.video==null||a.video.video_cast_payload==null)return{type:"video_cannot_be_casted"};else if(typeof a.video.video_cast_payload==="string")return{payload:a.video.video_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g["default"]=a}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","recoverableViolation","removeFromArray","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("FBLogger")("fbtv"),k="PhotoAlbum",l="ChannelVideo",m="Photo";a=function(){function a(a,b){var e=this;this.$5=[];this.$6=[];this.$7=[];this.$9=function(){var a=d("CastingState").initialCastingState();e.$12(a);e.$13(null)};this.$10=function(a){switch(a.type){case"status_update":e.$16(a);break;case"experience_status_update":e.$17(a);break;default:break}};this.$11=function(a,b){var f;if(d("CastingErrorUtils").isChromecastError(a,"cancel"))j.warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((f=e.$2)==null?void 0:f.type)==="video_channel"){f=(f=e.$2)==null?void 0:f.currentVideoID;f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),babelHelpers["extends"]({},f!=null?{videoID:f}:{}));c("recoverableViolation")("Receiver error at "+b+" while playing video channel","comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}else{f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),{});a=((a=e.$2)==null?void 0:a.type)||"";c("recoverableViolation")("Receiver error at "+b+" while playing in experience "+a,"comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}};this.$1=d("CastingState").initialCastingState();this.$2=null;this.$3=b;this.$4=a;this.$8=new(c("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var e=a.prototype;e.destroy=function(){this.$8.release()};e.getCastingState=function(){return this.$1};e.getCastingExperienceState=function(){return this.$2};e.setCastingState=function(a){this.$1=a};e.setCastingExperienceState=function(a){this.$2=a};e.subscribeToCastingStateChange=function(a){var b=this;this.$5.push(a);return function(){c("removeFromArray")(b.$5,a)}};e.subscribeToCastingExperienceStateChange=function(a){var b=this;this.$6.push(a);return function(){c("removeFromArray")(b.$6,a)}};e.subscribeToCastingEvent=function(a){var b=this;this.$7.push(a);return function(){c("removeFromArray")(b.$7,a)}};e.startPlayVideoNow=function(a){var e=this,f=a.environment,g=a.origin,j=a.position,k=a.subOrigin,m=a.videoID;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"cast_requested",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([c("fetchVideoCastPayload")({castSessionID:this.$3,environment:f,playerOrigin:g,playerSubOrigin:k,videoID:m}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="video_cannot_be_casted"){c("recoverableViolation")("The video is not eligible to be casted. The cast request is ignored.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("video_cannot_be_casted"),{videoID:m})});return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving video cast payload. Video failed to play.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{videoID:m})});return(h||(h=b("Promise"))).resolve()}a=e.$4.isCasting(l);a?a=e.$4.playVideoNow({position:j},f.payload):a=e.$4.startCasting(l,{position:j},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialVideoChannelExperienceState();e.$13(a)})})["catch"](function(a){e.$14({data:{type:"cast_failed",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()}),d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast video.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{videoID:m})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startPhotoCasting=function(a){var e=this;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"photo_cast_requested"},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving photo cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(m,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);e.$13(d("CastingState").initialPhotoExperienceState())})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to start photo casting session.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startAlbumSlideshow=function(a){var e=this,f=a.albumID;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:f,castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="album_cannot_be_casted"){c("recoverableViolation")("The album is not eligible to be casted.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("album_cannot_be_casted"),{})});return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving album cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(k,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialPhotoAlbumExperienceState();e.$13(a)})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast album.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.disconnect=function(){c("promiseDone")(this.$4.stopCasting())};e.play=function(){c("promiseDone")(this.$4.playVideo())};e.pause=function(){c("promiseDone")(this.$4.pauseVideo())};e.setVolume=function(a){c("promiseDone")(this.$4.setVolume(a))};e.mute=function(){c("promiseDone")(this.$4.mute())};e.unmute=function(){c("promiseDone")(this.$4.unmute())};e.seek=function(a){c("promiseDone")(this.$4.seekVideo(a))};e.showSingleMedia=function(a){var b=null;switch(a.type){case"photo":b={photo_id:a.photoID};break;case"video":b={video_id:a.videoID};break;default:a.type;return}c("promiseDone")(this.$4.showPhoto({media_parameters:b,request_id:c("uuidv4")()}))};e.playAlbumSlideshow=function(){c("promiseDone")(this.$4.playAlbumSlideshow())};e.pauseAlbumSlideshow=function(){c("promiseDone")(this.$4.pauseAlbumSlideshow())};e.nextPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.nextPhotoAlbumSlideshow())};e.previousPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.previousPhotoAlbumSlideshow())};e.$12=function(a){a!==this.$1&&(this.$1=a,this.$5.slice().forEach(function(b){b(a)}))};e.$13=function(a){a!==this.$2&&(this.$2=a,this.$6.slice().forEach(function(b){b(a)}))};e.$14=function(a){this.$7.slice().forEach(function(b){b(a)})};e.$16=function(a){var b=this.$1,d=this.$2;if(d!=null&&d.type==="video_channel"){var e=a.data.video_id,f=this.$4.getVolume()||0,g=this.$4.isMuted()||!1;e!=null&&this.$14({data:{playbackState:a.data.state,playerInfo:(a==null?void 0:a.player_info)||null,receiverInfo:(a==null?void 0:a.receiver_info)||null,type:"video_status_update",videoID:e},timestamp:(i||(i=c("performanceAbsoluteNow")))()});g={receiverIsConnected:!0,receiverIsMuted:g,receiverVolume:f};if(e==null)this.$12(babelHelpers["extends"]({},b,g)),this.$13(babelHelpers["extends"]({},d,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{f=babelHelpers["extends"]({},b,g);this.$12(f);this.$13(babelHelpers["extends"]({},d,{currentDuration:a.data.duration!=null?a.data.duration:d.currentDuration,currentPlaybackState:a.data.state,currentPosition:a.data.position,currentVideoID:e}))}}};e.$17=function(a){var b=this.$2;if(b!=null&&b.type==="photo_album"&&a.data.name==="PhotoAlbum"){var c;a=d("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(a.data.payload);a=a.media_state;c=((c=(c=a.photo_state)==null?void 0:c.photo_id)!=null?c:(c=a.video_state)==null?void 0:c.video_id)||null;a=this.$18(a);this.$13(babelHelpers["extends"]({},b,{currentAssetID:c,currentPlaybackState:a}))}};e.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}};e.$18=function(a){if(a.photo_state!=null)return a.photo_state.photo_playback_state==="play"?"play":"paused";else if(a.video_state!=null)return["play","seeking"].includes(a.video_state.video_playback_state)?"play":"paused";else return null};return a}();g["default"]=a}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){switch(a.data.type){case"cast_requested":b.logWithAvailableContext({event:"cast_requested",video_id_override:a.data.videoID});b.$5(a);break;case"photo_cast_requested":b.logWithAvailableContext({event:"photo_cast_requested"});b.$5(a);break;case"cast_failed":b.$5(a);break;case"video_status_update":b.$6(a.data.receiverInfo,a.data.playerInfo);b.$5(a);break;default:break}};this.$1=null;this.$2=null;this.$3={cast_session_id:a,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var b=a.prototype;b.destroy=function(){this.$1!=null&&this.$1(),this.$1=null};b.bindToCastingController=function(a){this.$1=a.subscribeToCastingEvent(this.$4)};b.logWithAvailableContext=function(a){var b=this;c("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$3,a)})};b.$5=function(a){var b=a.data;switch(b.type){case"cast_requested":this.$2={data:b,timestamp:a.timestamp};break;case"cast_failed":var c=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(c!=null?a.timestamp-c.timestamp:0),video_id_override:b.videoID});this.$2=null;break;case"video_status_update":c=this.$2;if(c==null)break;var d=c.data.videoID;b.videoID===d&&b.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(a.timestamp-c.timestamp)}),this.$2=null):b.videoID!==d&&(this.$2=null);break}};b.$6=function(a,b){var c=(a==null?void 0:a.third_party_app_id)||null,d=(a==null?void 0:a.cast_receiver_logger_session_id)||null,e=(a==null?void 0:a.is_google_cast_bg)||null,f=(a==null?void 0:a.os_version)||null;a=(a==null?void 0:a.web_client_revision)||null;var g=(b==null?void 0:b.player_instance_key)||null;b=(b==null?void 0:b.player_version)||null;this.$3=babelHelpers["extends"]({},this.$3,{is_google_cast_bg:e,third_party_app_id:c,tv_os_version:f,tv_player_instance_key:g,tv_player_version:b,tv_session_id:d,tv_web_client_revision:a})};return a}();g["default"]=a}),98);
__d("TV2MessageTypes",[],(function(a,b,c,d,e,f){"use strict";a="urn:x-cast:com.facebook.fb";b="urn:x-cast:com.google.cast.media";f.FBAPP_CAST_PROTOCOL_NAMESPACE=a;f.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=b}),66);
__d("TV2PhotoShowRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoShowRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoShowRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoShowRequest:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoShowRequestToJson:b,toTV2PhotoShowRequest:a}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","promiseDone","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i="1.2.0";a=function(){function a(a){var b=this;this.$5=null;this.$6=null;this.$10=null;this.$11=[];this.$12=[];this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$18=[];this.$19=[];this.$4=new(c("CastingChromecastScanner"))(a,d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE);this.$2=null;this.$1=!1;this.$3=0;this.$6=null;this.$9=new Map();this.$20=new(c("SubscriptionsHandler"))();this.$20.addSubscriptions(this.$4.onStatusChanged(function(a){var c=a.foundReceiver;b.$15.slice().forEach(function(a){a(!!c)})}),this.$4.onSessionDisconnected(function(){b.$21(),b.$14.slice().forEach(function(a){a()})}),this.$4.onSessionStarted(function(a){b.$22(a)}),this.$4.onError(function(a,c){b.$11.slice().forEach(function(b){b(a,c)})}));this.$7=this.$4.init();c("promiseDone")(this.$7.then(function(){b.$2=!0,b.$1=!0,b.$13.slice().forEach(function(a){a()})},function(a){b.$2=!1,b.$12.slice().forEach(function(b){b(a)})}))}var e=a.prototype;e.ready=function(){return this.$7};e.hasSupport=function(){return this.$2};e.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()};e.isCasting=function(a){var b=!!this.$5&&this.$5.isCasting();b&&a!=null&&(b=this.$6!=null&&this.$6.indexOf(a)>=0);return b};e.getSession=function(){var a=this;return this.ready().then(function(){var b=a.$5;b!=null&&!b.isConnected()&&a.$21()}).then(function(){if(a.$5)return a.$5;a.$8||(a.$8=a.$23());return a.$8})["catch"](function(b){a.$11.slice().forEach(function(a){a(b,"CastingReceiverManager.getSession")});throw b})["finally"](function(){a.$8=null})};e.startCasting=function(a,b,c){var d=this;return this.$24(a,b,c).then(function(a){a.success?d.$6=a.target:d.$6=null})};e.stopCasting=function(){var a=this;return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.ready().then(function(){var b=a.$5;b!=null&&b.isDisconnected()&&a.$21();return a.$5}).then(function(a){return a==null?(h||(h=b("Promise"))).resolve(null):a.disconnect()}).then(function(){a.$21()})};e.playVideoNow=function(a,c){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_video",babelHelpers["extends"]({},a,{auto_advance:!0}),c).then(function(){})};e.skipToNextVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("skip_video").then(function(){})};e.playVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_video",{position:a||0}).then(function(){})};e.pauseVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_video").then(function(){})};e.seekVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("seek_video",{position:a}).then(function(){})};e.showPhoto=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("show_photo",void 0,d("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(a),"Photo").then(function(){})};e.stopVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("stop_video").then(function(){})};e.playAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.pauseAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.nextPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.previousPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()};e.getVolume=function(){return this.$5==null?null:this.$5.getVolume()};e.setVolume=function(a){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.setVolume(a)};e.isMuted=function(){if(!this.isCasting())return null;return this.$5==null?null:this.$5.isMuted()};e.mute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.mute()};e.unmute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.unmute()};e.$26=function(){var a=this,b=this.$27();return this.$28(function(a){return{data:{client_cast_session:b,version:i},num:a,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(b){var c=b.messageNum;return a.$29(function(a){return a.response_num===c})}).then(function(a){if(a.type!=="version_response")throw c("unrecoverableViolation")('Response message was not a "version_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version response is missing data","comet_cast_sender");return a.data})};e.$24=function(a,b,d){var e=this,f=this.$27();return this.$28(function(c){return{data:{client_cast_session:f,name:a,params:b,payload:d,version:i},num:c,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(a){var b=a.messageNum;return e.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="version_launch_response")throw c("unrecoverableViolation")('Response message was not a "version_launch_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version launch response is missing data","comet_cast_sender");return a.data})};e.$30=function(){var a=this;return this.$6!=null?(h||(h=b("Promise"))).resolve(this.$6):this.getSession().then(function(b){return a.$26()}).then(function(b){var d=null;typeof b.currently_running_experience==="object"&&(d=b.currently_running_experience);if(d==null)throw c("unrecoverableViolation")("Session has no target","comet_cast_sender");a.$6=d;return a.$6})};e.$27=function(){var a=null;localStorage&&(a=localStorage.getItem("CastingSessionKey"));a==null&&(a=c("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",a));return a};e.$28=function(a){var b=this.$3+=2;return this.getSession().then(function(d){if(d==null)throw c("unrecoverableViolation")("The message can not be sent without a session","comet_cast_sender");var e=a(b);return d.sendMessage(e)}).then(function(){return{messageNum:b}})};e.$29=function(a){return this.getSession().then(function(e){if(e==null)throw c("unrecoverableViolation")("The message cannot be received without a session","comet_cast_sender");return new(h||(h=b("Promise")))(function(b,c){var f=e.onMessage(function(e){try{e=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(e);if(e.type==="version_response"||e.type==="version_launch_response"||e.type==="experience_state"||e.type==="command_result"){var g=!a||a(e);g&&(f.remove(),b(e))}}catch(a){f.remove(),c(a)}})})})};e.$25=function(a,b,d,e){var f=this;return this.$30().then(function(c){return f.$28(function(f){return{data:{cmd:a,name:e,params:b,payload:d},num:f,target:c,timestamp:Date.now(),type:"experience_command"}})}).then(function(a){var b=a.messageNum;return f.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="command_result")throw c("unrecoverableViolation")('Response message was not a "command_result"',"comet_cast_sender");return a.data})};e.$23=function(){var a=this;return this.$4.getSession().then(function(b){a.$5==null&&(a.$5=b);return a.$5})};e.$22=function(a){var b=this;this.$5=a;var e="extension";this.$8&&(e="site");c("promiseDone")(this.$26().then(function(c){var f=c.success;if(!f)return;var g=null;typeof c.currently_running_experience==="object"&&(g=c.currently_running_experience);g!=null&&(b.$6=g);b.$18.slice().forEach(function(c){c(a,{session:a,source:e,success:f,target:b.$6})});b.$10=a.onMessage(function(a){try{var c=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(a);b.$17.slice().forEach(function(a){a(c)})}catch(a){b.$11.slice().forEach(function(b){b(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))};e.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var a=this.$5;a!=null&&a.destroy();this.$5=null;this.$6=null};e.onError=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceNotSupported=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceReady=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverDisconnected=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$16;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionMessage=function(a){var b=this.$17;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$18;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStopView=function(a){var b=this.$19;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","Promise","guid","qex","react","react-compiler-runtime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=f.useState,n=null,o=c("qex")._("1648");function p(){if(n!=null)return n;if(o==null)throw c("unrecoverableViolation")("Use useIsCastAvailable first to check if casting feature is available in this browser.","comet_cast_sender");var a=new(c("CastingReceiverManager"))(o),b=c("guid")(),d=new(c("CastingController"))(a,b);b=new(c("CastingEventReporter"))(b);b.bindToCastingController(d);n={castingController:d,castingEventReporter:b,castingReceiverManager:a};return n}function q(){var a=r();a=a.castingReceiverManager;return a}function r(){var a=d("react-compiler-runtime").c(1);if((i||(i=c("ExecutionEnvironment"))).canUseDOM&&c("CurrentUser").isLoggedIn()){var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=p(),a[0]=e):e=a[0];return e}throw new(h||(h=b("Promise")))(s)}function s(){}function t(){var a=r();a=a.castingController;return a}function a(){var a=d("react-compiler-runtime").c(6),b=q(),c=k(d("CastingContext").SetCastingControllerContext),e=m(!1),f=e[0],g=e[1];e=m(!1);var h=e[0],i=e[1],j;a[0]!==b?(e=function(){var a=b.onExperienceReady(function(){g(b.hasSupport()||!1)});g(b.hasSupport()||!1);return function(){return a.remove()}},j=[b],a[0]=b,a[1]=e,a[2]=j):(e=a[1],j=a[2]);l(e,j);a[3]!==b?(e=function(){var a=b.onReceiverStatusChanged(function(){i(b.hasFoundReceiver()||!1)});i(b.hasFoundReceiver()||!1);return function(){return a.remove()}},j=[b],a[3]=b,a[4]=e,a[5]=j):(e=a[4],j=a[5]);l(e,j);if(o==null)return!1;if(c==null)return!1;if(!f)return!1;return!h?!1:!0}function e(){var a=d("react-compiler-runtime").c(4),b=t(),e=k(d("CastingContext").SetCastingControllerContext);if(e==null)throw c("unrecoverableViolation")("Casting has to be initialized inside CastingProvider.","comet_cast_sender");var f,g;a[0]!==b||a[1]!==e?(f=function(){e(b)},g=[e,b],a[0]=b,a[1]=e,a[2]=f,a[3]=g):(f=a[2],g=a[3]);l(f,g)}g.useCastingController=t;g.useIsCastAvailable=a;g.useCastingInitializeIfNecessary=e}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","recoverableViolation","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;b.useCallback;var m=b.useContext,n=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.subOrigin;d("CastingControllerHooks").useCastingInitializeIfNecessary();var f=(a=(k||(k=d("VideoPlayerHooks"))).useVideoFbid())!=null?a:"",g=(k||(k=d("VideoPlayerHooks"))).useController(),j=d("CometRelay").useRelayEnvironment(),o=d("CastingControllerHooks").useCastingController();a=m(c("CometWatchAndScrollVideoContext"));var p=c("useCometLazyDialog")(n),q=p[0],r=a==null?void 0:a.videoID;b[0]!==o||b[1]!==j||b[2]!==e||b[3]!==g||b[4]!==f?(p=function(){if(f!=null){var a=g.getPlayheadPosition();o.startPlayVideoNow({environment:j,origin:"video_home",position:a,subOrigin:e,videoID:f})}else c("recoverableViolation")("Could not transition to Cast player because videoID was null","comet_video_player")},b[0]=o,b[1]=j,b[2]=e,b[3]=g,b[4]=f,b[5]=p):p=b[5];var s=p;b[6]!==s||b[7]!==q||b[8]!==r?(a=function(){r!=null?q({onClose:c("emptyFunction"),onContinue:s,startingVideoType:"cast"},c("emptyFunction")):s()},b[6]=s,b[7]=q,b[8]=r,b[9]=a):a=b[9];p=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cast video to your TV"),b[10]=a):a=b[10];a=a;var t;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("788899"),20),b[11]=t):t=b[11];b[12]!==p?(t=l.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:t,label:a,onPress:p,tooltip:a}),b[12]=p,b[13]=t):t=b[13];return t}g["default"]=a}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.subOrigin;var e=d("CastingControllerHooks").useIsCastAvailable();if(!e)return null;b[0]!==a?(e=i.jsx(c("VideoPlayerCastControlIcon.react"),{subOrigin:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],(function(a,b,c,d,e,f){"use strict";var g=10*1e3,h=10*1e3,i=200;a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=-1;b("gkx")("20935")||b("destroyOnUnload")(this.destroy.bind(this));window.addEventListener&&window.addEventListener("unload",function(){a.destroy()})}var c=a.prototype;c.destroy=function(){this.$4(),this.$5(),this.$6()};c.handleStartEvent=function(){this.$7()||this.$8(),this.$9()};c.handleStopEvent=function(){this.$4()};c.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")};c.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")};c.$7=function(){return!!this.$1};c.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};c.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)};c.$9=function(){var a=this,b=Date.now(),c=this.$3;b>c+i&&(this.$3=b,this.$5(),this.$2=setTimeout(function(){a.$4()},h))};c.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()};c.$8=function(){var a=this;this.publishStartEvent();this.$6();this.$1=setTimeout(function(){a.$8()},g)};return a}();f["default"]=a}),66);
__d("CivicActionLogEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743356");b=d("FalcoLoggerInternal").create("civic_action_log_event",a);e=b;g["default"]=e}),98);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[b,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("FDSPoliticsFilled12Icon",["cr:14238"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14238")}),98);
__d("ManageConstituentBadgeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9985306721499633"}),null);
__d("ManageConstituentBadgeDialogQuery$Parameters",["ManageConstituentBadgeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ManageConstituentBadgeDialogQuery_facebookRelayOperation"),metadata:{},name:"ManageConstituentBadgeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ManageConstituentBadgeDialog.entrypoint",["JSResourceForInteraction","ManageConstituentBadgeDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.commentID;a=a.feedbackID;return{queries:{queryReference:{parameters:b("ManageConstituentBadgeDialogQuery$Parameters"),variables:{commentID:c,feedbackID:a}}}}},root:c("JSResourceForInteraction")("ManageConstituentBadgeDialog.react").__setRef("ManageConstituentBadgeDialog.entrypoint")};d=a;g["default"]=d}),98);
__d("ManageConstituentBadgeDialogTrigger.react",["fbt","CometEntryPointDialogTrigger.react","FDSIcon.react","FDSPoliticsFilled12Icon","ManageConstituentBadgeDialog.entrypoint","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.onPress,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];var g;b[1]!==a.commentID||b[2]!==a.feedbackID?(g={commentID:a.commentID,feedbackID:a.feedbackID},b[1]=a.commentID,b[2]=a.feedbackID,b[3]=g):g=b[3];b[4]!==e?(a=function(a){return j.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"Constituent badge"),"aria-label":h._(/*BTDS*/"Manage constituent badge"),color:"secondary",icon:c("FDSPoliticsFilled12Icon"),onPress:function(){a(),e()}})},b[4]=e,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=j.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("ManageConstituentBadgeDialog.entrypoint"),otherProps:f,preloadParams:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("CometUFICommentActorConstituentBadge.react",["fbt","Actor","CivicActionLogEventFalcoEvent","CometRelay","CometUFICommentActorConstituentBadge_comment.graphql","FDSIcon.react","FDSPoliticsFilled12Icon","FDSTooltip.react","ManageConstituentBadgeDialogTrigger.react","react","react-compiler-runtime","recoverableViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef;function a(a){var e,f,g,j,m=d("react-compiler-runtime").c(33);a=a.comment;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActorConstituentBadge_comment.graphql"),a);var n=a.parent_feedback,o=l(!1),p=c("useVisibilityObserver")({onVisible:function(){if(o.current)return;o.current=!0;c("CivicActionLogEventFalcoEvent").log(function(){return{action:"view",post_id:t,product:"constituent_badge",subtype:"comment"}})}}),q=d("Actor").useActor();q=q[0];if(!a.author||((e=a.author)==null?void 0:e.id)==null){m[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("recoverableViolation")("missing politician","civic_integrity"),m[0]=e):e=m[0];return e}var r=a.author.short_name,s=n==null||(f=n.owning_profile)==null?void 0:f.name,t=n==null?void 0:n.share_fbid,u=q===a.author.id,v=n==null||(g=n.political_figure_data)==null||(g=g.political_office)==null?void 0:g.generic_title,w=n==null||(j=n.political_figure_data)==null?void 0:j.name;e=a.can_see_constituent_badge_upsell;var x;m[1]!==r||m[2]!==u||m[3]!==v||m[4]!==s||m[5]!==w?(x=function(){var a=!0;if(r==null)return null;(v==null||w==null)&&(a=!1);if(u)if(a)return h._(/*BTDS*/"Your constituent badge is on. {representative_name} is your {office_title}.",[h._param("representative_name",w),h._param("office_title",v)]);else return h._(/*BTDS*/"Your constituent badge is on. {page_name} serves your district.",[h._param("page_name",s)]);if(a)return h._(/*BTDS*/"{representative_name} is {comment_author_name}'s {politician_office_title}.",[h._param("representative_name",w),h._param("comment_author_name",r),h._param("politician_office_title",v)]);else return h._(/*BTDS*/"{page_name} serves {comment_author_name}'s district.",[h._param("page_name",s),h._param("comment_author_name",r)])},m[1]=r,m[2]=u,m[3]=v,m[4]=s,m[5]=w,m[6]=x):x=m[6];x=x;var y;m[7]!==r||m[8]!==w?(y=function(){return h._(/*BTDS*/"{comment_author_name} has a badge showing that they are a constituent of {representative_name}",[h._param("comment_author_name",r),h._param("representative_name",w)])},m[7]=r,m[8]=w,m[9]=y):y=m[9];var z=y;m[10]!==z?(y=function(a){return k.jsx(c("FDSIcon.react"),{alt:z(),"aria-label":z(),color:"secondary",icon:c("FDSPoliticsFilled12Icon"),onPress:a})},m[10]=z,m[11]=y):y=m[11];y=y;var A;m[12]!==a.id||m[13]!==y||m[14]!==(n==null?void 0:n.id)||m[15]!==t||m[16]!==e?(A=e===!0?k.jsx(c("ManageConstituentBadgeDialogTrigger.react"),{commentID:a.id,feedbackID:n==null?void 0:n.id,onPress:function(){c("CivicActionLogEventFalcoEvent").log(function(){return{action:"click",click_location:"constituent_badge",post_id:t,product:"constituent_badge",subtype:"comment"}})}}):y(),m[12]=a.id,m[13]=y,m[14]=n==null?void 0:n.id,m[15]=t,m[16]=e,m[17]=A):A=m[17];a=A;m[18]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"xdwrcjd x1n2onr6 x1e0gzzx"},m[18]=y):y=m[18];m[19]!==x?(n=x(),m[19]=x,m[20]=n):n=m[20];m[21]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1yrsyyn x1icxu4v x10b6aqq x25sj25"},m[21]=e):e=m[21];m[22]!==a?(A=k.jsx("span",babelHelpers["extends"]({},e,{children:a})),m[22]=a,m[23]=A):A=m[23];m[24]!==n||m[25]!==A?(x=k.jsx(c("FDSTooltip.react"),{tooltip:n,children:A}),m[24]=n,m[25]=A,m[26]=x):x=m[26];m[27]!==x||m[28]!==p?(e=k.jsx("span",babelHelpers["extends"]({},y,{ref:p,children:x})),m[27]=x,m[28]=p,m[29]=e):e=m[29];m[30]!==q||m[31]!==e?(a=k.jsx(d("Actor").ActorProvider,{initialActorID:q,children:e}),m[30]=q,m[31]=e,m[32]=a):a=m[32];return a}g["default"]=a}),226);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x3nfvp2 x1djpfga"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsxs("span",babelHelpers["extends"]({},e,{children:[i.jsx(c("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometUFICommentInlineFollowCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInlineFollowCTA_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},a],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUserUnfollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24513364534934696"}),null);
__d("CometUserUnfollowMutation.graphql",["CometUserUnfollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"action_render_location"},{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[{kind:"Literal",name:"action_type",value:"FOLLOW"},{kind:"Variable",name:"render_location",variableName:"action_render_location"}],g={args:null,kind:"FragmentSpread",name:"ProfileActionMutationUtils_action"},h=[{kind:"Literal",name:"action_type",value:"FOLLOWING_STATUS"}],i={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},j={kind:"TypeDiscriminator",abstractKey:"__isProfileAction"},k={kind:"Literal",name:"icon_color",value:"fds-black"},l={kind:"Literal",name:"icon_variant",value:"filled"},m={kind:"Variable",name:"scale",variableName:"scale"},n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],o={alias:null,args:[k,{kind:"Literal",name:"icon_size",value:"16"},l,m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},p={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},q={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]},r={kind:"Literal",name:"icon_size",value:"20"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUserUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[g],storageKey:null},{alias:"following_status",args:h,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[g,{args:null,kind:"FragmentSpread",name:"ProfileCometHeaderActionBarMenuItem_profileAction"}],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUserUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,j,o,e,p,q],storageKey:null},{alias:"following_status",args:h,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,j,o,e,p,{alias:null,args:null,kind:"ScalarField",name:"profile_action_type",storageKey:null},{alias:"secondary_icon",args:[k,r,{kind:"Literal",name:"icon_variant",value:"outline"},m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},{alias:"active_secondary_icon",args:[k,r,l,m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"Ywnz"}],concreteType:null,kind:"LinkedField",name:"client_handler",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBlockHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBlockHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionBlockUserFromGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionBlockUserFromGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContactUsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContactUsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDefaultHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDefaultHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditFriendListHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditFriendListHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowingStatusHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowingStatusHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInsightsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInsightsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerContactHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerContactHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerAudioCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerAudioCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerVideoCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerVideoCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPreferredInteractionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPreferredInteractionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionGetSupportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionGetSupportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportMarketplaceUserHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportMarketplaceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSeeFirstHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSeeFirstHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionViewProfileTransparencyHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionViewProfileTransparencyHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSearchProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSearchProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeAsYourPageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeAsYourPageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionSetContentControlsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionSetContentControlsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionMuteMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionMuteMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionTurnOnPostApprovalForMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionTurnOnPostApprovalForMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteModeratorHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteModeratorHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionLeaveGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionLeaveGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRemoveGroupAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRemoveGroupAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertiseShowAsBadgeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertiseShowAsBadgeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditContextualProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditContextualProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportBioHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportBioHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportExpertiseExperienceHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportExpertiseExperienceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportMemberNameHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportMemberNameHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPromoteHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPromoteHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdminToolsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdminToolsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionManageFollowerHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionManageFollowerHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInviteToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInviteToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInvitePostReactorsToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInvitePostReactorsToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBookNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBookNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLockProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLockProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDonateNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDonateNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditPinnedFeatureHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditPinnedFeatureHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionTopFanBadgeSettingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionTopFanBadgeSettingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionStartTourHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionStartTourHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRecurringNotificationsOptInHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRecurringNotificationsOptInHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFubsSubscribeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFubsSubscribeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSwitchRegionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSwitchRegionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionManageRolesHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionManageRolesHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCheckInHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCheckInHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportNicknameHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportNicknameHandler",abstractKey:null}],storageKey:'client_handler(supported:"Ywnz")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"X5gYL"}],concreteType:null,kind:"LinkedField",name:"client_logger",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackLogger",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingLogger",abstractKey:null}],storageKey:'client_logger(supported:"X5gYL")'},q],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometUserUnfollowMutation_facebookRelayOperation"),metadata:{},name:"CometUserUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUserUnfollowMutation",["CometRelay","CometUserUnfollowMutation.graphql","ProfileActionFollowingMutationUtils","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUserUnfollowMutation.graphql");function j(a,b){return{actor_unsubscribe:{unsubscribee:{__typename:"User",following_status:d("ProfileActionFollowingMutationUtils").getOptimisticFollowingActionForSubscriptionStatus("UNFOLLOW",a,b),id:a,profile_action:d("ProfileActionFollowingMutationUtils").getOptimisticFollowActionForSubscriptionStatus("UNFOLLOW",a,b),subscribe_status:"CAN_SUBSCRIBE"}}}}function a(a,b){var c=b.actionRenderLocation,e=b.isTrackingEncrypted,f=b.navigationChain,g=b.onError,h=b.onSuccess,k=b.subscribeLocation,l=b.tracking;b=b.userID;d("CometRelay").commitMutation(a,{mutation:i,onCompleted:h,onError:g,optimisticResponse:j(b,!1),variables:{action_render_location:c,input:{attribution_id_v2:f,is_tracking_encrypted:e,subscribe_location:k,tracking:l,unsubscribee_id:b},scale:d("WebPixelRatio").get()}})}function c(a,b,c){var e=b.actionRenderLocation,f=b.isTrackingEncrypted,g=b.navigationChain,h=b.onError,k=b.onSuccess,l=b.subscribeLocation,m=b.tracking;b=b.userID;d("CometRelay").enqueueMutation(a,{mutation:i,onCompleted:k,onError:h,optimisticResponse:j(b,c!=null?c:!1),variables:{action_render_location:e,input:{attribution_id_v2:g,is_tracking_encrypted:f,subscribe_location:l,tracking:m,unsubscribee_id:b},scale:d("WebPixelRatio").get()}})}g.commit=a;g.enqueue=c}),98);
__d("CometUFICommentInlineFollowCTA.react",["fbt","BaseMiddot.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","CometUFICommentInlineFollowCTA_comment.graphql","CometUserFollowMutation","CometUserUnfollowMutation","FDSText.react","react","requireDeferred","useMinifiedProductAttribution","useNullthrowsViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useState,o=c("requireDeferred")("InlineFollowCtaEventFalcoEvent").__setRef("CometUFICommentInlineFollowCTA.react"),p="following_clicked",q="unfollowing_clicked",r="follow_cta_impression";function a(a){var e,f,g,j;a=a.comment$key;var s=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentInlineFollowCTA_comment.graphql"),a),t=(s==null||(e=s.author)==null?void 0:e.subscribe_status)==="IS_SUBSCRIBED",u=c("useNullthrowsViolation")(s==null||(f=s.author)==null?void 0:f.id),v=d("CometRelay").useRelayEnvironment();a=n(!1);var w=a[0],x=a[1],y=(a=(a=m(c("CometFeedUnitQueryVariablesContext")))==null?void 0:a.feedLocation)!=null?a:"",z=l(function(a){o.onReady(function(b){b.log(function(){var b;return{comment_author_id:u,comment_id:(b=s.id)!=null?b:"",comment_surface:y,event:a}})})},[u,s.id,y]),A=c("useMinifiedProductAttribution")();a=l(function(){var a={actionRenderLocation:"WWW_COMET_HOVERCARD",navigationChain:A,onError:function(){x(!1)},onSuccess:function(){x(!1)},subscribeLocation:y==="NEWSFEED"?"INLINE_COMMENT_HEADER":"COMMENT_HEADER",userID:u};x(!0);t?(d("CometUserUnfollowMutation").commit(v,a),z(q)):(d("CometUserFollowMutation").commit(v,a),z(p))},[u,v,y,t,z,A]);var B=l(function(){z(r)},[z]);B=c("useVisibilityObserver")({onVisible:B});if((s==null||(g=s.author)==null?void 0:g.subscribe_status)!=="CAN_SUBSCRIBE"&&(s==null||(j=s.author)==null?void 0:j.subscribe_status)!=="IS_SUBSCRIBED")return null;var C=t?k.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink4",children:h._(/*BTDS*/"Following")}):k.jsx(c("FDSText.react"),{color:"highlight",type:"bodyLink4",children:h._(/*BTDS*/"Follow")});return k.jsxs("span",{ref:B,children:[k.jsx(c("BaseMiddot.react"),{className:"xi81zsa"}),k.jsx(c("CometPressable.react"),{disabled:w,onPress:a,children:C})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometUFIFeedbackReactSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24374670048889714"}),null);
__d("CometUFIFeedbackReactSubscription.graphql",["CometUFIFeedbackReactSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},k=[j],l=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],m=[g,d],n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};j=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:e,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[d,h,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},i],storageKey:null},j],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:e,storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[d,g,h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_comment_anonymously",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_provider",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"eligible_actors",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,d,n],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,n,d],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:m,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:f,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:f,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[g,{kind:"InlineFragment",selections:j,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:j,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFIFeedbackReactSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("CometUFIFeedbackReactSubscription_feedback.graphql");i!==void 0?i:i=b("CometUFIFeedbackReactSubscription_liker.graphql");j!==void 0?j:j=b("CometUFIFeedbackReactSubscription_viewer.graphql");var l=k!==void 0?k:k=b("CometUFIFeedbackReactSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null||(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null||(d=d.viewer)==null||(d=d.actor)==null?void 0:d.id;if(c!==d){d=(c=b.feedback_like_subscribe)==null||(c=c.feedback)==null?void 0:c.id;if(d!=null){b=a.get(d);b&&b.setValue(!0,"is_unseen")}}},variables:{input:b,useDefaultActor:c}})}g.subscribe=a}),98);
__d("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9815271091886179"}),null);
__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",["CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9972315006159780"}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",["CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),k=i!==void 0?i:i=b("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function a(a,b,c,e){c={input:{feedback_id:c.feedbackID,session_id:d("ChannelClientID").getID()}};var f;e={onCompleted:e,variables:c};a?f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:j},e)):f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:k},e));return{dispose:function(){f&&f.dispose(),f=null}}}c=a.bind(null,!0);e=a.bind(null,!1);g.start=c;g.stop=e}),98);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e){var f;f=a.call(this)||this;f.$CometUFILiveTypingBroadcastPublisher$p_1=b;f.$CometUFILiveTypingBroadcastPublisher$p_2=c;f.$CometUFILiveTypingBroadcastPublisher$p_3=e;f.$CometUFILiveTypingBroadcastPublisher$p_4=null;f.$CometUFILiveTypingBroadcastPublisher$p_5=null;f.$CometUFILiveTypingBroadcastPublisher$p_6=d;return f}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher$p_4&&this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5&&this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose()};c.handleStartEvent=function(){a.prototype.handleStartEvent.call(this)};c.handleStopEvent=function(){a.prototype.handleStopEvent.call(this)};c.publishStartEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_4)return;this.$CometUFILiveTypingBroadcastPublisher$p_5&&(this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_4=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_4=d("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};c.publishStopEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_5)return;this.$CometUFILiveTypingBroadcastPublisher$p_4&&(this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_4=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_5=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_5=d("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};return b}(c("AbstractCommentLiveTypingPublisher"));g["default"]=a}),98);
__d("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.pluginProps,f=a.feedback,g=a.groupID,i=a.relayEnvironment,l=(a=f.viewer_actor)==null?void 0:a.id,m=e.addCommitListener,n=f.id,o=k(!1),p=k(null),q=e.editor;b[0]!==l||b[1]!==m||b[2]!==q||b[3]!==n||b[4]!==g||b[5]!==i?(a=function(){if(o.current===!0)return;if(l==null||n==null&&g==null){c("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id`, or both `feedback.id` and `groupID` are null, in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI.");o.current=!0;return}var a="",b=function(){if(p.current===null){var a=new(c("CometUFILiveTypingBroadcastPublisher"))(l,n,i,g);p.current=a}return p.current},e=q.registerTextContentListener(function(d){if(a!==d){var e=b();a=d;(h||(h=c("JSScheduler"))).defer(function(){e.handleStartEvent()})}}),f=q.registerCommand(d("Lexical").BLUR_COMMAND,function(){var a=p.current;a!==null&&a.handleStopEvent();return!1},d("Lexical").COMMAND_PRIORITY_LOW),j=m(function(){var a=p.current;a!==null&&a.handleStopEvent();return"continue-commit"});return function(){var a=p.current;a!==null&&(p.current=null,a.destroy());e();f();j()}},b[0]=l,b[1]=m,b[2]=q,b[3]=n,b[4]=g,b[5]=i,b[6]=a):a=b[6];b[7]!==l||b[8]!==m||b[9]!==q||b[10]!==n||b[11]!==i?(f=[l,m,q,n,i],b[7]=l,b[8]=m,b[9]=q,b[10]=n,b[11]=i,b[12]=f):f=b[12];j(a,f);return null}g["default"]=a}),98);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9832850366770548"}),null);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql",["CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"stickerId"}],c=[{kind:"Variable",name:"id",variableName:"stickerId"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},f=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}],g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h=[g,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentSticker_sticker"}],type:"Sticker",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[g],storageKey:null},{alias:"sticker_image",args:f,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},d],storageKey:null}]},params:{id:b("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"),metadata:{},name:"CometUFIStickersComposerUpgradedPreviewContentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{kind:"Literal",name:"height",value:80},a,{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"UFI2CommentSticker_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:"sticker_image",args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},a,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("UFI2CommentSticker.react",["JSResource","UFI2CometRelayCreateFragmentContainer","UFI2CommentSticker_sticker.graphql","UFI2ScaleRect","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){var b=a.className;a=a.sticker;var c=a.sticker_type==="AVATAR",e=a.sprite_image,f=c?a.larger_sticker_image:a.sticker_image;if(f==null)return null;c=c?120:80;c=d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:c,maxWidth:c,srcHeight:f.height||c,srcWidth:f.width||c});var g=c.height;c=c.width;var h=j.jsx("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:c+"px "+g+"px",height:g,width:c}});return j.jsx(j.Suspense,{fallback:h,children:j.jsx(k,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:b,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(h=a.pack)==null?void 0:h.name,sourceHeight:g,sourceURI:f.uri,sourceWidth:c,spriteURI:e==null?void 0:e.uri})})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="UFI2CommentSticker";e=c("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(a,{sticker:h!==void 0?h:h=b("UFI2CommentSticker_sticker.graphql")});g["default"]=e}),98);
__d("CometUFIStickersComposerUpgradedPreviewContent.react",["cx","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFIStickersComposerUpgradedPreviewContentQuery.graphql","FBLogger","SiteData","UFI2CommentSticker.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var e=d("react-compiler-runtime").c(2);a=a.stickerId;var f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql"),{scale:c("SiteData").pr,stickerId:a});f=f.sticker;if(!f){c("FBLogger")("ufi2").addMetadata("UFI","STICKER_ID",a).mustfix("Failed to fetch a sticker.");return null}e[0]!==f?(a=k.jsx(c("UFI2CommentSticker.react"),{className:"mal",sticker:f}),e[0]=f,e[1]=a):a=e[1];return a}function a(a){var b=d("react-compiler-runtime").c(8),e=a.loadingIndicatorElement,f=a.onError;a=a.stickerId;var g;b[0]!==a?(g=k.jsx(l,{stickerId:a}),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==g?(a=k.jsx(c("CometPlaceholder.react"),{fallback:e,children:g}),b[2]=e,b[3]=g,b[4]=a):a=b[4];b[5]!==f||b[6]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{fallback:m,onError:f,children:a}),b[5]=f,b[6]=a,b[7]=e):e=b[7];return e}function m(){}g["default"]=a}),98);
__d("CometUFIVoteCountDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9936963819763414"}),null);
__d("CometUFIVoteCountDialogQuery$Parameters",["CometUFIVoteCountDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIVoteCountDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIVoteCountDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIVoteCountDialog.entrypoint",["CometUFIVoteCountDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.actorID;a=a.questionID;return{queries:{cometUFIVoteCountDialogQueryRef:{environmentProviderOptions:{actorID:c},parameters:b("CometUFIVoteCountDialogQuery$Parameters"),variables:{questionID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFIVoteCountDialog.react").__setRef("CometUFIVoteCountDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIVotesText.react",["fbt","CometUFISummaryBarLabel.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.voteCount;var e;b[0]!==a?(e=h._(/*BTDS*/"_j{\"*\":\"{number} Votes\",\"_1\":\"1 Vote\"}",[h._plural(a,"number")]),b[0]=a,b[1]=e):e=b[1];e=e;var f;b[2]!==e||b[3]!==a?(f=j.jsx(c("CometUFISummaryBarLabel.react"),{count:a,icon:"ballot-box",label:e}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),226);
__d("CometUFIVoteCountButton.react",["fbt","Actor","CometPressable.react","CometUFIVoteCountDialog.entrypoint","CometUFIVotesText.react","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",":hover_textDecoration":"xt0b8zv",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.questionID;a=a.voteCount;var f=d("Actor").useActor();f=f[0];var g=k(null),i;b[0]!==f||b[1]!==e?(i={actorID:f,questionID:e},b[0]=f,b[1]=e,b[2]=i):i=b[2];f=c("useCometEntryPointDialog")(c("CometUFIVoteCountDialog.entrypoint"),i);var m=f[0];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"voter dialog"),b[3]=e):e=b[3];b[4]!==m?(i=function(){m({})},b[4]=m,b[5]=i):i=b[5];b[6]!==a?(f=j.jsx(c("CometUFIVotesText.react"),{voteCount:a}),b[6]=a,b[7]=f):f=b[7];b[8]!==i||b[9]!==f?(a=j.jsx(c("CometPressable.react"),{"aria-label":e,display:"inline",onPress:i,overlayDisabled:!0,ref:g,xstyle:l.link,children:f}),b[8]=i,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("FDSPoliticsFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("506962"),12);b=a;g["default"]=b}),98);
__d("InlineFollowCtaEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1985969");b=d("FalcoLoggerInternal").create("inline_follow_cta_event",a);e=b;g["default"]=e}),98);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","getImplicitMentionsGating","gkx","react","useCometMentionsViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=c("gkx")("23229");e=["USER","EVENT","GROUP","PAGE"];var j=b?[].concat(e,["WORKROOMS_USER"]):e;f=["user","event","group","page"];var k=b?[].concat(f,["workrooms_user"]):f;function a(){return function(a){var b=a.config,e=b.contextID;b=b.postID;a=a.pluginProps.editor;e=c("useFeedComposerCometMentionsDataSourceResolverConfig")({canUseSections:!1,contextID:e,firstDegreeTypesForBootstrap:j,implicitMentionsConfig:{isImplicitMentionsEnabled:d("getImplicitMentionsGating").getIsImplicitMentionsEnabledComment(),matchLimitOverride:d("getImplicitMentionsGating").getIsImplicitMentionsMatchLengthCommentsOverride(),typeaheadContext:d("getImplicitMentionsGating").getIsFriendsOnlyImplicitDatasource()?"comet_mention_friends_only":void 0},mentionTypesForNetwork:k,postID:b,shouldBootstrapOnLayoutEffect:!1});b={context_id:null,context_type:"undirected",surface:"COMMENT",typeahead_type:"ENTITY"};var f=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),mentionsLoggerContext:b,viewStrategyRenderer:f})}}g["default"]=a}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);
__d("getUpgradedCometUFIEmoticonsComposerHandler",["CometLexicalEmojiNode","EmoticonsList","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(!a.isSimpleText())return;var b=d("Lexical").$getSelection(),e=a.getTextContent();d("Lexical").$isRangeSelection(b)&&b.isCollapsed()&&b.anchor.type==="text"&&b.anchor.key===a.getKey()&&(e=e.slice(0,b.anchor.offset));b=a;while((a=e.match(d("EmoticonsList").noncapturingRegexp))&&a!==null&&b!==void 0){var f=a[1];a=a[0][0]===" "?a.index+1:a.index;var g=f.length,h=a+g,i=d("EmoticonsList").emotes[f];if(i!==void 0){var j=d("EmoticonsList").emoji[i],k=b.getNextSibling();k=h===e.length?d("Lexical").$isLineBreakNode(k):e[h]===" ";if(j!==void 0&&k){k=void 0;if(a===0){g=b.splitText(g);k=g[0];b=g[1]}else{g=b.splitText(a,h);k=g[1];b=g[2]}a=j.length===5&&j.slice(0,2)==="1f";g=a?String.fromCodePoint(parseInt("0x"+j,0)):i;i=a?g:f;a=new(c("FBEmojiResource"))(j);f=a.getImageURL(d("CometLexicalEmojiNode").UFI_EMOJI_SIZE);f!=null&&(j=d("CometLexicalEmojiNode").$createEmojiNode(g,i,f,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE),k.replace(j))}}e=e.slice(h)}}function a(a){return a.registerNodeTransform(d("Lexical").TextNode,h)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBGetContactEpochHead",["EBMinosSecureMailboxKeysForContact","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a.rawContactId;if(a==null)return Promise.reject(d("WAResultOrError").makeError("invalid-arguments"));a=await d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(a);return d("WAResultOrError").makeResult({epochHead:a==null?void 0:a.epoch_head,epochHeadCreationTime:a==null?void 0:a.epoch_head_creation_time})}g.getContactEpochHead=a}),98);
__d("EBGetMessageKeys",["EBMinosFakeData","FBLogger","WAResultOrError","WebMps","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.messageId;a=a.threadId;try{if(b==null||a==null)return d("WAResultOrError").makeError("invalid-arguments");b=await d("WebMps").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-only"},debug:{purpose:"get-message-keys"},messageId:b,threadId:a});if(b.success===!1)return d("WAResultOrError").makeError(b.error);a=b.value;if(a==null)return d("WAResultOrError").makeError("no-message");var e=new Map();a.supplementalProtobufs.forEach(function(a,b){e.set(b,babelHelpers.extends({},a,{transportMessageSignature:d("EBMinosFakeData").FAKE_TRANSPORT_SIGNING_PUBLIC_KEY}))});b=babelHelpers.extends({},a.toplevelProtobuf,{transportMessageSignature:d("EBMinosFakeData").FAKE_TRANSPORT_SIGNING_PUBLIC_KEY});return d("WAResultOrError").makeResult(babelHelpers.extends({},a,{supplementalProtobufs:e,toplevelProtobuf:b}))}catch(a){c("FBLogger")("wmi_minos").catching(c("getErrorSafe")(a)).MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Runtime error in EBGetMessageKeys"])));throw a}}g.getMessageKeys=a}),98);
__d("EBMessageBulkPointQuery",["Base64Utils","EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBIsEbEnabled","EBMessagePointQueryWithPersistence","EBgenerateMPSMessageQuery","I64","LSMEBTaskCreationSource","LSVec","MAWCurrentUser","QPLUserFlow","WAHashStringToNumber","WALogger","WAPushSafeTypes","WAResultOrError","WorkerRelay","cr:9437","handleRestoreMessagesGraphQLResponse","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;async function a(a){if(!d("EBAPIWorkerCheck").runningInWorker()){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] GQL bulk point query called from non-worker context"])));return d("WAResultOrError").makeError("called-from-main-thread")}d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.messageIds,g=a.sortOrderMsList,n=a.source,o=a.threadId;a=a.traceId;var p=a!=null?d("WAHashStringToNumber").hashStringToNumber(a):d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),q=c("qpl")._(521482281,"2703");try{c("QPLUserFlow").start(q,{annotations:{bool:{bulkPointQuery:!0,mainThreadRestore:!1,workerThreadRestore:!0},int:{source:n!=null?n:c("LSMEBTaskCreationSource").UNKNOWN}},instanceKey:p});if(b("cr:9437")==null){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Calling EBLS without EBLS being available for message bulk point query"])));c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("ebls-not-initialized")}await b("cr:9437").init();var r=await b("cr:9437").getLSStorage();if(!await d("EBIsEbEnabled").isEbEnabledLS(r.tables)){c("QPLUserFlow").addPoint(q,"eb_not_enabled",{instanceKey:p});c("QPLUserFlow").endSuccess(q,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("eb-not-enabled")}var s=await d("handleRestoreMessagesGraphQLResponse").getClientState(r);if(s==null){d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] No client state found - unable to restore"])));c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NO_CLIENT_STATE,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("no-client-state")}var t=s.backupId,u=s.device_id,v=s.locally_available_epochs,w=s.mailboxRootKey;s=s.ocmfClientStateBlob;if(t==null||u==null||w==null||s==null){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] mandatory params of client state are null"])));c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.INVALID_CLIENT_STATE,{instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError("invalid-client-state")}var x=d("MAWCurrentUser").getAppID();v={restore_context:{act_thread_id:o,site:"www",tam_thread_subtype:0},success:{device_context:{device_id:(m||(m=d("I64"))).to_string(u),locally_available_epochs:v,raw_tokens:{mailbox_root_key:d("Base64Utils").fromArrayBuffer(w),ocmf_client_state_blob:d("Base64Utils").fromArrayBuffer(s)}},mps_message_query:JSON.stringify(d("EBgenerateMPSMessageQuery").generateMPSMessageQuery(o,f))}};if(g!=null){w=c("LSVec").ofArray(g.map(function(a){return(m||(m=d("I64"))).of_string(""+a)}));v=babelHelpers.extends({},v,{sort_order_ms_list:w})}c("QPLUserFlow").addPoint(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.GRAPHQL_QUERY_START,{instanceKey:p});s=await d("WorkerRelay").createWorkerQuery(d("EBMessagePointQueryWithPersistence").pointRestoreQuery,{app_id:String(x!=null?x:"0"),restore_payload_string:JSON.stringify(v),restore_type:"MESSAGE_QUERY_RESTORE"});f=await d("EBAPISharedUtils").constructEBRestoreResponse(s,!0,q,r,p,u,o,e,n,a,void 0,t);if(f.success){d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.success");return d("WAResultOrError").makeResult(f.response)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").makeError(f.response)}}catch(a){d("WALogger").ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] graphQL bulk point restore error ",""])),a);c("QPLUserFlow").endFailure(q,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:p});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.bulkpoint.search.gql.error");return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}}g.messageBulkPointQuery=a}),98);
__d("EBMessageRangeQueryForIndexing",["EBAPIQPLPoints","EBAPISharedUtils","EBAPIWorkerCheck","EBMessageRangeQueryForThreads","I64","LSDatabaseSingleton","LSMEBTaskCreationSource","LSVec","MAWEncryptedBackupUtils","MAWJobDefinitions","QPLUserFlow","WAHashStringToNumber","WAResultOrError","WATagsLogger","ifRequireable","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=d("WATagsLogger").TAGS(["labyrinth_web","EBMessageRangeQueryForIndexing"]);function m(a,b,e){var f=d("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(a.protobuf),g=c("LSVec").toArray(a.echo).map(function(a){return d("MAWJobDefinitions").toEncodedEchoMessage(a)});return{echoMessages:g,hasMoreAfter:a.messageRangeInfo.has_more_before,hasMoreBefore:a.messageRangeInfo.has_more_after,isPointQuery:!1,mpsMessageQuery:void 0,nextMessageTimestampMsAfter:(j||(j=d("I64"))).of_string(a.messageRangeInfo.next_message_timestamp_ms_after),nextMessageTimestampMsBefore:j.of_string(a.messageRangeInfo.next_message_timestamp_ms_before),protobufMessages:f,referenceTimestamp:a.args.from[0],requestId:e,taskSource:b}}async function a(a){var b,e=a.traceId!=null?a.traceId:c("uuidv4")(),f=d("WAHashStringToNumber").hashStringToNumber(e);b=(b=a.source)!=null?b:c("LSMEBTaskCreationSource").UNKNOWN;var g=c("qpl")._(521476367,"2704");c("QPLUserFlow").start(g,{annotations:{bool:{mainThreadRestore:!1,rangeQueryForIndexing:!0,workerThreadRestore:!0},int:{source:b}},instanceKey:f});var j=a.chatJid;if(j==null){c("QPLUserFlow").endFailure(g,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.NULL_CHAT_JID,{instanceKey:f});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("null-chat-jid")}try{var n;if(d("EBAPIWorkerCheck").runningInWorker()){var o=new Promise(function(a,b){return c("ifRequireable")("EBLS",function(b){b=b.getLSStorage;return a(b())},function(){return a(null)})});o=await o;if(o==null){l.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Calling EBLS without EBLS being available for message range query"])));c("QPLUserFlow").endFailure(g,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.EBLS_NOT_INITIALIZED,{instanceKey:f});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("ebls-not-initialized")}}else o=await (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton;n=(n=a.sortOrderMs)!=null?n:""+(Date.now()+6e4);a=await d("EBMessageRangeQueryForThreads").messageRangeQueryForThreads({instanceKey:e,qplEventObject:g,restoreType:"range",source:(a=a.source)!=null?a:c("LSMEBTaskCreationSource").UNKNOWN,storage:o,threads:[{chatJid:j,direction:"before",from:[n,void 0]}]});if(a.success&&a.value.length>0&&a.value[0].success){o=a.value[0].value;j=m(o,b,e);d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.success");return d("WAResultOrError").makeResult(j)}else{d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");n=a.success===!1?a.error:a.value[0].error;return d("WAResultOrError").makeError(n!=null?n:"runtime-error")}}catch(a){l.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["graphQL range restore error ",""])),a);c("QPLUserFlow").endFailure(g,d("EBAPIQPLPoints").EBMessageRestoreQueryQPLPoints.RUNTIME_ERROR,{error:a,instanceKey:f});d("EBAPISharedUtils").bumpOdsRestoreKey("restore.request.range.search.gql.error");return d("WAResultOrError").makeError("runtime-error")}}g.messageRangeQueryForIndexing=a}),98);
__d("EBMinosWriteKeyChangeAdminMessage",["EBMinosTypes","FBLogger","MAWAdminWriteUserDeviceMsgTxn","MAWDbThreadTxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.contactId,e=a.epochHeadCreationTime,f=d("EBMinosTypes").userFbidToUserJid(b);if(f==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid userJid generated in writeKeyChangeAdminMessage"])));return Promise.resolve()}a=await d("MAWIndexedDb").makeMsgrTransactor({participants:d("MAWTransactionMode").READONLY,threads:d("MAWTransactionMode").READONLY},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDbThreadTxns").getAllThreadsForUsers(a,[f])}})();b=a.get(f);if(b==null||(b==null?void 0:b.length)===0)return Promise.resolve();var g=b.filter(function(a){a=d("WAJids").switchOnMsgrChatJidType(a.jid,{group:function(){return"group"},user:function(){return"one_to_one"}});return a==="one_to_one"});return d("MAWIndexedDb").makeMsgrTransactor({ftsBackloggedMessages:d("MAWTransactionMode").READWRITE,groupInfo:d("MAWTransactionMode").READONLY,messages:d("MAWTransactionMode").READWRITE,threads:d("MAWTransactionMode").READWRITE},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDexieTable").dexieAll(g.map(function(b){return d("MAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(a,f,b,"update",e)}))}})()}g.writeMinosKeyChangeAdminMessage=a}),98);
__d("EBMinosWriteSecureStorageAlert",["EBMinosTypes","FBLogger","MAWDbAddDeviceChangeAlertsTxn","MAWDbDeviceChangeAlerts","MAWIndexedDb","MAWTransactionMode","MAWUnsafeCoerce","Promise","WAJids","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.contactId,f=a.epochHead,g=a.epochHeadCreationTime,j=d("WAJids").validateDeviceJid(d("EBMinosTypes").userFbidToUserJid(d("EBMinosTypes").unsafeCastToUserFbId(e)));if(j==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid deviceJid generated in writeMinosSecureStorageAlert"])));return(i||(i=b("Promise"))).resolve()}return d("MAWIndexedDb").makeMsgrTransactor({deviceChangeAlerts:d("MAWTransactionMode").READWRITE},"writeMinosSecureStorageAlert",function(a){return function(){return d("MAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn(a,{action:d("MAWDbDeviceChangeAlerts").KEY_CHANGE,deviceJid:j,epochHead:f,identity:d("MAWUnsafeCoerce").unsafeCoerce(d("WASignalOther").toBytes(f,32)),isArchived:!1,model:"secure_storage",platform:"Meta",ts:g})}})()}g.writeMinosSecureStorageAlert=a}),98);
__d("EBUploadDeletedMessage",["EncryptedBackupsUploadQueue","I64","MAWUserJidWrapper","WAAsMessageApplication","WAJids","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){var b=a.instanceKey,c=a.msgId,e=a.sender,f=a.serverTs;a=a.sortOrderMs;try{await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload([{backupDirective:{actionType:3,originalMsgProtocolId:c},instanceKey:b,messageApplication:d("WAAsMessageApplication").castToMessageApplicationBytes(new Uint8Array(0)),msgId:c,originalMsgProtocolId:c,reportingMeta:null,senderId:(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(e,d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid()))),serverTs:f,sortOrderMs:a,triggerSource:"upload-deleted-message"}])}catch(a){return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}return d("WAResultOrError").makeResult()}g.uploadDeletedMessage=a}),98);
__d("EncryptedBackupsCastToAttachmentContextMediaType",["EncryptedBackupsUploadEntity","MAWDbMedia","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.IMAGE;case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.VIDEO;case d("MAWDbMedia").MEDIA_TYPE.PTT:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.PTT;case d("MAWDbMedia").MEDIA_TYPE.GIF:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.GIF;case d("MAWDbMedia").MEDIA_TYPE.STICKER:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.STICKER;case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.DOCUMENT;default:a;d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid AttachmentContextMediaType: ",""])),a);return d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.INVALID}}g["default"]=a}),98);
__d("EncryptedBackupsGetAttachmentContextForReceivedMsg",["EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=new Map();if(((b=a.decodedMsg)==null?void 0:b.unstoredDbMedia)!=null){b=(b=a.decodedMsg)==null?void 0:b.unstoredDbMedia;var f=b.mediaType;b=d("WAMediaUtils").decodeMediaEntryData(b.mediaEntry);var g=b.downloadableThumbnail;b=b.objectId;g=g==null?void 0:g.objectId;f=c("EncryptedBackupsCastToAttachmentContextMediaType")(f);b!=null&&f!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(b),f);g!=null&&g!==b&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(g),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW)}if(((f=a.decodedMsg)==null?void 0:f.unstoredXMA)!=null){g=(b=a.decodedMsg)==null?void 0:b.unstoredXMA;if(g.unstoredFavicon!=null){f=d("WAMediaUtils").decodeMediaEntryData(g.unstoredFavicon.mediaEntry);a=f.objectId;a!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(a),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(g.unstoredHeaderMedia!=null){b=d("WAMediaUtils").decodeMediaEntryData(g.unstoredHeaderMedia.mediaEntry);f=b.objectId;f!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(f),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(g.unstoredAssociatedMedia!=null){a=d("WAMediaUtils").decodeMediaEntryData(g.unstoredAssociatedMedia.mediaEntry);b=a.objectId;b!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(b),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}g.unstoredPreviews!=null&&g.unstoredPreviews.length>0&&g.unstoredPreviews.forEach(function(a){a=a.mediaEntry;a=d("WAMediaUtils").decodeMediaEntryData(a);a=a.objectId;a!=null&&e.set(d("WAMediaUtils").stringToDeliveryObjectId(a),d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)})}return Array.from(e.entries()).map(function(a){var b=a[0];a=a[1];return{mediaObjectId:b,mediaType:a}})}g["default"]=a}),98);
__d("MessageBackupDirectiveGenerator",["FBLogger","I64","MAWJids","MAWMsgType","MessageBackupSupplementalKeyGenerator","WAGlobals","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a=d("MessageBackupSupplementalKeyGenerator").createReactionSupplementalKey(a);if(a!=null)return a;throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to create reaction supplemental key")}function j(a,b){a=d("MessageBackupSupplementalKeyGenerator").createEditSupplementalKey(a,b);if(a!=null)return a;throw c("FBLogger")("labyrinth_web").mustfixThrow("Failed to create edit supplemental key")}function k(a,b){b=d("MAWJids").toUserJid((h||(h=d("I64"))).to_string(b).toString());return{actionType:2,originalMsgProtocolId:a,supplementalKey:i(b)}}function l(a,b,c){b=d("MAWJids").toUserJid((h||(h=d("I64"))).to_string(b).toString());return{actionType:2,originalMsgProtocolId:a,supplementalKey:j(b,c)}}function m(a){if(d("WAJids").isAuthorSystem(a.author))return null;if(a.reactToExternalId!=null)return{author:a.reactToAuthor===d("WAGlobals").getMyUserJid()?"@me":a.reactToAuthor,chat:a.threadJid,externalId:a.reactToExternalId};else if(a.originalMsgExternalId!=null)return{author:a.author,chat:a.threadJid,externalId:a.originalMsgExternalId};else if(a.revokedExternalId!=null)return{author:a.author,chat:a.threadJid,externalId:a.revokedExternalId};return a.externalId==null?null:{author:a.author,chat:a.threadJid,externalId:a.externalId}}function a(a){var b=(h||(h=d("I64"))).of_string(d("WAJids").authorToUserId(a.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()))),e=m(a);if(e==null)return null;if(a.originalMsgExternalId!=null){if(a.editTs==null){c("FBLogger")("labyrinth_web").mustfix("editTs is null for edit message during createMessageBackupDirectiveFromDbMsg");return null}return l(e,b,d("WATimeUtils").castUnixTimeToMillisTime(a.editTs))}return a.reactToExternalId!=null?k(e,b):n(e,b,a.type,null)}function n(a,b,e,f){switch(e){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:return{actionType:1,originalMsgProtocolId:a};case d("MAWMsgType").MSG_TYPE.REACTION:return k(a,b);case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:if(f==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("editTs is null for edit message during createMessageBackupDirective");return l(a,b,f);case d("MAWMsgType").MSG_TYPE.REVOKED:return{actionType:4,originalMsgProtocolId:a};case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return{actionType:3,originalMsgProtocolId:a};default:c("FBLogger")("labyrinth_web").mustfix("Unsupported message type %s",e);return{actionType:0,originalMsgProtocolId:a}}}g.createMessageBackupDirectiveFromDbMsg=a;g.createMessageBackupDirective=n}),98);
__d("MessageBackupDirectiveTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.actionType,c=a.messageId;a=a.supplementalKey;return{actionType:b,originalMsgProtocolId:{externalId:c},supplementalKey:a!=null?a:void 0}}f.getMessageBackupDirectiveFromMessageTransportBackupDirective=a}),66);
__d("EncryptedBackupsCreateUploadMessage",["EBAPIQPLPoints","EBGenerateMessageTags","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsGetAttachmentContextForReceivedMsg","I64","LSRequestId","MAWEBSwitch","MAWMessageSortOrderUtils","MAWMsgType","MessageBackupDirectiveGenerator","MessageBackupDirectiveTypes","QPLUserFlow","WAAsMessageApplication","WAByteArray","WAConsumerApplication.pb","WAGlobals","WAJids","WALogger","WAMsgApplication.pb","WATimeUtils","decodeProtobuf","encodeProtobuf","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)return null;var b;if(a.unstoredDbReaction!=null)return d("MAWMsgType").MSG_TYPE.REACTION;else if(a.unstoredDbEditActionMsg!=null)return d("MAWMsgType").MSG_TYPE.EDIT_ACTION;else if(a.unstoredDbMedia!=null){var c;b=a.unstoredDbMedia.mediaType;c=(c=a.unstoredDbMsg)==null?void 0:c.ephemeralSetting}else if(a.unstoredXMA!=null){var e;b=d("MAWMsgType").MSG_TYPE.XMA;c=(e=(e=a.unstoredDbMsg)==null?void 0:e.ephemeralSetting)!=null?e:(e=a.unstoredXMA.unstoredAssociatedMsg)==null?void 0:e.ephemeralSetting}else if(a.unstoredDbMsg!=null)b=a.unstoredDbMsg.type,c=a.unstoredDbMsg.ephemeralSetting;else return null;e=d("MAWMsgType").isProtobufUploadSupportedMsgType(b);return e&&!(c!=null&&c.ephemeralExpirationInSec>0)?b:null}function k(a){var b,c=a.stanza.message.decrypted.id;if(((b=a.decodedMsg)==null?void 0:b.unstoredDbReaction)!=null)return{author:a.decodedMsg.unstoredDbReaction.reactToAuthor,chat:c.chat,externalId:a.decodedMsg.unstoredDbReaction.reactToExternalId};else if(((b=a.decodedMsg)==null?void 0:b.unstoredDbEditActionMsg)!=null)return{author:c.author,chat:c.chat,externalId:a.decodedMsg.unstoredDbEditActionMsg.originalMsgExternalId};return c}function l(a){var b;return d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,{metadata:a.metadata,payload:{subProtocol:(b={},b[a.subprotocolType]={payload:d("WAByteArray").uint8ArrayToBuffer(a.subprotocol),version:1},b)}}).readByteArrayView())}function m(a){if(a.subprotocolType!=="consumerMessage")return null;a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAConsumerApplication.pb").ConsumerApplicationSpec,a.subprotocol);if(a==null)return null;a=(a=a.payload)==null?void 0:a.content;if(a==null)return null;a=a.editMessage;return a==null||a.timestampMs==null?null:d("WATimeUtils").castLongIntToMillisTime(a.timestampMs)}function n(a){var b=a.stanza.message.decrypted.id,e=a.stanza.message.details.ts;a=c("EncryptedBackupsGetAttachmentContextForReceivedMsg")(a);var f=c("EncryptedBackupsConvertToLegacyAttachmentContext")(a),g=[];f.length>0&&f.forEach(function(a){var f=a.mediaObjectId;a=a.mediaType;g.push({deliveryObjectId:f,mediaType:a,messageId:b.externalId,productType:"msgr",threadId:d("WAJids").threadIdForChatJid(b.chat),threadJid:b.chat,traceId:c("LSRequestId").generate(),ts:e})});return{attachmentContext:a,legacyUploadAttachmentArray:g}}function a(a,b,e,f){var g,o=c("qpl")._(521477113,"2698"),p=j(a.decodedMsg);if(p==null){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] no result or failed for incoming stanza ",""])),a.stanza.message.decrypted.id);c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNKNOWN_MESSAGE_TYPE,{instanceKey:f});return null}var q=a.stanza.message.decrypted.msg;if((q==null?void 0:q.version)!=="v3"||q.type!=="subprotocol"){c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UKNOWN_MESSAGE_VERSION_OR_PROTOCOL,{instanceKey:f});return null}var r=a.stanza.message.decrypted.id,s=r.author,t=r.externalId,u=k(a),v=l(q);s=(i||(i=d("I64"))).of_string(d("WAJids").authorToUserId(s,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid())));var w=a.stanza.message.details.reportingMeta,x=a.stanza.message.details.ts;c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_START,{instanceKey:f});var y=q.backupDirective!=null?d("MessageBackupDirectiveTypes").getMessageBackupDirectiveFromMessageTransportBackupDirective(q.backupDirective):null;q=d("MessageBackupDirectiveGenerator").createMessageBackupDirective(u,s,p,p===d("MAWMsgType").MSG_TYPE.EDIT_ACTION?m(q):null);var z;y!=null&&p===d("MAWMsgType").MSG_TYPE.FUTUREPROOF?z=y:z=q;c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_END,{instanceKey:f});c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_START,{instanceKey:f});a=n(a);var A=a.attachmentContext;a=a.legacyUploadAttachmentArray;A.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT,{data:{"int":{attachmentCount:A.length}},instanceKey:f});a.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT_LEGACY,{data:{"int":{legacyAttachmentCount:a.length}},instanceKey:f});c("QPLUserFlow").addPoint(o,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_END,{instanceKey:f});o=A.map(function(a){return d("EBGenerateMessageTags").generateEBMessageTags(a.mediaType)}).filter(Boolean);var B=!c("MAWEBSwitch").isEnabled();c("QPLUserFlow").addAnnotations(c("qpl")._(521477113,"2698"),{bool:{isRetroactiveUpload:B},"int":{attachmentCount:A.length,backupDirectiveType:z.actionType,generatedDirective_actionType:q.actionType,legacyAttachmentCount:a.length,protobufDirective_actionType:(g=y==null?void 0:y.actionType)!=null?g:-1},string:{generatedDirective_supplementalKey:(g=q.supplementalKey)!=null?g:"no_supplemental_key",protobufDirective_supplementalKey:(q=y==null?void 0:y.supplementalKey)!=null?q:"no_supplemental_key"}},{instanceKey:f});return{attachmentContext:A,backupDirective:z,dbMsgType:p,instanceKey:f,isRetroactiveUpload:B,legacyAttachmentContext:a,messageApplication:v,msgId:r,originalMsgProtocolId:u,reportingMeta:w,senderId:s,serverTs:x,sortOrderMs:e!=null?e:d("WATimeUtils").castToMillisTime(d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder({externalId:t,serverTs:x,ts:x})),tags:o,triggerSource:b!=null?b:"unknown"}}g.createUploadMessage=a}),98);
__d("EBUploadReceivedMessages",["EBAPIQPLPoints","EncryptedBackupsCreateUploadMessage","EncryptedBackupsUploadQueue","MAWEBSwitch","MWEBODSEntityName.enum","MWEBODSUtils","QPLUserFlow","WAHashStringToNumber","WALogger","WAResultOrError","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloReceiveWriteDbSuccessFalcoEvent").__setRef("EBUploadReceivedMessages"),k=c("justknobx")._("3874");async function a(a){var b=a.incomingMessages,e=a.msgResults;try{if(b.length===0)return d("WAResultOrError").makeResult();d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.receive.process",b.length);a=b.map(function(a){var b=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());c("QPLUserFlow").start(c("qpl")._(521477113,"2698"),{annotations:{bool:{received:!0}},instanceKey:b,timeoutInMs:c("justknobx")._("308")});try{var f=a.stanza.message.decrypted.id;f=e.get(f);if(f==null||!f.success){d("WALogger").EXPECTED_ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] no result or failed for incoming stanza ",""])),a.stanza.message.decrypted.id);c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.MESSAGE_RESULT_FAILURE_OR_NULL,{instanceKey:b});return null}var g=d("EncryptedBackupsCreateUploadMessage").createUploadMessage(a,"upload-received-messages",void 0,b);g==null?c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{instanceKey:b}):c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATED,{instanceKey:b});k&&(g==null?void 0:g.msgId)!=null&&j.onReady(function(a){var b,d={is_protobuf_only:!1,is_supplemental_upload:g.msgId.externalId!==g.originalMsgProtocolId.externalId,msg_type:(b=g.dbMsgType)!=null?b:"unknown",trigger_source:"receive"};a.log(function(){return{encrypted_backup_enable:c("MAWEBSwitch").isEnabled(),labyrinth_version:0,message_id:g.msgId.externalId,process_context:JSON.stringify(d)}})});return g}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] error generating backup directive for received message, ",""])),a);c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{annotations:{string:{error:a.toString()}},instanceKey:b});return null}}).filter(Boolean);if(a.length===0)return d("WAResultOrError").makeResult();d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.receive.enqueue",a.length);await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload(a);return d("WAResultOrError").makeResult()}catch(a){return d("WAResultOrError").DEPRECATED_makeError("runtime-exception",a)}}g.uploadReceivedMessages=a}),98);
__d("EBUploadReceivedMessagesRevokeUtils",["EBAPIQPLPoints","EncryptedBackupsCreateUploadMessage","MAWGetMsgForProtocolMsgIdTxn","MAWMessageSortOrderUtils","QPLUserFlow","WALogger","WATimeUtils","gkx","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("EBAPI").__setRef("EBUploadReceivedMessagesRevokeUtils");async function a(a,b){var e;if(((e=a.decodedMsg)==null||(e=e.unstoredDbMsg)==null?void 0:e.type)!=="Revoked"||!c("gkx")("8488"))return null;var f=a.stanza.message.decrypted.id,g=await d("MAWGetMsgForProtocolMsgIdTxn").getMsgForProtocolMsgIdTxn({author:f.author,chat:f.chat,externalId:a.decodedMsg.unstoredDbMsg.revokedExternalId});if(!g.success){d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] EBUploadReceivedMessagesProtobufOnly not uploading placeholder message - Original message not found for revoked message ",""])),f.externalId);c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.MESSAGE_RESULT_FAILURE_OR_NULL,{instanceKey:b});return null}var j=d("WATimeUtils").castToMillisTime((e=g.value.sortOrderMs)!=null?e:d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder({externalId:g.value.externalId,serverTs:g.value.serverTs,ts:g.value.ts}));c("gkx")("11710")&&await i.load().then(function(a){return a.uploadDeletedMessage({instanceKey:b,msgId:{author:f.author,chat:f.chat,externalId:g.value.externalId},sender:f.author,serverTs:(a=g.value.serverTs)!=null?a:g.value.ts,sortOrderMs:j})});return d("EncryptedBackupsCreateUploadMessage").createUploadMessage(a,"upload-received-messages",j,b)}g.createRevokeUploadMsg=a}),98);
__d("EBUploadReceivedMessagesProtobufOnly",["EBAPIQPLPoints","EBUploadReceivedMessagesRevokeUtils","EncryptedBackupsCreateUploadMessage","EncryptedBackupsUploadQueue","MAWEBSwitch","QPLUserFlow","WAHashStringToNumber","WAResultOrError","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ArmadilloReceiveWriteDbSuccessFalcoEvent").__setRef("EBUploadReceivedMessagesProtobufOnly"),i=c("justknobx")._("3874");async function a(a){a=a.uploadArray;try{if(a.length===0)return d("WAResultOrError").makeResult();a=a.map(async function(a){var b=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());c("QPLUserFlow").start(c("qpl")._(521477113,"2698"),{annotations:{bool:{protobufOnly:!0,received:!0}},instanceKey:b,timeoutInMs:c("justknobx")._("308")});try{var e,f=((e=a.decodedMsg)==null||(e=e.unstoredDbMsg)==null?void 0:e.type)==="Revoked"?await d("EBUploadReceivedMessagesRevokeUtils").createRevokeUploadMsg(a,b):d("EncryptedBackupsCreateUploadMessage").createUploadMessage(a,"upload-received-messages",void 0,b);f==null?c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{instanceKey:b}):c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATED,{instanceKey:b});i&&(f==null?void 0:f.msgId)!=null&&h.onReady(function(a){var b,d={is_protobuf_only:!0,is_supplemental_upload:f.msgId.externalId!==f.originalMsgProtocolId.externalId,msg_type:(b=f.dbMsgType)!=null?b:"unknown",trigger_source:"receive"};a.log(function(){return{encrypted_backup_enable:c("MAWEBSwitch").isEnabled(),labyrinth_version:0,message_id:f.msgId.externalId,process_context:JSON.stringify(d)}})});return f}catch(a){c("QPLUserFlow").endFailure(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_PAYLOAD_CREATION_FAILURE,{annotations:{string:{error:a.message}},instanceKey:b});return null}});a=await Promise.all(a);a=a.filter(Boolean);if(a.length===0)return d("WAResultOrError").makeResult();await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload(a);return d("WAResultOrError").makeResult()}catch(a){return d("WAResultOrError").DEPRECATED_makeError("runtime-exception",a)}}g.uploadReceivedMessagesProtobufOnly=a}),98);
__d("MAWGetAllMediaIdsForXMAMsgApi",["MAWDbXMATxns","MAWDexieTable","MAWIndexedDb","MAWTransactionMode"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWIndexedDb").makeMsgrTransactor({xma:d("MAWTransactionMode").READONLY},"getAllMediaIdsForXMAMsg",function(a){return function(b){var c=new Map();b=b.map(function(b){return d("MAWDbXMATxns").maybeGetXMAFromProtocolMsgId(a,b).then(function(a){var d,e=(d=c.get(b))!=null?d:new Set();a!=null&&(a.faviconMediaId!=null&&e.add(a.faviconMediaId),a.headerMediaId!=null&&e.add(a.headerMediaId),a.previewMediaIds!=null&&a.previewMediaIds.forEach(function(a){return e.add(a)}));c.set(b,e)})});return d("MAWDexieTable").dexieAll(b).then(function(a){return c})}});g.getAllMediaIdsForXMAMsg=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsgXMA",["EncryptedBackupsUploadEntity","MAWDbMediaTxns","MAWGetAllMediaIdsForXMAMsgApi","MAWIndexedDb","MAWTransactionMode","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWIndexedDb").makeMsgrTransactor({media:d("MAWTransactionMode").READONLY},"bulkGetRetroactiveMedia",function(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWDbMediaTxns").bulkGetMedias.apply(void 0,[a].concat(c))}});async function a(a,b){var c=await d("MAWGetAllMediaIdsForXMAMsgApi").getAllMediaIdsForXMAMsg([a]).then(function(b){b=b.get(a);return b!=null?h(Array.from(b)):[]});return c.filter(Boolean).flatMap(function(a){var c,e=b.msgId!=null?a==null?void 0:a.mediaEntries.get(b.msgId):null;e=e!=null?d("WAMediaUtils").decodeMediaEntryData(e):null;var f=[];(e==null?void 0:e.objectId)!=null&&a.mediaType!=null&&f.push({mediaObjectId:e.objectId,mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA});a=e==null||(c=e.downloadableThumbnail)==null?void 0:c.objectId;a!=null&&f.push({isPreview:!0,mediaObjectId:d("WAMediaUtils").stringToDeliveryObjectId(a),mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW});return f})}g.default=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsg",["EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsGetAttachmentContextForSentMsgXMA","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.dbMsg,e=a.isXMAMsg,f=a.media;a=a.protocolMsgIdFromArgs;if(e===!0){e=await c("EncryptedBackupsGetAttachmentContextForSentMsgXMA")(a,b);return e.filter(Boolean)}a=[];e=b.msgId!=null?f==null?void 0:f.mediaEntries.get(b.msgId):null;b=e!=null?d("WAMediaUtils").decodeMediaEntryData(e):null;if(f==null||b==null)return[];if(b.objectId!=null&&f.mediaType!=null){a.push({mediaObjectId:b.objectId,mediaType:c("EncryptedBackupsCastToAttachmentContextMediaType")(f.mediaType)});f=(e=b.downloadableThumbnail)==null?void 0:e.objectId;f!=null&&a.push({mediaObjectId:d("WAMediaUtils").stringToDeliveryObjectId(f),mediaType:d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW})}return a}g.default=a}),98);
__d("EncryptedBackupsGetAttachmentContextForSentMsgV2",["EncryptedBackupsCastToAttachmentContextMediaType","EncryptedBackupsUploadEntity","WAMediaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=new Map(),g=[],h=a.msgId;if(b!=null){var i;a=h!=null?b.mediaEntries.get(h):null;a=a!=null?d("WAMediaUtils").decodeMediaEntryData(a):null;b=c("EncryptedBackupsCastToAttachmentContextMediaType")(b.mediaType);if((a==null?void 0:a.objectId)!=null&&b!=null){var j=a.objectId;f.set(j,b)}j=a==null||(i=a.downloadableThumbnail)==null?void 0:i.objectId;j!=null&&f.set(j,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.MESSENGER_PREVIEW)}if(e!=null){if(e.favicon!=null){b=e.favicon.objectId;b!=null&&f.set(b,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}if(e.header!=null){a=e.header.objectId;a!=null&&f.set(a,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}e.previews!=null&&e.previews.length>0&&e.previews.forEach(function(a){a=a.mediaEntries;a=h!=null?a.get(h):null;a=a!=null?d("WAMediaUtils").decodeMediaEntryData(a):null;if((a==null?void 0:a.objectId)!=null){a=a.objectId;f.set(a,d("EncryptedBackupsUploadEntity").AttachmentContextMediaType.XMA)}})}f.forEach(function(a,b){g.push({mediaObjectId:b,mediaType:a})});return g}g["default"]=a}),98);
__d("EBUploadSentMessage",["EBAPIQPLPoints","EBEnableUnifiedAttachment","EBGenerateMessageTags","EBUnifyLegacyMediaUpload","EncryptedBackupsConvertToLegacyAttachmentContext","EncryptedBackupsGetAttachmentContextForSentMsg","EncryptedBackupsGetAttachmentContextForSentMsgV2","EncryptedBackupsUploadQueue","I64","LSRequestId","MAWEBSwitch","MAWMessageSortOrderUtils","MAWMsgType","MWEBODSEntityName.enum","MWEBODSUtils","MessageBackupDirectiveGenerator","QPLUserFlow","WAFrankingTypes","WAGenReportingMeta","WAGetSafeQPLError","WAGlobals","WAHashStringToNumber","WAJids","WALogger","WAResultOrError","WATimeUtils","gkx","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloReceiveWriteDbSuccessFalcoEvent").__setRef("EBUploadSentMessage"),k=c("requireDeferred")("EBAPI").__setRef("EBUploadSentMessage"),l=c("justknobx")._("3874");function m(a){if(a.reactToExternalId!=null)return d("MAWMsgType").MSG_TYPE.REACTION;else if(a.editMsgHistoryId!=null)return d("MAWMsgType").MSG_TYPE.EDIT_ACTION;else if(a.type==null)return null;else return d("MAWMsgType").isProtobufUploadSupportedMsgType(a.type)&&!(a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0)?a.type:null}async function a(a){var b=a.dbMsg,e=a.isXMAMsg;e=e===void 0?!1:e;var f=a.media,g=a.messageApplication,n=a.messageApplicationBytes,o=a.protocolMsgId,p=a.serverTs,q=a.triggerSource;q=q===void 0?"upload-sent-message":q;a=a.xmaPayload;var r=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),s=c("qpl")._(521477113,"2698");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.sent.process",1);try{if(d("WAJids").isAuthorSystem(b.author))return d("WAResultOrError").makeResult();c("QPLUserFlow").start(s,{annotations:{bool:{received:!1}},instanceKey:r,timeoutInMs:c("justknobx")._("308")});var t=m(b);if(t==null){c("QPLUserFlow").endFailure(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNSUPPORTED_MESSAGE_TYPE,{instanceKey:r});return d("WAResultOrError").makeError("Unsupported EB upload message type")}c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_START,{instanceKey:r});var u=d("MessageBackupDirectiveGenerator").createMessageBackupDirectiveFromDbMsg(b);c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_BACKUP_DIRECTIVE_END,{instanceKey:r});if(u==null){c("QPLUserFlow").endFailure(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UNABLE_TO_CREATE_BACKUP_DIRECTIVE,{instanceKey:r});return d("WAResultOrError").makeError("Unable to create backup directive")}c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_START,{instanceKey:r});var v=[];d("EBUnifyLegacyMediaUpload").getEnableUnifyLegacyMediaUpload()||d("EBEnableUnifiedAttachment").getEbEnableUnifiedAttachment()?v=c("EncryptedBackupsGetAttachmentContextForSentMsgV2")(b,f,a):v=await c("EncryptedBackupsGetAttachmentContextForSentMsg")({dbMsg:b,isXMAMsg:e,media:f,protocolMsgIdFromArgs:o});c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GET_ATTACHMENT_CONTEXT_END,{instanceKey:r});a=c("EncryptedBackupsConvertToLegacyAttachmentContext")(v);var w=[];a.length>0&&a.forEach(function(a){var e=a.mediaObjectId;a=a.mediaType;w.push({deliveryObjectId:e,mediaType:a,messageId:o.externalId,productType:"msgr",threadId:d("WAJids").threadIdForChatJid(o.chat),threadJid:b.threadJid,traceId:c("LSRequestId").generate(),ts:p})});v.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT,{instanceKey:r});w.length>0&&c("QPLUserFlow").addPoint(c("qpl")._(521477113,"2698"),d("EBAPIQPLPoints").EBUploadQueueQPLPoints.ADDED_ATTACHMENT_CONTEXT_LEGACY,{instanceKey:r});e=v.map(function(a){return d("EBGenerateMessageTags").generateEBMessageTags(a.mediaType)}).filter(Boolean);d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg adding message "," attachments to EB upload queue"])),(f=v)==null?void 0:f.length);c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_REPORTING_META_START,{instanceKey:r});a=g==null?void 0:g.metadata;f=await d("WAGenReportingMeta").genReportingMeta(n,a!=null&&a.frankingKey?d("WAFrankingTypes").castToFrankingKey(new Uint8Array(a==null?void 0:a.frankingKey)):null,a==null?void 0:a.frankingVersion);c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.GENERATE_REPORTING_META_END,{instanceKey:r});g=!c("MAWEBSwitch").isEnabled();c("QPLUserFlow").addAnnotations(c("qpl")._(521477113,"2698"),{bool:{isRetroactiveUpload:g},int:{attachmentCount:v.length,backupDirectiveType:u.actionType,legacyAttachmentCount:w.length}},{instanceKey:r});d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.api.sent.enqueue",1);var x=d("WATimeUtils").castToMillisTime(d("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder({externalId:o.externalId,originalTs:b.originalTs,revokedExternalId:b.revokedExternalId,serverTs:p,ts:p})),y={backupDirective:u,dbMsgType:t,instanceKey:r,isRetroactiveUpload:g,messageApplication:n,msgId:o,originalMsgProtocolId:u.originalMsgProtocolId.externalId!==o.externalId?u.originalMsgProtocolId:o,reportingMeta:f,senderId:(i||(i=d("I64"))).of_string(d("WAJids").authorToUserId(o.author,d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()))),serverTs:p,sortOrderMs:x,tags:e,triggerSource:q};(v.length>0||w.length>0)&&(y=babelHelpers.extends({},y,{attachmentContext:v,legacyAttachmentContext:w}));l&&((a=y)==null?void 0:a.msgId)!=null&&j.onReady(function(a){var b,d={is_protobuf_only:!1,is_supplemental_upload:y.msgId.externalId!==y.originalMsgProtocolId.externalId,msg_type:(b=y.dbMsgType)!=null?b:"unknown",trigger_source:"send"};a.log(function(){return{encrypted_backup_enable:c("MAWEBSwitch").isEnabled(),labyrinth_version:0,message_id:y.msgId.externalId,process_context:JSON.stringify(d)}})});await d("EncryptedBackupsUploadQueue").putMsgsToEbUpload([y]);c("gkx")("11710")&&b.type===d("MAWMsgType").MSG_TYPE.REVOKED&&b.originalMsgExternalId==null&&b.reactToExternalId==null&&(c("QPLUserFlow").addPoint(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.UPLOAD_DELETED_MESSAGE,{instanceKey:r}),await k.load().then(function(a){return a.uploadDeletedMessage({instanceKey:r,msgId:{author:o.author,chat:b.threadJid,externalId:b.revokedExternalId},sender:b.author,serverTs:(a=(a=b.originalTs)!=null?a:b.serverTs)!=null?a:b.ts,sortOrderMs:x})}));return d("WAResultOrError").makeResult()}catch(a){c("QPLUserFlow").endFailure(s,d("EBAPIQPLPoints").EBUploadQueueQPLPoints.RUNTIME_ERROR,{annotations:{string:{errorDescription:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}},instanceKey:r});return d("WAResultOrError").DEPRECATED_makeError("runtime-error",a)}}g.uploadSentMessage=a}),98);
__d("EchoSerializationFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5722");b=d("FalcoLoggerInternal").create("echo_serialization_failure",a);e=b;g["default"]=e}),98);
__d("EchoSerializationSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5723");b=d("FalcoLoggerInternal").create("echo_serialization_success",a);e=b;g["default"]=e}),98);
__d("LSRestoreEchoBlobsHandler",["LSProtobufRestoreHandler","LSVec","MAWBridgeSafeActionsWorkerAndUI","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MAWJobDefinitions"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,e,f,g,h,i,j,k,l,m){var n=c("LSVec").toArray(a).map(d("MAWJobDefinitions").toEncodedEchoMessage);j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"echo_to_protobuf_conversion_start",traceId:j});n=await d("MAWBridgeSafeActionsWorkerAndUI").sendAndReceiveBackendWorkerAndUIShared("convertEchoMessagesToEBProtobufs",{chatJid:m,encodedEchoMessages:n});j!=null&&d("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"echo_to_protobuf_conversion_success",traceId:j});n=d("MAWEncryptedBackupUtils").convertJSTypesToLSTypesForRestoreJob(n);await d("LSProtobufRestoreHandler").handleProtobufRestoreHelper(i,{decryptedMessagesProtobufs:n,type:"decryptedMessagesProtobufs"},b,e,f,g,h,j,k,"",a,l,m);return Promise.resolve([!0,c("LSVec").ofArray([]),c("LSVec").ofArray([])])}g.handleEchoBlobsRestore=a}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDatabaseSingleton","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}function a(a){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return b.runInTransaction(function(b){return j(b,a)},"readwrite",void 0,void 0,f.id+":43")})}g.call=j;g.callWithoutTxn=a}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWBridgeTraceRecordCheckpointHandler","MAWJobDefinitions","MAWJobManager","WAJobOrchestratorTypes","err","ifRequireable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,b,e,f,g,h,i,l,m,n,o,p,q,r,s,t){s===void 0&&(s=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);try{return k(b,e,q,f,g,i,m,n,o,r==null?void 0:r,void 0,s,t)}catch(b){if(n!=null){h={checkPointId:(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:n,errorMessage:b,shouldFlush:!0,syncChannel:-1,tags:void 0};if(a!=null)return d("MAWBridgeTraceRecordCheckpointHandler").call(a,h).then(function(){return Promise.reject(b)});void d("MAWBridgeTraceRecordCheckpointHandler").callWithoutTxn(h);return Promise.reject(b)}}return Promise.resolve()}function k(a,b,e,f,g,k,l,m,n,o,p,q,r){q===void 0&&(q=d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);var s;if((h||(h=c("ExecutionEnvironment"))).isInWorker)s=d("MAWJobManager").getJobManager();else{var t;c("ifRequireable")("MAWTimedJob",function(a){a=a.TimedUIJobStarters;t=a},function(){throw c("err")("MAWTimedJob is not requireable in MAWRestoreProtobufsFromEncryptedBackupsNOP")});s=c("nullthrows")(t,"ifRequireable is not sync")}if(m!=null&&o!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(o)===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION&&!(h||(h=c("ExecutionEnvironment"))).isInWorker)return s.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:q},o,p,void 0,r!=null?r:void 0));return(j||(j=d("LSIntEnum"))).unwrapIntEnum(o||(i||(i=d("I64"))).zero)===c("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&!(h||(h=c("ExecutionEnvironment"))).isInWorker?s.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},o,p,void 0,r!=null?r:void 0)):Promise.resolve(s.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,g,k,l,void 0,m!=null?m:void 0,n!=null?n:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},o,p,void 0,r!=null?r:void 0)))}g.call=a}),98);/*FB_PKG_DELIM*/
__d("EBMinosLogger",["WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=d("WATagsLogger").TAGS(["minos"]);g.minosLogger=a}),98);
__d("EBGetMinosWasm",["WAWasmModuleCache","bx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("31853"));a=function(){return d("WAWasmModuleCache").loadWasmModule(h)};g.getMinosWasm=a}),98);
__d("EBMinosWasm.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},Y={},Z={};a.name="MinosMessageMetadata";a.internalSpec={mekId:[1,(d=d("WAProtoConst")).FLAGS.REQUIRED|d.TYPES.BYTES],timestamp:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],messageId:[3,d.FLAGS.REQUIRED|d.TYPES.STRING],threadId:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};b.name="MinosEncryptAndSignMessageInput";b.internalSpec={transportSigningSk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mek:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],plaintext:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],metadata:[4,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,a]};c.name="MinosEncryptAndSignMessageResult";c.internalSpec={ciphertext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};e.name="MinosDecryptAndVerifyMessageInput";e.internalSpec={transportSigningPk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mek:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],encryptedMessageCiphertext:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],encryptedMessageSignature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],metadata:[5,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,a]};f.name="MinosDecryptAndVerifyMessageResult";f.internalSpec={plaintext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};h.name="MekBundle";h.internalSpec={key:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mekId:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};i.name="GenerateMekInput";i.internalSpec={epochHeads:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};j.name="GenerateMekResult";j.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h]};k.name="GenerateMekRosterHashInput";k.internalSpec={epochHeads:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};l.name="GenerateMekRosterHashResult";l.internalSpec={rosterHash:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};m.name="EncryptMekForDistributionInput";m.internalSpec={senderEpochHead:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],toMailboxPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],fromKeypair:[3,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,n],mek:[4,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h]};n.name="EncryptMekForDistributionInput$MailboxAuthKP";n.internalSpec={sk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],pk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};o.name="EncryptMekForDistributionResult";o.internalSpec={ciphertext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};p.name="DecryptMekForDistributionInput";p.internalSpec={toMailboxSk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],fromPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],mekId:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],senderEpochHead:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],ciphertext:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES]};q.name="DecryptMekForDistributionResult";q.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};r.name="EncryptMeksForDistributionFromTransportSenderInput";r.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h],transportSigningKp:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,s],recipientMailboxEncryptionPks:[3,d.FLAGS.REPEATED|d.TYPES.BYTES],recipientEpochHeads:[4,d.FLAGS.REPEATED|d.TYPES.BYTES]};s.name="EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKP";s.internalSpec={sk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],pk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};t.name="EncryptMeksForDistributionFromTransportSenderResult";t.internalSpec={encryptedMeks:[1,d.FLAGS.REPEATED|d.TYPES.BYTES],ephemeralEncryptionPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],signingPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};u.name="DecryptMekForDistributionFromTransportSenderInput";u.internalSpec={mekDistribution:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,v],mekId:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],recipientEncSk:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};v.name="DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipient";v.internalSpec={encryptedMek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],ephemeralEncryptionPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],signingPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};w.name="DecryptMekForDistributionFromTransportSenderResult";w.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};x.name="WrapTransportSigningPublicKeyInput";x.internalSpec={keyBytes:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};y.name="WrapTransportSigningPublicKeyResult";y.internalSpec={prefixedKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};z.name="WrapTransportSigningSecretKeyInput";z.internalSpec={keyBytes:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};A.name="WrapTransportSigningSecretKeyResult";A.internalSpec={prefixedKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};B.name="DeriveMailboxSigningKeypairInput";B.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};C.name="DeriveMailboxSigningKeypairResult";C.internalSpec={mailboxSigningPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxSigningPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};D.name="DeriveMailboxEncryptionKeypairInput";D.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};E.name="DeriveMailboxEncryptionKeypairResult";E.internalSpec={mailboxEncryptionPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxEncryptionPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};F.name="DeriveMailboxAuthKeypairInput";F.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};G.name="DeriveMailboxAuthKeypairResult";G.internalSpec={mailboxAuthPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxAuthPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};H.name="DeriveAttachmentAccessTokenSecretInput";H.internalSpec={mediaKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};I.name="DeriveAttachmentAccessTokenSecretResult";I.internalSpec={attachmentAccessTokenSecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};J.name="DeriveAttachmentPrimaryKeySecretInput";J.internalSpec={mediaKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};K.name="DeriveAttachmentPrimaryKeySecretResult";K.internalSpec={attachmentPrimaryKeySecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};L.name="EpochPublicData";L.internalSpec={epochNumber:[1,d.FLAGS.REQUIRED|d.TYPES.UINT64],userFbid:[2,d.FLAGS.REQUIRED|d.TYPES.STRING],mailboxSigningPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxEncryptionPk:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxAuthPk:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousEpochHead:[6,d.TYPES.BYTES]};M.name="EpochSignatures";M.internalSpec={selfSignature:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],prevSignature:[2,d.TYPES.BYTES]};N.name="MinosSignedEpoch";N.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signatures:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,M],epochHead:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};O.name="MinosOpenInitialEpochInput";O.internalSpec={userFbid:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],exportRootKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};P.name="MinosOpenInitialEpochResult";P.internalSpec={minosSignedEpoch:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,N]};Q.name="MinosOpenEpochInput";Q.internalSpec={userFbid:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],exportRootKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousExportRootKey:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousEpochNumber:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64],previousEpochHead:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES]};R.name="MinosOpenEpochResult";R.internalSpec={minosSignedEpoch:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,N]};S.name="MinosValidateEpochInput";S.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],previousEpochPublicData:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signatures:[3,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,M]};T.name="MinosValidateEpochResult";T.internalSpec={valid:[1,d.TYPES.BOOL],errorMessage:[2,d.TYPES.STRING],__oneofs__:{result:["valid","errorMessage"]}};U.name="MinosVerifySingleEpochInput";U.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};V.name="MinosVerifySingleEpochResult";V.internalSpec={valid:[1,d.FLAGS.REQUIRED|d.TYPES.BOOL]};W.name="MinosThreadIdFromOneToOneThreadInput";W.internalSpec={actThreadId:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],selfFbid:[2,d.FLAGS.REQUIRED|d.TYPES.STRING]};X.name="MinosThreadIdFromOneToOneThreadResult";X.internalSpec={threadId:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};Y.name="MinosThreadIdFromActThreadIdInput";Y.internalSpec={actThreadId:[1,d.FLAGS.REQUIRED|d.TYPES.STRING]};Z.name="MinosThreadIdFromActThreadIdResult";Z.internalSpec={threadId:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};g.MinosMessageMetadataSpec=a;g.MinosEncryptAndSignMessageInputSpec=b;g.MinosEncryptAndSignMessageResultSpec=c;g.MinosDecryptAndVerifyMessageInputSpec=e;g.MinosDecryptAndVerifyMessageResultSpec=f;g.MekBundleSpec=h;g.GenerateMekInputSpec=i;g.GenerateMekResultSpec=j;g.GenerateMekRosterHashInputSpec=k;g.GenerateMekRosterHashResultSpec=l;g.EncryptMekForDistributionInputSpec=m;g.EncryptMekForDistributionInput$MailboxAuthKPSpec=n;g.EncryptMekForDistributionResultSpec=o;g.DecryptMekForDistributionInputSpec=p;g.DecryptMekForDistributionResultSpec=q;g.EncryptMeksForDistributionFromTransportSenderInputSpec=r;g.EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKPSpec=s;g.EncryptMeksForDistributionFromTransportSenderResultSpec=t;g.DecryptMekForDistributionFromTransportSenderInputSpec=u;g.DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipientSpec=v;g.DecryptMekForDistributionFromTransportSenderResultSpec=w;g.WrapTransportSigningPublicKeyInputSpec=x;g.WrapTransportSigningPublicKeyResultSpec=y;g.WrapTransportSigningSecretKeyInputSpec=z;g.WrapTransportSigningSecretKeyResultSpec=A;g.DeriveMailboxSigningKeypairInputSpec=B;g.DeriveMailboxSigningKeypairResultSpec=C;g.DeriveMailboxEncryptionKeypairInputSpec=D;g.DeriveMailboxEncryptionKeypairResultSpec=E;g.DeriveMailboxAuthKeypairInputSpec=F;g.DeriveMailboxAuthKeypairResultSpec=G;g.DeriveAttachmentAccessTokenSecretInputSpec=H;g.DeriveAttachmentAccessTokenSecretResultSpec=I;g.DeriveAttachmentPrimaryKeySecretInputSpec=J;g.DeriveAttachmentPrimaryKeySecretResultSpec=K;g.EpochPublicDataSpec=L;g.EpochSignaturesSpec=M;g.MinosSignedEpochSpec=N;g.MinosOpenInitialEpochInputSpec=O;g.MinosOpenInitialEpochResultSpec=P;g.MinosOpenEpochInputSpec=Q;g.MinosOpenEpochResultSpec=R;g.MinosValidateEpochInputSpec=S;g.MinosValidateEpochResultSpec=T;g.MinosVerifySingleEpochInputSpec=U;g.MinosVerifySingleEpochResultSpec=V;g.MinosThreadIdFromOneToOneThreadInputSpec=W;g.MinosThreadIdFromOneToOneThreadResultSpec=X;g.MinosThreadIdFromActThreadIdInputSpec=Y;g.MinosThreadIdFromActThreadIdResultSpec=Z}),98);
__d("WASIContext",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b;this.fs=(b=a==null?void 0:a.fs)!=null?b:{};this.args=(b=a==null?void 0:a.args)!=null?b:[];this.env=(b=a==null?void 0:a.env)!=null?b:{};this.stdin=(b=a==null?void 0:a.stdin)!=null?b:function(){return null};this.stdout=(b=a==null?void 0:a.stdout)!=null?b:function(){};this.stderr=(b=a==null?void 0:a.stderr)!=null?b:function(){};this.debug=a==null?void 0:a.debug;this.isTTY=!!(a!=null&&a.isTTY)};f.WASIContext=a}),66);
__d("WASISnapshotPreview1",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SUCCESS:0,E2BIG:1,EACCESS:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EAGAIN:6,EALREADY:7,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTSUP:58,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75,ENOTCAPABLE:76});d=(c=b("$InternalEnum"))({REALTIME:0,MONOTONIC:1,PROCESS_CPUTIME_ID:2,THREAD_CPUTIME_ID:3});e=c({SET:0,CUR:1,END:2});b=c({UNKNOWN:0,BLOCK_DEVICE:1,CHARACTER_DEVICE:2,DIRECTORY:3,REGULAR_FILE:4,SOCKET_DGRAM:5,SOCKET_STREAM:6,SYMBOLIC_LINK:7});var g=c({DIR:0});c=c({CLOCK:0,FD_READ:1,FD_WRITE:2});var h={SYMLINK_FOLLOW:1<<0},i={CREAT:1<<0,DIRECTORY:1<<1,EXCL:1<<2,TRUNC:1<<3},j={APPEND:1<<0,DSYNC:1<<1,NONBLOCK:1<<2,RSYNC:1<<3,SYNC:1<<4},k={FD_DATASYNC:BigInt(1)<<BigInt(0),FD_READ:BigInt(1)<<BigInt(1),FD_SEEK:BigInt(1)<<BigInt(2),FD_FDSTAT_SET_FLAGS:BigInt(1)<<BigInt(3),FD_SYNC:BigInt(1)<<BigInt(4),FD_TELL:BigInt(1)<<BigInt(5),FD_WRITE:BigInt(1)<<BigInt(6),FD_ADVISE:BigInt(1)<<BigInt(7),FD_ALLOCATE:BigInt(1)<<BigInt(8),PATH_CREATE_DIRECTORY:BigInt(1)<<BigInt(9),PATH_CREATE_FILE:BigInt(1)<<BigInt(10),PATH_LINK_SOURCE:BigInt(1)<<BigInt(11),PATH_LINK_TARGET:BigInt(1)<<BigInt(12),PATH_OPEN:BigInt(1)<<BigInt(13),FD_READDIR:BigInt(1)<<BigInt(14),PATH_READLINK:BigInt(1)<<BigInt(15),PATH_RENAME_SOURCE:BigInt(1)<<BigInt(16),PATH_RENAME_TARGET:BigInt(1)<<BigInt(17),PATH_FILESTAT_GET:BigInt(1)<<BigInt(18),PATH_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(19),PATH_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(20),FD_FILESTAT_GET:BigInt(1)<<BigInt(21),FD_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(22),FD_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(23),PATH_SYMLINK:BigInt(1)<<BigInt(24),PATH_REMOVE_DIRECTORY:BigInt(1)<<BigInt(25),PATH_UNLINK_FILE:BigInt(1)<<BigInt(26),POLL_FD_READWRITE:BigInt(1)<<BigInt(27),SOCK_SHUTDOWN:BigInt(1)<<BigInt(28),SOCK_ACCEPT:BigInt(1)<<BigInt(29)},l={ATIM:1<<0,ATIM_NOW:1<<1,MTIM:1<<2,MTIM_NOW:1<<3},m={SUBSCRIPTION_CLOCK_ABSTIME:1<<0},n={FD_READWRITE_HANGUP:1<<0},o=64,p=48,q=32;f.RESULT=a;f.Clock=d;f.Whence=e;f.FileType=b;f.PreopenType=g;f.EventType=c;f.LookupFlags=h;f.OpenFlags=i;f.FileDescriptorFlags=j;f.RightsFlags=k;f.FileStatTimestampFlags=l;f.SubscriptionClockFlags=m;f.EventReadWriteFlags=n;f.FILESTAT_SIZE=o;f.SUBSCRIPTION_SIZE=p;f.EVENT_SIZE=q}),66);
__d("WATextEncoding",[],(function(a,b,c,d,e,f){"use strict";e=TextEncoder;var g=TextDecoder,h=e,i=g;function a(){return new h()}function b(){return new i()}function c(a){h=a}function d(a){i=a}f.newTextEncoder=a;f.newTextDecoder=b;f.setTextEncoderClass=c;f.setTextDecoderClass=d}),66);
__d("WASIDrive",["WASISnapshotPreview1","WATextEncoding"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.nextFD=10,this.openMap=new Map(),this.fs=babelHelpers["extends"]({},a),this.openMap.set(3,new j(this.fs,"/"))}var b=a.prototype;b.$1=function(a,b,c){a=new h(a,c);b&&(a.buffer=new Uint8Array(new ArrayBuffer(1024),0,0));c=this.nextFD;this.openMap.set(c,a);this.nextFD++;return[d("WASISnapshotPreview1").RESULT.SUCCESS,c]};b.$2=function(a,b){a=new j(a,b);b=this.nextFD;this.openMap.set(b,a);this.nextFD++;return[d("WASISnapshotPreview1").RESULT.SUCCESS,b]};b.$3=function(a,b){return b==="."?!0:a.containsDirectory(b)};b.open=function(a,b,c,e){var f,g=!!(c&(f=d("WASISnapshotPreview1")).OpenFlags.CREAT),h=!!(c&f.OpenFlags.DIRECTORY),i=!!(c&f.OpenFlags.EXCL);c=!!(c&f.OpenFlags.TRUNC);f=this.openMap.get(a);if(!(f instanceof j))return[d("WASISnapshotPreview1").RESULT.EBADF];if(f.containsFile(b)){if(h)return[d("WASISnapshotPreview1").RESULT.ENOTDIR];if(i)return[d("WASISnapshotPreview1").RESULT.EEXIST];a=f.get(b);return this.$1(a,c,e)}else if(this.$3(f,b)){if(b===".")return this.$2(this.fs,"/");var k="/"+b+"/";h=Object.entries(this.fs).filter(function(a){a=a[0];return a.startsWith(k)});return this.$2(Object.fromEntries(h),k)}else{if(g){i=f.fullPath(b);this.fs[i]={path:i,mode:"binary",content:new Uint8Array(0),timestamps:{access:new Date(),modification:new Date(),change:new Date()}};return this.$1(this.fs[i],c,e)}return[d("WASISnapshotPreview1").RESULT.ENOTCAPABLE]}};b.close=function(a){if(!this.openMap.has(a))return d("WASISnapshotPreview1").RESULT.EBADF;var b=this.openMap.get(a);b instanceof h&&b.sync();this.openMap["delete"](a);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.read=function(a,b){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.read(b)]};b.pread=function(a,b,c){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.pread(b,c)]};b.write=function(a,b){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.write(b);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pwrite=function(a,b,c){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.pwrite(b,c);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.sync=function(a){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.seek=function(a,b,c){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.seek(b,c)]};b.tell=function(a){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.tell()]};b.renumber=function(a,b){if(!this.exists(a)||!this.exists(b))return d("WASISnapshotPreview1").RESULT.EBADF;if(a===b)return d("WASISnapshotPreview1").RESULT.SUCCESS;this.close(b);a=this.openMap.get(a);this.openMap.set(b,a);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.unlink=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(!a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOENT;for(var c of Object.keys(this.fs))(c===a.fullPath(b)||c.startsWith(a.fullPath(b)+"/"))&&delete this.fs[c];return d("WASISnapshotPreview1").RESULT.SUCCESS};b.rename=function(a,b,c,e){a=this.openMap.get(a);c=this.openMap.get(c);if(!(a instanceof j)||!(c instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(!a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOENT;if(c.contains(e))return d("WASISnapshotPreview1").RESULT.EEXIST;a=a.fullPath(b);b=c.fullPath(e);for(c of Object.keys(this.fs))if(c.startsWith(a)){e=c.replace(a,b);this.fs[e]=this.fs[c];this.fs[e].path=e;delete this.fs[c]}return d("WASISnapshotPreview1").RESULT.SUCCESS};b.list=function(a){a=this.openMap.get(a);return!(a instanceof j)?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.list()]};b.stat=function(a){a=this.openMap.get(a);return!(a instanceof h)?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.stat()]};b.pathStat=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return[d("WASISnapshotPreview1").RESULT.EBADF];if(a.containsFile(b)){var c=a.fullPath(b);c=new h(this.fs[c],0).stat();return[d("WASISnapshotPreview1").RESULT.SUCCESS,c]}else if(this.$3(a,b)){if(b===".")return[d("WASISnapshotPreview1").RESULT.SUCCESS,new j(this.fs,"/").stat()];var e="/"+b+"/";c=Object.entries(this.fs).filter(function(a){a=a[0];return a.startsWith(e)});a=new j(Object.fromEntries(c),e).stat();return[d("WASISnapshotPreview1").RESULT.SUCCESS,a]}else return[d("WASISnapshotPreview1").RESULT.ENOTCAPABLE]};b.setFlags=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setFlags(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setSize=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setSize(Number(b));return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setAccessTime=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setAccessTime(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setModificationTime=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setModificationTime(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.pathSetAccessTime=function(a,b,c){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;a=a.get(b);if(a==null)return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;b=new h(a,0);b.setAccessTime(c);b.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pathSetModificationTime=function(a,b,c){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;a=a.get(b);if(a==null)return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;b=new h(a,0);b.setModificationTime(c);b.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pathCreateDir=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;a=a.fullPath(b)+"/.runno";this.fs[a]={path:a,timestamps:{access:new Date(),modification:new Date(),change:new Date()},mode:"string",content:""};return d("WASISnapshotPreview1").RESULT.SUCCESS};b.exists=function(a){return this.openMap.has(a)};b.fileType=function(a){a=this.openMap.get(a);if(!a)return d("WASISnapshotPreview1").FileType.UNKNOWN;else if(a instanceof h)return d("WASISnapshotPreview1").FileType.REGULAR_FILE;else return d("WASISnapshotPreview1").FileType.DIRECTORY};b.fileFdflags=function(a){a=this.openMap.get(a);if(a instanceof h)return a.fdflags;else return 0};return a}();var h=function(){function a(a,b){this.$1=BigInt(0);this.isDirty=!1;this.file=a;if(this.file.mode==="string"){a=this.file.content;var c=d("WATextEncoding").newTextEncoder();this.buffer=c.encode(a)}else this.buffer=this.file.content;this.fdflags=b;this.flagAppend=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.APPEND);this.flagDSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.DSYNC);this.flagNonBlock=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.NONBLOCK);this.flagRSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.RSYNC);this.flagSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.SYNC)}var b=a.prototype;b.getOffset=function(){return Number(this.$1)};b.read=function(a){a=this.buffer.subarray(this.getOffset(),this.getOffset()+a);this.$1+=BigInt(a.length);return a};b.pread=function(a,b){return this.buffer.subarray(b,b+a)};b.write=function(a){this.isDirty=!0;if(this.flagAppend){var b=this.buffer.length;this.$2(b+a.byteLength);this.buffer.set(a,b)}else{b=Math.max(this.getOffset()+a.byteLength,this.buffer.byteLength);this.$2(b);this.buffer.set(a,this.getOffset());this.$1+=BigInt(a.byteLength)}(this.flagDSync||this.flagSync)&&this.sync()};b.pwrite=function(a,b){this.isDirty=!0;if(this.flagAppend){var c=this.buffer.length;this.$2(c+a.byteLength);this.buffer.set(a,c)}else{c=Math.max(b+a.byteLength,this.buffer.byteLength);this.$2(c);this.buffer.set(a,b)}(this.flagDSync||this.flagSync)&&this.sync()};b.sync=function(){if(!this.isDirty)return;this.isDirty=!1;if(this.file.mode==="binary"){this.file.content=new Uint8Array(this.buffer);return}var a=d("WATextEncoding").newTextDecoder();this.file.content=a.decode(this.buffer);return};b.seek=function(a,b){switch(b){case d("WASISnapshotPreview1").Whence.SET:this.$1=a;break;case d("WASISnapshotPreview1").Whence.CUR:this.$1+=a;break;case d("WASISnapshotPreview1").Whence.END:this.$1=BigInt(this.buffer.length)+a;break}return this.$1};b.tell=function(){return this.$1};b.stat=function(){return{path:this.file.path,timestamps:this.file.timestamps,type:d("WASISnapshotPreview1").FileType.REGULAR_FILE,byteLength:this.buffer.length}};b.setFlags=function(a){this.fdflags=a};b.setSize=function(a){this.$2(a)};b.setAccessTime=function(a){this.file.timestamps.access=a};b.setModificationTime=function(a){this.file.timestamps.modification=a};b.$2=function(a){if(a<=this.buffer.buffer.byteLength){this.buffer=new Uint8Array(this.buffer.buffer,0,a);return}var b;this.buffer.buffer.byteLength===0?b=new ArrayBuffer(a<1024?1024:a*2):a>this.buffer.buffer.byteLength*2?b=new ArrayBuffer(a*2):b=new ArrayBuffer(this.buffer.buffer.byteLength*2);b=new Uint8Array(b,0,a);b.set(this.buffer);this.buffer=b};return a}();function i(a,b){b=b.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");b=new RegExp("^"+b);return a.replace(b,"")}var j=function(){function a(a,b){this.dir=a,this.prefix=b}var b=a.prototype;b.containsFile=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c===a)return!0}return!1};b.containsDirectory=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c.startsWith(a+"/"))return!0}return!1};b.contains=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c===a||c.startsWith(a+"/"))return!0}return!1};b.get=function(a){return this.dir[this.fullPath(a)]};b.fullPath=function(a){return""+this.prefix+a};b.list=function(){var a=[],b=new Set();for(var c of Object.keys(this.dir)){var e=i(c,this.prefix);if(e.includes("/")){var f=e.split("/")[0];if(b.has(f))continue;b.add(f);a.push({name:f,type:d("WASISnapshotPreview1").FileType.DIRECTORY})}else a.push({name:e,type:d("WASISnapshotPreview1").FileType.REGULAR_FILE})}return a};b.stat=function(){return{path:this.prefix,timestamps:{access:new Date(),modification:new Date(),change:new Date()},type:d("WASISnapshotPreview1").FileType.DIRECTORY,byteLength:0}};return a}();g.WASIDrive=a}),98);
__d("WASI",["WACryptoDependencies","WASIContext","WASIDrive","WASISnapshotPreview1","WATextEncoding","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=new(d("WASIContext").WASIContext)(a),f=new(d("WASIDrive").WASIDrive)(e.fs);function g(){return Object.entries(e.env).map(function(a){var b=a[0];a=a[1];return b+"="+a})}var o={args_get:function(a,c){a=a;c=c;var f=new DataView(b.buffer);for(var g of e.args){f.setUint32(a,c,!0);a+=4;var h=d("WATextEncoding").newTextEncoder().encode(g+"\0"),i=new Uint8Array(b.buffer,c,h.byteLength);i.set(h);c+=h.byteLength}return d("WASISnapshotPreview1").RESULT.SUCCESS},args_sizes_get:function(a,c){var f=e.args,g=f.reduce(function(a,b){return a+d("WATextEncoding").newTextEncoder().encode(b+"\0").byteLength},0),h=new DataView(b.buffer);h.setUint32(a,f.length,!0);h.setUint32(c,g,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},clock_res_get:function(){throw c("err")("clock_res_get is not implemented")},clock_time_get:function(a,c,e){c=d("WASISnapshotPreview1").Clock.cast(a);if(c==null)return d("WASISnapshotPreview1").RESULT.EINVAL;switch(c){case d("WASISnapshotPreview1").Clock.REALTIME:case d("WASISnapshotPreview1").Clock.MONOTONIC:case d("WASISnapshotPreview1").Clock.PROCESS_CPUTIME_ID:case d("WASISnapshotPreview1").Clock.THREAD_CPUTIME_ID:a=new DataView(b.buffer);a.setBigUint64(e,n(new Date()),!0);return d("WASISnapshotPreview1").RESULT.SUCCESS}},environ_get:function(a,c){a=a;c=c;var e=new DataView(b.buffer);for(var f of g()){e.setUint32(a,c,!0);a+=4;var h=d("WATextEncoding").newTextEncoder().encode(f+"\0"),i=new Uint8Array(b.buffer,c,h.byteLength);i.set(h);c+=h.byteLength}return d("WASISnapshotPreview1").RESULT.SUCCESS},environ_sizes_get:function(a,c){var e=g().reduce(function(a,b){return a+d("WATextEncoding").newTextEncoder().encode(b+"\0").byteLength},0),f=new DataView(b.buffer);f.setUint32(a,g().length,!0);f.setUint32(c,e,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_advise:function(){throw c("err")("fd_advise is not implemented")},fd_allocate:function(){throw c("err")("fd_allocate is not implemented")},fd_close:function(a){return f.close(a)},fd_datasync:function(){throw c("err")("fd_datasync is not implemented")},fd_fdstat_get:function(a,c){if(a<3){if(e.isTTY){var g=i^d("WASISnapshotPreview1").RightsFlags.FD_SEEK^d("WASISnapshotPreview1").RightsFlags.FD_TELL;g=l(d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0,g)}else g=l(d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0);var h=new Uint8Array(b.buffer,c,g.byteLength);h.set(g);return d("WASISnapshotPreview1").RESULT.SUCCESS}if(!f.exists(a))return d("WASISnapshotPreview1").RESULT.EBADF;h=f.fileType(a);g=f.fileFdflags(a);a=l(h,g);h=new Uint8Array(b.buffer,c,a.byteLength);h.set(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_fdstat_set_flags:function(a,b){return f.setFlags(a,b)},fd_fdstat_set_rights:function(){return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_get:function(a,c){if(a<3){var e;switch(a){case 0:e="/dev/stdin";break;case 1:e="/dev/stdout";break;case 2:e="/dev/stderr";break;default:e="/dev/undefined";break}var g=k({path:e,byteLength:0,timestamps:{access:new Date(),modification:new Date(),change:new Date()},type:d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE}),h=new Uint8Array(b.buffer,c,g.byteLength);h.set(g);return d("WASISnapshotPreview1").RESULT.SUCCESS}h=f.stat(a);if(h.length===1)return h[0];g=h[1];a=k(g);h=new Uint8Array(b.buffer,c,a.byteLength);h.set(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_set_size:function(){throw c("err")("fd_filestat_set_size is not implemented")},fd_filestat_set_times:function(){throw c("err")("fd_filestat_set_times is not implemented")},fd_pread:function(){throw c("err")("fd_pread is not implemented")},fd_prestat_dir_name:function(a,c,e){if(a!==3)return d("WASISnapshotPreview1").RESULT.EBADF;a=d("WATextEncoding").newTextEncoder().encode("/");c=new Uint8Array(b.buffer,c,e);c.set(a.subarray(0,e));return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_prestat_get:function(a,c){if(a!==3)return d("WASISnapshotPreview1").RESULT.EBADF;a=d("WATextEncoding").newTextEncoder().encode(".");c=new DataView(b.buffer,c);c.setUint8(0,d("WASISnapshotPreview1").PreopenType.DIR);c.setUint32(4,a.byteLength,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_pwrite:function(){throw c("err")("fd_pwrite is not implemented")},fd_read:function(a,c,g,h){if(a===1||a===2)return d("WASISnapshotPreview1").RESULT.ENOTSUP;var i=new DataView(b.buffer);c=j(i,c,g);g=d("WATextEncoding").newTextEncoder();var k=0,l=d("WASISnapshotPreview1").RESULT.SUCCESS;for(c of c){var m=void 0;if(a===0){var n=e.stdin(c.byteLength);if(n==null)break;m=g.encode(n)}else{n=f.read(a,c.byteLength);if(n.length===1){l=n[0];break}else m=n[1]}n=Math.min(c.byteLength,m.byteLength);c.set(m.subarray(0,n));k+=n}i.setUint32(h,k,!0);return l},fd_readdir:function(){throw c("err")("fd_readdir is not implemented")},fd_renumber:function(){throw c("err")("fd_renumber is not implemented")},fd_seek:function(a,e,g,h){g=d("WASISnapshotPreview1").Whence.cast(g);if(g==null)throw c("err")("fd_seek: invalid whence");a=f.seek(a,e,g);if(a.length===1)return a[0];e=a[0];g=a[1];a=new DataView(b.buffer);a.setBigUint64(h,g,!0);return e},fd_sync:function(){throw c("err")("fd_sync is not implemented")},fd_tell:function(a,c){a=f.tell(a);if(a.length===1)return a[0];var d=a[0];a=a[1];var e=new DataView(b.buffer);e.setBigUint64(c,a,!0);return d},fd_write:function(a,c,g,h){if(a===0)return d("WASISnapshotPreview1").RESULT.ENOTSUP;var i=new DataView(b.buffer);c=j(i,c,g);g=d("WATextEncoding").newTextDecoder();var k=0,l=d("WASISnapshotPreview1").RESULT.SUCCESS;for(c of c){if(c.byteLength===0)continue;if(a===1||a===2){var m=a===1?e.stdout:e.stderr,n=g.decode(c);m(n)}else{l=f.write(a,c);if(l!==d("WASISnapshotPreview1").RESULT.SUCCESS)break}k+=c.byteLength}i.setUint32(h,k,!0);return l},path_create_directory:function(){throw c("err")("path_create_directory is not implemented")},path_filestat_get:function(){throw c("err")("path_filestat_get is not implemented")},path_filestat_set_times:function(){throw c("err")("path_filestat_set_times is not implemented")},path_link:function(){throw c("err")("path_link is not implemented")},path_open:function(a,c,d,e,g,h,i,j,k){c=new DataView(b.buffer);h=m(b,d,e);i=f.open(a,h,g,j);if(i.length===1)return i[0];d=i[0];e=i[1];c.setUint32(k,e,!0);return d},path_readlink:function(){throw c("err")("path_readlink is not implemented")},path_remove_directory:function(){throw c("err")("path_remove_directory is not implemented")},path_rename:function(){throw c("err")("path_rename is not implemented")},path_symlink:function(){throw c("err")("path_symlink is not implemented")},path_unlink_file:function(){throw c("err")("path_unlink_file is not implemented")},poll_oneoff:function(){throw c("err")("poll_oneoff is not implemented")},proc_exit:function(a){throw new h(a)},proc_raise:function(){throw c("err")("proc_raise is not implemented")},random_get:function(a,c){a=new Uint8Array(b.buffer,a,c);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},sched_yield:function(){throw c("err")("sched_yield is not implemented")},sock_accept:function(){throw c("err")("sock_accept is not implemented")},sock_recv:function(){throw c("err")("sock_recv is not implemented")},sock_send:function(){throw c("err")("sock_send is not implemented")},sock_shutdown:function(){throw c("err")("sock_shutdown is not implemented")}};return{getImportObject:function(){return{wasi_snapshot_preview1:o}},start:function(a){var d=a.exports.memory;if(d instanceof WebAssembly.Memory)b=d;else throw c("err")("Expected memory object");d=a.exports._start;try{d()}catch(a){if(a instanceof h)return{exitCode:a.code,fs:f.fs};else if(a instanceof WebAssembly.RuntimeError)return{exitCode:134,fs:f.fs};else throw a}return{exitCode:0,fs:f.fs}}}}var h=function(b){function a(a){var c;c=b.call(this)||this;c.code=a;return c}babelHelpers.inheritsLoose(a,b);return a}(babelHelpers.wrapNativeSuper(Error)),i=(b=d("WASISnapshotPreview1")).RightsFlags.FD_DATASYNC|b.RightsFlags.FD_READ|b.RightsFlags.FD_SEEK|b.RightsFlags.FD_FDSTAT_SET_FLAGS|b.RightsFlags.FD_SYNC|b.RightsFlags.FD_TELL|b.RightsFlags.FD_WRITE|b.RightsFlags.FD_ADVISE|b.RightsFlags.FD_ALLOCATE|b.RightsFlags.PATH_CREATE_DIRECTORY|b.RightsFlags.PATH_CREATE_FILE|b.RightsFlags.PATH_LINK_SOURCE|b.RightsFlags.PATH_LINK_TARGET|b.RightsFlags.PATH_OPEN|b.RightsFlags.FD_READDIR|b.RightsFlags.PATH_READLINK|b.RightsFlags.PATH_RENAME_SOURCE|b.RightsFlags.PATH_RENAME_TARGET|b.RightsFlags.PATH_FILESTAT_GET|b.RightsFlags.PATH_FILESTAT_SET_SIZE|b.RightsFlags.PATH_FILESTAT_SET_TIMES|b.RightsFlags.FD_FILESTAT_GET|b.RightsFlags.FD_FILESTAT_SET_SIZE|b.RightsFlags.FD_FILESTAT_SET_TIMES|b.RightsFlags.PATH_SYMLINK|b.RightsFlags.PATH_REMOVE_DIRECTORY|b.RightsFlags.PATH_UNLINK_FILE|b.RightsFlags.POLL_FD_READWRITE|b.RightsFlags.SOCK_SHUTDOWN|b.RightsFlags.SOCK_ACCEPT;function j(a,b,c){var d=new Array(c);b=b;for(var e=0;e<c;e++){var f=a.getUint32(b,!0);b+=4;var g=a.getUint32(b,!0);b+=4;d[e]=new Uint8Array(a.buffer,f,g)}return d}function k(a){var b=new Uint8Array(d("WASISnapshotPreview1").FILESTAT_SIZE),c=new DataView(b.buffer);c.setBigUint64(0,BigInt(0),!0);c.setBigUint64(8,BigInt(o(a.path)),!0);c.setUint8(16,a.type);c.setBigUint64(24,BigInt(1),!0);c.setBigUint64(32,BigInt(a.byteLength),!0);c.setBigUint64(40,n(a.timestamps.access),!0);c.setBigUint64(48,n(a.timestamps.modification),!0);c.setBigUint64(56,n(a.timestamps.change),!0);return b}function l(a,b,c){var d=c!=null?c:i;c=c!=null?c:i;var e=new Uint8Array(24),f=new DataView(e.buffer,0,24);f.setUint8(0,a);f.setUint32(2,b,!0);f.setBigUint64(8,d,!0);f.setBigUint64(16,c,!0);return e}function m(a,b,c){return d("WATextEncoding").newTextDecoder().decode(new Uint8Array(a.buffer,b,c))}function n(a){return BigInt(a.getTime())*BigInt(1e6)}function o(a,b){b===void 0&&(b=0);var c=3735928559^b;b=1103547991^b;for(var d=0,e;d<a.length;d++)e=a.charCodeAt(d),c=Math.imul(c^e,2654435761),b=Math.imul(b^e,1597334677);c=Math.imul(c^c>>>16,2246822507)^Math.imul(b^b>>>13,3266489909);b=Math.imul(b^b>>>16,2246822507)^Math.imul(c^c>>>13,3266489909);return 4294967296*(2097151&b)+(c>>>0)}g.createWasi=a}),98);
__d("WACreateWasmFunction",["WAErrorMessage","WAResultOrError","WASI","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m="input",n="output",o="/"+m,p="/"+n;function q(a){var b=a.command,c=a.input,d=a.stderr,e=a.stdout;a=a.cli;var f=new Date();return{args:[a,b,"-i="+m,"-o="+n],fs:(a={},a[o]={content:new Uint8Array(c),mode:"binary",path:o,timestamps:{access:f,change:f,modification:f}},a),stderr:d,stdout:e}}function a(a){var b=a.InputSpec,c=a.ResultSpec,e=a.command,f=a.getWasmModule,g=a.logger,m=a.validateResult,n=a.cli,o=g.TAGS(["WasmFunc"]),r=function(a){o.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)},s=function(a){o.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)};return async function(a){try{a=d("encodeProtobuf").encodeProtobuf(b,a).readBuffer();a=d("WASI").createWasi(q({cli:n,command:e,input:a,stderr:r,stdout:s}));var g=a.getImportObject;a=a.start;var h=await f();h=await WebAssembly.instantiate(h,g());g=a(h);a=g.exitCode;h=g.fs;h=(g=h[p])==null?void 0:g.content;if(a!==0){o.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["non-zero-exit-code: ",""])),a);return d("WAResultOrError").makeError("wasm-internal-non-zero-exit-code")}if(!(h instanceof Uint8Array)){o.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["invalid result type"])));return d("WAResultOrError").makeError("wasm-internal-invalid-result-type")}g=d("decodeProtobuf").decodeProtobuf(c,h);return m(g)}catch(a){o.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",", for cli: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a),n);return a instanceof Error?d("WAResultOrError").DEPRECATED_makeError("wasm-internal-runtime-error",a):d("WAResultOrError").makeError("wasm-internal-runtime-error")}}}g.createWasmFunction=a}),98);
__d("EBMinosWasmVerifySingleEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosWasm.pb","WACreateWasmFunction","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule;a=a.logger;var c=a.TAGS(["minos-verify-single-epoch"]);function e(a){a=a.valid;return d("WAResultOrError").makeResult({valid:a})}return async function(a){var f=a.epochPublicData;a=a.signature;var g=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,cli:"minos_cli",command:"minos-verify-single-epoch",getWasmModule:b,logger:c,validateResult:e});g=await g({epochPublicData:f,signature:a});return g}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm,logger:d("EBMinosLogger").minosLogger});g.verifySingleEpoch=b}),98);
__d("EBAPIMinosVerifySingleEpoch",["EBMinosLogger","EBMinosWasmVerifySingleEpoch","WAGetSafeQPLError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){d("EBMinosLogger").minosLogger.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["minosVerifySingleEpoch start"])));var b=a.qplFlow,c=a.minosEpochAnonId,e=a.minosMailboxAuthPublicKey,f=a.minosMailboxEncryptionPublicKey,g=a.minosMailboxSigningPublicKey,j=a.userId,k=a.selfEpochSignature;try{c={epochNumber:c,mailboxAuthPk:e,mailboxEncryptionPk:f,mailboxSigningPk:g,previousEpochHead:a.previousEpochHead==null?void 0:a.previousEpochHead,userFbid:j};b.addPoint("verify_single_epoch_start");e=await d("EBMinosWasmVerifySingleEpoch").verifySingleEpoch({epochPublicData:c,signature:k});b.addPoint("verify_single_epoch_end");if(e.success){b.endSuccess();return e.value.valid}d("EBMinosLogger").minosLogger.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to verify epoch - WASM error ",""])),e.error);b.endFailWithError("invalid-result",e.error);return!1}catch(a){b.endFailWithError("runtime-error",d("WAGetSafeQPLError").getSafeQPLErrorMessage(a));return!1}}g.minosVerifySingleEpoch=a}),98);
__d("IEBAPI",["MAWBridge"],(function(a,b,c,d,e,f,g){"use strict";c=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWBridge").getBridge().sendAndReceive("backend","ebapi",{args:c,type:a})}}function b(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWBridge").getBridge().sendAndReceive("backend","minosEBAPI",{args:c,type:a})}}g.version=c;g.makeBridgedApi=a;g.makeMinosBridgedApi=b}),98);
__d("EBMinosBridgedAPI",["IEBAPI"],(function(a,b,c,d,e,f,g){"use strict";a={writeMinosKeyChangeAdminMessage:d("IEBAPI").makeMinosBridgedApi("writeMinosKeyChangeAdminMessage"),writeMinosMailboxKeysForRecipientAPI:d("IEBAPI").makeMinosBridgedApi("writeMinosMailboxKeysForRecipientAPI"),writeMinosSecureStorageAlert:d("IEBAPI").makeMinosBridgedApi("writeMinosSecureStorageAlert")};b=a;g["default"]=b}),98);
__d("EBMinosDBDev",["MAWWormOdsLogger","QPLFlow","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver"],(function(a,b,c,d,e,f,g){"use strict";var h,i={secure_minos_mailbox_keys:{indexes:{},primaryKey:"contact_id",secure:!0},secure_minos_thread_message_encryption_keys:{indexes:{"[roster_hash+minos_thread_id]":{fields:["roster_hash","minos_thread_id"],unique:!1}},primaryKey:"mek_id_blob",secure:!0}},j=new(d("WAResolvable").Resolvable)(),k=1e4;async function a(a,b,c){var e=d("QPLFlow").startQPLFlow(b,{annotations:{string:{operationType:"initEBMinosDevDbSchema"}},timeoutInMs:k});try{var f="ebMinosDev";c=new(d("WormEAR").WormEAR)(i,f,c);a=new(d("Worm").WormDatabase)(new(d("WormIDbDriver").WormIDbDriver)(a,f,i,c,d("MAWWormOdsLogger").wormOdsWorkerLogger,{}),b);await a.init({eventFlow:e});e.endSuccess();j.resolve(a)}catch(a){j.reject(a);e.endFail("error");d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error performing makeEBMinosDevDB: ",""])),a);throw a}}function l(){return j.promise}async function b(){var a=Object.keys(i),b=await l();return b.runInTransaction(a,"readonly",async function(b){var c={};await Promise.all(a.map(async function(a){var d=await b.stores[a].readAll();c[a]=d}));return c},"EBMinosDevDb - Dump").catch(function(){return{}})}g.schema=i;g.makeEBMinosDevDB=a;g.getEBMinosDevDb=l;g.getDbDump=b}),98);
__d("EBMinosSaveNewMailboxKey",["EBMinosDBDev"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,c,e,f,g){var h=await d("EBMinosDBDev").getEBMinosDevDb();await h.runInTransaction(["secure_minos_mailbox_keys"],"readwrite",function(d){return d.stores.secure_minos_mailbox_keys.bulkPut([{contact_id:a,encryption_public_key:b,epoch_anon_id:c,epoch_head:e,epoch_head_creation_time:f,public_key_fbid:g}])},"SaveNewMailboxKey")};g.saveNewMailboxKey=a}),98);
__d("EBMinosLoadMailboxKeys",["EBMinosDBDev"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a){var b=await d("EBMinosDBDev").getEBMinosDevDb();b=await b.runInTransaction(["secure_minos_mailbox_keys"],"readonly",function(b){return b.stores.secure_minos_mailbox_keys.get(a)},"LoadMailboxKeys");return b};g.loadMailboxKeys=a}),98);
__d("EBMinosSecureMailboxKeysForContact",["EBMinosLoadMailboxKeys","EBMinosTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("EBMinosLoadMailboxKeys").loadMailboxKeys(d("EBMinosTypes").unsafeCastToUserFbId(a))}g.getSecureMailboxKeysForContact=a}),98);
__d("EBMinosWriteMinosPublicKeysForRecipient",["EBMinosBridgedAPI","EBMinosLogger","EBMinosSaveNewMailboxKey","EBMinosSecureMailboxKeysForContact","WAResultOrError","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){var b=a.contactId,e=a.encryptionPublicKey,f=a.epochAnonId,g=a.epochHead,k=a.epochHeadCreationTime;a=a.publicKeyFbid;var l=await d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(b);if(g==null||k==null){(l==null?void 0:l.epoch_head)!=null&&(l==null?void 0:l.epoch_head_creation_time)!=null&&(d("EBMinosLogger").minosLogger.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Deleting mailbox keys for contact: ",""])),b),await d("EBMinosSaveNewMailboxKey").saveNewMailboxKey(b,e,f,g,k,a));return d("WAResultOrError").makeResult()}j(l,g,k)&&(d("EBMinosLogger").minosLogger.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Writing new mailbox keys for contact: ",""])),b),await d("EBMinosSaveNewMailboxKey").saveNewMailboxKey(b,e,f,g,k,a),c("promiseDone")(c("EBMinosBridgedAPI").writeMinosSecureStorageAlert({contactId:b,epochHead:g,epochHeadCreationTime:k})),c("promiseDone")(c("EBMinosBridgedAPI").writeMinosKeyChangeAdminMessage({contactId:b,epochHeadCreationTime:k})));return d("WAResultOrError").makeResult()}function j(a,b,c){if(b==null||c==null)return!1;return(a==null?void 0:a.epoch_head)==null||(a==null?void 0:a.epoch_head_creation_time)==null?!0:a.epoch_head_creation_time!==c&&c>a.epoch_head_creation_time}g.writeMinosMailboxKeysForRecipient=a}),98);
__d("EBAPIWriteMinosPublicKeysForRecipient",["EBMinosWriteMinosPublicKeysForRecipient"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.contactId,c=a.encryptionPublicKey,e=a.epochAnonId,f=a.epochHead,g=a.epochHeadCreationTime;a=a.publicKeyFbid;return d("EBMinosWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipient({contactId:b,encryptionPublicKey:c,epochAnonId:e,epochHead:f,epochHeadCreationTime:g,publicKeyFbid:a})}g.writeMinosMailboxKeysForRecipientAPI=a}),98);
__d("EncryptedBackupUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5728");b=d("FalcoLoggerInternal").create("encrypted_backup_upload_failure",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("BaseBlurryImagePreview.react",["getComputedStyle","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=["blur","previewData","alt","height","style","width"],i,j,k=j||(j=d("react"));b=j;var l=b.useId,m=b.useLayoutEffect,n=b.useRef,o=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e,f,g,j,p,q,r;b[0]!==a?(f=a.blur,p=a.previewData,e=a.alt,g=a.height,q=a.style,r=a.width,j=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=p,b[6]=q,b[7]=r):(e=b[1],f=b[2],g=b[3],j=b[4],p=b[5],q=b[6],r=b[7]);b[8]!==q?(a=q!=null?q:{},b[8]=q,b[9]=a):a=b[9];a=a;var s=a.height,t=a.width;a=f!=null?f:1.2;f=l();var u=c("useSetAttributeRef")("id",f),v="url(#"+f+")",w=c("useSetAttributeRef")("filter",v),x=l(),y=n(null),z=o(g!==void 0||s!==void 0||r!==void 0||t!==void 0),A=z[0],B=z[1],C;b[10]!==g||b[11]!==p.height||b[12]!==p.width||b[13]!==s||b[14]!==t||b[15]!==r?(z=function(){var a=y.current;if(!(a instanceof SVGSVGElement))return;if(g!==void 0||s!==void 0||r!==void 0||t!==void 0){B(!0);return}var b=a.style.display,d=(i||(i=c("getComputedStyle")))(a);a.style.display="none";B(d!=null&&(d.height!==p.height+"px"||d.width!==p.width+"px"));a.style.display=b},C=[g,p.height,p.width,s,t,r],b[10]=g,b[11]=p.height,b[12]=p.width,b[13]=s,b[14]=t,b[15]=r,b[16]=z,b[17]=C):(z=b[16],C=b[17]);m(z,C);z=e!=null?x:null;C=g!=null?g:A?void 0:p.height;var D="0 0 "+p.width+" "+p.height;A=r!=null?r:A?void 0:p.width;var E;b[18]!==e||b[19]!==x?(E=e!=null&&k.jsx("title",{id:x,children:e}),b[18]=e,b[19]=x,b[20]=E):E=b[20];b[21]!==a?(e=k.jsx("feGaussianBlur",{edgeMode:"duplicate",stdDeviation:a}),b[21]=a,b[22]=e):e=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx("feComponentTransfer",{children:k.jsx("feFuncA",{tableValues:"1 1",type:"discrete"})}),b[23]=x):x=b[23];b[24]!==f||b[25]!==u||b[26]!==e?(a=k.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",id:f,ref:u,suppressHydrationWarning:!0,children:[e,x]}),b[24]=f,b[25]=u,b[26]=e,b[27]=a):a=b[27];b[28]!==v||b[29]!==w||b[30]!==p.dataURI||b[31]!==p.height||b[32]!==p.width?(x=k.jsx("image",{filter:v,height:p.height,ref:w,suppressHydrationWarning:!0,width:p.width,x:"0",xlinkHref:p.dataURI,y:"0"}),b[28]=v,b[29]=w,b[30]=p.dataURI,b[31]=p.height,b[32]=p.width,b[33]=x):x=b[33];b[34]!==j||b[35]!==q||b[36]!==a||b[37]!==x||b[38]!==z||b[39]!==C||b[40]!==D||b[41]!==A||b[42]!==E?(f=k.jsxs("svg",babelHelpers["extends"]({},j,{"aria-labelledby":z,height:C,preserveAspectRatio:"none",ref:y,role:"img",style:q,viewBox:D,width:A,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[E,a,x]})),b[34]=j,b[35]=q,b[36]=a,b[37]=x,b[38]=z,b[39]=C,b[40]=D,b[41]=A,b[42]=E,b[43]=f):f=b[43];return f}g["default"]=a}),98);
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n=100,o={mount:{opacity:"x1hc1fzr",transform:"x3oybdh",transitionDuration:"xu6gjpd",transitionTimingFunction:"x7lz9yc",$$css:!0},root:{opacity:"xg01cxk",transitionDuration:"x16rnrhc",transitionProperty:"xwcsmn1",transitionTimingFunction:"xbxq160",$$css:!0}},p={bottom:{transform:"xswo3hg",$$css:!0},top:{transform:"x1cg7zye",$$css:!0}};function a(a){var b=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position,g=a.toasterPosition;g=g===void 0?"bottom":g;a=a.xstyle;var i=m(!1),q=i[0],r=i[1],s=c("useToasterStateManager")(),t=j.Children.only(b);i=k(function(){s.resetTimer(e)},[e,s]);b=k(function(){s.stopTimer(e)},[e,s]);var u=k(function(){s.shown(e)},[e,s]),v=k(function(){s.hidden(e)},[e,s]),w=k(function(a){t.props.onActionPress!=null&&t.props.onActionPress(a),a.defaultPrevented||s.expire(e)},[t.props,e,s]);v=c("useVisibilityObserver")({onHidden:v,onVisible:u,options:{activityMonitorOverride:null}});u=c("useFadeEffect")(!d);d=u[0];var x=u[1];u=u[2];u=c("useMergeRefs")(u,v);l(function(){x===!0&&r(!0)},[x]);return d?j.jsx("li",{className:(h||(h=c("stylex")))(o.root,p[g],x&&o.mount,a),onBlur:i,onFocus:b,onMouseEnter:b,onMouseLeave:i,ref:u,style:{bottom:n*f},children:q&&j.cloneElement(t,{onActionPress:w})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CaptionsTextSizeMapping",[],(function(a,b,c,d,e,f){"use strict";a={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};b={BIG:"20px",BIGGER:"21px",BIGGEST:"21px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};c={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"};d={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};f.AdjustedCaptionsTextSizeMapFeedUnit=a;f.AdjustedCaptionsTextSizeMapWNS=b;f.FixedCaptionsTextSizeMap=c;f.DynamicCaptionsTextSizeMap=d}),66);
__d("CometTahoeChainingDepthLogging.react",["VideoPlayerHooks","react","react-compiler-runtime","useCometTahoeChainingDepth","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useLayoutEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("useCometTahoeChainingDepth").useChainingDepthContext(),e=b.chainingDepthState,f=b.chainingSessionID,g=(i||(i=d("VideoPlayerHooks"))).useController();b=c("useRoutePassthroughProps")();var h=b==null?void 0:b.chainingSeedVideoId,k;a[0]!==e||a[1]!==h||a[2]!==f||a[3]!==g?(b=function(){e!=null&&f!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_session_id",f),g.setLoggingToVPLAdditionalData("video_chaining_depth_level",e),g.setLoggingToSNAPLAdditionalData({video_chaining_depth_level:String(e),video_chaining_session_id:f})),h!=null&&(g.setLoggingToVPLAdditionalData("video_chaining_parent_video_id",String(h)),g.setLoggingToSNAPLAdditionalData({video_chaining_parent_video_id:String(h)}))},k=[e,f,g,h],a[0]=e,a[1]=h,a[2]=f,a[3]=g,a[4]=b,a[5]=k):(b=a[4],k=a[5]);j(b,k);return null}g["default"]=a}),98);
__d("CometWatchAndScrollTriggerContextProvider",["CometWatchAndScrollTriggerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e=j(c("CometWatchAndScrollTriggerContext")),f=k(e.isControlShown),g=f[0];f=f[1];e=k(e.isTriggerDisabled);var h=e[0];e=e[1];b[0]!==g||b[1]!==h?(f={isControlShown:g,isTriggerDisabled:h,setIsControlShown:f,setIsTriggerDisabled:e},b[0]=g,b[1]=h,b[2]=f):f=b[2];e=f;g=e;b[3]!==a||b[4]!==g?(h=i.jsx(c("CometWatchAndScrollTriggerContext").Provider,{value:g,children:a}),b[3]=a,b[4]=g,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","react-strict-dom","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=500,k=1e3,l=60,m=60;a=function(a){function b(b){b=a.call(this,b)||this;b.state={duration:0};return b}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.$2()};e.componentWillUnmount=function(){c("clearTimeout")(this.$1)};e.$2=function(){var a=this,b;this.props.useLocalTime?b=Date.now():b=d("ServerTime").getMillis();this.setState({duration:Math.max(b-this.props.startTime,0)});this.$1=c("setTimeout")(function(){return a.$2()},j)};e.render=function(){var a=Math.floor(this.state.duration/k),b=a%l;a=Math.floor(a/l);var c=a%m;a=Math.floor(a/m);var e="";a>0&&(e=a+":");a=c+":";a.length<3&&e.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return i.jsxs(d("react-strict-dom").html.span,{children:[e,a,c]})};return b}(i.Component);a.defaultProps={useLocalTime:!1};g["default"]=a}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i("370949"),m=c("XCometGamingControllerRouteBuilder").buildURL({});function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Go to Facebook Gaming"),a[0]=b):b=a[0];var e=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometPressable.react"),{linkProps:{url:m},children:function(a){a=a.hovered;return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:[k.jsx("span",babelHelpers["extends"]({},{0:{className:"x3nfvp2 x1qo4wvw xbyyjgo x1d8287x x19991ni xl405pv"},1:{className:"x3nfvp2 x1hc1fzr x1d8287x x19991ni xl405pv"}}[!!a<<0],{children:k.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Close"),src:l})})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1s85apg"},1:{className:"xe2km65 x1lliihq xf159sx x1n2onr6 x1bvjpef xndqk7f"}}[!!a<<0],{children:e}))]}))}}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("ProfileCometFeaturedHighlightsEditCollectionDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9866024256791748"}),null);
__d("VideoBlurBackgroundContainer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoBlurBackgroundContainer_video",selections:[{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("getPreviewDataFromImagePreviewPayload",["FBLogger","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="data:image/jpeg;base64,",i=160,j=162,k=42;function l(a,b){b===void 0&&(b=0);a=atob(a);if(a.length<=3)throw c("unrecoverableViolation")("The preview payload was "+a.length+" byte(s) long when it should be 4 or more. The first byte is the version, the second the width, and the third the height. The 4th byte and onward is the image data.","comet_infra");var d=new Uint8Array(a.length+b);for(var e=0;e<a.length;e++)d[b+e]=a.charCodeAt(e);return d}var m;function n(){m==null&&(m=l("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEABsaGikdKUEmJkFCLy8vQkc/Pj4/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0cBHSkpNCY0PygoP0c/NT9HR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR//AABEIABQAKgMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AA=="));return m}function a(a){var b=n();try{a=l(a,b.length-3);var d=a[b.length-1],e=a[b.length-3],f=a[b.length-2];if(d>k)throw c("unrecoverableViolation")("Tried to decode a payload whose height was "+d+". The maximum "+("is "+k+"."),"comet_infra");if(f>k)throw c("unrecoverableViolation")("Tried to decode a payload whose width was "+f+". The maximum "+("is "+k+"."),"comet_infra");a.set(b,0);a[i]=d;a[j]=f;b=btoa(String.fromCharCode.apply(null,a));return{dataURI:""+h+b,height:d,width:f,version:e}}catch(b){a=c("FBLogger")("images_infra");b instanceof Error&&a.catching(b);a.warn("Failed to decode a preview image payload. Falling back with a blank image.");return null}}g["default"]=a}),98);
__d("VideoBlurBackgroundContainer.react",["BaseBlurryImagePreview.react","CometImage.react","CometRelay","VideoBlurBackgroundContainer_video.graphql","getPreviewDataFromImagePreviewPayload","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={blurryImage:{filter:"x1hedwgd",transform:"x4zgh4k",$$css:!0},image:{bottom:"x1ey2m1c",boxSizing:"x9f619",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xti2d7y",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},lightBackgroundInLightMode:{backgroundColor:"x2bj2ny",$$css:!0},root:{backgroundColor:"xal61yo",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(16),g=a.children,j=a.lightBackgroundInLightMode,m=a.ref,n=a.video;a=a.xstyle;n=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoBlurBackgroundContainer_video.graphql"),n);e=(e=n.preferred_thumbnail)==null?void 0:e.image_preview_payload;var o;if(e!=null){var p;f[0]!==e?(p=c("getPreviewDataFromImagePreviewPayload")(e),f[0]=e,f[1]=p):p=f[1];e=p;if(e!=null){f[2]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1ey2m1c x9f619 x5yr21d xtijo5x x1o0tod xti2d7y x10l6tqk x13vifvy xh8yej3 x1ja2u2z",f[2]=p):p=f[2];f[3]!==e?(p=k.jsx(c("BaseBlurryImagePreview.react"),{className:p,previewData:e}),f[3]=e,f[4]=p):p=f[4];o=p}}p=(e=n.preferred_thumbnail)==null||(e=e.image)==null?void 0:e.uri;if(o==null&&p!=null){f[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=[l.blurryImage,l.image],f[5]=n):n=f[5];f[6]!==p?(e=k.jsx(c("CometImage.react"),{src:p,xstyle:n}),f[6]=p,f[7]=e):e=f[7];o=e}f[8]!==j||f[9]!==a?(n=(i||(i=c("stylex"))).props(l.root,a,j===!0&&l.lightBackgroundInLightMode),f[8]=j,f[9]=a,f[10]=n):n=f[10];f[11]!==o||f[12]!==g||f[13]!==m||f[14]!==n?(p=k.jsxs("div",babelHelpers["extends"]({},n,{ref:m,children:[o,g]})),f[11]=o,f[12]=g,f[13]=m,f[14]=n,f[15]=p):p=f[15];return p}e=a;g["default"]=e}),98);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","react-compiler-runtime","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(13),b=c("useVideoPlayerPortalingPassthroughProps")(),e=j(c("CometTrackingCodeContext")),f=j(c("CometTrackingNodesContext")),g=j(c("CometProductTagFunnelIDContext")),h=d("CometWarningScreenContext").useIsOverlayShown(),k=d("CometWarningScreenContext").useHasOverlay(),l;a[0]!==f?(l=c("getAggregatedStoryTrackingNodeIndex")(f),a[0]=f,a[1]=l):l=a[1];f=l;l=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy();var m=c("usePlayerOriginRouteTracePolicy")(),n=c("useIsVideoHomePlayerOriginFromTracePolicy")(m);l=l!=null?l:m;a[2]!==n?(m=n?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},a[2]=n,a[3]=m):m=a[3];a[4]!==g||a[5]!==f||a[6]!==k||a[7]!==h||a[8]!==b||a[9]!==l||a[10]!==m||a[11]!==e?(n=babelHelpers["extends"]({bypassAutoplaySettings:!0},b,{index:f,initialTracePolicy:l,origOverlayShown:h,overlayExists:k,productTagFunnelID:g,trackingCode:e},m),a[4]=g,a[5]=f,a[6]=k,a[7]=h,a[8]=b,a[9]=l,a[10]=m,a[11]=e,a[12]=n):n=a[12];return n}g["default"]=a}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","useNavigateToTahoePassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onPress,f=a.reactionVideoChannelType,g=a.subOrigin;a=a.videoTahoeUrl;var j=c("useNavigateToTahoePassthroughProps")(),l;b[0]!==j||b[1]!==f||b[2]!==g?(l=babelHelpers["extends"]({},j,{playerSubOrigin:g,reactionVideoChannelType:f}),b[0]=j,b[1]=f,b[2]=g,b[3]=l):l=b[3];j=l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Enlarge"),b[4]=f):f=b[4];g=f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("517763"),20),b[5]=l):l=b[5];b[6]!==j||b[7]!==a?(f={passthroughProps:j,url:a},b[6]=j,b[7]=a,b[8]=f):f=b[8];b[9]!==e||b[10]!==f?(j=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:g,linkProps:f,onPress:e,tooltip:g}),b[9]=e,b[10]=f,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","FDSResizeUpFilled20Icon","VideoPlayerControlIcon.react","react","react-compiler-runtime","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.isARLTW,f=a.onPress,g=a.routeTracePolicy,i=a.subOrigin;a=a.videoWatchUrl;var k=c("useVideoPlayerPortalingPassthroughProps")();k=k.portableVideoID;var l=c("useCometRouterState")();l=l==null?void 0:l.main.route.tabKey;var m;b[0]!==l?(m=l!=="watch"?h._(/*BTDS*/"Open in Video"):h._(/*BTDS*/"Enlarge"),b[0]=l,b[1]=m):m=b[1];l=m;b[2]!==e||b[3]!==k||b[4]!==g||b[5]!==i?(m={isARLTW:e,portableVideoID:k,portalingRouteTracePolicy:g,portalingSubOrigin:i,unmute:!0},b[2]=e,b[3]=k,b[4]=g,b[5]=i,b[6]=m):m=b[6];b[7]!==m||b[8]!==a?(e={passthroughProps:m,url:a},b[7]=m,b[8]=a,b[9]=e):e=b[9];b[10]!==l||b[11]!==f||b[12]!==e?(k=j.jsx(c("VideoPlayerControlIcon.react"),{icon:c("FDSResizeUpFilled20Icon"),label:l,linkProps:e,onPress:f,tooltip:l}),b[10]=l,b[11]=f,b[12]=e,b[13]=k):k=b[13];return k}g["default"]=a}),226);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isAdVideo,f=a.isBroadcast,g=a.onPressFullscreenControl,h=a.onPressTahoeControl,j=a.onUserInteraction,k=a.reactionVideoChannelType,l=a.shouldUnmute,m=a.subOrigin;a=a.videoTahoeUrl;var n=c("gkx")("24206");b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==a?(n=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:144,children:(Boolean(e)===!1||f===!0&&c("qex")._("4408")===!0)&&m!=null&&a!=null&&a!==""&&!n?i.jsx(c("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:h,reactionVideoChannelType:k,subOrigin:m,videoTahoeUrl:a}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onPress:g,onUserInteraction:j,shouldUnmute:l})}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=k,b[6]=l,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"30kjYr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithSoundbiteOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithSoundbiteOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"30kjYr")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(7),e=a.playerFormat,f=a.pressInteraction;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithAudioOverlay_video.graphql"),a);a=a==null?void 0:a.comet_video_player_audio_overlay_renderer;if(a==null)return null;var g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"},c[0]=g):g=c[0];var i;c[1]!==e||c[2]!==f?(i={playerFormat:e,pressInteraction:f},c[1]=e,c[2]=f,c[3]=i):i=c[3];c[4]!==a||c[5]!==i?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:i})})),c[4]=a,c[5]=i,c[6]=e):e=c[6];return e}g["default"]=a}),98);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","setTimeout","stylex","unrecoverableViolation","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useEffect,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),s={positionTop:{display:"x78zum5",height:"xxk0z11",insetInlineStart:"x1r4y97",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(50),g=a.hasCometNavOverlay,h=a.includeGamingBackLink,i=a.renderedInLiveProducer,l=a.shouldExpand,x=a.shouldShowPrivacyNux;a=a.video;var y=(m||(m=d("VideoPlayerHooks"))).useIsLive(),z=m.useIsLiveRewindActive(),A=m.useIsFullscreen(),B=d("CometRouteRenderType").useIsMain(),C=m.usePlaying(),D=p(null);a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWithLiveVideoIndicator_video.graphql"),a);var E=(e=a==null?void 0:a.videoId)!=null?e:"";if(a==null||typeof E!=="string"||E==="")throw c("unrecoverableViolation")("Null video or bad videoId","comet_live_video");var F=d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData();e=q((e=a.liveViewerCount)!=null?e:0);var G=e[0],H=e[1];e=q(!1);var I=e[0],J=e[1];e=q(!1);var K=e[0],L=e[1],M;f[0]!==F||f[1]!==y?(e=function(){y&&F!=null&&(t(F.bs)?H(F.c):(H(0),J(!0)))},M=[F,y],f[0]=F,f[1]=y,f[2]=e,f[3]=M):(e=f[2],M=f[3]);o(e,M);f[4]!==C?(e=function(){C?(L(!0),D.current=c("setTimeout")(function(){L(!1)},3e3)):D.current&&(L(!1),c("clearTimeout")(D.current));return function(){return c("clearTimeout")(D.current)}},M=[C],f[4]=C,f[5]=e,f[6]=M):(e=f[5],M=f[6]);o(e,M);f[7]!==y||f[8]!==E?(e=function(){y&&E&&(b("cr:541")==null||b("cr:541").loadImmediately(function(a){a.LiveProducerLiveActivated(E)}))},M=[y,E],f[7]=y,f[8]=E,f[9]=e,f[10]=M):(e=f[9],M=f[10]);o(e,M);M=((e=a.rehearsalInfo)==null?void 0:e.typeName)==="LiveVideoRehearsalInfo";e=(e=a.is_gaming_video)!=null?e:!1;h=h!=null?h:!1;h=h&&B&&e;e=!y||I;if(e)return null;I=c("gkx")("22889");f[11]!==g||f[12]!==A||f[13]!==B||f[14]!==i||f[15]!==l?(e=(k||(k=c("stylex"))).props(s.positionTop,I?l!==!0&&(g||B)&&!A&&!i===!0&&s.positionTopWithCometNavOverlayWorkplace:g&&!A&&s.positionTopWithCometNavOverlay),f[11]=g,f[12]=A,f[13]=B,f[14]=i,f[15]=l,f[16]=e):e=f[16];f[17]!==h?(I=h?n.jsx(c("GamingVideoBackLink.react"),{}):null,f[17]=h,f[18]=I):I=f[18];f[19]!==z||f[20]!==M?(g={0:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v"},8:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z"},4:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1ciooss"},12:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1ciooss"},2:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},10:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},6:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},14:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},1:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},9:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},5:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},13:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},3:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},11:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},7:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},15:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"}}[!!!z<<3|!!!z<<2|!!z<<1|!!M<<0],f[19]=z,f[20]=M,f[21]=g):g=f[21];A=M?"primary":"white";f[22]!==a?(B=u(a),f[22]=a,f[23]=B):B=f[23];f[24]!==K||f[25]!==z||f[26]!==l||f[27]!==a.publish_time?(i=l===!0&&K&&(a==null?void 0:a.publish_time)!=null&&!z&&w(a.publish_time),f[24]=K,f[25]=z,f[26]=l,f[27]=a.publish_time,f[28]=i):i=f[28];f[29]!==A||f[30]!==B||f[31]!==i?(h=n.jsxs(c("FDSText.react"),{color:A,type:"bodyLink4",children:[B,i]}),f[29]=A,f[30]=B,f[31]=i,f[32]=h):h=f[32];f[33]!==h||f[34]!==g?(M=n.jsx("div",babelHelpers["extends"]({},g,{"data-testid":void 0,children:h})),f[33]=h,f[34]=g,f[35]=M):M=f[35];f[36]!==G||f[37]!==a?(K=v(a,G),f[36]=G,f[37]=a,f[38]=K):K=f[38];f[39]!==M||f[40]!==K||f[41]!==e||f[42]!==I?(z=n.jsxs("div",babelHelpers["extends"]({},e,{children:[I,M,K]})),f[39]=M,f[40]=K,f[41]=e,f[42]=I,f[43]=z):z=f[43];f[44]!==x||f[45]!==E?(l=x===!0&&n.jsx(c("CometPlaceholder.react"),{fallback:null,children:n.jsx("div",babelHelpers["extends"]({className:"x1r4y97 x10l6tqk x1w1tb2m"},{children:n.jsx(r,{videoID:E})}))}),f[44]=x,f[45]=E,f[46]=l):l=f[46];f[47]!==z||f[48]!==l?(A=n.jsxs(n.Fragment,{children:[z,l]}),f[47]=z,f[48]=l,f[49]=A):A=f[49];return A}function t(a){if(a==null)return!1;switch(a){case c("VideoBroadcastStatus").LIVE:case c("VideoBroadcastStatus").LIVE_STOPPED:case c("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function u(a){if((a==null?void 0:a.isPremiere)===!0)return h._(/*BTDS*/"PREMIERE");return(a==null?void 0:a.breakingStatus)===!0?h._(/*BTDS*/"LIVE BREAKING"):h._(/*BTDS*/"LIVE")}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){if(a===null||b==null||b===0)return null;a=n.jsx(c("CometImage.react"),{alt:"",src:i("411339")});a=n.jsx("span",babelHelpers["extends"]({className:"x3nfvp2 x2fvf9 x1n2onr6"},{children:a}));return n.jsxs("div",babelHelpers["extends"]({"aria-label":h._(/*BTDS*/"_j{\"*\":\"{number} people currently watching this video.\",\"_1\":\"1 person currently watching this video.\"}",[h._plural(b,"number",c("intlSummarizeNumber")(b))])},{className:"x6s0dn4 xrmyhay xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xdzw4kq xexx8yu x18d9i69 x25sj25 x1icxu4v"},{"data-testid":void 0,role:"img",children:[a,n.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c("intlSummarizeNumber")(b)})]}))}v.displayName=v.name+" [from "+f.id+"]";function w(a){return n.jsx("div",babelHelpers["extends"]({className:"x3nfvp2 xdwrcjd"},{children:n.jsx(c("Duration.react"),{startTime:a*1e3,useLocalTime:!0})}))}w.displayName=w.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(5),c=a.feedAggregationType,e=a.reactionVideoChannelType,f=(i||(i=d("VideoPlayerHooks"))).useController(),g;b[0]!==f||b[1]!==c||b[2]!==e?(a=function(){e!=null&&f.setLoggingToVPLAdditionalData("reaction_video_channel_type",e),c!=null&&f.setLoggingToVPLAdditionalData("feed_aggregation_type",c)},g=[f,c,e],b[0]=f,b[1]=c,b[2]=e,b[3]=a,b[4]=g):(a=b[3],g=b[4]);j(a,g);return null}g["default"]=a}),98);
__d("XPlatReactToasterView.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.state={visibleToasts:[]},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(b){var c,g=e[b];f[b]=g;var h=g==null?void 0:g.shown,i=g==null||(c=g.value)==null||(c=c.type)==null?void 0:c.name;if(g==null||i==null)return!0;if(d.has(i)&&!h){a.onExpireToast(b);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),i=0;while(c<a.maxVisible){var j=b[c],k=Object.keys(f).length>0?f:a.toasterState;if(j!=null){k=Object.prototype.hasOwnProperty.call(k,j.id);if(k){k=e[j.id];b[c]={expired:k.expired,id:k.id,toast:k.value};c++;continue}else b[c]=null}j=null;while(j==null&&i<g.length){k=g[i++];var l=h.has(k);l||(j=a.toasterState[k])}j!=null&&(b[c]={expired:j.expired,id:j.id,toast:j.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return i.jsx(i.Fragment,{children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(i.PureComponent);a.defaultProps={maxVisible:1};g["default"]=a}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react-compiler-runtime","useVideoOriginalDimensionsRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(7);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoOriginalDimensionsRelay_video.graphql"),a);var f=a==null?void 0:a.original_rotation;f=f==="ROTATE_LEFT"||f==="ROTATE_RIGHT";var g=f?a==null?void 0:a.original_height:a==null?void 0:a.original_width;f=f?a==null?void 0:a.original_width:a==null?void 0:a.original_height;e[0]!==f||e[1]!==g?(a=c("computeAspectRatio")(g,f),e[0]=f,e[1]=g,e[2]=a):a=e[2];a=a;var i;e[3]!==a||e[4]!==f||e[5]!==g?(i={originalAspectRatio:a,originalHeight:f,originalWidth:g},e[3]=a,e[4]=f,e[5]=g,e[6]=i):i=e[6];return i}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometFeedCommentsDialogCloseRefreshFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3980");b=d("FalcoLoggerInternal").create("comet_feed_comments_dialog_close_refresh",a);e=b;g["default"]=e}),98);
__d("CometFeedStoryOptimisticWithStory.react",["OptimisticLoadingTypeEnum","cometComposerLogger","cr:4048","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef,l={bounce:{animationDuration:"x1ykxiw6",animationName:"xu6u0q5",$$css:!0},preview:{opacity:"x1ks1olk",$$css:!0},previewTransform:{transform:"x1jec706",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(13),f=a.children,g=a.creationSessionID,h=a.optimisticLoadingType,m=k(!1),n=k(!1),o;e[0]!==g||e[1]!==h?(a=function(){g!=null&&!m.current&&h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&(m.current=!0,c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_OPTIMISTIC_POST",typeOfOptimisticPost:"OPTIMISTIC_POST_WITH_STORY"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},g)),g!=null&&!n.current&&h===c("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&(n.current=!0,c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_REAL_POST"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},g))},o=[g,h],e[0]=g,e[1]=h,e[2]=a,e[3]=o):(a=e[2],o=e[3]);j(a,o);a=h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW?"FeedCometOptimisticPostPreview":null;o=h===c("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&l.bounce;var p=h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&l.preview,q=h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&l.previewTransform,r;e[4]!==o||e[5]!==p||e[6]!==q?(r=[o,p,q],e[4]=o,e[5]=p,e[6]=q,e[7]=r):r=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=b("cr:4048")!=null&&i.jsx(b("cr:4048"),{}),e[8]=o):o=e[8];e[9]!==f||e[10]!==r||e[11]!==a?(p=i.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:r,children:[o,f]}),e[9]=f,e[10]=r,e[11]=a,e[12]=p):p=e[12];return p}g["default"]=a}),98);
__d("groupsCometFetchStoryFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null}],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometSectionHeader_groupsSectionHeaderUnit"}],type:"GroupsSectionHeaderUnit",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],type:"Node",abstractKey:"__isNode"};e.exports=a}),null);
__d("groupsCometFetchStoryQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9918303218275214"}),null);
__d("groupsCometFetchStoryQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","groupsCometFetchStoryQuery_facebookRelayOperation","IsWorkUser.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","FeedDeepDiveTopicPillThreadViewEnabled.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider","IsMergQAPolls.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},d={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},h={defaultValue:null,kind:"LocalArgument",name:"scale"},i={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},j=[{kind:"Variable",name:"id",variableName:"id"}],k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},p=[l],q={kind:"InlineFragment",selections:p,type:"Node",abstractKey:"__isNode"},r={alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},q],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'};q={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[k,{kind:"InlineFragment",selections:p,type:"Video",abstractKey:null},q,{kind:"InlineFragment",selections:p,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:p,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MontageVideo",abstractKey:null}],storageKey:null};var s={alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},t=[{kind:"Variable",name:"location",variableName:"renderLocation"}],u={alias:null,args:t,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},v={alias:null,args:[{kind:"Literal",name:"supported",value:"13MmTP"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"13MmTP")'},w={alias:null,args:[{kind:"Literal",name:"supported",value:"FU19o"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsRetentionCurveFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithRetentionCurveFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStorySuggestedVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAutoAttachedUserFundingCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryFubsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryFubsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryCoronavirusCrisisMessageFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventsTaggingUpsellFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventsTaggingUpsellFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryDeepDivePillsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryDeepDivePillsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAffiliateLinkFocusedStoryFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAffiliateLinkFocusedStoryFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"FU19o")'},x={alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'},y={alias:null,args:[{kind:"Literal",name:"supported",value:"1ZjSsE"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStorySideUFILayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStorySideUFILayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryReshareLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryReshareLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"1ZjSsE")'},z={alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'},A={alias:null,args:[{kind:"Literal",name:"supported",value:"si43A"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupAdminAutonomyAlertedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GroupsCometViewerContentFlaggedHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryViewerContentFlaggedHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometGroupsAlertedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometGroupsAlertedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedStoryImportantHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPhotoReviewCTAHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPhotoReviewCTAHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryLookingForPlayersUpgradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBusinessMemoriesHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBusinessMemoriesHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryProductRecommendationsPostDowngradePromptHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryTopicAnnotationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryTopicAnnotationHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryBasicAdsHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryBasicAdsHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupPostLLMTitleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupPostLLMTitleHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"si43A")'},B={alias:null,args:[{kind:"Literal",name:"supported",value:"40M411"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTBizWebPostFooterStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTBizWebPostFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTPagePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTPagePostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTNewsFeedPostFooterChannelStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"40M411")'},C={alias:null,args:[{kind:"Literal",name:"supported",value:"1EhvHR"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentFlaggedStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentFlaggedStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"1EhvHR")'},D={alias:null,args:[{kind:"Literal",name:"supported",value:"5fIuY"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryViewThreadFooter_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryViewThreadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryInlineSurveyOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInlineSurveyOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"5fIuY")'},E={alias:null,args:[{kind:"Literal",name:"supported",value:"dyiij"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryTaggedProductsBumperCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometTaggedProductsBumperCallToActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryAnonymousPostUpsellActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryGroupAnonymousPostUpsellActionStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"dyiij")'},F={alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'},G={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},K=[I,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},J],L={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:K,storageKey:null},M={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},N={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},O=[{kind:"Literal",name:"site",value:"www"}],P={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},Q=[P],R={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};P=[R,P];M={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[k,H,L,M,N,l],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[k,H,M,l,N,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:O,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:O,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:Q,storageKey:null},L,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:P,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:Q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:P,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};N={alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};O={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null};L={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:p,storageKey:null}],storageKey:null};K={alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null};var S={alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null};I={alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},H,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null},J],storageKey:null};J={alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null};var V={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};H={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[H],storageKey:null};H={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[H,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[H,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};var W=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},k],X={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:p,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"groupsCometFetchStoryFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,c,d,h,f,g,i,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FeedDeepDiveTopicPillThreadViewEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider"}],kind:"Operation",name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,{kind:"TypeDiscriminator",abstractKey:"__isNode"},l,{kind:"InlineFragment",selections:[m,n,o,r,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[q,{alias:"styles",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Literal",name:"supported",value:"3uMq2Z"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryNullAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentNullStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEmptyAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEmptyStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryLiveEventAnnouncementAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentLiveEventAnnouncementStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryBirthdayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentBirthdayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"XFBStoryAttachmentCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationTagsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationTagsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFunFactsPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFunFactsStackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGoodwillProductSystemCampaignAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGoodwillProductSystemCampaignStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumColumnAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumColumnStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumBannerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumBannerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumFrameAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumFrameStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumSaleItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumSaleItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVolunteeringEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVolunteeringEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVolunteeringEventActivityShiftAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVolunteeringEventActivityShiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisListingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisListingStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisMarkSafeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisMarkSafeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisHubShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisHubShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserDonateButtonAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserDonateButtonStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserFBSeedingGiftAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserFBSeedingGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserWithoutMediaAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserWithoutMediaStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserCompressedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserCompressedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPlaceListAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPlaceListStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLookingForPlayersAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLookingForPlayersStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMapAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMapStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAsset3DAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAsset3dStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEventFooterOnlyAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEventFooterOnlyStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShopAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShopStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupSellProductItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupSellProductItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryNoteAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentNoteStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryKnowledgeNoteAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentKnowledgeNoteStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryKnowledgeCollectionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentKnowledgeCollectionStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCoverPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCoverPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoSaleItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoSaleItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoReviewPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoReviewStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFileUploadAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFileUploadStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileIntroCardBioAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileIntroCardBioStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileMediaAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileMediaStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnimatedImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnonymousAuthorInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnonymousAuthorInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupAnonymousPendingPostDisclaimerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupAnonymousPendingPostDisclaimerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryC4GThreadCreationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentC4GThreadCreationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCMBThreadAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMBThreadStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityChatSuggestionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMThreadSuggestionStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryC4GMessageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentC4GMessageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnonymousPostContentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnonymousPostContentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareMediumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareMediumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySharePortraitAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSharePortraitStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareSevereAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareSevereStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareAdAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareAdStyleRender",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityPromptFooterAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityPromptFooterStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLinkToVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLinkToVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLifeEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLifeEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLiveVideoRehearsalAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLiveVideoRehearsalStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMultiShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMultiShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryTextPollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTextPollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryTextPollNonInteractiveAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTextPollNonInteractiveStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVisualPollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVisualPollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGamesInstantPlayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGamesInstantPlayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryInstantGamesTournamentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryElectionDayReminderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentElectionDayReminderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryElectionInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentElectionInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkWatchCollectionsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkWatchCollectionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment3DPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStory360PhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment360PhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUnavailableStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkLinkPreviewAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkLinkPreviewStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkContentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkContentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoLinkShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoLinkShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoLinkShareWithInstagramContextAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoLinkShareWithInstagramContextStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPlayWithFriendsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPlayWithFriendsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySimpleMusicAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSimpleMusicStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryQuarantinedVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuarantinedVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"WorkFeedStoryWorkMajorEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentMajorEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"WorkFeedStoryChecklistAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentChecklistStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoMeetupLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoMeetupLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningPreviewPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningPreviewPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAMAAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAMAStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAMACardsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAMACardsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningUnitCreatedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningUnitCreatedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningUnitCompletedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningUnitCompletedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningQuizAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupQuizStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryBreakingNewsShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentBreakingNewsShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommerceAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommerceAttachmentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMarketplaceJobAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMarketplaceJobStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFluShotPledgeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFluShotPledgeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCovidVaccineFinderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCovidVaccineFinderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCovidVaccineFinderProviderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCovidVaccineFinderProviderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryReportedGroupEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentReportedGroupEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrowdsourcingBadgeShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrowdsourcingBadgeShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryQAApprovedAnswerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQAApprovedAnswerStylerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryESHLLMSuggestionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentESHLLMSuggestionStylerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingMetricsTopContributorRecognitionShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentRecruitingMetricsTopContributorRecognitionShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingGroupConsiderationShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentRecruitingGroupConsiderationShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingGroupCandidateShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentRecruitingGroupCandidateShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupWelcomePostAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupWelcomePostStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGratitudeMOGStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMomentOfGratitudeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDiscussionPostAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDiscussionPostAttachmentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoWithActionBar_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAutoPlayMediaWithActionBar",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCustomUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCustomUnavailableStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFBReelsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFBReelsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySoundbiteShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSoundbiteCometFeedShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUSElectionDataAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUSElectionDataStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityTaskSetJobPostingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityTaskSetJobPostingStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDeprecatedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDeprecatedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserCampaignDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserCampaignDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPublicChatLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPublicChatLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCMBSideConversationsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMBSideConversationsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryIGReelsXARAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentIGReelsXARStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupCollabPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupCollabPromptStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupPostsHscrollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupPostsHscrollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUnifiedLightweightVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUnifiedLightweightVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileDirectoryUpdateAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileDirectoryUpdateStyleRenderer",abstractKey:null}],storageKey:null}],storageKey:null},s,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[l,u,{alias:null,args:t,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[v,w,k,x,y,z,A,B,C,D,E,F],storageKey:null},G,k,m,n,o,r,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[q],storageKey:null},s,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[l,u,{alias:null,args:t,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[v,w],storageKey:null},G,{kind:"ClientExtension",selections:[M]}],storageKey:null},N,O,L,K,Q,P,S,{kind:"ClientExtension",selections:[M,T,U,I,J]}],storageKey:null},N,{alias:null,args:t,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[k,x,y,z,A,v,B,w,C,D,E,F,{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3zfBNR"}],concreteType:null,kind:"LinkedField",name:"timestamp",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null}],storageKey:'timestamp(supported:"3zfBNR")'}],storageKey:null},G,u,O,L,K,Q,P,S,{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_menu",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[k,V,l,{kind:"TypeDiscriminator",abstractKey:"__isActor"},H],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[k,V,l,{kind:"InlineFragment",selections:[H],type:"Actor",abstractKey:"__isActor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_is_repost",storageKey:null},{kind:"ClientExtension",selections:[T,M,U,I,J]}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:W,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"daspo_sto",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:W,storageKey:null}]}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[X,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupsSuggestionFeedUnitStrategy_unit",fragmentPropName:"unit",kind:"ModuleImport"}],type:"GroupsSuggestionUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMIQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedGroupsPeopleYouMayInviteFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GeminiPYSFQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PeopleYouShouldFollowAtWorkFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometSPFFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"SuggestedPublicEntitiesToFollowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedKeywordsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedKeywordsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedCustomizedStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CustomizedStory",abstractKey:null},{kind:"InlineFragment",selections:[m],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[R],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sorting_switcher",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_create_flair_posts",plural:!1,selections:[k,l],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_canSeeExpandedColor",fragmentName:"GroupsCometColorExpandedWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},l],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_cannotSeeExpandedColor",fragmentName:"GroupsCometColorDefaultWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_all_topic_text",storageKey:null},{alias:null,args:null,concreteType:"XFBGroupFlair",kind:"LinkedField",name:"group_flairs",plural:!0,selections:[k,l,{alias:null,args:null,kind:"ScalarField",name:"flair_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_report_link_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_report_topic_screen_header",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeader",kind:"LinkedField",name:"story_header",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupFeedSortingSwitcher",kind:"LinkedField",name:"viewer_available_sorting_switchers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"option_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"option_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sorting_setting",storageKey:null},k],storageKey:null}],type:"GroupsSectionHeaderStyleInfo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"GroupsSectionHeaderUnit",abstractKey:null},{kind:"InlineFragment",selections:[X],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:p,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],storageKey:null}]},params:{id:b("groupsCometFetchStoryQuery_facebookRelayOperation"),metadata:{},name:"groupsCometFetchStoryQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__FeedDeepDiveTopicPillThreadViewEnabledrelayprovider:b("FeedDeepDiveTopicPillThreadViewEnabled.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:b("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:b("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:b("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider")}}}}();e.exports=a}),null);
__d("groupsCometFetchStory",["CometRelay","groupsCometFetchStoryFragment.graphql","groupsCometFetchStoryQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("groupsCometFetchStoryFragment.graphql");var j=i!==void 0?i:i=b("groupsCometFetchStoryQuery.graphql");function a(a,b){return d("CometRelay").fetchQuery(b,j,a).toPromise()}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9604466472985365"}),null);
__d("EBBatchRequestResignCdnUrlQuery.graphql",["EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"payloads",variableName:"request"}],concreteType:"XFBResignCdnUrlResponse",kind:"LinkedField",name:"batch_resigned_attachment_cdn_url",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"instance_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_message",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBBatchRequestResignCdnUrlQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBBatchRequestResignCdnUrlQuery",selections:c},params:{id:b("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"),metadata:{},name:"EBBatchRequestResignCdnUrlQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBBatchRequestResignCdnUrl",["EBBatchRequestResignCdnUrlQuery.graphql","EBEnqueueResignCdnUrlRequests","WADirectPath","WAErrorMessage","WAMediaUtils","WAResultOrError","createWorkerQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q;async function a(a,b){var c=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();c=c.entries().filter(function(a){a[0];a=a[1];return!a.pending}).toArray();if(c.length<1)return;var e=c.map(function(a){return{instance_key:a[0],payload:a[1].payload}});c.forEach(function(a){var b=a[0];a=a[1];d("EBEnqueueResignCdnUrlRequests").setGqlRestoredCdnUrlMap(b,{payload:a.payload,pending:!0,resolvable:a.resolvable})});await r(a,b,e)}async function r(a,b,e){if(e.length<1)return;var f=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();b==null||b.addPoint("resign_cdn_url_query_start");try{var g,h,p=await c("createWorkerQuery")(s,{request:e.map(function(a){return{instance_key:a.instance_key,payload:a.payload.payload}})});b==null||b.addPoint("resign_cdn_url_query_end");p=p==null||(g=p.viewer)==null||(g=g.messenger_default_encrypted_backup)==null||(g=g.mailbox)==null?void 0:g.batch_resigned_attachment_cdn_url;a.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Received "," requests"])),p==null?void 0:p.length);b==null||b.addAnnotations({int:{resign_cdn_url_gql_batch_size:(h=p==null?void 0:p.length)!=null?h:0}});p==null||p.forEach(function(b){var c=b.instance_key!=null?d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key):null,e=b.path;if(c!=null){var g=d("WADirectPath").validateDirectPath(e);g.success||a.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),g.error,b.exception_message);b=(b=f.get(c))==null?void 0:b.resolvable;b!=null?b.resolve(g):a.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found for instance key: ",""])),c);f.delete(c)}else a.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url came back with no instance key, ",""])),e)})}catch(c){h=d("WAErrorMessage").maybeGetMessageFromError(c);b==null||b.addPoint("resign_cdn_url_query_fail");b==null||b.addAnnotations({string:{resign_cdn_url_gql_error:h}});a.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),h);e.forEach(function(b){var c;c=(c=f.get(d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key)))==null?void 0:c.resolvable;c!=null?c.resolve(d("WAResultOrError").makeError("resign-cdn-url-gql-error")):a.ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found during error for instance key: ",""])),b.instance_key)})}finally{e.forEach(function(b){var c=d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key);c=(c=f.get(c))==null?void 0:c.resolvable;(c==null?void 0:c.isSettled)===!1&&a.ERROR(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Resolvable was not properly settled"])));f.delete(d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key))})}}async function e(a,b,e,f){b==null||b.addPoint("resign_cdn_url_query_start");try{var g;e=await c("createWorkerQuery")(s,{request:[{instance_key:e,payload:f.payload}]});b==null||b.addPoint("resign_cdn_url_query_end");f=e==null||(g=e.viewer)==null||(g=g.messenger_default_encrypted_backup)==null||(g=g.mailbox)==null?void 0:g.batch_resigned_attachment_cdn_url;(f==null?void 0:f.length)!==1&&(b==null||b.addPoint("resign_cdn_url_should_have_one_response"));e=f==null?void 0:f[0];f=e==null?void 0:e.path;f=d("WADirectPath").validateDirectPath(f);f.success||a.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),f.error,e==null?void 0:e.exception_message);return f}catch(c){e=d("WAErrorMessage").maybeGetMessageFromError(c);b==null||b.addPoint("resign_cdn_url_query_fail");b==null||b.addAnnotations({string:{resign_cdn_url_gql_error:e}});a.WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),e);return d("WAResultOrError").makeError("resign-cdn-url-gql-error")}}var s=h!==void 0?h:h=b("EBBatchRequestResignCdnUrlQuery.graphql");g.batchedResignCdnUrlFromMap=a;g.batchedResignCdnUrlWithGraphQL=r;g.resignCdnUrlWithGraphQL=e}),98);
__d("EBEnqueueResignCdnUrlRequests",["EBBatchRequestResignCdnUrl","WACustomError","WAPromiseDelays","WAPromiseTimeout","WAResolvable","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=!0;return{get:function(){return a},set:function(b){a=b}}}(),i=function(){var a=window.performance.now();return{get:function(){return a},set:function(b){a=b}}}(),j=new Map(),k=c("justknobx")._("4662"),l=c("justknobx")._("3244");function a(a,b,c,e){var f;f=(f=j.get(a))==null?void 0:f.resolvable;if(f!=null){e==null||e.addPoint("resign_cdn_url_map_hit");return m({logger:c,mediaDownloadFlow:e,objectId:a,payload:b,promise:f.promise})}f=new(d("WAResolvable").Resolvable)();var g=j.size===0;j.set(a,{payload:b,pending:!1,resolvable:f});if(!h.get())return m({logger:c,mediaDownloadFlow:e,objectId:a,payload:b,promise:f.promise});void n(c,g);return m({logger:c,mediaDownloadFlow:e,objectId:a,payload:b,promise:f.promise})}function m(a){var b=a.logger,c=a.mediaDownloadFlow,e=a.objectId,f=a.payload;a=a.promise;return d("WAPromiseTimeout").promiseTimeout(a,l).then(function(a){if(!a.success&&a.error==="direct-path-undefined"){j["delete"](e);return d("WAPromiseDelays").delayMs(l).then(function(){return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e,f)})}return a})["catch"](function(a){var g=a instanceof Error&&["NetworkTransportError","NetworkTimeoutError","NetworkRequestError"].includes(a.name);if(a instanceof d("WACustomError").TimeoutError||g){c==null||c.addPoint("resign-cdn-url-gql-timeout");j["delete"](e);return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e,f)}else{c==null||c.addPoint("resign-cdn-url-gql-unexpected-error");c==null||c.addAnnotations({string:{resign_cdn_url_payload_fail_reason:a.message}});throw a}})}function n(a,b,c){h.set(!1);if(b){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(a,c)}else{b=Math.max(k-(window.performance.now()-i.get()),0);return d("WAPromiseDelays").delayMs(b).then(function(){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(a,c)})}}function b(){return j}function e(a,b){j.set(a,b)}g.enqueueResignCdnUrl=a;g.getGqlRestoredCdnUrlMap=b;g.setGqlRestoredCdnUrlMap=e}),98);
__d("EBCreateResignCDNUrlPayload",["CreateDerivedKeys","EBBase64Encode","EBWorkerEBDBApi","GetBlobFromInt64BE","Hmac_v2","I64","LSVec","OcmfClientMap","OpeEncrypt","TruncateSortKey","WAArrayBufferUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i="thread_ope_key";async function a(a){var b=a.deliveryObjectId,e=a.mediaType,f=a.messageId,g=a.productType,h=a.sortOrderMs;a=a.threadId;var i=await d("EBWorkerEBDBApi").getSecureEBClientState(),l=String(i.backupId),m=Number(i.deviceId),n=c("EBBase64Encode")(i.mailboxRootKeyBlob),o=c("EBBase64Encode")(i.ocmfClientStateBlob);i=await Promise.all([j("attachment_key_scope",JSON.stringify([l,b]),i.ocmfClientStateBlob),j("mailbox_id_scope",l,i.ocmfClientStateBlob),j("message_id_scope",f,i.ocmfClientStateBlob),j("attachment_token_salt_scope",f,i.ocmfClientStateBlob),j("attachment_key_salt_scope",JSON.stringify([l,b]),i.ocmfClientStateBlob),j("attachment_token_salt_scope",JSON.stringify([f,b]),i.ocmfClientStateBlob),j("thread_id_scope",a,i.ocmfClientStateBlob),k(i.mailboxRootKeyBlob,h,a)]);var p=i[0],q=i[1],r=i[2],s=i[3],t=i[4],u=i[5],v=i[6];i=i[7];return i==null?null:{attachment_index_key:c("EBBase64Encode")(p),backup_ent_fbid:-8,backup_id:l,delivery_object_id:b,device_id:m,isOpenEB:0,mailbox_partial_id:c("EBBase64Encode")(q),media_type:e,message_partial_id:c("EBBase64Encode")(r),product_type:g,raw_identifiers:{otid:f,server_thread_key:null,timestamp:h.toString()},raw_tokens:{mailbox_root_key:n,ocmf_client_state_blob:o},salt_partial_access_token:c("EBBase64Encode")(u),salt_partial_attachment_index_key:c("EBBase64Encode")(t),salt_partial_id:c("EBBase64Encode")(s),sort_key:i,thread_id:a,thread_partial_id:c("EBBase64Encode")(v)}}function j(a,b,e){return c("Hmac_v2")(d("WAArrayBufferUtils").stringToArrayBuffer(a),d("WAArrayBufferUtils").stringToArrayBuffer(b)).then(function(a){return c("OcmfClientMap")(e,a[0])})}async function k(a,b,e){e=new TextEncoder().encode(i+"_"+e).buffer;e=(await d("CreateDerivedKeys").CreateDerivedKeys(e,void 0,a,[(h||(h=d("I64"))).of_int32(32)]))[0];if(e==null)return null;a=await d("GetBlobFromInt64BE").GetBlobFromInt64BE(h.of_float(b));b=await d("TruncateSortKey").TruncateSortKey(a[0]);a=await d("OpeEncrypt").OpeEncrypt(c("LSVec").toArray(e)[0],b[0],h.of_int32(16));e=Array.from(new Uint8Array(a[0]));b=e.map(function(a){return a.toString(16).padStart(2,"0")});return b.join("").toUpperCase()}g.createMediaRestorePayloadFromEBDB=a}),98);
__d("LSFindBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(a){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] Beginning execution."),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[1]=f[0],d[2]=f[1],d[3]=f[2],d[4]=f[3],d[5]=f[4],d[6]=f[5],d[7]=f[6],d[8]=f[7],d[9]=f[8],d[10]=f[9],d[11]=f[10],d[12]=f[11],d[13]=f[12],d[14]=f[13],d[15]=f[14],d[16]=f[15],d[17]=f[16],d[18]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[1]=a[0],d[2]=a[1],d[3]=a[2],d[4]=a[3],d[5]=a[4],d[6]=a[5],d[7]=a[6],d[8]=a[7],d[9]=a[8],d[10]=a[9],d[11]=a[10],d[12]=a[11],d[13]=a[12],d[14]=a[13],d[15]=a[14],d[16]=a[15],d[17]=a[16],d[18]=a[17]}]))})},function(a){return c.i64.neq(d[1],void 0)?d[20]=c.i64.to_string(d[1]):d[20]=void 0,d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsFindBackupStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsFindBackupStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[20]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsFindBackupStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[10]?c.sequence([function(e){return c.blobs.neq(a[11],void 0)?c.sequence([function(e){return c.i64.neq(a[8],void 0)?c.sequence([function(e){return a[9]!==void 0?c.sequence([function(e){return c.blobs.neq(a[12],void 0)?c.sequence([function(e){return d[10]=c.createArray(),d[19]=(d[10].push(a[9]),d[10]),d[19]=(d[10].push(a[1]),d[10]),d[11]=c.toJSON(d[10]),d[12]=c.createArray(),d[19]=(d[12].push(c.i64.cast([0,32])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,a[12],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[20]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[20]].join("")),d[19]=c.createArray(),void 0!==void 0?d[21]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[20],d[19],c.i64.cast([0,3]))},function(a){return d[16]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[16]=d[19]}])},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[16],d[20],c.i64.cast([0,16])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[9]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(e){return d[43]=new c.Map(),d[43].set("attachment_index_key",d[26]==null?"":d[26]),d[43].set("backup_ent_fbid",a[0]),d[43].set("delivery_object_id",a[1]),d[43].set("device_id",a[8]),d[43].set("mailbox_partial_id",d[30]==null?"":d[30]),d[43].set("media_type",a[3]),d[43].set("message_partial_id",d[34]==null?"":d[34]),d[43].set("product_type",a[2]),d[43].set("salt_partial_id",d[38]==null?"":d[38]),d[43].set("sort_key",d[22]==null?"":d[22]),d[43].set("thread_partial_id",d[42]==null?"":d[42]),d[43].set("isOpenEB",a[10]===!0),d[44]=new c.Map(),d[44].set("otid",a[4]),d[44].set("server_thread_key",a[7]),d[44].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),a[11]).then(function(a){return a=a,d[45]=a[0],a})},function(e){return c.nativeOperation(b("LSBase64Encode.nop"),a[12]).then(function(a){return a=a,d[46]=a[0],a})},function(e){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),d[60]=(d[48].push(a[4]),d[48]),d[60]=(d[48].push(a[1]),d[48]),d[49]=c.toJSON(d[48]),d[43].set("raw_identifiers",d[44]),d[43].set("backup_id",a[9]),d[43].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[43].set("salt_partial_access_token",d[53]==null?"":d[53]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[43].set("salt_partial_attachment_index_key",d[57]==null?"":d[57]),d[43].set("raw_tokens",d[47]),d[58]=c.toJSON(d[43]),d[59]=new c.Map(),d[59].set("payload",d[58]),a=[d[59],void 0],d[17]=a[0],d[18]=a[1]}]):c.resolve((d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,25])),d[19].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[19].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1]))},function(a){return a=[d[17],d[18]],d[8]=a[0],d[9]=a[1],a}]):c.resolve((d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,20])),d[10].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[10].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[10]],d[8]=e[0],d[9]=e[1]))},function(a){return a=[d[8],d[9]],d[6]=a[0],d[7]=a[1],a}]):c.resolve((d[8]=new c.Map(),d[8].set("error_code",c.i64.cast([0,1])),d[8].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[8].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[8]],d[6]=e[0],d[7]=e[1]))},function(a){return a=[d[6],d[7]],d[4]=a[0],d[5]=a[1],a}]):c.resolve((d[6]=new c.Map(),d[6].set("error_code",c.i64.cast([0,24])),d[6].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[6].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[6]],d[4]=e[0],d[5]=e[1]))},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):c.resolve((d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,22])),d[4].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[4].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[4]],d[2]=e[0],d[3]=e[1]))},function(a){return a=[d[2],d[3]],d[0]=a[0],d[1]=a[1],a}]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[29]=e.backupTenancy,d[28]=e.encryptionVersion,d[24]=void 0,c.i64.neq(d[24],void 0)?c.resolve(d[25]=d[24]):c.sequence([function(a){return d[30]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[40]=(d[30].push(c.i64.cast([0,0])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[40]=(d[30].push(c.i64.cast([0,2])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[40]=(d[30].push(c.i64.cast([0,3])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[40]=(d[30].push(c.i64.cast([0,4])),d[30]):0,d[35]=c.createArray(),d[36]=c.i64.of_int32(d[30].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(a){return d[40]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[30],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return d[43]=(d[35].push(d[41]),d[35])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[40].push(c.i64.to_string(d[44])),d[40])}])}):c.resolve()},function(a){return d[42]=d[40].join(","),d[37]=d[42]}])},function(a){return d[35].some(function(a){return c.i64.eq(d[28],a)})?d[38]=d[28]:d[38]=void 0,c.i64.neq(d[38],void 0)?d[39]=d[38]:d[39]=void 0,d[25]=d[39]}])},function(a){return c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=c.i64.cast([0,0]),c.i64.neq(d[29],void 0)?d[27]=d[29]:d[27]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[26],d[27],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.sequence([function(e){return c.i64.neq(d[3],void 0)?c.sequence([function(e){return d[21]!==void 0?c.sequence([function(e){return c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[30]=c.createArray(),d[39]=(d[30].push(d[21]),d[30]),d[39]=(d[30].push(a[1]),d[30]),d[31]=c.toJSON(d[30]),d[32]=c.createArray(),d[39]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[33],void 0,d[4],d[32]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!1:d[35]=!0,d[35]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[40]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[40]].join("")),d[39]=c.createArray(),void 0!==void 0?d[41]=(d[39].push(void 0),d[39]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[40],d[39],c.i64.cast([0,3]))},function(a){return d[36]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[36]=d[39]}])},function(e){return c.blobs.neq(d[36],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[36],d[40],c.i64.cast([0,16])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[43]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[61]).then(function(a){return a=a,d[62]=a[0],a})},function(e){return d[63]=new c.Map(),d[63].set("attachment_index_key",d[46]==null?"":d[46]),d[63].set("backup_ent_fbid",a[0]),d[63].set("delivery_object_id",a[1]),d[63].set("device_id",d[3]),d[63].set("mailbox_partial_id",d[50]==null?"":d[50]),d[63].set("media_type",a[3]),d[63].set("message_partial_id",d[54]==null?"":d[54]),d[63].set("product_type",a[2]),d[63].set("salt_partial_id",d[58]==null?"":d[58]),d[63].set("sort_key",d[42]==null?"":d[42]),d[63].set("thread_partial_id",d[62]==null?"":d[62]),d[63].set("isOpenEB",a[10]===!0),d[64]=new c.Map(),d[64].set("otid",a[4]),d[64].set("server_thread_key",a[7]),d[64].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(e){return d[67]=new c.Map(),d[67].set("ocmf_client_state_blob",d[65]==null?"":d[65]),d[67].set("mailbox_root_key",d[66]==null?"":d[66]),d[68]=c.createArray(),d[80]=(d[68].push(a[4]),d[68]),d[80]=(d[68].push(a[1]),d[68]),d[69]=c.toJSON(d[68]),d[63].set("raw_identifiers",d[64]),d[63].set("backup_id",d[21]),d[63].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[70]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[63].set("salt_partial_access_token",d[73]==null?"":d[73]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[63].set("salt_partial_attachment_index_key",d[77]==null?"":d[77]),d[63].set("raw_tokens",d[67]),d[78]=c.toJSON(d[63]),d[79]=new c.Map(),d[79].set("payload",d[78]),a=[d[79],void 0],d[37]=a[0],d[38]=a[1]}]):c.resolve((d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,25])),d[39].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[39].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[39]],d[37]=e[0],d[38]=e[1]))},function(a){return a=[d[37],d[38]],d[28]=a[0],d[29]=a[1],a}]):c.resolve((d[30]=new c.Map(),d[30].set("error_code",c.i64.cast([0,20])),d[30].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[30].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[30]],d[28]=e[0],d[29]=e[1]))},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.resolve((d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,1])),d[28].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[28].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[28]],d[26]=e[0],d[27]=e[1]))},function(a){return a=[d[26],d[27]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,24])),d[26].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[26].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1]))},function(a){return a=[d[24],d[25]],d[22]=a[0],d[23]=a[1],a}]):c.resolve((d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,22])),d[24].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[24].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]))},function(a){return a=[d[22],d[23]],d[0]=a[0],d[1]=a[1],a}])},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayloadStoredProcedure",["LSCreateResignCDNUrlPayload","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateResignCDNUrlPayload"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.serverThreadKey,e.deviceId,e.backupId,e.isOpenEb,e.ocmfClientState,e.mailboxRootKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] Beginning execution."),a[7]!==void 0?c.resolve(d[1]=a[7]):c.sequence([function(a){return d[28]=c.i64.random(),d[29]=c.i64.to_string(d[28]),d[29]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679684335]),d[29],!0,void 0):c.resolve()},function(a){return d[1]=d[29]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679684335]),d[1],"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[33]=e.backupTenancy,d[32]=e.encryptionVersion,d[28]=void 0,c.i64.neq(d[28],void 0)?c.resolve(d[29]=d[28]):c.sequence([function(a){return d[34]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[32],a)})?d[42]=d[32]:d[42]=void 0,c.i64.neq(d[42],void 0)?d[43]=d[42]:d[43]=void 0,d[29]=d[43]}])},function(a){return c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=c.i64.cast([0,0]),c.i64.neq(d[33],void 0)?d[31]=d[33]:d[31]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[30],d[31],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?d[21]!==void 0?c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[28]=c.createArray(),d[35]=(d[28].push(d[21]),d[28]),d[35]=(d[28].push(a[1]),d[28]),d[29]=c.toJSON(d[28]),d[30]=c.createArray(),d[35]=(d[30].push(c.i64.cast([0,32])),d[30]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[31],void 0,d[4],d[30]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!1:d[33]=!0,d[33]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[36]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[37]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[36],d[35],c.i64.cast([0,3]))},function(a){return d[34]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[34]=d[35]}])},function(e){return c.blobs.neq(d[34],void 0)?c.sequence([function(e){return c.i64.neq(a[9],void 0)?d[35]=a[9]:d[35]=c.i64.cast([-1,4294967295]),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[34],d[37],c.i64.cast([0,16])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[38]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(e){return d[60]=new c.Map(),d[60].set("attachment_index_key",d[43]==null?"":d[43]),d[60].set("backup_ent_fbid",a[0]),d[60].set("delivery_object_id",a[1]),d[60].set("device_id",d[3]),d[60].set("mailbox_partial_id",d[47]==null?"":d[47]),d[60].set("media_type",a[3]),d[60].set("message_partial_id",d[51]==null?"":d[51]),d[60].set("product_type",a[2]),d[60].set("salt_partial_id",d[55]==null?"":d[55]),d[60].set("sort_key",d[39]==null?"":d[39]),d[60].set("thread_partial_id",d[59]==null?"":d[59]),d[60].set("trace_id",d[1]),d[60].set("source",d[35]),d[61]=new c.Map(),d[61].set("otid",a[4]),d[61].set("server_thread_key",a[8]),d[61].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(e){return d[64]=new c.Map(),d[64].set("ocmf_client_state_blob",d[62]==null?"":d[62]),d[64].set("mailbox_root_key",d[63]==null?"":d[63]),d[65]=c.createArray(),d[76]=(d[65].push(a[4]),d[65]),d[76]=(d[65].push(a[1]),d[65]),d[66]=c.toJSON(d[65]),d[60].set("raw_identifiers",d[61]),d[60].set("backup_id",d[21]),d[60].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[67]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[68]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[60].set("salt_partial_access_token",d[70]==null?"":d[70]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[60].set("salt_partial_attachment_index_key",d[74]==null?"":d[74]),d[60].set("raw_tokens",d[64]),void 0!==void 0?d[60].set("access_token_secret",void 0):0,void 0!==void 0?d[60].set("primary_key_secret",void 0):0,d[75]=c.toJSON(d[60]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_restore",c.i64.cast([0,50020]),d[75],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[37]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","OPE_key_is_null"].join(""),d[1]!==void 0?d[37]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[37]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[36]="OPE key is null for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[38]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[36],d[35],c.i64.cast([0,3]))}])}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_mailbox_root_key"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing mailbox_root_key for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing backup_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing device_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing ocmf_client_state_blob for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}])},function(a){return d[22]=c.i64.of_float(Date.now()),d[23]=c.i64.random(),d[25]="Finishing execution. Execution time: ",d[26]=c.i64.to_string(c.i64.sub(d[22],d[0])),d[27]=" ms",d[24]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ",d[24],d[25],d[24],d[26],d[24],d[27]].join("")),c.i64.eq(c.i64.mod_(d[23],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[28]=",",d[29]=c.createArray(),void 0!==void 0?d[30]=(d[29].push(void 0),d[29]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",[d[25],d[28],d[26],d[28],d[27]].join(""),d[29],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentRestoreTaskStoredProcedure",["LSIssueAttachmentRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentRestoreTask"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.traceId,e.serverThreadKey,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("EBLSResignCdnUrl",["EBCreateResignCDNUrlPayload","EBEnqueueResignCdnUrlRequests","EBLS","I64","LSCreateResignCDNUrlPayloadStoredProcedure","LSFactory","LSIssueAttachmentRestoreTaskStoredProcedure","LSShape","MAWConfig","MAWEBLSInWorkerSwitch","MAWEBSwitch","ReQL","WAJids","WAResultOrError","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p=d("WATagsLogger").TAGS(["labyrinth_web","EBLSResignCdnUrl"]);e="-8";var q=(o||(o=d("I64"))).of_string(e);async function a(a){p.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS"])));try{var b=(await d("EBLS").init()).db;await b.runInTransaction(function(b){var e={backupEntFbid:q,deliveryObjectId:a.deliveryObjectId,mediaType:a.mediaType,messageId:a.messageId,productType:a.productType,serverThreadKey:null,sortOrder:(o||(o=d("I64"))).of_float(a.sortOrder),threadId:a.threadId,traceId:a.traceId.toString()};return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(b),e)},"readonly",void 0,void 0,f.id+":51");p.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Resigned cdn url with EBLS successfully"])))}catch(a){p.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign cdn url with EBLS: ",""])),a)}}async function b(a){var b=a.chatJid,e=a.deliveryObjectId,g=a.externalId,h=a.mediaDownloadFlow,i=a.mediaType;a=a.sortOrderMs;p.LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL"])));h==null||h.addPoint("resign_cdn_url_gql_ebls_start");var j=(await d("EBLS").init()).db;h==null||h.addPoint("resign_cdn_url_gql_ebls_end");var s={backupEntFbid:q,deliveryObjectId:e,mediaType:i,messageId:g,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(o||(o=d("I64"))).of_float(a),threadId:d("WAJids").threadIdForChatJid(b)};h==null||h.addPoint("resign_cdn_url_gql_payload_start");var t=await j.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),s)},"readwrite",void 0,void 0,f.id+":109"),u=t[0];t=t[1];u=u!=null?d("LSShape").toRecord(u):null;if(u==null){i=await d("EBCreateResignCDNUrlPayload").createMediaRestorePayloadFromEBDB({deliveryObjectId:e,mediaType:i,messageId:g,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(b)});if(i!=null)h==null||h.addPoint("resign_cdn_url_gql_js_payload_created"),u={payload:JSON.stringify(i)};else{g=t==null?{}:d("LSShape").toRecord(t);p.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),g.stored_procedure,g.error_code,g.error_message);h==null||h.addPoint("resign_cdn_url_gql_payload_fail");a=await r(j);h==null||h.addAnnotations({bool:babelHelpers.extends({},a,{isEbEnabled:c("MAWEBSwitch").isEnabled(),isEbEnabledWorker:c("MAWEBLSInWorkerSwitch").isEnabled()}),string:{resign_cdn_url_payload_fail_reason:g.error_message}});return d("WAResultOrError").makeError("create-payload-failed")}}h==null||h.addPoint("resign_cdn_url_gql_payload_end");h==null||h.addPoint("resign_cdn_url_gql_restore_start");b=await d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(e,u,p,h);if(!b.success){p.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),b.error);h==null||h.addPoint("resign_cdn_url_gql_restore_fail");return b}h==null||h.addPoint("resign_cdn_url_gql_restore_end");p.LOG(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL succeeded"])));return d("WAResultOrError").makeResult(b.value)}function r(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_client_state)).then(function(a){return{hasDeviceId:(a==null?void 0:a.deviceId)!=null,hasMailboxRootKey:(a==null?void 0:a.mailboxRootKeyBlob)!=null,hasOcmfClientState:(a==null?void 0:a.ocmfClientStateBlob)!=null}})}g.eblsResignCdnUrl=a;g.eblsResignCdnUrlWithGraphQL=b}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]);c=function(a){function b(b,c){var d;d=a.call(this,c==null?void 0:c.message)||this;d.name="BackupError";d.errorType=b;d.detailedError=c;d.message=b+((c==null?void 0:c.message)!=null?": "+(c==null?void 0:c.message):"");return d}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.BackupErrorType=a;f.BackupError=c}),66);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("tweetnacl-util").encodeBase64(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");a=a.length%4;if(a>0){if(a===1)throw new Error("Invalid length, couldn't decode input string");b=b.padEnd(b.length+(4-a),"=")}return c("tweetnacl-util").decodeBase64(b)}g.encodeBase64Url=a;g.decodeBase64Url=b}),98);
__d("MWChatEncrypedBackupsNumericCodeKeyTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NUM_PAD_WITHOUT_NUM_LOCK","NON_NUMERIC_CHAR"]);f.InvalidKeyType=a}),66);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.error;a=a.inputSize;a=a===void 0?"large":a;var g=a==="large"?k.outterWrapper:k.outterWrapperSmall;a=a==="large"?20:0;var i;b[0]!==f?(i=(h||(h=c("stylex"))).props(f!=null&&[k.inputWrapperErrorOnly]),b[0]=f,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==i?(l=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[2]=e,b[3]=i,b[4]=l):l=b[4];b[5]!==f?(e=f!=null?j.jsx("div",babelHelpers["extends"]({className:"x10b6aqq x1y1aw1k x2b8uid"},{children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:f})})):null,b[5]=f,b[6]=e):e=b[6];b[7]!==a||b[8]!==l||b[9]!==e?(i=j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a,paddingTop:0,children:[l,e]}),b[7]=a,b[8]=l,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=j.jsx(c("MWXColumn.react"),{xstyle:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCodeInputAutoFocus",["FocusRegion.react","HiddenSubtreePassiveContext","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function k(a){if(!("elementsFromPoint"in document))return!0;var b=a.getBoundingClientRect();b=document.elementsFromPoint(b.left+b.width/2,b.top+b.height/2);for(b of b){if(b===a)return!1;var c=window.getComputedStyle(b);if(c.visibility!=="hidden"&&c.display!=="none")return!0}return!1}function l(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){var b=function(b){b.key>="0"&&b.key<="9"&&a(b.key)};window.addEventListener("keydown",b);return function(){window.removeEventListener("keydown",b)}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);j(c,e)}function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=i(c("HiddenSubtreePassiveContext")),h;f[0]!==b||f[1]!==a||f[2]!==g||f[3]!==e?(h=function(){var f=g.getCurrentState(),h=["input","textarea"].some(m);!a&&!h&&!f.hiddenOrBackgrounded&&!(e.current?k(e.current):!0)&&(c("gkx")("15923")&&d("FocusRegion.react").focusRegionById(b,d("focusScopeQueries").tabbableScopeQuery))},f[0]=b,f[1]=a,f[2]=g,f[3]=e,f[4]=h):h=f[4];l(h)}function m(a){var b;return(b=document.activeElement)==null?void 0:b.matches(a)}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","qex","react","react-compiler-runtime","useMWChatEncryptedBackupsNumericCodeInputAutoFocus"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=c("gkx")("24058"),n=function(a){return["0","1","2","3","4","5","6","7","8","9"].includes(a.key)},o=new Map([["Numpad0","0"],["Numpad1","1"],["Numpad2","2"],["Numpad3","3"],["Numpad4","4"],["Numpad5","5"],["Numpad6","6"],["Numpad7","7"],["Numpad8","8"],["Numpad9","9"]]),p=function(a){return a.location===3&&!n(a)&&!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey?o.get((a=a.nativeEvent)==null?void 0:a.code):null},q={input:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(44),e=a.extraProps;a=a.props;var f=e.hasFocus,g=e.setFocus;e=a["aria-label"];var h=a.disabled,n=a.focusRegionId,o=a.inputMode,s=a.onChange,t=a.onCompletionChange,u=a.onEnabledNumLock,v=a.onPressedInvalidKey,w=a.size,x=a.testid,y=a.value,z=h===void 0?!1:h;a=l(y.length===w);var A=a[0],B=a[1],C=k(null),D=k(z);c("useMWChatEncryptedBackupsNumericCodeInputAutoFocus")(f,n,C);b[0]!==A||b[1]!==s||b[2]!==t||b[3]!==w?(h=function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,w);s(a);t!=null&&b!==A&&(B(b),t(b))},b[0]=A,b[1]=s,b[2]=t,b[3]=w,b[4]=h):h=b[4];var E=h;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a=r,b=C.current;b==null||b.addEventListener("selectstart",a);return function(){b==null||b.removeEventListener("selectstart",a)}},f=[],b[5]=a,b[6]=f):(a=b[5],f=b[6]);j(a,f);b[7]!==z||b[8]!==g?(h=function(){z&&g(!1)},a=[z,g],b[7]=z,b[8]=g,b[9]=h,b[10]=a):(h=b[9],a=b[10]);j(h,a);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a=C.current;if(a==null)return;var b=function(){var b=a.value.length,c=a.selectionStart===a.selectionEnd&&a.selectionStart===b;c||a.setSelectionRange(b,b)};a.addEventListener("selectionchange",b);return function(){a.removeEventListener("selectionchange",b)}},h=[],b[11]=h,b[12]=f):(h=b[11],f=b[12]);j(f,h);b[13]!==z||b[14]!==n?(a=function(){D.current!==z&&(D.current=z,z||d("FocusRegion.react").focusRegionById(n,d("focusScopeQueries").tabbableScopeQuery))},f=[z,n],b[13]=z,b[14]=n,b[15]=a,b[16]=f):(a=b[15],f=b[16]);j(a,f);b[17]!==u||b[18]!==v||b[19]!==y||b[20]!==E?(h=function(a){var b=p(a);if(b!=null){v==null||v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK);if(c("qex")._("4752")===!0){b=y+b;E(b);a.preventDefault();a.stopPropagation()}}else a.key==="NumLock"&&(a.getModifierState==null?void 0:a.getModifierState("NumLock"))===!0&&(u==null||u())},b[17]=u,b[18]=v,b[19]=y,b[20]=E,b[21]=h):h=b[21];var F=h;a=x!=null?x+"-mw-numeric-code-input-prevent-composer-focus-steal":"mw-numeric-code-input-prevent-composer-focus-steal";b[22]!==g?(f=function(){g(!1)},h=function(){g(!0)},b[22]=g,b[23]=f,b[24]=h):(f=b[23],h=b[24]);var G;b[25]!==F?(G=function(a){var b=a.keyCode;(b===35||b===36||b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation());F==null||F(a)},b[25]=F,b[26]=G):G=b[26];var H;b[27]!==v||b[28]!==w||b[29]!==E?(H=function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,w)?E(a):v==null||v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)},b[27]=v,b[28]=w,b[29]=E,b[30]=H):H=b[30];var I;b[31]===Symbol["for"]("react.memo_cache_sentinel")?(I=[q.input,m&&q.testOpacity],b[31]=I):I=b[31];b[32]!==e||b[33]!==z||b[34]!==o||b[35]!==w||b[36]!==a||b[37]!==f||b[38]!==h||b[39]!==G||b[40]!==H||b[41]!==x||b[42]!==y?(I=i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:z,id:a,inputMode:o,maxLength:w,onBlur:f,onFocus:h,onKeyDown:G,onValueChange:H,ref:C,testid:void 0,value:y,xstyle:I}),b[32]=e,b[33]=z,b[34]=o,b[35]=w,b[36]=a,b[37]=f,b[38]=h,b[39]=G,b[40]=H,b[41]=x,b[42]=y,b[43]=I):I=b[43];return I}function r(a){a.preventDefault()}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["MWXRow.react","MWXRowItem.react","MWXText.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},input:{alignItems:"x6s0dn4",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}},n="-",o="\u25cf";function p(a,b){if(b)return"disabled";return!c("gkx")("7485")?"primary":a===n?"secondary":"primary"}function a(a){var b=d("react-compiler-runtime").c(28),e=a.color,f=a.disabled,g=a.enableMasking,i=a.hasFocus,q=a.inputSize,r=a.size,s=a.testid,t=a.value,u=e===void 0?"primary":e,v=f===void 0?!1:f,w=g===void 0?!1:g,x=q===void 0?"large":q;a=s===void 0?"numeric-renderer":s;b[0]!==i||b[1]!==r||b[2]!==t?(e=function(a){return(t.length===a||t.length>a&&a===r-1)&&i},b[0]=i,b[1]=r,b[2]=t,b[3]=e):e=b[3];var y=e;b[4]!==r?(f=Array(r).fill(c("gkx")("7485")?n:""),b[4]=r,b[5]=f):f=b[5];g=l(f);q=g[0];var z=g[1];b[6]!==w||b[7]!==r||b[8]!==t?(s=function(){z(Array(r).fill().map(function(a,b){return t[b]!=null?w?o:t[b]:c("gkx")("7485")?n:""}))},e=[w,r,t],b[6]=w,b[7]=r,b[8]=t,b[9]=s,b[10]=e):(s=b[9],e=b[10]);k(s,e);if(b[11]!==u||b[12]!==v||b[13]!==w||b[14]!==x||b[15]!==y||b[16]!==a||b[17]!==q){b[19]!==u||b[20]!==v||b[21]!==w||b[22]!==x||b[23]!==y||b[24]!==a?(f=function(a,b){return j.jsx(c("MWXRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.input,x==="small"&&m.inputSmall,x==="tiny"&&m.inputTiny,u==="primary"&&m.inputColorPrimary,u==="secondary"&&m.inputColorSecondary,y(b)&&m.focusRing),{"aria-hidden":a===n&&c("gkx")("7485"),"data-testid":void 0,children:w?j.jsx(c("MWXText.react"),{color:p(a,v),type:c("gkx")("7485")&&a===n?"entityHeaderHeadline1":"headlineEmphasized4",children:v?o:a}):j.jsx(c("MWXText.react"),{color:p(a,v),type:c("gkx")("7485")&&a===n?"entityHeaderHeadline1":"headlineEmphasized1",children:a})}))},b)},b[19]=u,b[20]=v,b[21]=w,b[22]=x,b[23]=y,b[24]=a,b[25]=f):f=b[25];g=q.map(f);b[11]=u;b[12]=v;b[13]=w;b[14]=x;b[15]=y;b[16]=a;b[17]=q;b[18]=g}else g=b[18];b[26]!==g?(s=j.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:g}),b[26]=g,b[27]=s):s=b[27];return s}g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.enableMasking,f=a.inputSize,g=a.size,h=a.testid,k=a.value,l=j(!1),m=l[0];l=l[1];var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1n2onr6"},b[0]=n):n=b[0];var o;b[1]!==e||b[2]!==m||b[3]!==a.color||b[4]!==a.disabled||b[5]!==f||b[6]!==g||b[7]!==h||b[8]!==k?(o=i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:e,hasFocus:m,inputSize:f,size:g,testid:void 0,value:k}),b[1]=e,b[2]=m,b[3]=a.color,b[4]=a.disabled,b[5]=f,b[6]=g,b[7]=h,b[8]=k,b[9]=o):o=b[9];b[10]!==m?(e={hasFocus:m,setFocus:l},b[10]=m,b[11]=e):e=b[11];b[12]!==a||b[13]!==e?(f=i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:e,props:a}),b[12]=a,b[13]=e,b[14]=f):f=b[14];b[15]!==o||b[16]!==f?(g=i.jsxs("div",babelHelpers["extends"]({},n,{children:[o,f]})),b[15]=o,b[16]=f,b[17]=g):g=b[17];return g}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.bottomItem,g=a.children,h=a.ref,j=a.size;a=a.topItem;b=(b=a==null?void 0:a.align)!=null?b:"start";j=j==="small"?8:16;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x21xpn4"},e[0]=k):k=e[0];a=a==null?void 0:a.item;e[1]!==a?(k=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),e[1]=a,e[2]=k):k=e[2];e[3]!==b||e[4]!==j||e[5]!==k?(a=i.jsx(c("MWXColumnItem.react"),{align:b,paddingHorizontal:16,paddingTop:j,children:k}),e[3]=b,e[4]=j,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2"},e[7]=b):b=e[7];e[8]!==g||e[9]!==h?(j=i.jsx("div",babelHelpers["extends"]({},b,{ref:h,children:g})),e[8]=g,e[9]=h,e[10]=j):j=e[10];e[11]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xisnujt"},e[11]=k):k=e[11];e[12]!==f?(b=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",babelHelpers["extends"]({},k,{children:f}))}),e[12]=f,e[13]=b):b=e[13];e[14]!==b||e[15]!==a||e[16]!==j?(g=i.jsxs(c("CometScrollView.react"),{children:[a,j,b]}),e[14]=b,e[15]=a,e[16]=j,e[17]=g):g=e[17];return g}b=a;e=b;g["default"]=e}),98);
__d("MWEBConnections4AndroidIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(7),e=a.alt,f=a.ref,g=a.size;a=a.xstyle;g=g===void 0?"large":g;var i;b[0]!==g?(i=g==="large"?k?h("398892"):h("398891"):h("398080"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i):i=b[6];return i}g["default"]=a}),98);
__d("MWEBFlowSourceContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({source:null});g["default"]=b}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.source;var f;b[0]!==a?(f={source:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("MWEBFlowSourceContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("VestaClientBootstrap",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);function j(a,b){return a[b]}var k=i.length;function l(a){if(a<36)return;i[a]=k;k=a}function m(a){var b=j(i,a);l(a);return b}function n(a){k===i.length&&i.push(i.length+1);var b=k;k=j(i,b);i[b]=a;return b}function o(a){return a}var p=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});p.decode();var q=null;function r(){var a=o(h.memory);(q===null||q.buffer!==a.buffer)&&(q=new Uint8Array(a.buffer));return q}function s(a,b){return p.decode(r().subarray(a,a+b))}function t(a,b){try{return a.apply(void 0,b)}catch(b){a=o(h.__wbindgen_exn_store);a(n(b))}}function u(a,b){return r().subarray(a/1,a/1+b)}async function v(a,b){if(typeof WebAssembly.instantiateStreaming==="function")return WebAssembly.instantiateStreaming(a,b);a=await a.arrayBuffer();return WebAssembly.instantiate(a,b)}async function w(b){var d=arguments,e={wbg:{__wbg_buffer_de1150f91b23aa89:function(a){return n(j(i,a).buffer)},__wbg_call_4573f605ca4b5f10:function(){return t(function(a,b){a=j(i,a).call(j(i,b));return n(a)},d)},__wbg_crypto_98fc271021c7d2ad:function(a){return n(j(i,a).crypto)},__wbg_getRandomValues_98117e9a7e993920:function(){return t(function(a,b){j(i,a).getRandomValues(j(i,b))},arguments)},__wbg_global_8c35aeee4ac77f2b:function(){return t(function(){var b=a.global;return n(b)},d)},__wbg_globalThis_56d9c9f814daeeee:function(){return t(function(){return n(window)},d)},__wbg_length_e09c0b925ab8de5d:function(a){return j(i,a).length},__wbg_modulerequire_3440a4bcf44437db:function(){return t(function(a,b){a=f.require(s(a,b));return n(a)},d)},__wbg_msCrypto_a2cdb043d2bfe57f:function(a){return n(j(i,a).msCrypto)},__wbg_new_97cf52648830a70d:function(a){return n(new Uint8Array(j(i,a)))},__wbg_newnoargs_fc5356289219b93b:function(a,b){a=new Function(s(a,b));return n(a)},__wbg_newwithlength_e833b89f9db02732:function(a){return n(new Uint8Array(a>>>0))},__wbg_node_4b517d861cbcb3bc:function(a){return n(j(i,a).node)},__wbg_process_2f24d6544ea7b200:function(a){return n(j(i,a).process)},__wbg_randomFillSync_64cc7d048f228ca8:function(){return t(function(a,b,c){j(i,a).randomFillSync(u(b,c))},d)},__wbg_self_ba1ddafe9ea7a3a2:function(){return t(function(){var a=self.self;return n(a)},d)},__wbg_set_a0172b213e2469e9:function(a,b,c){return j(i,a).set(j(i,b),c>>>0)},__wbg_subarray_9482ae5cd5cd99d3:function(a,b,c){return n(j(i,a).subarray(b>>>0,c>>>0))},__wbg_versions_6164651e75405d4a:function(a){return n(j(i,a).versions)},__wbg_window_be3cc430364fd32c:function(){return t(function(){var a=window.window;return n(a)},d)},__wbindgen_is_object:function(a){return typeof j(i,a)==="object"&&j(i,a)!==null},__wbindgen_is_string:function(a){return typeof j(i,a)==="string"},__wbindgen_is_undefined:function(a){return j(i,a)===void 0},__wbindgen_memory:function(){return n(h.memory)},__wbindgen_object_clone_ref:function(a){return n(j(i,a))},__wbindgen_object_drop_ref:m,__wbindgen_throw:function(a,b){throw c("FBLogger")("wasm_vesta_client").mustfixThrow(s(a,b))}}},g=await window.fetch(b),k=await v(await g,e),l=k.instance;h=l.exports;w.__wbindgen_wasm_module=f;return l}g.default=w}),98);
__d("VestaClient",["$InternalEnum","VestaClientBootstrap","bx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("mapVestaClientError").__setRef("VestaClient"),i=4096,j,k,l=function(a){return new Promise(function(b){h.onReady(function(c){b(c(a))})})};async function m(){var a=await c("VestaClientBootstrap")(c("bx").getURL(c("bx")("604")));j=a.exports;k=n(j.memory)}function n(a){return a}async function a(a,b){(j===void 0||k===void 0)&&await m();var c=0,d=new Uint8Array(k.buffer,c,a.byteLength);d.set(a);c+=d.byteLength;a=new Uint8Array(k.buffer,c,b.byteLength);a.set(b);c+=a.byteLength;b=new Uint8Array(k.buffer,c,i);var e=n(j.vesta_client_validate_hsm_key);e=e(d.byteOffset,d.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength);if(e!==0)throw await l(e);d=new DataView(k.buffer,c,i);a=r(d);return a[0][0]!==0}async function d(a){(j===void 0||k===void 0)&&await m();var b=0,c=new Uint8Array(k.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(k.buffer,b,i);var d=n(j.vesta_client_begin_register);d=d(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(d!==0)throw await l(d);c=new DataView(k.buffer,b,i);a=r(c);return{clientState:new Uint8Array(a[1]),r1Message:new Uint8Array(a[0])}}var o=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);async function e(a,b,c,d,e,f,g,h,p,q){p===void 0&&(p=0);q===void 0&&(q=o.WaBackupKeyData);(j===void 0||k===void 0)&&await m();var s=0,t=new Uint8Array(k.buffer,s,a.byteLength);t.set(a);s+=a.byteLength;a=new Uint8Array(k.buffer,s,b.byteLength);a.set(b);s+=b.byteLength;b=new Uint8Array(k.buffer,s,c.byteLength);b.set(c);s+=c.byteLength;c=new Uint8Array(k.buffer,s,d.byteLength);c.set(d);s+=d.byteLength;d=new Uint8Array(k.buffer,s,e.byteLength);d.set(e);s+=e.byteLength;e=new Uint8Array(k.buffer,s,f.byteLength);e.set(f);s+=f.byteLength;f=new Uint8Array(k.buffer,s,g.byteLength);f.set(g);s+=g.byteLength;g=new Uint8Array(k.buffer,s,h.byteLength);g.set(h);s+=h.byteLength;h=new Uint8Array(k.buffer,s,i);if(q===o.Raw){q=n(j.vesta_client_finish_register);q=q(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,p,h.byteOffset,h.byteLength)}else{var u=n(j.vesta_client_finish_register_proto);q=u(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,p,h.byteOffset,h.byteLength)}if(q!==0)throw await l(q);u=new DataView(k.buffer,s,i);t=r(u);return{registerIdentifier:new Uint8Array(t[1]),registerPayload:new Uint8Array(t[0])}}async function f(a){(j===void 0||k===void 0)&&await m();var b=0,c=new Uint8Array(k.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(k.buffer,b,i);var d=n(j.vesta_client_begin_login);d=d(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(d!==0)throw await l(d);c=new DataView(k.buffer,b,i);a=r(c);return{clientState:new Uint8Array(a[1]),l1Message:new Uint8Array(a[0])}}async function p(a,b,c,d){(j===void 0||k===void 0)&&await m();var e=0,f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;a=new Uint8Array(k.buffer,e,b.byteLength);a.set(b);e+=b.byteLength;b=new Uint8Array(k.buffer,e,c.byteLength);b.set(c);e+=c.byteLength;c=new Uint8Array(k.buffer,e,d.byteLength);c.set(d);e+=d.byteLength;d=new Uint8Array(k.buffer,e,i);var g=n(j.vesta_client_finish_login);g=g(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,d.byteOffset,d.byteLength);if(g!==0)throw await l(g);f=new DataView(k.buffer,e,i);a=r(f);return{exportKey:new Uint8Array(a[2]),l3Message:new Uint8Array(a[0]),sessionKey:new Uint8Array(a[1])}}async function q(a,b,c,d){d===void 0&&(d=o.WaBackupKeyData);(j===void 0||k===void 0)&&await m();var e=0,f=new Uint8Array(k.buffer,e,a.byteLength);f.set(a);e+=a.byteLength;a=new Uint8Array(k.buffer,e,b.byteLength);a.set(b);e+=b.byteLength;b=new Uint8Array(k.buffer,e,c.byteLength);b.set(c);e+=c.byteLength;c=new Uint8Array(k.buffer,e,i);if(d===o.Raw){d=n(j.vesta_client_unpack_login_payload);d=d(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}else{var g=n(j.vesta_client_unpack_login_payload_proto);d=g(f.byteOffset,f.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}if(d!==0)throw await l(d);g=new DataView(k.buffer,e,i);f=r(g);return{userSecret:new Uint8Array(f[0])}}function r(a){var b=[],c=0,d=a.getUint8(c++);for(var e=0;e<d;e++){var f=a.getUint32(c);c+=4;b[e]=[];for(var g=0;g<f;g++)b[e].push(a.getUint8(c++))}return b}g.validateHsmKey=a;g.beginRegister=d;g.SerializationMode=o;g.finishRegister=e;g.beginLogin=f;g.finishLogin=p;g.unpackLoginPayload=q}),98);
__d("VestaClientError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError",["fbt","MWChatEncrypedBackupsNumericCodeKeyTypes"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)return b==="pin"?h._(/*BTDS*/"Your PIN can only contain numbers"):null;else if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK)return h._(/*BTDS*/"Press Num Lock to use the numeric keypad")}g["default"]=a}),226);
__d("mapVestaClientError",["VestaClientError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return new h();case 2:return new i();case 3:return new j();case 4:return new k();case 5:return new l();case 6:return new m();case 7:return new n();case 8:return new o();case 9:return new p();case 10:return new q();case 11:return new r();case 12:return new s();default:return new t()}}var h=function(b){function a(a){a===void 0&&(a="Buffer supplied to WASM for response is too small");a=b.call(this,a)||this;a.name="InsufficientResultBuffer";return a}babelHelpers.inheritsLoose(a,b);return a}(b=c("VestaClientError")),i=function(b){function a(a){a===void 0&&(a="Incorrect user password supplied during login");a=b.call(this,a)||this;a.name="InvalidUserPassword";return a}babelHelpers.inheritsLoose(a,b);return a}(b),j=function(b){function a(a){a===void 0&&(a="Invalid input from server");a=b.call(this,a)||this;a.name="MalformedServerResponse";return a}babelHelpers.inheritsLoose(a,b);return a}(b),k=function(b){function a(a){a===void 0&&(a="Invalid input from client");a=b.call(this,a)||this;a.name="MalformedClientInput";return a}babelHelpers.inheritsLoose(a,b);return a}(b),l=function(b){function a(a){a===void 0&&(a="Error during encryption operation");a=b.call(this,a)||this;a.name="EncryptionFailure";return a}babelHelpers.inheritsLoose(a,b);return a}(b),m=function(b){function a(a){a===void 0&&(a="Error during decryption operation");a=b.call(this,a)||this;a.name="DecryptionFailure";return a}babelHelpers.inheritsLoose(a,b);return a}(b),n=function(b){function a(a){a===void 0&&(a="Error during serialization operation.");a=b.call(this,a)||this;a.name="SerializationFailure";return a}babelHelpers.inheritsLoose(a,b);return a}(b),o=function(b){function a(a){a===void 0&&(a="Error deserializing inputs, likely due to malformed input");a=b.call(this,a)||this;a.name="DeserializationFailure";return a}babelHelpers.inheritsLoose(a,b);return a}(b),p=function(b){function a(a){a===void 0&&(a="Passed RSA public key is in an invalid format.");a=b.call(this,a)||this;a.name="RsaInvalidKey";return a}babelHelpers.inheritsLoose(a,b);return a}(b),q=function(b){function a(a){a===void 0&&(a="Unable to verify RSA signature");a=b.call(this,a)||this;a.name="RsaVerificationFailure";return a}babelHelpers.inheritsLoose(a,b);return a}(b),r=function(b){function a(a){a===void 0&&(a="Passed Ed25519 public key is in an invalid format.");a=b.call(this,a)||this;a.name="Ed25519InvalidKey";return a}babelHelpers.inheritsLoose(a,b);return a}(b),s=function(b){function a(a){a===void 0&&(a="Unable to verify Ed25519 signature");a=b.call(this,a)||this;a.name="Ed25519VerificationFailure";return a}babelHelpers.inheritsLoose(a,b);return a}(b),t=function(b){function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}babelHelpers.inheritsLoose(a,b);return a}(b);g["default"]=a}),98);
__d("useEncryptedBackupsQplImpressionRef",["QPLUserFlow","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=d("react-compiler-runtime").c(5),h;g[0]!==f||g[1]!==a||g[2]!==e||g[3]!==b?(h={onVisible:function(){c("QPLUserFlow").addPoint(a,b,{instanceKey:e}),f==null||f()}},g[0]=f,g[1]=a,g[2]=e,g[3]=b,g[4]=h):h=g[4];return c("useVisibilityObserver")(h)}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCode",["fbt","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","MWLogInteraction","focusScopeQueries","getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError","promiseDone","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useState,k={confirmPin:h._(/*BTDS*/"Confirm your PIN"),otc:h._(/*BTDS*/"One-time code"),pin:h._(/*BTDS*/"PIN")};function a(a){var b=a.checkPreviouslyInsertedCode,e=a.clearInputOnComplete,f=e===void 0?!1:e;e=a.enableMasking;var g=a.focusRegionId,h=a.inputSize,i=a.onChange,l=a.onComplete;a=a.type;var m=j(!1),n=m[0],o=m[1];m=j(!0);var p=m[0],q=m[1];m=j("");var r=m[0],s=m[1];m=j(null);var t=m[0],u=m[1];m=function(a){u(null),q(!a)};var v=async function(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,h)){d("MWLogInteraction").logPopoverOpenCancel("initiate_restore");if(b!=null){var c=b.onCodeMismatch,e=b.previouslyInsertedCode;e=e===a;if(!e){c();return}}q(!0);o(!0);try{await l(a),f&&s("")}catch(a){s("")}finally{o(!1)}}},w=b!=null&&a==="pin"?"confirmPin":a;return[{"aria-label":k[w],disabled:n,enableMasking:e,focusRegionId:g,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,h)&&(s(a),u(null),i==null||i(a),c("promiseDone")(v(a)))};b()},onCompletionChange:m,onEnabledNumLock:function(){t===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&u(null)},onPressedInvalidKey:function(a){(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR||a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&c("qex")._("4752")!==!0)&&u(a)},size:h,value:r},{clearNumericInput:function(){return s("")},disabled:p,focusOnInput:function(){d("FocusRegion.react").focusRegionById(g,d("focusScopeQueries").tabbableScopeQuery)},invalidKeyPressedError:c("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError")(t,a),isLoading:n,onPress:function(){c("promiseDone")(v(r))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),226);
__d("useMWEBFlowSourceContext",["FBLogger","MWChatEncryptedBackupsQPLSource.enum","MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(){var a=d("react-compiler-runtime").c(2),b=i(c("MWEBFlowSourceContext")),e=b.source;a[0]!==e?(b=function(){if(e==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][web] source is null. Did you wrap your flow with MWEBFlowSourceContextProvider?");return c("MWChatEncryptedBackupsQPLSource.enum").UNKNOWN}return e},a[0]=e,a[1]=b):b=a[1];return b}g["default"]=a}),98);